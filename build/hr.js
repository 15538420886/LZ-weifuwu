!function(e){function t(l){if(a[l])return a[l].exports;var i=a[l]={exports:{},id:l,loaded:!1};return e[l].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a(51),a(50);var i=a(2),n=l(i),r=a(8),o=l(r),s=a(42),d=l(s),u=a(13),c=a(1285),h=l(c),p=a(28),m=l(p);if("undefined"!=typeof document){var f=document.getElementById("app"),g=void 0;window.addEventListener("DOMContentLoaded",function(){g=a(52)}),o.default.render(n.default.createElement(u.Router,{onUpdate:function(){window.scrollTo(0,0),g&&g.run()},history:u.browserHistory,routes:h.default}),f)}t.default=function(e,t){var a=(0,u.createMemoryHistory)(),l=a.createLocation(e.path);(0,u.match)({routes:h.default,location:l},function(e,a,l){var i=d.default.renderToString(n.default.createElement(u.RouterContext,l)),r=m.default.rewind(),o='<!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset="utf-8">\n          <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n          '+r.title.toString()+"\n          "+r.meta.toString()+'\n          <link rel=icon href=/assets/favicon.ico>\n          <link rel="stylesheet" href="/react_lz.css"/>\n          <link rel="stylesheet" href="/assets/docs.css"/>\n        </head>\n        <body style="width:100%; margin:0;padding:0; background-color:#fefefe">\n          <div id="app" style="width:100%; height:100%">'+i+'</div>\n          <script src="/react_lz.js"></script>\n          <script src="/assets/prism.js" data-manual></script>\n          <script src="/common.js"></script>\n          <script src="/hr.js"></script>\n        </body>\n      </html>';t(null,o)})}},function(e,t,a){e.exports=a(10)(1160)},function(e,t,a){e.exports=a(10)(1)},function(e,t,a){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(17),n=a(53),r=a(24);e.exports={initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}console.log(this)},actionFlowNo:1,lzOptions:{},lzOptionsWait:{},loadOptions:function(e,t,a){var l=this.lzOptions[e];if(null!==l&&"undefined"!=typeof l){var n=l[t];return null!==a&&a(null===n||"undefined"==typeof n?[]:n),n}var r=this.lzOptionsWait[e];if(null!==r&&"undefined"!=typeof r)return void r.push({name:t,func:a});r=[{name:t,func:a}],this.lzOptionsWait[e]=r;var o=this,s="";s=this.localDict?"/dict/"+e+".js":this.paramUrl+"app-info/dict?appName="+encodeURI(e),i.getScript(s,function(){var t={};null!==dict&&dict.map(function(e,a){t[e.indexName]=e}),o.lzOptions[appName]=t,r=o.lzOptionsWait[e],r.map(function(e,a){var l=t[e.name];null!==e.func&&e.func(null===l||"undefined"==typeof l?[]:l,e.name)}),o.lzOptionsWait[e]=null})},getOptionName:function(e,t,a,l,i){var n=this.lzOptions[e];if(null===n||"undefined"==typeof n){var r=null,o=this.lzOptionsWait[e];return null!==o&&"undefined"!=typeof o||(r=function(){i.setState({loading:i.state.loading})}),this.loadOptions(e,t,r),a}var s=n[t];if(null!==s&&"undefined"!=typeof s)for(var d=s.codeData.length,u=0;u<d;u++){var c=s.codeData[u];if(c.codeValue===a)return l&&a!==c.codeDesc?a+"-"+c.codeDesc:c.codeDesc}return a},getOptionName2:function(e,t,a){var l="",e=e.split(";");return e.map(function(e,t){var i=e.indexOf("=");if(i>0){var n=e.substr(0,i),r=e.substr(1+i);l=a&&n!==r?n+"-"+r:n}else l=n}),l},findRecordName:function(e,t,a,l){for(var i=t.length,n=0;n<i;n++){var o=t[n];if(o.uuid===e)return void r.findName(l,e,o[a])}r.findName(l,e,e)},sessionID:"",saveSessionID:function(e,t){null!=e.errCode&&""!=e.errCode&&"000000"!=e.errCode||(t.sessionID=e.object.sessionId,window.sessionStorage.setItem("sessionID",t.sessionID))},getSessionID:function(){return""===this.sessionID&&(this.sessionID=window.sessionStorage.getItem("sessionID")),this.sessionID},fz_setCookie:function(e,t,a){var l="";if(a){var i=new Date;i.setTime(i.getTime()+864e5*a),l=";expires="+i.toGMTString()}document.cookie=e+"="+(null==t?"":escape(t))+l+";path=/"},fmtGetUrl:function(e){var t=e.indexOf("corp");if(t>=0)return e;if(void 0===window.loginData)return e;var a=window.loginData.compUser;return null===a||""===a.corpUuid||void 0===a.corpUuid?e:(t=e.indexOf("?"),e=t>=0?e+"&corp="+a.corpUuid:e+"?corp="+a.corpUuid)},ajaxBody:function(e,t,a){if(t.term="web","undefined"!=typeof window.loginData){var l=window.loginData.compUser;t.corp=null===l?"":l.corpUuid}else t.corp="";return{type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}},loginService:function(e,t){var a=this,l=new n(function(l,n){var r={flowNo:"0",term:"web",object:t};i.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(r),dataType:"json",success:function(e,t,l){a.saveSessionID(e,a)},xhrFields:{withCredentials:!0},crossDomain:!0}).done(l).fail(n)});return l},doDeployService:function(e,t){var a=new n(function(a,l){i.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done(a).fail(l)});return a},fetch:function(e){var t=new n(function(t,a){i.get(e).done(t).fail(a)});return t},doJsonService:function(e,t){var a=this.ajaxBody(e,t),l=new n(function(e,t){i.ajax(a).done(e).fail(t)});return l},doGetService:function(e){e=this.fmtGetUrl(e);var t=new n(function(t,a){i.get(e).done(t).fail(a)});return t},doRetrieveService:function(e,t,a,l,r){var o={pageRow:l,startPage:a,totalRow:r,object:t},s={flowNo:"0",object:o},d=this.ajaxBody(e,s),u=new n(function(e,t){i.ajax(d).done(e).fail(t)});return u},doTextService:function(e,t,a,l,r){var o={flowNo:"111111",object:"1"},s=this.ajaxBody(e,o),d=new n(function(e,t){i.ajax(s).done(e).fail(t)});return d},doGetRecordService:function(e,t){var a={flowNo:"0",object:t},l=this.ajaxBody(e,a),r=new n(function(e,t){i.ajax(l).done(e).fail(t)});return r},doCreateService:function(e,t){var a={flowNo:"0",object:t},l=this.ajaxBody(e,a),r=new n(function(e,t){i.ajax(l).done(e).fail(t)});return r},doUpdateService:function(e,t){var a={flowNo:"0",object:t},l=this.ajaxBody(e,a),r=new n(function(e,t){i.ajax(l).done(e).fail(t)});return r},doRemoveService:function(e,t){var a={flowNo:"0",object:t},l=this.ajaxBody(e,a),r=new n(function(e,t){i.ajax(l).done(e).fail(t)});return r},doUploadService:function(e,t,a){var l=new FormData,r={flowNo:"0",object:t};if(r.term="web","undefined"!=typeof window.loginData){var o=window.loginData.compUser;r.corp=null===o?"":o.corpUuid}else r.corp="";l.append("reqObject",JSON.stringify(r));var s=0,d=!0,u=!1,c=void 0;try{for(var h,p=a[Symbol.iterator]();!(d=(h=p.next()).done);d=!0){var m=h.value;l.append("file_"+s,m),s++}}catch(e){u=!0,c=e}finally{try{!d&&p.return&&p.return()}finally{if(u)throw c}}var f={type:"post",url:this.fmtGetUrl(e),data:l,dataType:"json",cache:!1,contentType:!1,processData:!1,xhrFields:{withCredentials:!0},crossDomain:!0};return new n(function(e,t){i.ajax(f).done(e).fail(t)})},copyValue:function(e,t){for(var a in e)try{t[a]=e[a]}catch(e){}},deepCopyValue:function(e){var t=e instanceof Array?[]:{};for(var a in e)null!==e[a]?t[a]="object"===l(e[a])?this.deepCopyValue(e[a]):e[a]:t[a]=e[a]=null;return t},compareTo:function(e,t){for(var a in e)try{if(t[a]!==e[a])return!1}catch(e){return!1}for(var a in t)try{if(t[a]!==e[a])return!1}catch(e){return!1}return!0},findRecord:function(e,t){for(var a=e.recordSet.length-1;a>=0;a--)if(e.recordSet[a].uuid===t)return a;return-1},getResErrMsg:function(e){if(void 0!==e&&null!==e){var t=e.responseJSON;if(void 0!==t&&null!==t){var a=t.message;if(void 0!==a&&null!==a)return a}}return"调用服务错误"},recordCreate:function(e,t,a,i){var n=this,r=e;this.doCreateService(a,t).then(function(e){if(null==e.errCode||""==e.errCode||"000000"==e.errCode){if(void 0===i||null===i){var t=l(e.object.list);if("object"===t&&e.object.list.constructor===Array)for(var a=e.object.list.length,n=0;n<a;n++)r.recordSet.push(e.object.list[n]);else r.recordSet.push(e.object)}else i(r,e.object);r.totalRow=r.totalRow+1,r.fireEvent("create","",r)}else r.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("create",n.getResErrMsg(e),r)})},recordUpdate:function(e,t,a,l){var i=this,n=e,r=this.findRecord(e,t.uuid);if(r<0)return void n.fireEvent("update","没有找到记录["+t.uuid+"]",n);if(this.compareTo(n.recordSet[r],t))return console.log("数据没有变更"),void n.fireEvent("update","",n);var i=this;this.doUpdateService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(void 0===l||null===l?i.copyValue(e.object,n.recordSet[r]):l(n,n.recordSet[r],e.object),n.fireEvent("update","",n)):n.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",n)},function(e){n.fireEvent("update",i.getResErrMsg(e),n)})},recordDelete:function(e,t,a){console.log(e,t,a);var l=e,i=this.findRecord(e,t);if(i<0)return void l.fireEvent("remove","没有找到记录["+t+"]",l);var n=this;this.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(l.recordSet.splice(i,1),l.totalRow=l.totalRow-1,l.fireEvent("remove","",l)):l.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",l)},function(e){l.fireEvent("remove",n.getResErrMsg(e),l)})},recordDeleteMore:function(e,t,a){var l=e,i=this.findRecord(e,t);if(i<0)return void l.fireEvent("remove","没有找到记录["+t+"]",l);var n=this;this.doRemoveService(a,t).then(function(e){console.log(e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(l.recordSet.splice(i,1),l.fireEvent("remove","",l)):l.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",l)},function(e){l.fireEvent("remove",n.getResErrMsg(e),l)})},recordRetrieve:function(e,t,a,l,i){var r=this,o=new n(function(n,o){r.doRetrieveService(e,t,a,l,i).then(function(e){record?null==e.errCode||""==e.errCode||"000000"==e.errCode?n(e.object):o("处理错误["+e.errCode+"]["+e.errDesc+"]"):o("查询数据时错误")},function(e){o(JSON.stringify(e))})});return o},selModName:"",selectedApp:null,menuMap:{},getAppMenu:function(e){var t=window.sessionStorage.getItem("loadedMenu");if(null===t||void 0===t||""===t)return null;for(var a=!1,l=t.split(","),i=l.length-1;i>=0;i--)if(e===l[i]){a=!0;break}if(!a)return null;var n=this.menuMap[e];if(void 0!==n&&null!==n)return n;var r=window.sessionStorage.getItem("menu."+e);return void 0!==r&&null!==r?(n=JSON.parse(r),this.menuMap[e]=n,this.selModName=e,window.sessionStorage.setItem("activeMenu",e),n):null},setSelectedApp:function(e){if(this.selectedApp=null,"undefined"!=typeof window.loginData){var t=null,a=window.loginData.compUser;if(null===a){var l=window.loginData.authUser;if("admin"!==l.userName)return;t=[{appCode:"MA"}]}else t=a.appAuthList;if(null!==t){"*"===e.charAt(0)&&(e=e.substr(1));for(var i=t.length,n=0;n<i;n++){var r=t[n];if(r.appCode===e){this.selectedApp=r,window.sessionStorage.setItem("activeApp",e);break}}}}},saveAppMenu:function(e,t){void 0!==t&&null!==t||(t=[]);var a={};t.map(function(e,t){a[e.menuPath]=e.roleName}),this.menuMap[e]=a,window.sessionStorage.setItem("menu."+e,JSON.stringify(a));var l=window.sessionStorage.getItem("loadedMenu");l=null===l||void 0===l||""===l?e:l+","+e,window.sessionStorage.setItem("loadedMenu",l)},setActiveMenuName:function(e){this.selModName=e,window.sessionStorage.setItem("activeMenu",e)},checkMenuPriv:function(e){if(null===this.selectedApp){var t=window.sessionStorage.getItem("activeApp");null!==t&&void 0!==t&&this.setSelectedApp(t);var a=window.sessionStorage.getItem("activeMenu");null!==a&&void 0!==a&&this.getAppMenu(a)}if(""===this.selModName)return 1;var l=this.menuMap[this.selModName];if(void 0===l||null===l)return this.checkRole?0:2;var i=l[e];if(void 0===i||null===i)return this.checkRole?0:2;if(i.indexOf("*")>=0)return 1;if(null===this.selectedApp)return this.checkRole?0:2;var n=window.loginData.compUser;if(null===n&&"MA"===this.selectedApp.appCode){var r=window.loginData.authUser;if("admin"===r.userName)return 1}var o=this.selectedApp.roleList;if(null===o||void 0===o)return this.checkRole?0:2;for(var s=o.split(","),d=s.length-1;d>=0;d--){var u=","+s[d]+",";if(i.indexOf(u)>=0)return 1}return this.checkRole?0:2},checkAppPriv:function(e){if("undefined"==typeof window.loginData)return this.checkRole?0:2;var t=window.loginData.compUser;if(null===t){if("MA"===e){var a=window.loginData.authUser;if("admin"===a.userName)return 1}return this.checkRole?0:2}if("*"===e.charAt(0))return 1;if(null!==t.appAuthList)for(var l=t.appAuthList.length,i=0;i<l;i++){var n=t.appAuthList[i];if(n.appCode===e)return 1}return this.checkRole?0:2},downAppMenu:function(e,t){var a=this,l=new n(function(l,i){var n=a.getAppMenu(e);if(n)return a.setSelectedApp(t),a.setActiveMenuName(e),void l(n);var r=a.authUrl+"fnt-app-menu/appName";a.doCreateService(r,e).then(function(n){null==n.errCode||""==n.errCode||"000000"==n.errCode?(a.saveAppMenu(e,n.object),a.setSelectedApp(t),a.setActiveMenuName(e),l(n.object)):i("下载菜单错误["+n.errCode+"]["+n.errDesc+"]")},function(e){i("下载菜单错误")})});return l}}},function(e,t,a){e.exports=a(10)(541)},function(e,t,a){e.exports=a(10)(1032)},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,a="",l="0123456789ABCDEF";for(t=0;t<=3;t++)a+=l.charAt(e>>8*t+4&15)+l.charAt(e>>8*t&15);return a}function n(e){var t,a=(e.length+8>>6)+1,l=new Array(16*a);for(t=0;t<16*a;t++)l[t]=0;for(t=0;t<e.length;t++)l[t>>2]|=e.charCodeAt(t)<<t%4*8;return l[t>>2]|=128<<t%4*8,l[16*a-2]=8*e.length,l}function r(e,t){var a=(65535&e)+(65535&t),l=(e>>16)+(t>>16)+(a>>16);return l<<16|65535&a}function o(e,t){return e<<t|e>>>32-t}function s(e,t,a,l,i,n){return r(o(r(r(t,e),r(l,n)),i),a)}function d(e,t,a,l,i,n,r){return s(t&a|~t&l,e,t,i,n,r)}function u(e,t,a,l,i,n,r){return s(t&l|a&~l,e,t,i,n,r)}function c(e,t,a,l,i,n,r){return s(t^a^l,e,t,i,n,r)}function h(e,t,a,l,i,n,r){return s(a^(t|~l),e,t,i,n,r)}function p(){this.regDate3=/^[1-2]\d{6,7}$/,this.regEmail=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,this.regPhone=/^((\(\d{1,5}\))|(\d{1,5}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?$/,this.regPhones=/^(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?([,|;](\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?)*$/,this.regMobile=/^((\(\d{3}\))|(\d{3}\-))?1[34578]\d{9}$/,this.regUrl=/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,this.className=/^([_a-z0-9]+\.)*[A-Z][_A-Za-z0-9]+$/,this.regIdCard15=/^\d{15}(\d{2}[A-Za-z0-9])?$/,this.regIdCard18=/^\d{17}(?:\d|x|X)$/,this.regMoney=/^[-\+]?\d+(\.\d{0,2})?$/,this.regNumber=/^\d+$/,this.regZip=/^[0-9]\d{5}$/,this.regQQ=/^[1-9]\d{3,9}$/,this.regInteger=/^[-\+]?\d+$/,this.regDouble=/^[-\+]?\d+(\.\d+)?$/,this.regEnglish=/^[A-Za-z]+$/,this.regEnglish2=/^[A-Za-z\s]+$/,this.regChinese=/^[\u0391-\uFFE5]+$/,this.regUnSafe=/^(([A-Z]*|[a-z]*|\d*|[-_\~!@#\$%\^&\*\.\(\)\[\]\{\}<>\?\\\/\'\"]*)|.{0,5})$|\s/,this.regNotChar=/^[^`~!@#$%^&*()+=|\\\][\]\{\}:;'\,.<>\/?]{1}[^`~!@$%^&()+=|\\\][\]\{\}:;'\,.<>?]{0,19}$/,this.regChar=/[(\/)(\\)(')(")(<)(>)]/g}function m(e,t,a){var l=/^\d+$/;if(4!=e.length||0==e)return!1;if(!l.test(e))return!1;var i=parseInt(e)%4==0&&parseInt(e)%100!=0||parseInt(e)%400==0;if(!t||0==t)return!1;if(!l.test(t))return!1;var n=parseInt(t,10);if(n>12)return!1;if(!a||0==a)return!1;if(!l.test(a))return!1;var r=[29,31,28,31,30,31,30,31,31,30,31,30,31];return 2==n&&i&&(n=0),!(a>r[n])}function f(e,t){if(e.length!=t.length)return"请按格式【"+t+"】输入日期";for(var a="",l="",i="",n=e.split(""),r=t.split(""),o=n.length,s=0;s<o;s++)if("y"===r[s])a+=n[s];else if("m"===r[s])l+=n[s];else if("d"===r[s])i+=n[s];else if(r[s]!==n[s])return"请按格式【"+t+"】输入日期";return 0==m(a,l,i)?"请输入正确的日期!":""}function g(e){var t=18==e.length?p.regIdCard18:p.regIdCard15;if(0==t.test(e))return"请输入有效的身份证号码!";var a="",l="",i="";if(18==e.length?(a=e.substr(6,4),l=e.substr(10,2),i=e.substr(12,2)):15==e.length&&(a="19"+e.substr(6,2),l=e.substr(8,2),i=e.substr(10,2)),0==m(a,l,i))return"日期的取值范围不正确!";var n=v(e);return null!=n?"请输入有效的身份证号码!":void 0}function v(e){if(18!=e.length)return null;var t=y(e),a=e.substring(17).toUpperCase();return t!=a?t:null}function y(e){for(var t="1,0,X,9,8,7,6,5,4,3,2".split(","),a="7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2".split(","),l=0,i=0;i<17;i++)l+=parseInt(e.substring(i,i+1))*a[i];var n=l%11,r=t[n];return r}function S(e,t){if(t.length>6){var a=t.substr(0,5);if("date:"===a||"date："===a){var l=t.substr(5);return f(e,l)}}if("idcard18"===t){if(18!==e.length)return"请输入18位身份证号码"}else if("idcard"===t&&18!==e.length&&15!==e.length)return"请输入身份证号码";for(var i=P.length-1;i>=0;i--){var n=P[i];if(n.type==t)return n.isValid(e)}return"未知的数据类型["+t+"]"}function C(e){var t,a=348;for(t=32768;t>8;t>>=1)a+=U[e-1900]&t?1:0;return a+E(e)}function E(e){return b(e)?65536&U[e-1900]?30:29:0}function b(e){return 15&U[e-1900]}function w(e,t){return U[e-1900]&65536>>t?30:29}function x(e,t,a){var l,i=0,n=0,r=(Date.UTC(e,t,a)-Date.UTC(1900,0,31))/864e5;for(this.dayCyl=r+40,this.monCyl=14,l=1900;l<2050&&r>0;l++)n=C(l),r-=n,this.monCyl+=12;for(r<0&&(r+=n,l--,this.monCyl-=12),this.year=l,this.yearCyl=l-1864,i=b(l),this.isLeap=!1,l=1;l<13&&r>0;l++)i>0&&l==i+1&&0==this.isLeap?(--l,this.isLeap=!0,n=E(this.year)):n=w(this.year,l),1==this.isLeap&&l==i+1&&(this.isLeap=!1),r-=n,0==this.isLeap&&this.monCyl++;0==r&&i>0&&l==i+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--l,--this.monCyl)),r<0&&(r+=n,--l,--this.monCyl),this.month=l,this.day=r+1}var k=a(2),N=l(k),D=a(4),R=D.Tree.TreeNode,_=(a(17),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);e.exports={eMailList:["icerno.com","opssino.com","gmail.com","163.com","qq.com","sina.com","sina.com.cn"],initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}},check:function(e,t,a){var l=""===t||null===t||"undefined"==typeof t;if(e.required===!0&&l)return"请输入【"+e.desc+"】";if(l)return"";if(e.max>0&&t.length>e.max)return"【"+e.desc+"】最多输入【"+e.max+"】个字符";if(e.min>0&&t.length<e.min)return"【"+e.desc+"】至少输入【"+e.max+"】个字符";if(""!==e.dataType&&null!==e.dataType&&"undefined"!=typeof e.dataType){var i=S(t,e.dataType);if(""!==i&&null!==i&&"undefined"!=typeof i)return i}if(null!==e.pattern&&"undefined"!=typeof e.pattern&&0==e.pattern.test(t))return""===e.patternPrompt||null===e.patternPrompt||"undefined"==typeof e.patternPrompt?"请输入正确的内容!":e.patternPrompt;if(""!==e.validator&&null!==e.validator&&"undefined"!=typeof e.validator){var i=e.validator(t,e,a);if(""!==i&&null!==i&&"undefined"!=typeof i)return i}return""},checkDataType:function(e,t){return S(e,t)},setError:function(e,t,a){""===a||null===a||"undefined"==typeof a?(e.state.hints[t+"Status"]="",e.state.hints[t+"Hint"]=""):(e.state.hints[t+"Status"]="error",e.state.hints[t+"Hint"]=N.default.createElement("span",{className:"errorHint"},a))},validator:function(e,t,a){var l=this,i=e.state.validRules;if(0===i.length)return!0;var n=!0;if(""===a||null===a||"undefined"==typeof a)e.state.hints={},i.map(function(a,i){var r=t[a.id];a.whitespace||null==r||(r=r.replace(/(^\s*)|(\s*$)/g,""),t[a.id]=r);var o=l.check(a,r,e);""!==o&&(l.setError(e,a.id,o),n=!1)});else for(var r=i.length-1;r>=0;r--){var o=i[r];if(o.id===a){var s=t[a],d=this.check(o,s,e);this.setError(e,a,d),""!==d?n=!1:"number"===o.dataType&&""!==s&&(t[a]=""+parseInt(s));break}}return n},formValidator:function(e,t){var a=this.validator(e,t);if(!a){var l=e.state.hints;e.setState({hints:l})}return a},formatDate:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{6,7}$/;if(!a.test(e))return e;var l=e.substr(0,4),i=e.substr(4,2),n=e.substr(6,2);1==n.length&&(n="0"+n);var r=_[parseInt("1"+i)-101],o=t;return o=o.replace(/YYYY/g,l),o=o.replace(/YY/g,l.substring(2)),o=o.replace(/MM/g,i),o=o.replace(/MON/g,r),o=o.replace(/DD/g,n)},formatMonth:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{5}$/;if(!a.test(e))return e;var l=e.substr(0,4),i=e.substr(4,2),n=_[parseInt("1"+i)-101],r=t;return r=r.replace(/YYYY/g,l),r=r.replace(/YY/g,l.substring(2)),r=r.replace(/MM/g,i),r=r.replace(/MON/g,n)},getToday:function(){var e=new Date;return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()},getMonth:function(){var e=new Date;return 100*e.getFullYear()+(e.getMonth()+1)},getLunar:function(e,t,a){var l=new x(e,t-1,a),a=""+(100*l.month+l.day);return l.month<10&&(a="0"+a),a},timeDiff:function(e,t){var a=e.substr(0,2)+":"+e.substr(2,2),l=t.substr(0,2)+":"+t.substr(2,2),a=new Date("2017/6/16 "+a).getTime(),l=new Date("2017/6/16 "+l).getTime(),i=l-a,n=i/1e3/60;return{h:Math.floor(n/60),m:n%60,dm:n}},timeDiff2:function(e,t){var a=new Date("2017/6/16 "+e).getTime(),l=new Date("2017/6/16 "+t).getTime(),i=l-a,n=i/1e3/60;return{h:Math.floor(n/60),m:n%60,dm:n}},initTreeNodes:function(e,t){var a=this,l=[],i={};e.map(function(n,r){var o=t(n,e);l.push(o),i[o.key]=o,o.children=[],a.initTreeNode(o,n)}),l.map(function(e,t){""!==e.pid&&(e.pNode=i[e.pid],"undefined"==typeof e.pNode&&(e.pNode=null),null!==e.pNode&&e.pNode.children.push(e))});var n=[],r=[];if(l.map(function(e,t){null===e.pNode&&(""!==e.pid?r.push(e):n.push(e))}),r.length>0){var o={key:"__unknow",pid:"",title:"未关联节点",disableCheckbox:!0,disabled:!1,pNode:null,children:r,object:null};n.push(o),r.map(function(e,t){e.pNode=o})}return l.map(function(e,t){e.isLeaf=0===e.children.length,e.isLeaf&&(e.children=null)}),n},initTreeNodes2:function(e,t,a,l){var i=this;if(0===e.length)return[];var n=[],r={};e.map(function(e,a){var l=t(e);n.push(l),r[l.key]=l,l.children=[],i.initTreeNode(l,e)});var o=[];return a.map(function(e,t){var a=l(e);o.push(a),a.children=null,i.initTreeNode(a,e),a.pNode=r[a.pid],"undefined"==typeof a.pNode&&(a.pNode=null),null!==a.pNode&&a.pNode.children.push(a)}),n},initTreeNodes3:function(e,t,a){var l=this;if(0===e.length)return[];var i=[],n={};return e.map(function(r,o){var s=a(r,e),d=n[s.pid];null!==d&&"undefined"!=typeof d||(d=t(r,e),d.children=[],l.initTreeNode(d,null),i.push(d),n[d.key]=d),l.initTreeNode(s,r),s.pNode=d,s.children=null,d.children.push(s)}),i},initTreeNode:function(e,t){e.object=t,e.pNode=null,null!==e.pid&&"undefined"!=typeof e.pid||(e.pid=""),null!==e.disabled&&"undefined"!=typeof e.disabled||(e.disabled=!1),null!==e.disableCheckbox&&"undefined"!=typeof e.disableCheckbox||(e.disableCheckbox=!1)},prepareTreeNodes:function(e){var t=this;return e.isLeaf||null==e.children?N.default.createElement(R,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf}):N.default.createElement(R,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf},e.children.map(function(e,a){return t.prepareTreeNodes(e)}))},getCardMargin:function(e,t){var a=0===t?0:t>1?t:58,l=e.refs.mxgBox;if(null!==l&&"undefined"!=typeof l)for(var i=l.state.hints,n=i.length,r=0;r<n;r++)if(""!==i[r]){a+=26;break}var o={};return o.padding=a+"px 0 0 0",o.margin="-"+a+"px 0 0 0",o},getGridMargin:function(e,t){var a=0===t?0:t>1?t:58,l=e.refs.mxgBox;if(null!==l&&"undefined"!=typeof l)for(var i=l.state.hints,n=i.length,r=0;r<n;r++)if(""!==i[r]){a+=26;break}var o={};return o.padding=a+"px 0 0 0",o.margin="-"+a+"px 0 0 0",o},calcMD5:function(e){var t,a=n(e),l=1732584193,o=-271733879,s=-1732584194,p=271733878;for(t=0;t<a.length;t+=16){var m=l,f=o,g=s,v=p;l=d(l,o,s,p,a[t+0],7,-680876936),p=d(p,l,o,s,a[t+1],12,-389564586),s=d(s,p,l,o,a[t+2],17,606105819),o=d(o,s,p,l,a[t+3],22,-1044525330),l=d(l,o,s,p,a[t+4],7,-176418897),p=d(p,l,o,s,a[t+5],12,1200080426),s=d(s,p,l,o,a[t+6],17,-1473231341),o=d(o,s,p,l,a[t+7],22,-45705983),l=d(l,o,s,p,a[t+8],7,1770035416),p=d(p,l,o,s,a[t+9],12,-1958414417),s=d(s,p,l,o,a[t+10],17,-42063),o=d(o,s,p,l,a[t+11],22,-1990404162),l=d(l,o,s,p,a[t+12],7,1804603682),p=d(p,l,o,s,a[t+13],12,-40341101),s=d(s,p,l,o,a[t+14],17,-1502002290),o=d(o,s,p,l,a[t+15],22,1236535329),l=u(l,o,s,p,a[t+1],5,-165796510),p=u(p,l,o,s,a[t+6],9,-1069501632),s=u(s,p,l,o,a[t+11],14,643717713),o=u(o,s,p,l,a[t+0],20,-373897302),l=u(l,o,s,p,a[t+5],5,-701558691),p=u(p,l,o,s,a[t+10],9,38016083),s=u(s,p,l,o,a[t+15],14,-660478335),o=u(o,s,p,l,a[t+4],20,-405537848),l=u(l,o,s,p,a[t+9],5,568446438),p=u(p,l,o,s,a[t+14],9,-1019803690),s=u(s,p,l,o,a[t+3],14,-187363961),o=u(o,s,p,l,a[t+8],20,1163531501),l=u(l,o,s,p,a[t+13],5,-1444681467),p=u(p,l,o,s,a[t+2],9,-51403784),s=u(s,p,l,o,a[t+7],14,1735328473),o=u(o,s,p,l,a[t+12],20,-1926607734),l=c(l,o,s,p,a[t+5],4,-378558),p=c(p,l,o,s,a[t+8],11,-2022574463),s=c(s,p,l,o,a[t+11],16,1839030562),o=c(o,s,p,l,a[t+14],23,-35309556),l=c(l,o,s,p,a[t+1],4,-1530992060),p=c(p,l,o,s,a[t+4],11,1272893353),s=c(s,p,l,o,a[t+7],16,-155497632),o=c(o,s,p,l,a[t+10],23,-1094730640),l=c(l,o,s,p,a[t+13],4,681279174),p=c(p,l,o,s,a[t+0],11,-358537222),s=c(s,p,l,o,a[t+3],16,-722521979),o=c(o,s,p,l,a[t+6],23,76029189),l=c(l,o,s,p,a[t+9],4,-640364487),p=c(p,l,o,s,a[t+12],11,-421815835),s=c(s,p,l,o,a[t+15],16,530742520),o=c(o,s,p,l,a[t+2],23,-995338651),l=h(l,o,s,p,a[t+0],6,-198630844),p=h(p,l,o,s,a[t+7],10,1126891415),s=h(s,p,l,o,a[t+14],15,-1416354905),o=h(o,s,p,l,a[t+5],21,-57434055),l=h(l,o,s,p,a[t+12],6,1700485571),p=h(p,l,o,s,a[t+3],10,-1894986606),s=h(s,p,l,o,a[t+10],15,-1051523),o=h(o,s,p,l,a[t+1],21,-2054922799),l=h(l,o,s,p,a[t+8],6,1873313359),p=h(p,l,o,s,a[t+15],10,-30611744),s=h(s,p,l,o,a[t+6],15,-1560198380),o=h(o,s,p,l,a[t+13],21,1309151649),l=h(l,o,s,p,a[t+4],6,-145523070),p=h(p,l,o,s,a[t+11],10,-1120210379),s=h(s,p,l,o,a[t+2],15,718787259),o=h(o,s,p,l,a[t+9],21,-343485551),l=r(l,m),o=r(o,f),s=r(s,g),p=r(p,v)}return i(l)+i(o)+i(s)+i(p)},strSort:function(e,t){return e.localeCompare(t)},isMatched:function(e,t){for(var a in e)try{var l=e[a];if(null!==l&&"string"==typeof l&&l.indexOf(t)>=0)return!0}catch(e){}return!1},filter:function(e,t){var a=this;if(null===t||"undefined"==typeof t||""===t)return e;var l=[];return e.map(function(e,i){a.isMatched(e,t)&&l.push(e)}),l},sortTable:function(e,t,a){var l=null;return l=a?function(e,a){var l=e[t],i=a[t];return i.localeCompare(l)}:function(e,a){var l=e[t],i=a[t];return l.localeCompare(i)},e.sort(l)},isIncNumber:function(e){if(null===e||""===e)return!1;for(var t=e.length-1;t>=0;t--){var a=e.charAt(t);if(a>="0"&&a<="9")return!0}return!1},infoMsg:function(e){D.Modal.info({title:"提示",content:e})},succMsg:function(e){D.Modal.success({title:"成功",content:e})},errMsg:function(e){D.Modal.error({title:"错误",content:e})},warnMsg:function(e){D.Modal.warning({title:"警告",content:e})}};var p=new p,P=[{type:"int",isValid:function(e){if(0==p.regInteger.test(e))return"请输入整数!"}},{type:"double",isValid:function(e){if(0==p.regDouble.test(e))return"请输入Double数据，比如：55.069!"}},{type:"money",isValid:function(e){if(0==p.regMoney.test(e))return"请输入金额，比如：2355.00!"}},{type:"email",isValid:function(e){if(0==p.regEmail.test(e))return"请输入电子邮件地址!"}},{type:"idcard",isValid:g},{type:"idcard18",isValid:g},{type:"phone",isValid:function(e){if(0==p.regPhone.test(e))return"请输入电话号码!"}},{type:"phones",isValid:function(e){if(0==p.regPhones.test(e))return"请输入电话号码，[,]分割!"}},{type:"mobile",isValid:function(e){if(0==p.regMobile.test(e))return"请输入手机号码!"}},{type:"zip",isValid:function(e){if(0==p.regZip.test(e))return"请输入六位数字的邮政编码!"}},{type:"url",isValid:function(e){if(0==p.regUrl.test(e.toLowerCase()))return"请输入HTTP地址!"}},{type:"classname",isValid:function(e){if(0==p.className.test(e))return"请输入有效的类名称!"}},{type:"qq",isValid:function(e){if(0==p.regQQ.test(e))return"请输入QQ号!"}},{type:"number",isValid:function(e){if(0==p.regNumber.test(e))return"请输入数字!"}},{type:"汉字",isValid:function(e){if(0==p.regChinese.test(e))return"请输入汉字!"}},{type:"字母",isValid:function(e){if(0==p.regEnglish2.test(e))return"请输入字母或空格!"}}],U=new Array(19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835)},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(5),o=(l(r),a(1)),s=(a(11),a(34)),d={svcList:n.default.PropTypes.array},u=n.default.createClass({displayName:"ServiceMsg",getInitialState:function(){return{svcMsg:{resName:"",operation:"",errMsg:""},hints:[]}},mixins:[o.listenTo(s,"onServiceComplete")],onServiceComplete:function(e){e.errMsg.indexOf("[AUTH09]")>=0&&window.sessionStorage.removeItem("loginData"),this.setState({svcMsg:e})},componentDidMount:function(){this.clear()},clear:function(){this.state.hints=[];for(var e=this.props.svcList.length,t=0;t<e;t++)this.state.hints.push("")},showError:function(e){var t=this.state.hints,a=t.length;a>0&&(t[0]=e),this.setState({hints:t})},onClose:function(){for(var e=this.state.hints,t=e.length,a=0;a<t;a++)e[a]="";this.setState({hints:e})},render:function(){var e=this.state.svcMsg;if(null!=e&&null!==e.operation&&""!==e.operation){for(var t=e.resName+"/"+e.operation,a=this.props.svcList.length,l=0;l<a;l++)if(this.props.svcList[l]===t){this.state.hints[l]=e.errMsg;break}this.state.svcMsg=null}for(var i="",a=this.state.hints.length,l=0;l<a&&(i=this.state.hints[l],null===i||""===i);l++);return""===i?null:n.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},n.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),n.default.createElement("span",{className:"ant-alert-message"},i),n.default.createElement("span",{className:"ant-alert-description"}),n.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},n.default.createElement("i",{className:"anticon anticon-cross"})))}});u.propTypes=d,e.exports=u},function(e,t,a){e.exports=a(10)(12)},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=(l(i),a(65)),r=l(n),o=a(6);e.exports=function(e,t){return{toggle:function(){this.beforeClose&&this.state.modal&&this.beforeClose(),this.setState({modal:!this.state.modal})},formatDate:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,r.default)(e,"YYYYMMDD"):""},formatMonth:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,r.default)(e,"YYYYMM"):""},handleOnChange:function(a){var l=this.state[e];l[a.target.id]=a.target.value;var i=!0;t!==!0&&(i=o.validator(this,l,a.target.id)),i&&this.state.afterChange&&this.state.afterChange(a.target.id,a.target.value),this.setState({loading:this.state.loading})},onRadioChange:function(a){var l=this.state[e],i=""+a.target.value;l[a.target.id]=i;var n=!0;t!==!0&&(n=o.validator(this,l,a.target.id)),n&&this.state.afterChange&&this.state.afterChange(a.target.id,i),this.setState({loading:this.state.loading})},handleCheckBox:function(a){var l=this.state[e],i=a.target.checked?"1":"0";l[a.target.id]=i;var n=!0;t!==!0&&(n=o.validator(this,l,a.target.id)),n&&this.state.afterChange&&this.state.afterChange(a.target.id,i),this.setState({loading:this.state.loading})},handleOnSelected:function(a,l){var i=this.state[e];i[a]=l;var n=!0;t!==!0&&(n=o.validator(this,i,a)),n&&this.state.afterChange&&this.state.afterChange(a,l),this.setState({loading:this.state.loading})},handleOnSelDate:function(a,l,i,n){if(null==n||0==n.length)n="";else{if(n.length!=l.length)return;
for(var r="",s="",d="",u=n.split(""),c=l.split(""),h=u.length,p=0;p<h;p++)if("Y"===c[p])r+=u[p];else if("M"===c[p])s+=u[p];else if("D"===c[p])d+=u[p];else if(c[p]!==u[p])return void console.log("日期错误",a,monthFormat,monthString);n=r+s+d}var m=this.state[e];m[a]=n;var f=!0;t!==!0&&(f=o.validator(this,m,a)),f&&this.state.afterChange&&this.state.afterChange(a,n),this.setState({loading:this.state.loading})},handleOnSelMonth:function(a,l,i,n){if(null==n||0==n.length)n="";else{if(n.length!=l.length)return;for(var r="",s="",d=n.split(""),u=l.split(""),c=d.length,h=0;h<c;h++)if("Y"===u[h])r+=d[h];else if("M"===u[h])s+=d[h];else if(u[h]!==d[h])return void console.log("日期错误",a,l,n);n=r+s}var p=this.state[e];p[a]=n;var m=!0;t!==!0&&(m=o.validator(this,p,a)),m&&this.state.afterChange&&this.state.afterChange(a,n),this.setState({loading:this.state.loading})}}}},function(e,t){e.exports=react_lz},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["showError"]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(4),d=a(3),u=s.Select.Option,c=o.default.createClass({displayName:"DictSelect",getInitialState:function(){return{opts:[],loading:!1}},showOptions:function(e){var t=e.codeData;null!==t&&"undefined"!=typeof t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props,t=e.appName,a=e.optName;this.state.loading=!0,d.loadOptions(t,a,this.showOptions)},selectMultiValue:function(e){if(this.props.onSelect){var t=this.props.value,a=t?t.split(","):[];a.push(e),t=a.join(","),this.props.onSelect(t)}},deselectMultiValue:function(e){if(this.props.onSelect){for(var t=this.props.value,a=t?t.split(","):[],l=0;l<a.length;l++)if(a[l]===e){a.splice(l,1);break}t=a.join(","),this.props.onSelect(t)}},render:function(){var e,t=this.props,a=(t.appName,t.optName,t.showCode),l=t.required,r=t.mode,d=t.onSelect,c=t.value,h=i(t,["appName","optName","showCode","required","mode","onSelect","value"]);e=a?this.state.opts.map(function(e,t){return o.default.createElement(u,{key:e.codeValue,value:e.codeValue},e.codeValue,"-",e.codeDesc)}):this.state.opts.map(function(e,t){return o.default.createElement(u,{key:e.codeValue,value:e.codeValue},e.codeDesc)});var p;if("multiple"===r){var m=c?c.split(","):[];p=o.default.createElement(s.Select,n({mode:"multiple",value:m,onSelect:this.selectMultiValue,onDeselect:this.deselectMultiValue},h),e)}else p=l?o.default.createElement(s.Select,n({value:c,onSelect:d},h),e):o.default.createElement(s.Select,n({value:c,onSelect:d},h),o.default.createElement(u,{value:""},"--"),e);return this.state.loading?o.default.createElement(s.Spin,null,p):p}});t.default=c},function(e,t,a){e.exports=a(10)(1049)},function(e,t,a){"use strict";var l=a(13),i=a(6);e.exports={selectedGroup:null,selectedProj:null,selectedPool:null,selectedBiziProj:null,selectedOutCorp:null,selectedDispProj:null,goBackUrl:null,lastUrl:null,openProjGroupPage:function(e,t){null!==e&&(this.goBackUrl="/proj/group/ProjGroupPage/",this.selectedGroup=e,l.browserHistory.push({pathname:"/proj/group/ProjPage/",state:{fromDashboard:!0}}))},goBackProjGroupMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/group/ProjGroupPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedProj=null,this.selectedGroup=null,l.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedProj=e,l.browserHistory.push({pathname:"/proj/proj2/ProjMemberPage/",state:{fromDashboard:!0}}))},goBackProjMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/proj/ProjPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedProj=null,l.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openResPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedPool=e,l.browserHistory.push({pathname:"/proj/res2/ResMemberPage/",state:{fromDashboard:!0}}))},goBackResMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/res/PoolPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedPool=null,l.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openGroupPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedGroup=e,l.browserHistory.push({pathname:"/proj/group/ProjPage/",state:{fromDashboard:!0}}))},goBackGroupMain:function(e){this.selectedGroup=null,null===this.goBackUrl&&(this.goBackUrl="/proj/group/ProjGroupPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedGroup=null,l.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openOutCorpPage:function(e,t){null!==e&&(this.goBackUrl="/proj/out/CorpPage/",this.selectedOutCorp=e,l.browserHistory.push({pathname:"/proj/out2/StaffPage/",state:{fromDashboard:!0}}))},goBackOutMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/out/CorpPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedOutCorp=null,l.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openBiziProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedBiziProj=e,l.browserHistory.push({pathname:"/proj/bizi2/BiziMemberPage/",state:{fromDashboard:!0}}))},goBackBiziProjMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/bizi/BiziProjPage/");var t=this.goBackUrl;this.goBackUrl=null,l.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openGroupResPage:function(e,t){null!==e&&(this.goBackUrl="/proj/group/PoolPage/",this.selectedPool=e,l.browserHistory.push({pathname:"/proj/res2/ResMemberPage/",state:{fromDashboard:!0}}))},openGroupProjPage:function(e,t){null!==e&&(this.lastUrl=this.goBackUrl,this.goBackUrl="/proj/group/ProjPage/",this.selectedProj=e,l.browserHistory.push({pathname:"/proj/proj2/ProjMemberPage/",state:{fromDashboard:!0}}))},openGroupBiziProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/group/BiziProjPage/",this.selectedBiziProj=e,l.browserHistory.push({pathname:"/proj/bizi2/BiziMemberPage/",state:{fromDashboard:!0}}))},openInitProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj2/ProjQueryPage/",this.selectedProj=e,l.browserHistory.push({pathname:"/proj/proj2/BatchInputPage/",state:{fromDashboard:!0}}))},openResChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedPool=e,l.browserHistory.push({pathname:"/proj/res2/UserCheckPage/",state:{fromDashboard:!0}}))},openGroupChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedGroup=e,l.browserHistory.push({pathname:"/proj/group/GroupCheckPage/",state:{fromDashboard:!0}}))},openProjChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedProj=e,l.browserHistory.push({pathname:"/proj/proj2/UserCheckPage/",state:{fromDashboard:!0}}))},openBiziProjChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedBiziProj=e,l.browserHistory.push({pathname:"/proj/bizi2/UserCheckPage/",state:{fromDashboard:!0}}))},calcBeginMonth:function(e,t){if(!e||!t){var a=Math.floor(i.getToday()/100);return""+a}var l=0,n=0,r=Math.floor(e/1e4),o=Math.floor(e%1e4/100),s=t?t.split("."):[],t=s[0]?s[0]:0,d=s[1]?s[1]:0;if(l=r-t,o-d>0){var a=o-d;n=a>9?""+a:"0"+a}else{--l;var a=12+o-d;n=a>9?""+a:"0"+a}return""!==n&&void 0!==n||(n="00"),l+n},getWorkYears:function(e){var t=i.getToday();if(!e||e==Math.floor(t/100))return{year:"00",month:"00"};var a=0,l=0,n=Math.floor(e/100),r=e%100,o=Math.floor(t/1e4),s=Math.floor(t%1e4/100);return a=o-n,s-r>0?l=s-r:(--a,l=12+s-r),a=a>9?a:"0"+a,l=l>9?l:"0"+l,{year:a,month:l}},getDisplayWorkYears:function(e){var t=i.getToday();if(!e||e==Math.floor(t/100))return{year:"",month:""};var a=0,l=0,n=Math.floor(e/100),r=e%100,o=Math.floor(t/1e4),s=Math.floor(t%1e4/100);return a=o-n,s-r>0?l=s-r:(--a,l=12+s-r),a=0===a?"":""+a,l=0===l?"":""+l,{y:a,m:l}},getColumnWorkYears:function(e){var t=i.getToday();if(!e||e==Math.floor(t/100))return"无";var a=0,l=0,n=Math.floor(e/100),r=e%100,o=Math.floor(t/1e4),s=Math.floor(t%1e4/100);return a=o-n,s-r>0?l=s-r:(--a,l=12+s-r),0===l?0===a?"无":""+a+"年":""+a+"年"+l+"月"},calcCheckDate:function(e,t,a,l){var n=0,r=0,o=0;if(void 0!==a&&null!==a&&a.length>0){var s=a[0];n=s.beginHour,r=s.endHour,s.beginDate!==e.chkDate&&(n=9),s.endDate!==e.chkDate&&(r=18),n<9&&(n=9),r>18&&(r=18),o=r-n,n<=12&&r>12&&(o-=1),e.leaveType=s.leaveType,e.leaveHour=""+o}var d=[],u="",c="",h=-1,p=-1,m=0,f=0;if(void 0!==t&&null!==t&&t.length>0){for(var g=t.length,v=0;v<g;v++){var y=t[v];"booking"!==y.posType&&"free"!==y.posType&&d.push(y)}i.sortTable(d,"posTime",!1),g=d.length;for(var v=0;v<g;v++){var y=d[v];c=c+y.posType+": "+y.posTime+";    "}if(g>1){var S=d[0],C=d[g-1];h=parseInt(S.posTime.substr(0,2)),p=parseInt(C.posTime.substr(0,2)),m=parseInt(S.posTime.substr(3,2)),f=parseInt(C.posTime.substr(3,2)),u=p-h,h<=12&&p>12&&(u-=1),h<=18&&p>19&&(u-=1);var E=f-m;E<0&&(u-=1,E=60+E),u=""+u+":"+E,e.checkIn=S.posTime,e.checkOut=C.posTime}else 1===g&&(e.checkIn=d[0].posTime)}e.checkHour=u,e.checkLogger=c,o<8&&l&&this.calcWorkHour(e,h,m,p,f,n,r)},calcWorkHour:function(e,t,a,l,i,n,r){if(e.workHour="0",!(t<0||l<0)){console.log("chkData",e);var o=parseInt(e.fromHour.substr(0,2)),s=parseInt(e.toHour.substr(0,2)),d=parseInt(e.fromHour.substr(3,2)),u=parseInt(e.toHour.substr(3,2));if(o<=9&&s>=18&&"0"===e.dateType){var c=parseInt(e.leaveHour);return void(e.workHour=""+(8-c))}"0"===e.dateType?((t<o||o>=9)&&(t=o,a=d),(l>s||s<=18)&&(l=s,i=u)):((t<o||t===o&&a<d)&&(t=o,a=d),(l>s||l===s&&i>u)&&(l=s,i=u));var h=l-t;t<=12&&l>12&&(h-=1),t<=18&&l>19&&(h-=1);var p=i-a;if(p<-20?h-=1:p>40&&(h+=1),"0"!==e.dateType)return void(e.overHour=""+h);if(0===n||0===r)return void(e.workHour=""+h);n<o&&(n=o),r>s&&(r=s);var m=r-n;n<=12&&r>12&&(m-=1),e.workHour=""+(h-m)}}}},,,function(e,t,a){e.exports=a(10)(785)},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r={toggle:n.default.PropTypes.func,message:n.default.PropTypes.string},o=n.default.createClass({displayName:"ErrorMsg",getInitialState:function(){return{}},onClose:function(e){this.props.toggle()},render:function(){return""===this.props.message?null:n.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},n.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),n.default.createElement("span",{className:"ant-alert-message"},this.props.message),n.default.createElement("span",{className:"ant-alert-description"}),"undefined"!=typeof this.props.toggle?n.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},n.default.createElement("i",{className:"anticon anticon-cross"})):"")}});o.propTypes=r,e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(4),d=a(3),u=s.Radio.Group,c=s.Radio.Button,h={display:"block",height:"30px",lineHeight:"30px"},p=o.default.createClass({displayName:"DictRadio",getInitialState:function(){return{opts:[],loading:!1}},showOptions:function(e){var t=e.codeData;null!==t&&"undefined"!=typeof t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props,t=e.appName,a=e.optName;this.state.loading=!0,d.loadOptions(t,a,this.showOptions)},render:function(){var e=this.props,t=(e.appName,e.optName,e.showCode),a=e.layout,l=e.radioStyle,r=e.type,d=e.id,p=i(e,["appName","optName","showCode","layout","radioStyle","type","id"]),m=l;"vertical"===a&&(null!==m&&"undefined"!=typeof m||(m=h));var f;f=t?this.state.opts.map(function(e,t){return"button"===r?o.default.createElement(c,{id:d,key:e.codeValue,style:m,value:e.codeValue},e.codeValue,"-",e.codeDesc):o.default.createElement(s.Radio,{id:d,key:e.codeValue,style:m,value:e.codeValue},e.codeValue,"-",e.codeDesc)}):this.state.opts.map(function(e,t){return"button"===r?o.default.createElement(c,{id:d,key:e.codeValue,style:m,value:e.codeValue},e.codeDesc):o.default.createElement(s.Radio,{id:d,key:e.codeValue,style:m,value:e.codeValue},e.codeDesc)});var g=o.default.createElement(u,n({id:d},p),f);return this.state.loading?o.default.createElement(s.Spin,null,g):g}});t.default=p},,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=(l(i),a(1)),r=a(116),o=a(89),s=a(72),d=a(115),u=a(85),c=a(111),h=a(81),p=a(112),m=a(82),f=a(114),g=a(84);e.exports=function(){return{getInitialState:function(){return{waitPages2:{},obj2:null}},_getNullValue:function(e,t){if(this.state.obj2=null,null===e||"undefined"==typeof e||""===e)return"";var a=this.state.waitPages2[t];return null!==a&&"undefined"!=typeof a?e:null},_getResultValue:function(e,t){var a=this.state.obj2;return null!==a&&a.resName===t?a.name:(this.state.waitPages2[t]=this,e)},_fireEvent:function(e){var t=this.state.waitPages2[e];null!==t&&"undefined"!=typeof t&&(this.state.waitPages2[e]=null,t.setState({loading:t.state.loading}))},mixins:[n.listenTo(r,"_onFindComplete"),n.listenTo(o,"_onLevelComplete"),n.listenTo(d,"_onInsuComplete"),n.listenTo(c,"_onAllowComplete"),n.listenTo(p,"_onTripComplete"),n.listenTo(f,"_onDateComplete")],_onFindComplete:function(e){this.state.obj2=e},_onLevelComplete:function(e){this._fireEvent("hr_level")},getLevelName:function(e,t){var a=this._getNullValue(t,"hr_level");return null===a&&(s.getLevelName(e,t),a=this._getResultValue(t,"hr_level")),a},_onInsuComplete:function(e){this._fireEvent("hr-insurance")},getInsuName:function(e,t){var a=this._getNullValue(t,"hr-insurance");return null===a&&(u.getInsuName(e,t),a=this._getResultValue(t,"hr-insurance")),a},_onAllowComplete:function(e){this._fireEvent("hr-allowance")},getAllowName:function(e,t){var a=this._getNullValue(t,"hr-allowance");return null===a&&(h.getAllowName(e,t),a=this._getResultValue(t,"hr-allowance")),a},_onTripComplete:function(e){this._fireEvent("hr_trip")},getTripName:function(e,t){var a=this._getNullValue(t,"hr_trip");return null===a&&(m.getTripName(e,t),a=this._getResultValue(t,"hr_trip")),a},_onDateComplete:function(e){this._fireEvent("holiday")},getDateType:function(e){var t=e.substr(0,4),a=e.substr(4),l=this._getNullValue(a,"holiday");return null===l&&(g.getDateType(t,a),l=this._getResultValue(a,"holiday")),l}}}},function(e,t,a){"use strict";var l=a(17),i=a(6),n=a(3);e.exports={loadContext:function(){var e=window.sessionStorage.getItem("loginData");if(null!==e&&"undefined"!=typeof e){var t=window.sessionStorage.getItem("utilConf"),a=window.sessionStorage.getItem("commonConf");if(null!==t&&"undefined"!=typeof t&&null!==a&&"undefined"!=typeof a){var l=JSON.parse(t),r=JSON.parse(a);return n.initConf(l),i.initConf(r),window.loginData=JSON.parse(e),!0}}return!1},downConfig:function(e){var t=e,a="/config.js",r=window.location.href;r.startsWith("https:")&&(a="/config-s.js"),t.setState({loading:!0}),l.getScript(a,function(){n.initConf(utilConf),i.initConf(commonConf),window.sessionStorage.setItem("utilConf",JSON.stringify(utilConf)),window.sessionStorage.setItem("commonConf",JSON.stringify(commonConf)),"单公司"!==i.corpStruct&&t.onConfigLoaded(),t.setState({loading:!1})})},saveLoginData:function(e,t){try{for(var a=null,l=e.compUser.length,i=0;i<l;i++)if(e.compUser[i].corpUuid===t){a=e.compUser[i];break}e.compUser=a,console.log(e),window.loginData=e,window.sessionStorage.setItem("loginData",JSON.stringify(e))}catch(e){console.log(e)}try{window.sessionStorage.setItem("loadedMenu","")}catch(e){console.log(e)}}}},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(13),o=a(4),s=(o.Layout.Header,o.Layout.Content,o.Layout.Footer,o.Layout.Sider),d=o.Menu.SubMenu,u=a(3),c={children:n.default.PropTypes.node,navItems:n.default.PropTypes.array,activeNode:n.default.PropTypes.string},h=n.default.createClass({displayName:"LeftMenu",getInitialState:function(){return{collapsed:!1,mode:"inline"}},onCollapse:function(e){this.setState({collapsed:e,mode:e?"vertical":"inline"})},handleClick:function(e){var t=e.key,a="",l=t.indexOf("?");l>0&&(a=t.substring(1+l),t=t.substring(0,l));var i={fromDashboard:!0};if(""!==a){var n=a.split("&");n.map(function(e,t){if(l=e.indexOf("="),l>0){var a=e.substring(0,l),n=e.substring(1+l);i[a]=n}})}r.browserHistory.push({pathname:t,query:i})},render:function(){var e=[],t=this.props.activeNode;return"undefined"!=typeof t&&this.props.navItems.map(function(a,l){"undefined"!=typeof a.childItems&&a.childItems.map(function(l,i){t===l.to&&e.push(a.to)})}),n.default.createElement(o.Layout,{style:{backgroundColor:"#fefefe",height:"100%"}},n.default.createElement(s,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,className:"left-side"},n.default.createElement(o.Menu,{theme:"light",mode:this.state.mode,defaultOpenKeys:e,defaultSelectedKeys:[t],onClick:this.handleClick,className:"left-side"},this.props.navItems.map(function(e,t){var a="rgba(0,0,0,.65)",l=u.checkMenuPriv(e.to);if(2===l)a="red";else if(0===l)return null;if("undefined"==typeof e.childItems){var i="file";return"undefined"!=typeof e.icon&&(i=e.icon),n.default.createElement(o.Menu.Item,{key:e.to},n.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},n.default.createElement(o.Icon,{type:i}),n.default.createElement("span",null,e.name)))}var i="setting";"undefined"!=typeof e.icon&&(i=e.icon);var r=[];return e.childItems.map(function(e,t){var a="rgba(0,0,0,.65)",l=u.checkMenuPriv(e.to);2===l&&(a="red");var i="file";"undefined"!=typeof e.icon&&(i=e.icon),r.push(n.default.createElement(o.Menu.Item,{key:e.to},n.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},n.default.createElement(o.Icon,{type:i}),n.default.createElement("span",null,e.name))))}),0===r.length?null:n.default.createElement(d,{key:e.to,title:n.default.createElement("span",{style:{color:a}},n.default.createElement(o.Icon,{type:i}),n.default.createElement("span",null,e.name))},r)}))),n.default.createElement("div",{style:{height:"100%",width:"100%",overflowX:"hidden"}},this.props.children))}});h.propTypes=c,e.exports=h},function(e,t,a){"use strict";var l=a(1),i=l.createActions([{findName:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(5),d=(l(s),a(4)),u=a(146),c=l(u),h=a(1),p=d.Input.Search,m=a(6),f=a(3),g=a(99),v=a(75),y={children:o.default.PropTypes.node,corpUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectEmpLoyee:o.default.PropTypes.func},S=o.default.createClass({displayName:"SearchEmployee",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{EmployeeSet:{recordSet:[],operation:"",errMsg:""},filterValue:e,hint:"",corpUuid:window.loginData.compUser.corpUuid,showError:this.props.showError,onSelectEmpLoyee:this.props.onSelectEmpLoyee,loading:!1}},mixins:[h.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectEmployeePage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var l=""===e.errMsg?"没有找到员工":e.errMsg;this.state.hint=l,void 0!==this.state.showError&&this.state.showError(l)}else 1===a?this.state.onSelectEmpLoyee(e.recordSet[0]):a>1&&(this.refs.SelectEmployeePage.clear(e),this.refs.SelectEmployeePage.toggle());this.setState({loading:!1,EmployeeSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.corpUuid=this.state.corpUuid,m.isIncNumber(e)?t.staffCode=e:t.perName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveHrEmployeePage(t,1,10)},render:function(){var e=this.props,t=(e.corpUuid,e.showError,e.onSelectEmpLoyee,e.style),a=(e.value,i(e,["corpUuid","showError","onSelectEmpLoyee","style","value"])),l={},r=t;""!==this.state.hint&&(r={},f.copyValue(t,l),f.copyValue(t,r),l.paddingTop="4px",r.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(p,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:r},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px",paddingTop:"16px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(p,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:r},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:l,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectEmployeePage",onSelectEmpLoyee:this.state.onSelectEmpLoyee}))}});S.propTypes=y,e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=(l(i),a(17),a(3));e.exports=function(){return{getInitialState:function(){return{__actionName:"",__upUrl:"",__xlsFields:[],__xlsOptList:[],__xlsData:{},__xlsFile:null,__callback:null}},downXlsTempFile:function(e){var t=this;this.state.__actionName="down",this.state.__upUrl="",this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData={},this.state.__xlsFile=null,this.state.__callback=null,e.map(function(e,a){var l=e.opts;if(void 0===l){var i={};n.copyValue(e,i),t.state.__xlsFields.push(i)}else t._addXlsField(e,t)}),this._doDownTempFile()},downXlsTempFile2:function(e,t,a){var l=this;this.state.__actionName="down2",this.state.__upUrl="",this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData=JSON.stringify(t),this.state.__xlsFile=null,this.state.__callback=a,e.map(function(e,t){var a=e.opts;if(void 0===a){var i={};n.copyValue(e,i),l.state.__xlsFields.push(i)}else l._addXlsField(e,l)}),this._doDownTempFile()},uploadXlsFile:function(e,t,a,l,i){var r=this;this.state.__actionName="up",this.state.__upUrl=e,this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData=t,this.state.__xlsFile=l,this.state.__callback=i,a.map(function(e,t){var a=e.opts;if(void 0===a){var l={};n.copyValue(e,l),r.state.__xlsFields.push(l)}else r._addXlsField(e,r)}),this._doUploadFile()},_addXlsField:function(e,t){var a={};a.id=e.id,a.name=e.name,a.title=e.title;var l=e.opts;if("#"!==l.charAt(0))return a.opts=l,void t.state.__xlsFields.push(a);l=l.substr(1);var i=l.indexOf(".");if(i<=0)return void t.state.__xlsFields.push(a);var r=l.substr(0,i),o=l.substr(1+i),s=n.loadOptions(r,o,t._onGetOptions);if(void 0!==s){var d=[];return s.codeData.map(function(e,t){d.push(e.codeValue+"="+e.codeDesc)}),a.opts=d.join(","),void t.state.__xlsFields.push(a)}t.state.__xlsFields.push(a);var u={name:o,field:a};t.state.__xlsOptList.push(u)},_onGetOptions:function(e,t){if(void 0!==t){var a=[];"down"===this.state.__actionName?e.codeData.map(function(e,t){a.push(e.codeDesc)}):"up"===this.state.__actionName&&e.codeData.map(function(e,t){a.push(e.codeValue+"="+e.codeDesc)});var l=!1,i=this.state.__xlsOptList;if(i.map(function(e,i){e.name===t&&null!==e.field&&(l=!0,e.field.opts=a.join(","),e.field=null)}),l){var n=this.state.__actionName;"down"===n||"down2"===n?this._doDownTempFile():"up"===n&&this._doUploadFile()}}},_doDownTempFile:function(){for(var e=this.state.__xlsOptList,t=e.length,a=0;a<t;a++)if(null!==e[a].field)return;var l=JSON.stringify(this.state.__xlsFields);if("down2"===this.state.__actionName)this.state.__callback.downFile(l,this.state.__xlsData);else{var i=n.paramUrl+"xlsx-file/down-temp?param="+encodeURI(l);if(void 0!==window.loginData){var r=window.loginData.compUser;null!==r&&""!==r.corpUuid&&void 0!==r.corpUuid&&(i=i+"&corp="+r.corpUuid)}window.location.href=i}},_doUploadFile:function(){for(var e=this.state.__xlsOptList,t=e.length,a=0;a<t;a++)if(null!==e[a].field)return void console.log("optList[i].field",e[a].field);var l={data:this.state.__xlsData,fields:this.state.__xlsFields},i=this.state.__upUrl,r=[this.state.__xlsFile],o=this.state.__callback;n.doUploadService(i,l,r).then(function(e){var t="",a=null;null==e.errCode||""==e.errCode||"000000"==e.errCode?a=e.object:t="导入数据错误["+e.errCode+"]["+e.errDesc+"]",void 0!==o&&null!==o&&o(t,a)},function(e){var t="上传文件错误";void 0!==o&&null!==o&&o(t,null)})}}}},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["retrieveCompUser","initCompUser"]);e.exports=i},function(e,t,a){e.exports=a(10)(1025)},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(5),d=(l(s),a(4)),u=a(1),c=d.Select.Option,h=a(35),p=a(27),m=o.default.createClass({displayName:"CompSelect",getInitialState:function(){return{compSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[u.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){this.state.compSet=e,this.setState({loading:!1});var t=this.props.value,a=e.recordSet;if("retrieve"===e.operation&&""===e.errMsg&&a.length>0){var l=window.localStorage.corpUuid;t=void 0===l||""===l?a[0].corpUuid:l,this.props.onLoaded(t)}},loadCorps:function(){void 0!==localStorage.corpUuid&&""!==localStorage.corpUuid&&void 0!==localStorage.userName&&""!==localStorage.userName&&"retrieve"!==this.state.compSet.operation&&(this.setState({loading:!0}),p.initCompUser(localStorage.userName))},loadData:function(e){this.setState({compSet:{recordSet:[],operation:"",errMsg:""},loading:!0}),p.initCompUser(e)},render:function(){var e=this.props,t=e.value,a=i(e,["value"]),l=t,r=this.state.compSet.recordSet,s=(window.localStorage,r.map(function(e,t){return o.default.createElement(c,{key:e.corpUuid,value:e.corpUuid},e.compName)}));s.push(o.default.createElement(c,{key:"#",value:"#"},"个人用户"));var u=null===l||""===l?o.default.createElement(d.Select,n({},a,{placeholder:"选择用户登入的身份"}),s):o.default.createElement(d.Select,n({},a,{value:l}),s);return this.state.loading?o.default.createElement(d.Spin,null,u):u}});e.exports=m},,,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createCompUser","deleteCompUser","updateCompUser","retrieveCompUser","retrieveCompUserPage","initCompUser","getCompUser"]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(28),o=l(r),s=a(13),d=a(4),u=d.Layout.Header,c=d.Layout.Content,h=(d.Layout.Footer,a(22)),p=a(3),m={children:n.default.PropTypes.node,navItems:n.default.PropTypes.array,activeNode:n.default.PropTypes.string,offsetLeft:n.default.PropTypes.string,home:n.default.PropTypes.string},f=n.default.createClass({displayName:"TopBar",getInitialState:function(){return null},goHome:function(e){var t=this.props.home;null!==t&&"undefined"!=typeof t||(t="/main/DeskPage/"),p.setActiveMenuName(""),"@"===t.charAt(0)?document.location.href=t.substr(1):s.browserHistory.push({pathname:t})},handleMenuClick:function(e){"1"===e.key?s.browserHistory.push({pathname:"/main/passwd/"}):"2"===e.key?document.location.href="/index.html":console.log("handleMenuClick",e)},handleClick:function(e){var t=e.key,a="",l=t.indexOf("?");l>0&&(a=t.substring(1+l),t=t.substring(0,l));var i={fromDashboard:!0};if(""!==a){var n=a.split("&");n.map(function(e,t){if(l=e.indexOf("="),l>0){var a=e.substring(0,l),n=e.substring(1+l);i[a]=n}})}s.browserHistory.push({pathname:t,query:i})},render:function(){if((null===window.loginData||"undefined"==typeof window.loginData)&&!h.loadContext())return s.browserHistory.push({pathname:"/index.html"}),null;var e=n.default.createElement(d.Menu,{onClick:this.handleMenuClick},n.default.createElement(d.Menu.Item,{key:"1"},"修改密码"),n.default.createElement(d.Menu.Item,{key:"2"},"用户签退")),t=this.props.offsetLeft;null!==t&&"undefined"!=typeof t||(t="200px");var a=[this.props.activeNode];return n.default.createElement("div",{style:{width:"100%",height:"100%",padding:"38px 0 0"}},n.default.createElement(o.default,{titleTemplate:"隆正互联 - %s",title:"管理软件",defaultTitle:"管理软件",meta:[{name:"隆正互联"}]}),n.default.createElement(u,{style:{margin:"-38px 0 0",height:"38px",lineHeight:"38px",paddingLeft:"36px",paddingRight:"24px"}},n.default.createElement("div",{style:{float:"left",color:"#EFEFEF"}},"隆正软件"),n.default.createElement(d.Menu,{theme:"dark",mode:"horizontal",defaultSelectedKeys:a,onClick:this.handleClick,style:{lineHeight:"38px",float:"left",paddingLeft:t}},this.props.navItems.map(function(e,t){var a="hsla(0, 0%, 100%, .67)",l=p.checkMenuPriv(e.to);if(2===l)a="red";else if(0===l)return null;var i="file";return"undefined"!=typeof e.icon&&(i=e.icon),n.default.createElement(d.Menu.Item,{key:e.to},n.default.createElement("span",null,n.default.createElement(d.Icon,{type:i}),n.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},e.name)))})),n.default.createElement("div",{style:{float:"right",color:"#EFEFEF"}},n.default.createElement(d.Icon,{type:"home",onClick:this.goHome,title:"返回主页",style:{padding:"0 8px 0 0",cursor:"pointer"}}),n.default.createElement(d.Dropdown,{overlay:e},n.default.createElement(d.Icon,{type:"setting",style:{cursor:"pointer"}})))),n.default.createElement(c,{style:{width:"100%",height:"100%",padding:"0 0px"}},this.props.children))}});f.propTypes=m,e.exports=f},function(e,t,a){"use strict";var l=a(1),i=a(11),n=l.createStore({listenables:[i],init:function(){},onShowError:function(e,t,a){this.trigger({resName:e,operation:t,errMsg:a})}});e.exports=n},function(e,t,a){"use strict";var l=a(1),i=a(27),n=a(3),r=a(11),o=l.createStore({listenables:[i],username:"",recordSet:[],init:function(){},getServiceUrl:function(e){return n.authUrl+e},fireEvent:function(e,t,a){a.trigger({username:a.username,recordSet:a.recordSet,operation:e,errMsg:t}),r.showError("comp-user",e,t)},onRetrieveCompUser:function(e){var t=this,a={};a.username=e;var l=this.getServiceUrl("comp-user/get-by-username");n.doGetRecordService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.username=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitCompUser:function(e){return this.recordSet.length>0&&this.username===e?void this.fireEvent("retrieve","",this):void this.onRetrieveCompUser(e)}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,
writable:!0}):e[t]=a,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(8),d=(l(s),a(5)),u=(l(d),a(13)),c=a(4),h=a(18),p=l(h),m=a(29),f=l(m),g=a(63),v=l(g),y=a(64),S=l(y),C=a(62),E=l(C),b=(a(17),a(1),c.Form.Item),w=a(6),x=a(3),k=a(22),N=(0,u.withRouter)(o.default.createClass({displayName:"LoginPage2",getInitialState:function(){var e=window.localStorage,t="1"===e.isRemember,a=t?e.userName:"",l="";"单公司"===w.corpStruct?l=w.corpUuid:t&&(l=e.corpUuid);var i=window.sessionStorage.getItem("loginData");if(null!==i&&"undefined"!=typeof i){var n=!1,r=this.props.location;if(null!==r&&"undefined"!=typeof r){var o=r.pathname;""!==o&&(""!==r.search?n=!0:"/"!==o&&"/index.html"!==o&&"/test.html"!==o&&(n=!0))}n&&k.loadContext()?this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}}):window.sessionStorage.removeItem("loginData")}return{user:{userName:a,passwd:"",corpUuid:l},loading:!1,isRemember:t,errMsg:"",hints:{},action:"login",validRules:[]}},componentDidMount:function(){k.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",w.formValidator(this,this.state.user)){var a=x.authUrl+"auth-user/login",l=w.calcMD5(t),i={};i.password=l,i.username=this.state.user.userName;var n=this;this.setState({loading:!0}),x.loginService(a,i).then(function(e,a,l){n.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?"11111111"==t||"12345678"==t?n.setState({action:"modify"}):n.loginSuccess(e.object):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.state.loading=!1,n.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=w.corpUuid;var t=x.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var l=this;this.setState({loading:!0}),x.loginService(t,a).then(function(e,t,a){l.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?l.loginSuccess(e.object):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.state.loading=!1,l.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;k.saveLoginData(e,t);var a=window.localStorage;a.isRemember=this.state.isRemember?"1":"0",a.userName=this.state.isRemember?this.state.user.userName:"",a.corpUuid=this.state.isRemember?this.state.user.corpUuid:"",this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,w.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var l=this.state.user;l[e]=t,this.setState({user:l})},onUserNameFinished:function(e){"单公司"!==w.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},onGoBack:function(){this.setState({action:"login"})},reqPsd:function(){this.setState({action:"request"})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,l={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},r=this.state.user.userName,s=this.state.hints,d="login"===this.state.action?"":"none",u={imageSize:"5",zoom:"4",title:"icerno"};u.data="http://124.202.135.197:18580/apk/icerno.apk";var h=JSON.stringify(u);h=encodeURI(h),h=h.replace(/&/g,"%26");var m="/param_s/QRCode/create?data="+h,g="单公司"===w.corpStruct?null:o.default.createElement(b,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:s.compUuidHint,validateStatus:s.compUuidStatus},o.default.createElement(f.default,{style:{opacity:".9"},name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp})),y=o.default.createElement("div",i({style:{width:"100%"}},"style",{display:d}),o.default.createElement("div",{style:{width:"300px",height:"300px",position:"fixed",margin:"-150px -150px",top:"50%",left:"50%"}},o.default.createElement(c.Form,{layout:t},o.default.createElement(b,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},help:s.userNameHint,validateStatus:s.userNameStatus}),o.default.createElement(c.Input,{prefix:o.default.createElement(c.Icon,{type:"user",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),o.default.createElement(b,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:s.passwdHint,validateStatus:s.passwdStatus}),o.default.createElement(c.Input,{prefix:o.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),g,o.default.createElement(b,null,o.default.createElement(p.default,{message:e,toggle:this.onDismiss}),o.default.createElement(c.Checkbox,{id:"remember",style:{color:"#fff",opacity:".9"},checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),o.default.createElement("a",{onClick:this.reqPsd,style:{float:"right",marginTop:"1px",color:"#fff"}},"忘记密码？"),o.default.createElement(c.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%",opacity:".9"},loading:this.state.loading},"登录"),w.resMode?null:o.default.createElement(c.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px",opacity:".9"},loading:this.state.loading},"快速登录")))),o.default.createElement("div",{style:{padding:"15px 0 0 15px"}},o.default.createElement("img",{src:m,style:{width:80,height:80}}),o.default.createElement("p",{style:{color:"#FFFFFF",paddingTop:"6px"}},"android 客户端"))),C=null;return"modify"===this.state.action?C=o.default.createElement(v.default,{onBack:this.onGoBack}):"request"===this.state.action&&(C=o.default.createElement(S.default,{userName:r,onBack:this.onGoBack})),o.default.createElement("div",{style:{width:"100%",height:"100%",background:"#0e1a53",opacity:".92"}},o.default.createElement(E.default,null),y,C)}}));e.exports=N},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=(l(s),a(4),a(3),n.default.createClass({displayName:"LogoutPage",getInitialState:function(){return{loading:!1}},componentDidMount:function(){},render:function(){return n.default.createElement("div",{className:"grid-page"},"用户签退")}}));e.exports=d},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(8),s=(l(o),a(5)),d=(l(s),a(4)),u=a(18),c=l(u),h=d.Form.Item,p=a(6),m=a(3),f=r.default.createClass({displayName:"PasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",p.formValidator(this,this.state.passwd)){var t=m.authUrl+"auth-user/update-pwd",a={},l=this.state.passwd.oldPasswd,i=this.state.passwd.newPasswd,n=this.state.passwd.confirmPad;i!=n?p.warnMsg("两次输入需要一致！"):(a.oldPasswd=l,a.newPasswd=i);var r=this;m.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?p.succMsg("密码修改成功！"):r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){r.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",l="form-item-"+a,n={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return r.default.createElement("div",{style:{width:"100%"}},r.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},r.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px"}},"修改密码"),r.default.createElement(d.Form,{layout:a},r.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),r.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:l,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"text",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),r.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:l,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"text",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),r.default.createElement(h,null,r.default.createElement(c.default,{message:e,toggle:this.onDismiss}),r.default.createElement(d.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=f},function(e,t,a){"use strict";var l=a(57),i=a(41),n=a(60);l.inject();var r={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:n};e.exports=r},function(e,t){"use strict";var a={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=a},function(e,t,a){"use strict";function l(e,t){var a;try{return m.injection.injectBatchingStrategy(h),a=p.getPooled(t),v++,a.perform(function(){var l=g(e,!0),i=c.mountComponent(l,a,null,s(),f,0);return t||(i=u.addChecksumToMarkup(i)),i},null)}finally{v--,p.release(a),v||m.injection.injectBatchingStrategy(d)}}function i(e){return o.isValidElement(e)?void 0:r("46"),l(e,!1)}function n(e){return o.isValidElement(e)?void 0:r("47"),l(e,!0)}var r=a(44),o=a(49),s=a(55),d=a(56),u=(a(45),a(58)),c=a(54),h=a(40),p=a(59),m=a(46),f=a(48),g=a(47),v=(a(43),0);e.exports={renderToString:i,renderToStaticMarkup:n}},function(e,t,a){"use strict";e.exports=a(39)},function(e,t,a){e.exports=a(10)(13)},function(e,t,a){e.exports=a(10)(14)},function(e,t,a){e.exports=a(10)(36)},function(e,t,a){e.exports=a(10)(40)},function(e,t,a){e.exports=a(10)(468)},function(e,t,a){e.exports=a(10)(473)},function(e,t,a){e.exports=a(10)(48)},function(e,t,a){e.exports=a(10)(761)},function(e,t,a){e.exports=a(10)(762)},function(e,t,a){e.exports=a(10)(784)},function(e,t,a){e.exports=a(10)(799)},function(e,t,a){e.exports=a(10)(82)},function(e,t,a){e.exports=a(10)(966)},function(e,t,a){e.exports=a(10)(976)},function(e,t,a){e.exports=a(10)(977)},function(e,t,a){e.exports=a(10)(982)},function(e,t,a){e.exports=a(10)(988)},function(e,t,a){e.exports=a(10)(990)},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=(a(13),n.default.createClass({displayName:"IndexPage",getInitialState:function(){return null},render:function(){return console.log(this.props.location),n.default.createElement("div",null,n.default.createElement("h1",null,"404 - Not Found"))}}));e.exports=r},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.vx=-.5+Math.random(),this.vy=-.5+Math.random(),this.radius=2*Math.random(),this.color=new n}function n(e){e=e||0,this.colorValue=function(e){return Math.floor(255*Math.random()+e)},this.createColorStyle=function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},this.r=this.colorValue(e),this.g=this.colorValue(e),this.b=this.colorValue(e),this.style=this.createColorStyle(this.r,this.g,this.b)}var r=a(2),o=l(r),s=a(8),d=(l(s),a(5));l(d);i.prototype={draw:function(e){e.beginPath(),e.fillStyle=this.color.style,e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()}};var u=o.default.createClass({displayName:"CanvasDotePage",getInitialState:function(){return{mousePosition:{x:30*window.innerWidth/100,y:30*window.innerHeight/100},dots:{nb:190,distance:100,d_radius:80,array:[]},canvas:{},ctx:{}}},componentDidMount:function(){var e=this.state.canvas,t=this.state.ctx,a=this.state.dots;e=this.refs.canvasDote,t=e.getContext("2d"),e.width=window.innerWidth,e.height=window.innerHeight,t.lineWidth=.3,t.strokeStyle=new n(150).style;var l=190;e.width<700?l=80:e.width<1e3&&(l=110),a.nb=l,this.state.canvas=e,this.state.ctx=t,this.state.dots=a,this.createDots(),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},createColorStyle:function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},mixComponents:function(e,t,a,l){return(e*t+a*l)/(t+l)},averageColorStyles:function(e,t){var a=e.color,l=t.color,i=this.mixComponents(a.r,e.radius,l.r,t.radius),n=this.mixComponents(a.g,e.radius,l.g,t.radius),r=this.mixComponents(a.b,e.radius,l.b,t.radius);return this.createColorStyle(Math.floor(i),Math.floor(n),Math.floor(r))},createDots:function(){for(var e=this.state.dots,t=this.state.canvas,a=0;a<e.nb;a++)e.array.push(new i(t))},moveDots:function(){for(var e=this.state.canvas,t=this.state.dots,a=0;a<t.nb;a++){var l=t.array[a];l.y<0||l.y>e.height?(l.vx=l.vx,l.vy=-l.vy):(l.x<0||l.x>e.width)&&(l.vx=-l.vx,l.vy=l.vy),l.x+=l.vx,l.y+=l.vy}this.setState({canvas:e})},connectDots:function(){for(var e=this.state.dots,t=this.state.mousePosition,a=this.state.ctx,l=0;l<e.nb;l++)for(var i=0;i<e.nb;i++){var n=e.array[l],r=e.array[i];n.x-r.x<e.distance&&n.y-r.y<e.distance&&n.x-r.x>-e.distance&&n.y-r.y>-e.distance&&n.x-t.x<e.d_radius&&n.y-t.y<e.d_radius&&n.x-t.x>-e.d_radius&&n.y-t.y>-e.d_radius&&(a.beginPath(),a.strokeStyle=this.averageColorStyles(n,r),a.moveTo(n.x,n.y),a.lineTo(r.x,r.y),a.stroke(),a.closePath())}this.setState({dots:e})},drawDots:function(e,t){for(var a=0;a<t.nb;a++){var l=t.array[a];l.draw(e)}this.setState({ctx:e})},animateDots:function(e,t,a){t.clearRect(0,0,e.width,e.height),this.moveDots(),this.connectDots(),this.drawDots(t,a),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},onMouseMove:function(e){this.state.mousePosition.x=e.pageX,this.state.mousePosition.y=e.pageY,this.setState({mousePosition:this.state.mousePosition})},onMouseLeave:function(e){var t=this.state.canvas;this.state.mousePosition.x=t.width/3,this.state.mousePosition.y=t.height/3,this.setState({mousePosition:this.state.mousePosition})},render:function(){return o.default.createElement("div",null,o.default.createElement("canvas",{ref:"canvasDote",width:"1000px",height:"700px",style:{position:"absolute"},onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave}))}});e.exports=u},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(8),s=(l(o),a(5)),d=(l(s),a(4)),u=a(18),c=l(u),h=a(6),p=d.Form.Item,m=a(6),f=a(3),g=r.default.createClass({displayName:"ModPasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,m.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",m.formValidator(this,this.state.passwd)){var t=f.authUrl+"auth-user/update-pwd",a={},l=this.state.passwd.oldPasswd,i=this.state.passwd.newPasswd,n=this.state.passwd.confirmPad;i!=n?h.warnMsg("两次输入需要一致！"):(a.oldPasswd=l,a.newPasswd=i);var r=this;f.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(h.succMsg("密码修改成功！"),r.props.onBack()):r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){r.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",l="form-item-"+a,n={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return r.default.createElement("div",{style:{width:"100%"}},r.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},r.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px",color:"#fff",opacity:".9"}},"修改密码"),r.default.createElement(d.Form,{layout:a},r.default.createElement(p,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),r.default.createElement(p,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:l,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"password",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),r.default.createElement(p,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:l,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),r.default.createElement(p,null,r.default.createElement(c.default,{message:e,toggle:this.onDismiss}),r.default.createElement(d.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(8),s=(l(o),a(5)),d=(l(s),a(4)),u=a(18),c=l(u),h=(a(1),a(6)),p=d.Form.Item,m=a(6),f=a(3),g=r.default.createClass({displayName:"ResetPasswdPage",getInitialState:function(){return{resetPasswd:{newEmail:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[],count:60,liked:!0}},componentDidMount:function(){this.state.validRules=[{id:"username",desc:"用户名",required:!0,max:"0"},{id:"email",desc:"电子邮箱",required:!0,max:"0"},{id:"resetCode",desc:"验证码",required:!1,max:"0"},{id:"passwd",desc:"密码",required:!1,max:"0"}]},handleOnChange:function(e){var t=this.state.resetPasswd;t[e.target.id]=e.target.value,m.validator(this,t,e.target.id),this.setState({resetPasswd:t})},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},goBack:function(){this.props.onBack()},times:function(){this.state.liked&&(this.timer=setInterval(function(){var e=this.state.count;this.state.liked=!1,e-=1,e<1&&(this.setState({liked:!0}),e=60,clearInterval(this.timer)),this.setState({count:e})}.bind(this),1e3))},clickGetEmail:function(){var e=this.state.resetPasswd.email,t=this.state.resetPasswd.username;null!==e&&""!==e&&null!==t&&""!==t||h.errMsg("用户名和邮箱不能为空");var a=f.authUrl+"auth-user/reset-req",l={};l.username=t,l.email=e;var i=this;f.doUpdateService(a,l).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(h.succMsg("邮件已发送！"),i.times()):i.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){i.showError("未知错误")})},clickRequestPwd:function(e){var t=f.authUrl+"auth-user/reset-passwd",a={},l=this.state.resetPasswd.passwd,i=this.state.resetPasswd.confirmPad;a.username=this.props.userName,a.passwd=l,a.resetCode=this.state.resetPasswd.resetCode;var n=this;f.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?l!=i?m.warnMsg("两次输入需要一致！"):(h.succMsg("密码修改成功！"),n.goBack()):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.showError("未知错误")})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",l="form-item-"+a,n={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}},o=this.state.liked?"获取验证码":this.state.count+" s";return r.default.createElement("div",{style:{width:"100%"}},r.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},r.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"30px",fontSize:"16px",textAlign:"center",marginBottom:"10px",letterSpacing:3,color:"#fff",opacity:".9"}},"重置密码"),r.default.createElement(d.Form,{layout:a},r.default.createElement(p,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:l,help:t.usernameHint,validateStatus:t.usernameStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"user"}),placeholder:"用户名",type:"text",name:"username",id:"username",value:this.state.resetPasswd.username,onChange:this.handleOnChange})),r.default.createElement(p,i({},n,{label:"",colon:!0,style:{marginBottom:"10px"},help:t.emailHint,validateStatus:t.emailStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"mail"}),placeholder:"注册的邮箱",type:"text",name:"email",id:"email",value:this.state.resetPasswd.email,onChange:this.handleOnChange}),r.default.createElement(d.Button,{style:{position:"absolute",right:"1px",top:"2px",height:"28px",zIndex:2,fontSize:12},key:"btnEamil",size:"large",onClick:this.clickGetEmail},o),r.default.createElement("p",{style:{width:"100%",fontSize:12,textAlign:"right",color:"#fff",opacity:".9"}},"验证码将会发送至您的注册邮箱")),r.default.createElement(p,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:l,help:t.resetCodeHint,validateStatus:t.resetCodeStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"safety"}),placeholder:"验证码",type:"text",name:"resetCode",id:"resetCode",value:this.state.resetPasswd.resetCode,onChange:this.handleOnChange})),r.default.createElement(p,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:l,help:t.passwdHint,validateStatus:t.passwdStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.resetPasswd.passwd,onChange:this.handleOnChange})),r.default.createElement(p,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:l,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),r.default.createElement(d.Input,{prefix:r.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.resetPasswd.confirmPad,onChange:this.handleOnChange})),r.default.createElement(p,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:l},r.default.createElement(c.default,{message:e,toggle:this.onDismiss}),r.default.createElement(d.Button,{type:"primary",size:"middle",onClick:this.clickRequestPwd,style:{marginRight:"6px"},loading:this.state.loading},"修改密码"),r.default.createElement(d.Button,{size:"middle",onClick:this.goBack},"取消")))))}});e.exports=g},function(e,t,a){e.exports=a(10)(3)},function(e,t,a){"use strict";var l=a(1),i=a(32),n=a(3),r=a(11),o=l.createStore({listenables:[i],deptUuid:"",filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.authUrl+e},fireEvent:function(e,t,a){a.trigger({deptUuid:a.deptUuid,filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("comp-user",e,t)},onRetrieveCompUser:function(e){var t=e.deptUuid,a=this,l=this.getServiceUrl("comp-user/retrieve");n.doRetrieveService(l,e,a.startPage,a.pageRow,a.totalRow).then(function(l){null==l.errCode||""==l.errCode||"000000"==l.errCode?(a.recordSet=l.object.list,a.startPage=l.object.startPage,a.pageRow=l.object.pageRow,a.totalRow=l.object.totalRow,a.deptUuid=t,a.filter=e,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+l.errCode+"]["+l.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveCompUserPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveCompUser(e)},onInitCompUser:function(e,t,a){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):(this.totalRow=0,void this.onRetrieveCompUserPage(e,t,a))},onCreateCompUser:function(e){var t=this.getServiceUrl("comp-user/create");n.recordCreate(this,e,t)},onUpdateCompUser:function(e){var t=this.getServiceUrl("comp-user/update");n.recordUpdate(this,e,t)},onDeleteCompUser:function(e){var t=this.getServiceUrl("comp-user/remove");n.recordDelete(this,e,t)},fireEvent2:function(e,t,a){a.trigger({corpUser:e,operation:"find",errMsg:t}),r.showError("comp-user","find",t)},onGetCompUser:function(e,t){var a=this,l={};l.username=t;var i=this.getServiceUrl("comp-user/get-by-username");n.doGetRecordService(i,l).then(function(t){if(null==t.errCode||""==t.errCode||"000000"==t.errCode){for(var l="",i=null,n=t.object.list,r=n.length,o=0;o<r;o++){var s=n[o];if(s.corpUuid===e){i=s,l="用户已经存在";break}}a.fireEvent2(i,l,a)}else a.fireEvent2(null,"处理错误["+t.errCode+"]["+t.errDesc+"]",a)},function(e){a.fireEvent2(null,"调用服务错误",a)})}});e.exports=o},,,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrDept","deleteHrDept","updateHrDept","retrieveHrDept","retrieveHrDeptPage","initHrDept"]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(5),d=(l(s),a(4)),u=a(1),c=a(83),h=a(69),p=a(6),m=o.default.createClass({displayName:"DeptTreeSelect",getInitialState:function(){return{deptSet:{recordSet:[],errMsg:"",operation:""},nodeList:[],deptMap:{},loading:!1}},mixins:[u.listenTo(c,"onDeptComplete")],onDeptComplete:function(e){if("retrieve"===e.operation){this.state.deptMap={};var t=e.recordSet;this.state.nodeSet=p.initTreeNodes(t,this.preCrtNode),this.state.deptSet=e,this.setState({loading:!1})}},getHrExeNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.deptSet.recordSet,a=t.length,l=0;l<a;l++)if(t[l].uuid===e)return t[l];return{}},preCrtNode:function(e,t){var a={};return a.label=o.default.createElement("span",{style:{cursor:"pointer"}},e.deptName),a.value=e.uuid,a.key=e.uuid,a.pid=e.puuid,a.selectable=!0,""===e.deptDesc||e.deptDesc==e.deptName?a.title=e.deptName:a.title=e.deptName+"("+e.deptDesc+")",this.state.deptMap[e.uuid]=e.deptName,a},componentDidMount:function(){this.state.deptSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;h.initHrDept(t)},render:function(){var e=this.props,t=e.onSelect,a=i(e,["onSelect"]),l=o.default.createElement(d.TreeSelect,n({},a,{allowClear:!0,onChange:t,showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeNodeFilterProp:"title",treeData:this.state.nodeSet}));return this.state.loading?o.default.createElement(d.Spin,null,l):l}});t.default=m},,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrLevel","deleteHrLevel","updateHrLevel","retrieveHrLevel","retrieveHrLevelPage","initHrLevel",{getLevelName:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createUserGroup","deleteUserGroup","updateUserGroup","retrieveUserGroup","retrieveUserGroupPage","initUserGroup"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createAuthUser","updateAuthUser","getAuthUser"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["retrieveHrEmployee","retrieveHrEmployeePage","initHrEmployee"]);e.exports=i},,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(5),d=(l(s),a(4)),u=a(1),c=(a(3),a(125)),h=a(92),p=o.default.createClass({displayName:"AutoInput",getInitialState:function(){return{loading:!1,paramList:[]}},mixins:[u.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){if(this.state.paramList=[],""===e.errMsg)for(var t=e.recordSet,a=this.props.paramName,l=0;l<t.length;l++){var i=t[l];if(i.paramName===a){this.state.paramList=i.paramValue.split("\n");break}}this.setState({loading:!1})},componentDidMount:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid;h.retrieveUiParam(e)},render:function(){var e=this.props,t=(e.paramName,i(e,["paramName"]));return o.default.createElement(d.AutoComplete,n({dataSource:this.state.paramList,filterOption:function(e,t){return t.props.children.indexOf(e)!==-1}},t))}});t.default=p},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(4),d={children:o.default.PropTypes.node,caption:o.default.PropTypes.string,toolbar:o.default.PropTypes.object,dataSource:o.default.PropTypes.array,rowKey:o.default.PropTypes.string,title:o.default.PropTypes.string,rowStyle:o.default.PropTypes.object,loading:o.default.PropTypes.bool,activeNode:o.default.PropTypes.string,render:o.default.PropTypes.func,onClick:o.default.PropTypes.func},u=o.default.createClass({displayName:"LeftList",getInitialState:function(){return{current:this.props.activeNode,onClick:this.props.onClick}},componentWillReceiveProps:function(e){this.state.current=e.activeNode},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},crtNode:function(e,t,a,l){var i=null===t||"undefined"==typeof t?e.uuid:e[t],n=i===this.state.current?"ant-menu-item-selected ant-menu-item":"ant-menu-item-active ant-menu-item";
return o.default.createElement("li",{className:n,id:i,key:i,onClick:this.handleClick.bind(this,e,i),style:{paddingLeft:"20px",height:"30px",lineHeight:"30px"}},o.default.createElement(s.Icon,{type:"play-circle-o"}),e[a])},render:function(){var e=this,t=this.props,a=(t.children,t.caption),l=t.toolbar,r=t.width,d=t.dataSource,u=t.rowKey,c=t.rowText,h=t.rowStyle,p=(t.activeNode,t.render,t.onClick,t.loading),m=i(t,["children","caption","toolbar","width","dataSource","rowKey","rowText","rowStyle","activeNode","render","onClick","loading"]);if(null===d||"undefined"==typeof d){var f=o.default.createElement("div",{className:"left-list",style:{flex:"0 0 "+r,width:r}},l,o.default.createElement("div",null,"暂时无数据"));return o.default.createElement("div",n({style:{display:"flex",height:"100%"}},m),p?o.default.createElement(s.Spin,{style:{minHeight:"200px"}},f):f,o.default.createElement("div",{style:{width:"100%"}},this.props.children))}var f=o.default.createElement("ul",{className:"ant-menu ant-menu-inline ant-menu-light ant-menu-root"},d.map(function(t,a){return e.crtNode(t,u,c,h)}));return o.default.createElement("div",n({style:{display:"flex",height:"100%"}},m),o.default.createElement("div",{className:"left-list",style:{flex:"0 0 "+r,width:r,overflowY:"auto"}},l,null===a||"undefined"==typeof a?null:o.default.createElement("div",{className:"ant-menu-item-group-title"},a),p?o.default.createElement(s.Spin,{style:{minHeight:"200px"}},f):f),o.default.createElement("div",{style:{width:"100%",height:"100%",overflowX:"hidden"}},this.props.children))}});u.propTypes=d,e.exports=u},,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createResMember","deleteResMember","updateResMember","updateResMember2","retrieveResMember","retrieveEmpJob","retrieveResMemberPage","initResMember","clearResMember","batchCreateResMember"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrAllowance","deleteHrAllowance","updateHrAllowance","retrieveHrAllowance","retrieveHrAllowancePage","initHrAllowance",{getAllowName:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrBizTrip","deleteHrBizTrip","updateHrBizTrip","retrieveHrBizTrip","retrieveHrBizTripPage","initHrBizTrip",{getTripName:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(69),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_dept",e,t)},onRetrieveHrDept:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr_dept/get-by-corp_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrDeptPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrDept(e)},onInitHrDept:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrDept(e)},onCreateHrDept:function(e){var t=this.getServiceUrl("hr_dept/create");n.recordCreate(this,e,t)},onUpdateHrDept:function(e){var t=this.getServiceUrl("hr_dept/update");n.recordUpdate(this,e,t)},onDeleteHrDept:function(e){var t=this.getServiceUrl("hr_dept/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHoliday","retrieveHoliday","retrieveHolidayPage","initHoliday",{getDateType:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrInsurance","deleteHrInsurance","updateHrInsurance","retrieveHrInsurance","retrieveHrInsurancePage","initHrInsurance",{getInsuName:{sync:!0}}]);e.exports=i},,,,function(e,t,a){"use strict";var l=a(1),i=a(72),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-level",e,t)},onRetrieveHrLevel:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr-level/retrieve");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrLevelPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrLevel(e)},onInitHrLevel:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrLevel(e)},onCreateHrLevel:function(e){var t=this.getServiceUrl("hr-level/create");n.recordCreate(this,e,t)},onUpdateHrLevel:function(e){var t=this.getServiceUrl("hr-level/update");n.recordUpdate(this,e,t)},onDeleteHrLevel:function(e){var t=this.getServiceUrl("hr-level/remove");n.recordDelete(this,e,t)},onGetLevelName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void n.findRecordName(t,this.recordSet,"lvlCode","hr_level"):void this.onRetrieveHrLevel(e)}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(5),d=(l(s),a(4)),u=a(1),c=a(132),h=a(108),p=a(130),m=a(106),f=!1,g=o.default.createClass({displayName:"JobTreeSelect",getInitialState:function(){return{jobSet:{recordSet:[],errMsg:"",operation:""},workTypeSet:{recordSet:[],errMsg:"",operation:""},nodeList:[],workLoading:!1,jobLoading:!1}},mixins:[u.listenTo(p,"onJobComplete"),u.listenTo(c,"onWorkTypeComplete")],onJobComplete:function(e){if("retrieve"===e.operation){var t=e.recordSet,a=this.state.workTypeSet.recordSet,l=this.preTreeNodes(a,t);this.state.jobSet=e,this.setState({jobLoading:!1,nodeList:l})}f=this.state.workLoading||this.state.jobLoading},onWorkTypeComplete:function(e){if("retrieve"===e.operation){var t=this.state.jobSet.recordSet,a=e.recordSet,l=this.preTreeNodes(a,t);this.state.workTypeSet=e,this.setState({workLoading:!1,nodeList:l})}f=this.state.workLoading||this.state.jobLoading},preTreeNodes:function(e,t){if(0===e.length||0===t.length)return[];var a=[],l={},i={};return e.map(function(e,t){var n=e.workType,r=l[n];null!==r&&"undefined"!=typeof r||(r={},r.label=o.default.createElement("span",{style:{cursor:"pointer"}},n),r.value=n,r.key=n,r.selectable=!1,r.children=[],a.push(r),l[n]=r);var s={};s.label=o.default.createElement("span",{style:{cursor:"pointer"}},e.workName),s.value=e.uuid,s.key=e.uuid,s.selectable=!1,s.children=[],r.children.push(s),i[s.key]=s}),t.map(function(e,t){var a=i[e.workUuid];if(null!==a&&"undefined"!=typeof a){var l={};null===e.jobName||""===e.jobName||e.jobName===e.jobCode?l.label=o.default.createElement("span",{style:{cursor:"pointer"}},e.jobCode):l.label=o.default.createElement("span",{style:{cursor:"pointer"}},e.jobCode+"("+e.jobName+")"),l.value=e.uuid,l.key=e.uuid,a.children.push(l)}}),a},getJobNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.jobSet.recordSet,a=t.length,l=0;l<a;l++)if(t[l].uuid===e)return t[l];return{}},componentDidMount:function(){if(this.state.workTypeSet={recordSet:[],errMsg:"",operation:""},this.state.jobSet={recordSet:[],errMsg:"",operation:""},!f){f=!0,this.setState({workLoading:!0,jobLoading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;h.initHrWorkType(t),m.initHrJob(t)}},render:function(){var e=this.props,t=e.onSelect,a=i(e,["onSelect"]),l=o.default.createElement(d.TreeSelect,n({},a,{allowClear:!0,onChange:t,showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeNodeFilterProp:"title",treeData:this.state.nodeList})),r=this.state.workLoading||this.state.jobLoading;return r?o.default.createElement(d.Spin,null,l):l}});t.default=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(1),u=s.Select.Option,c=a(89),h=a(72),p=r.default.createClass({displayName:"LevelSelect",getInitialState:function(){return{levelSet:{recordSet:[],errMsg:"",operation:""},loading:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&(this.state.levelSet=e,this.setState({loading:!1}))},getLevelNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.levelSet.recordSet,a=t.length,l=0;l<a;l++)if(t[l].uuid===e)return t[l];return{}},componentDidMount:function(){this.state.levelSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;h.initHrLevel(t)},render:function(){var e,t=this.props,a=t.required,l=(i(t,["required"]),this.state.levelSet.recordSet);return e=a?r.default.createElement(s.Select,this.props,l.map(function(e,t){return r.default.createElement(u,{key:e.uuid,value:e.uuid},e.lvlCode)})):r.default.createElement(s.Select,this.props,r.default.createElement(u,{value:""},"--"),l.map(function(e,t){return r.default.createElement(u,{key:e.uuid,value:e.uuid},e.lvlCode)})),this.state.loading?r.default.createElement(s.Spin,null,e):e}});t.default=p},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createUiParam","deleteUiParam","updateUiParam","retrieveUiParam","retrieveUiParamPage","initUiParam"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(73),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.authUrl+e},fireEvent:function(e,t,a){a.trigger({compUser:a.compUser,corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("user-group",e,t)},onRetrieveUserGroup:function(e,t){var a=this,l={};l.corpUuid=e;var i=this.getServiceUrl("user-group/retrieve");n.doRetrieveService(i,l,a.startPage,a.pageRow,a.totalRow).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(a.recordSet=t.object.list,a.startPage=t.object.startPage,a.pageRow=t.object.pageRow,a.totalRow=t.object.totalRow,a.corpUuid=e,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+t.errCode+"]["+t.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveUserGroupPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveUserGroup(e)},onInitUserGroup:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveUserGroup(e)},onCreateUserGroup:function(e){var t=this.getServiceUrl("user-group/create");n.recordCreate(this,e,t)},onUpdateUserGroup:function(e){var t=this.getServiceUrl("user-group/update");n.recordUpdate(this,e,t)},onDeleteUserGroup:function(e){var t=this.getServiceUrl("user-group/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(74),n=a(3),r=a(11),o=l.createStore({listenables:[i],authUser:{},init:function(){},getServiceUrl:function(e){return n.authUrl+e},fireEvent:function(e,t,a){a.trigger({authUser:a.authUser,operation:e,errMsg:t}),r.showError("auth-user",e,t)},onGetAuthUser:function(e,t){var a=this,l={};l.idType=e,l.idCode=t;var i=this.getServiceUrl("auth-user/get-by-idCode");n.doGetRecordService(i,l).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(a.authUser=e.object,a.fireEvent("find","",a)):a.fireEvent("find","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent("find","调用服务错误",a)})},onCreateAuthUser:function(e){var t=this,a=this.getServiceUrl("auth-user/create");n.doCreateService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.authUser=e.object,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateAuthUser:function(e){var t=this,a=this.getServiceUrl("auth-user/update");n.doUpdateService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.authUser=e.object,t.fireEvent("update","",t)):t.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("update","调用服务错误",t)})}});e.exports=o},,,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrLeave","deleteHrLeave","updateHrLeave","retrieveHrLeave","retrieveHrLeavePage","initHrLeave","refreshPage","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["deleteHrLeaveDetail","updateHrLeaveDetail","retrieveHrLeaveDetail","retrieveHrLeaveDetailPage","retrieveHrLeaveDetailReg","initHrLeaveDetail","refreshPage","createHrLeaveDetailWithLeave","updateHrLeaveDetailWithLeave","retrieveLeave","getCacheData","refreshRegPage","deleteHrLeaveDetailReg","retrieveHrLeaveDetailRegPage","createHrLeaveDetailRegWithLeave","updateHrLeaveDetailRegWithLeave","batchCreateLeaveDetailReg"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(75),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-employee",e,t)},onRetrieveHrEmployee:function(e){var t=this,a=this.getServiceUrl("hr-employee/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrEmployeePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrEmployee(e)},onInitHrEmployee:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrEmployee(e)}});e.exports=o},,function(e,t,a){"use strict";var l=a(1),i=a(80),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},userUuid:"",recordSet:[],empJob:{},startPage:0,pageRow:10,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},getServiceUrl2:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,empJob:a.empJob,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("res-member",e,t)},onClearResMember:function(){var e=this;e.recordSet=[],e.startPage=1,e.pageRow=10,e.totalRow=10,e.filter="",e.fireEvent("","",e)},onRetrieveEmpJob:function(e){if(void 0===e||""===e||e===this.userUuid)return void this.fireEvent("retrieveEmpJob","",this);var t=this,a={};a.userUuid=e;var l=this.getServiceUrl2("hr_emp_job/get-by-user_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(1===a.object.list.length&&(t.empJob=a.object.list[0]),t.userUuid=e,t.fireEvent("retrieveEmpJob","",t)):t.fireEvent("retrieveEmpJob","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieveEmpJob","调用服务错误",t)})},onRetrieveResMember:function(e){var t=this,a=this.getServiceUrl("res-member/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResMember(e)},onInitResMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveResMember(e)},onCreateResMember:function(e){var t=this.getServiceUrl("res-member/create");n.recordCreate(this,e,t)},onBatchCreateResMember:function(e){var t=this.getServiceUrl("res-member/batchCreate");n.recordCreate(this,e,t)},onUpdateResMember:function(e){var t=this.getServiceUrl("res-member/update");n.recordUpdate(this,e,t)},updateResMember2:function(e){var t=this.getServiceUrl("res-member/update2");n.recordUpdate(this,e,t)},onDeleteResMember:function(e){var t=this.getServiceUrl("res-member/remove1");n.recordDelete(this,e,t)}});e.exports=o},,,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(5),d=(l(s),a(4)),u=a(1),c=d.Select.Option,h=a(93),p=a(73),m=o.default.createClass({displayName:"CompUserSelect",getInitialState:function(){return{compUserSet:{recordSet:[],errMsg:"",operation:""},loading:!1}},mixins:[u.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&(this.state.compUserSet=e,this.setState({loading:!1}))},componentDidMount:function(){this.state.compUserSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=this.props.corpUuid;e&&p.initUserGroup(e)},render:function(){var e=this.props,t=(e.required,i(e,["required"]),this.state.compUserSet.recordSet),a=t.map(function(e,t){return o.default.createElement(c,{key:e.uuid,value:e.groupName},e.groupName)});a.push(o.default.createElement(c,{key:"*",value:"*"},"所有用户"));var l=o.default.createElement(d.Select,n({mode:"multiple",style:{width:"100%"}},this.props),a);return this.state.loading?o.default.createElement(d.Spin,null,l):l}});t.default=m},,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrJob","deleteHrJob","updateHrJob","retrieveHrJob","retrieveHrJobPage","initHrJob"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrLeaveLog","deleteHrLeaveLog","updateHrLeaveLog","retrieveHrLeaveLog","retrieveHrLeaveLogPage","initHrLeaveLog","createHrLeaveLogWithLeave","updateHrLeaveLogWithLeave","getCacheData","retrieveHrLeaveLogRegPage","retrieveLeave","createHrLeaveLogRegWithLeave","updateHrLeaveLogRegWithLeave","createHrLeaveLogReg","updateHrLeaveLogReg","refreshPage"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrWorkType","deleteHrWorkType","updateHrWorkType","retrieveHrWorkType","retrieveHrWorkTypePage","initHrWorkType"]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=(a(1),a(6)),d=(a(3),o.Select.Option),u=n.default.createClass({displayName:"QuickFill",getInitialState:function(){return{modal:!1,data:{},validRules:[],content:"",opts:[],lastOrder:{}}},componentDidMount:function(){},initPage:function(e){this.setState({validRules:e}),this.clear()},clear:function(){this.state.data={},this.state.content="",this.state.opts=[],this.setState({content:""})},quickIn:function(){var e=this.state.lastOrder,t=this.state.opts,a=this.state.data;if(0!==t.length){for(var l in e)a[l]=t[e[l]];this.setState({modal:this.state.modal})}},onDataChange:function(e){var t=e.target.value.split(/\t+/);this.setState({content:e.target.value,opts:t})},onSelectValue:function(e,t){this.state.data[e.id]=t,this.setState({modal:this.state.modal})},onClickSave:function(){var e=this.props.self.state[this.props.object];if(void 0!==e&&null!==e){var t=this.state.lastOrder,a=this.state.data,l=this.state.opts;for(var i in a){var n=a[i];void 0!==n&&null!==n&&""!==n&&(t[i]=l.indexOf(n),e[i]=n)}this.props.self.setState({loading:!1}),this.toggle()}},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this,t=this.state.validRules,a=[{title:"名称",dataIndex:"desc",key:"desc",width:60},{title:"值",dataIndex:"value",key:"value",width:140,render:function(t,a){return 0===e.state.opts.length?n.default.createElement(o.Select,{style:{width:"100%"},value:""}):n.default.createElement(o.Select,{style:{width:"100%"},value:e.state.data[a.id],allowClear:!0,onChange:e.onSelectValue.bind(e,a)},e.state.opts.map(function(e,t){return n.default.createElement(d,{key:t,value:e},e)}))}}];s.getGridMargin(this);return n.default.createElement(o.Modal,{visible:this.state.modal,width:"540px",title:"导入数据",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},n.default.createElement(o.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave},"确定")," ",n.default.createElement(o.Button,{key:"btnQuickIn",size:"large",onClick:this.quickIn},"快速填写"),n.default.createElement(o.Button,{key:"btnClear",size:"large",onClick:this.clear},"清空"),n.default.createElement(o.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},n.default.createElement("div",{className:"grid-body"},n.default.createElement(o.Input,{style:{marginBottom:"20px"},type:"textarea",name:"content",id:"content",value:this.state.content,onChange:this.onDataChange}),n.default.createElement(o.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},pagination:!1,size:"middle",bordered:s.tableBorder,scroll:{y:240}})))}});t.default=u},,function(e,t,a){"use strict";var l=a(1),i=a(81),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_allowance",e,t)},onRetrieveHrAllowance:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr_allowance/get-by-corp_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrAllowancePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrAllowance(e)},onInitHrAllowance:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrAllowance(e)},onCreateHrAllowance:function(e){var t=this.getServiceUrl("hr_allowance/create");n.recordCreate(this,e,t)},onUpdateHrAllowance:function(e){var t=this.getServiceUrl("hr_allowance/update");n.recordUpdate(this,e,t)},onDeleteHrAllowance:function(e){var t=this.getServiceUrl("hr_allowance/remove");n.recordDelete(this,e,t)},onGetAllowName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void n.findRecordName(t,this.recordSet,"allowName","hr-allowance"):void this.onRetrieveHrAllowance(e)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(82),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_biz_trip",e,t)},onRetrieveHrBizTrip:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr_biz_trip/get-by-corp_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrBizTripPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrBizTrip(e)},onInitHrBizTrip:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrBizTrip(e)},onCreateHrBizTrip:function(e){var t=this.getServiceUrl("hr_biz_trip/create");n.recordCreate(this,e,t)},onUpdateHrBizTrip:function(e){var t=this.getServiceUrl("hr_biz_trip/update");n.recordUpdate(this,e,t)},onDeleteHrBizTrip:function(e){var t=this.getServiceUrl("hr_biz_trip/remove");n.recordDelete(this,e,t)},onGetTripName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void n.findRecordName(t,this.recordSet,"tripName","hr_trip"):void this.onRetrieveHrBizTrip(e)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrEmployee","deleteHrEmployee","updateHrEmployee","retrieveHrEmployee","retrieveHrEmployeePage","initHrEmployee","sendEntryMail"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(84),n=a(3),r=a(11),o=a(24),s=l.createStore({listenables:[i],year:"",recordSet:[],yearMap:{},init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){if(void 0!==this.year&&""!==this.year){var l={};a.recordSet.map(function(e,t){l[e.date]=e.flag}),this.yearMap[this.year]=l}a.trigger({year:a.year,recordSet:a.recordSet,operation:e,errMsg:t}),r.showError("holiday",e,t)},onRetrieveHoliday:function(e){var t=this,a={};a.year=e;var l=this.getServiceUrl("holiday/get-by-year");n.doGetRecordService(l,a).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(a.object?t.recordSet=a.object.holidayList:t.recordSet=[],t.year=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHolidayPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHoliday(e)},onInitHoliday:function(e){return this.recordSet.length>0&&this.year===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHoliday(e)},onCreateHoliday:function(e){var t=this,a=e,l=this.getServiceUrl("holiday/create");n.doGetRecordService(l,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.holidayList,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onGetDateType:function(e,t){var a=this.yearMap[e];if(a){var l=a[t];return void 0!==l&&null!==l||(l="0"),void o.findName("holiday",t,l)}this.onRetrieveHoliday(e)}});e.exports=s},function(e,t,a){"use strict";var l=a(1),i=a(85),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){r.showError("hr_insurance",e,t),a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t})},onRetrieveHrInsurance:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr_insurance/get-by-corp_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("get-by-corp_uuid","",t)):t.fireEvent("get-by-corp_uuid","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("get-by-corp_uuid","调用服务错误",t)})},onRetrieveHrInsurancePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrInsurance(e)},onInitHrInsurance:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("get-by-corp_uuid","",this):void this.onRetrieveHrInsurance(e)},onCreateHrInsurance:function(e){var t=this.getServiceUrl("hr_insurance/create");n.recordCreate(this,e,t)},onUpdateHrInsurance:function(e){var t=this.getServiceUrl("hr_insurance/update");n.recordUpdate(this,e,t)},onDeleteHrInsurance:function(e){var t=this.getServiceUrl("hr_insurance/remove");n.recordDelete(this,e,t)},onGetInsuName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void n.findRecordName(t,this.recordSet,"insuName","hr-insurance"):void this.onRetrieveHrInsurance(e)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(24),n=l.createStore({listenables:[i],init:function(){},onFindName:function(e,t,a){this.trigger({resName:e,uuid:t,name:a})}});e.exports=n},,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=a(92),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.paramUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("ui-param",e,t)},onRetrieveUiParam:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("ui-param/retrieve");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveUiParamPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveUiParam(e)},onInitUiParam:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveUiParam(e)},onCreateUiParam:function(e){var t=this.getServiceUrl("ui-param/create");n.recordCreate(this,e,t)},onUpdateUiParam:function(e){var t=this.getServiceUrl("ui-param/update");n.recordUpdate(this,e,t)},onDeleteUiParam:function(e){var t=this.getServiceUrl("ui-param/remove");n.recordDelete(this,e,t)}});e.exports=o},,,,,function(e,t,a){"use strict";var l=a(1),i=a(106),n=a(3),r=a(11),o=l.createStore({listenables:[i],workUuid:"",corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({workUuid:a.workUuid,corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-job",e,t)},onRetrieveHrJob:function(e,t){var a=this,l={};l.workUuid=t,l.corpUuid=e;var i=this.getServiceUrl("hr-job/retrieve");n.doRetrieveService(i,l,a.startPage,a.pageRow,a.totalRow).then(function(l){null==l.errCode||""==l.errCode||"000000"==l.errCode?(a.recordSet=l.object.list,
a.startPage=l.object.startPage,a.pageRow=l.object.pageRow,a.totalRow=l.object.totalRow,a.workUuid=t,a.corpUuid=e,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+l.errCode+"]["+l.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveHrJobPage:function(e,t,a,l){this.startPage=a,this.pageRow=l,this.onRetrieveHrJob(e,t)},onInitHrJob:function(e,t){return this.recordSet.length>0&&this.corpUuid===e&&this.workUuid===t?void this.fireEvent("retrieve","",this):void this.onRetrieveHrJob(e,t)},onCreateHrJob:function(e){var t=this.getServiceUrl("hr-job/create");n.recordCreate(this,e,t)},onUpdateHrJob:function(e){var t=this.getServiceUrl("hr-job/update");n.recordUpdate(this,e,t)},onDeleteHrJob:function(e){var t=this.getServiceUrl("hr-job/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(4),o=r.Form.Item,s=r.Input.Group,d=a(6),u=a(3);e.exports={isHourLeave:function(e){return"annual"===e||"dayoff"===e},getRemnant:function(e,t,a){if(""===t||"0"===t||void 0===e)return e;var e=e?e:"0",l=e,i="0",n=e.indexOf(".");n>=0&&(l=e.substr(0,n),i=e.substr(n+1));var r=t,o="0";n=t.indexOf("."),n>=0&&(r=t.substr(0,n),o=t.substr(n+1));var s=0,d=0;return a?(s=parseInt(l)-parseInt(r),d=parseInt(i)-parseInt(o),d<0&&(s-=1,d+=8)):(s=parseInt(l)+parseInt(r),d=parseInt(i)+parseInt(o),d>=8&&(s+=1,d-=8)),0===d?""+s:""+s+"."+d},changeRemnantValue:function(e,t,a){if(""!==a){a=""+parseInt(a);var l=d.checkDataType(a,"number");if(""!==l&&void 0!==l)return l}var t=t?t:"",i=t.indexOf("_");if(i>0){var n=t.substr(0,i),r=t.substr(i+1),o=e[n]?e[n]:"",s="0";if(i=o.indexOf("."),i>=0?(s=o.substr(i+1),o=o.substr(0,i)):""===o&&(o="0"),"1"===r){if(parseInt(a)>365)return"输入0~365";o=a}else{if(parseInt(a)>7)return"请输入0~7";s=a}""===s||"0"===s?e[n]=o:e[n]=o+"."+s}else{if(parseInt(a)>365)return"输入0~365";e[t]=a}return""},remnantCompare:function(e,t,a,l){var t=t?t:"0",i=t,n="0",r=t.indexOf(".");r>=0&&(i=t.substr(0,r),n=t.substr(r+1));var o=parseInt(i)-parseInt(a);if(o>0)return 1;if(o<0)return-1;if(this.isHourLeave(e)){var s=parseInt(n)-parseInt(l);if(s>0)return 1;if(s<0)return-1}return 0},calcDetail:function(e,t,a,l){e.map(function(e,t){e.spendDay.value="0",e.spendDay.oldValue="0",e.spendHour.value="0",e.spendHour.oldValue="0"});var i=e.length;if(this.isHourLeave(t))for(var n=parseInt(a),r=parseInt(l),o=0;o<i;o++){var s=e[o],d=s.remnant?s.remnant:"0",u=d,c="0",h=d.indexOf(".");h>=0&&(u=d.substr(0,h),c=d.substr(h+1));var p=parseInt(u)-n,m=parseInt(c)-r;if(p>0||0===p&&m>=0){s.spendDay.value=""+n,s.spendDay.oldValue=""+n,s.spendHour.value=""+r,s.spendHour.oldValue=""+r;break}s.spendDay.value=u,s.spendDay.oldValue=u,s.spendHour.value=c,s.spendHour.oldValue=c,n=-p,r=-m,r<0&&(n-=1,r=8+r)}else for(var n=parseInt(a),o=0;o<i;o++){var s=e[o],d=s.remnant,p=parseInt(d)-n;if(p>=0){s.spendDay.value=""+n,s.spendDay.oldValue=""+n;break}s.spendDay.value=d,s.spendDay.oldValue=d,n=-p}},getModifyDetails:function(e,t){var a=[],l=!0;return this.isHourLeave(t)?e.map(function(e,t){var i=e.spendDay,n=e.spendHour;if("0"!==i.value||"0"!==n.value){var r=(e.accrued,e.spend),o=e.remnant?e.remnant:"0",s=parseInt(i.value),c=parseInt(n.value),h=o,p="0",m=o.indexOf(".");m>=0&&(h=o.substr(0,m),p=o.substr(m+1));var f=parseInt(h)-s,g=parseInt(p)-c;if(g<0&&(f-=1,g=8+g),f<0)return l=!1,d.infoMsg("抵扣天数["+s+"]["+c+"]["+o+"]不足"),null;o=g>0?""+f+"."+g:""+f,null!==r&&""!==r||(r="0");var v=r,y="0";m=r.indexOf("."),m>=0&&(v=r.substr(0,m),y=r.substr(m+1));var S=parseInt(v)+s,C=parseInt(y)+c;C>=8&&(S+=1,C-=8),r=C>0?""+S+"."+C:""+S;var E={};u.copyValue(e,E),E.remnant=o,E.spend=r,E.spendDay=E.uuid+"="+i.value+"."+n.value,E.spendHour=null,a.push(E)}}):e.map(function(e,t){var i=e.spendDay;if("0"!==i.value){var n=(e.accrued,e.spend),r=e.remnant,o=parseInt(i.value),s=parseInt(r)-o;if(s<0)return l=!1,d.infoMsg("抵扣天数["+o+"]["+r+"]不足"),null;null!==n&&""!==n||(n="0");var c={};u.copyValue(e,c),c.remnant=""+s,c.spend=""+(parseInt(n)+o),c.spendDay=c.uuid+"="+i.value,c.spendHour=null,a.push(c)}}),l?a:null},restoreUpdateValue:function(e,t){for(var a=null,l=t?t.split(";"):"",i=l.length,n=0;n<i;n++){var r=l[n].indexOf(e.uuid);if(0===r&&(r=l[n].indexOf("="),r>0)){a=l[n].substr(r+1);break}}if(null!==a){var o=e.spend,s=e.remnant;e.spend=this.getRemnant(o,a,!0),e.remnant=this.getRemnant(s,a,!1);var d=a,u="0",r=a.indexOf(".");r>0&&(d=a.substr(0,r),u=a.substr(1+r)),e.spendDay.value=d,e.spendDay.oldValue=d,e.spendHour.value=u,e.spendHour.oldValue=u}},getRemnantFields:function(e){var t=e.state.leaveType,a="0",l="0";e.state.leave&&e.state.leave[t]&&(a=e.state.leave[t]),e.state.leave2&&e.state.leave2[t]&&(l=e.state.leave2[t]);var i=[],o=[];if(this.isHourLeave(t)){var d="0",u="0",c=a.indexOf(".");c>0?(d=a.substr(0,c),u=a.substr(c+1)):d=a,i.push(n.default.createElement(r.Col,{className:"gutter-row",span:5},n.default.createElement(s,{compact:!0},n.default.createElement(r.Input,{style:{width:"60%"},type:"text",name:"remnant1_1",id:"remnant1_1",value:d,readOnly:!0}),n.default.createElement(r.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))),i.push(n.default.createElement(r.Col,{className:"gutter-row",span:5},n.default.createElement(s,{compact:!0,style:{margin:"0 0 0 6px"}},n.default.createElement(r.Input,{style:{width:"60%"},type:"text",name:"remnant1_2",id:"remnant1_2",value:u,readOnly:!0}),n.default.createElement(r.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0}))));var h="0",p="0",c=l?l.indexOf("."):"0";c>0?(h=l.substr(0,c),p=l.substr(c+1)):h=l,o.push(n.default.createElement(r.Col,{className:"gutter-row",span:5},n.default.createElement(s,{compact:!0},n.default.createElement(r.Input,{style:{width:"60%"},type:"text",name:t+"_1",id:t+"_1",value:h,onChange:e.handleOnChange2}),n.default.createElement(r.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))),o.push(n.default.createElement(r.Col,{className:"gutter-row",span:5},n.default.createElement(s,{compact:!0,style:{margin:"0 0 0 6px"}},n.default.createElement(r.Input,{style:{width:"60%"},type:"text",name:t+"_2",id:t+"_2",value:p,onChange:e.handleOnChange2}),n.default.createElement(r.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0}))))}else i.push(n.default.createElement(r.Input,{type:"text",name:"remnant",id:"remnant",value:a,disabled:!0})),o.push(n.default.createElement(r.Input,{type:"text",name:t,id:t,value:l,onChange:e.handleOnChange2}));return{bfFields:i,afFields:o}},getRemnantFields2:function(e){var t=e.state.leaveType,a=e.state.leave?e.state.leave[t]:"0",l=e.state.hints,i=[],d=[];if(this.isHourLeave(t)){var u="0",c="0",h=a?a.indexOf("."):"0";h>0?(u=a.substr(0,h),c=a.substr(h+1)):u=a,i.push(n.default.createElement(r.Col,{className:"gutter-row",span:12},n.default.createElement(s,{compact:!0},n.default.createElement(r.Input,{style:{width:"70%"},type:"text",name:"remnant_day",id:"remnant1_1",value:u,readOnly:!0}),n.default.createElement(r.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))),i.push(n.default.createElement(r.Col,{className:"gutter-row",span:12},n.default.createElement(s,{compact:!0,style:{margin:"0 0 0 8px"}},n.default.createElement(r.Input,{style:{width:"60%"},type:"text",name:"remnant_hour",id:"remnant1_2",value:c,readOnly:!0}),n.default.createElement(r.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0}))))}else i.push(n.default.createElement(r.Input,{type:"text",name:"remnant",id:"remnant_",value:a,readOnly:!0}));return this.isHourLeave(t)?(d.push(n.default.createElement(r.Col,{className:"gutter-row",span:5},n.default.createElement(o,{help:l.spendHint,validateStatus:l.spendStatus},n.default.createElement(s,{compact:!0},n.default.createElement(r.Input,{style:{width:"70%"},type:"text",name:"spend",id:"spend",value:e.state.leaveLog.spend,onChange:e.handleOnChange3}),n.default.createElement(r.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0}))))),d.push(n.default.createElement(r.Col,{span:5},n.default.createElement(o,{help:l.accruedHint,validateStatus:l.accruedStatus,style:{margin:"0 8px 0 8px"}},n.default.createElement(s,{compact:!0},n.default.createElement(r.Input,{style:{width:"55%"},type:"text",name:"accrued",id:"accrued",value:e.state.leaveLog.accrued,onChange:e.handleOnChange3}),n.default.createElement(r.Input,{style:{width:"45%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0})))))):d.push(n.default.createElement(r.Col,{className:"gutter-row",span:10},n.default.createElement(o,{help:l.spendHint,validateStatus:l.spendStatus,style:{margin:"0 8px 0 0"}},n.default.createElement(s,{compact:!0},n.default.createElement(r.Input,{style:{width:"80%"},type:"text",name:"spend",id:"spend",value:e.state.leaveLog.spend,onChange:e.handleOnChange3}),n.default.createElement(r.Input,{style:{width:"20%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0}))))),{bfFields:i,spendFields:d}},getAccruedFields:function(e,t){var a=e.state.leaveType,l=e.state.detail.accrued?e.state.detail.accrued:"",i=[];if("dayoff"===a){var o="0",s="0",d=l.indexOf(".");d>=0?(o=l.substr(0,d),s=l.substr(d+1)):""!==l&&(o=l);var u=5;void 0!==t&&(u=t[0]),i.push(n.default.createElement(r.Col,{className:"gutter-row",span:u},n.default.createElement(r.Input,{type:"text",name:"accrued_1",id:"accrued_1",value:o,onChange:e.handleOnChange3})));var c=2;void 0!==t&&(c=t[1]),i.push(n.default.createElement(r.Col,{className:"gutter-row",span:c},n.default.createElement("div",{style:{margin:"0 0 0 6px"}},"天")));var h=4;void 0!==t&&(h=t[2]),i.push(n.default.createElement(r.Col,{className:"gutter-row",span:h},n.default.createElement(r.Input,{type:"text",name:"accrued_2",id:"accrued_2",value:s,onChange:e.handleOnChange3})));var p=2;void 0!==t&&(p=t[3]),i.push(n.default.createElement(r.Col,{className:"gutter-row",span:p},n.default.createElement("div",{style:{margin:"0 0 0 6px"}},"小时")))}else i.push(n.default.createElement(r.Input,{type:"text",name:"accrued",id:"accrued",value:l,onChange:e.handleOnChange3}));return{accruedFields:i}},getAccruedFields2:function(e){var t=e.state.leaveType,a=e.state.detail.accrued?e.state.detail.accrued:"0",l=e.state.detail.spend?e.state.detail.spend:"0",i=e.state.detail.remnant?e.state.detail.remnant:"0",o=[],s=[],d=[];if("dayoff"===t){var u="0",c="0",h=a.indexOf(".");h>=0?(u=a.substr(0,h),c=a.substr(h+1)):""!==a&&(u=a),o.push(n.default.createElement(r.Col,{className:"gutter-row",span:5},n.default.createElement(r.Input,{type:"text",name:"accrued_1",id:"accrued_1",value:u,onChange:e.handleOnChange3}))),o.push(n.default.createElement(r.Col,{className:"gutter-row",span:2},n.default.createElement("div",{style:{margin:"0 0 0 6px"}},"天"))),o.push(n.default.createElement(r.Col,{className:"gutter-row",span:4},n.default.createElement(r.Input,{type:"text",name:"accrued_2",id:"accrued_2",value:c,onChange:e.handleOnChange3}))),o.push(n.default.createElement(r.Col,{className:"gutter-row",span:2},n.default.createElement("div",{style:{margin:"0 0 0 6px"}},"小时")))}else o.push(n.default.createElement(r.Input,{type:"text",name:"accrued",id:"accrued",value:a,onChange:e.handleOnChange3}));if(this.isHourLeave(t)){var u="0",c="0",h=l.indexOf(".");h>=0?(u=l.substr(0,h),c=l.substr(h+1)):""!==l&&(u=l),s.push(n.default.createElement(r.Col,{className:"gutter-row",span:5},n.default.createElement(r.Input,{type:"text",name:"spend_1",id:"spend_1",value:u,onChange:e.handleOnChange3}))),s.push(n.default.createElement(r.Col,{className:"gutter-row",span:2},n.default.createElement("div",{style:{margin:"0 0 0 6px"}},"天"))),s.push(n.default.createElement(r.Col,{className:"gutter-row",span:4},n.default.createElement(r.Input,{type:"text",name:"spend_2",id:"spend_2",value:c,onChange:e.handleOnChange3}))),s.push(n.default.createElement(r.Col,{className:"gutter-row",span:2},n.default.createElement("div",{style:{margin:"0 0 0 6px"}},"小时")))}else s.push(n.default.createElement(r.Input,{type:"text",name:"spend",id:"spend",value:l,onChange:e.handleOnChange3}));if(this.isHourLeave(t)){var u="0",c="0",h=i.indexOf(".");h>=0?(u=i.substr(0,h),c=i.substr(h+1)):""!==i&&(u=i),d.push(n.default.createElement(r.Col,{className:"gutter-row",span:5},n.default.createElement(r.Input,{type:"text",name:"remnant_1",id:"remnant_1",value:u,onChange:e.handleOnChange3}))),d.push(n.default.createElement(r.Col,{className:"gutter-row",span:2},n.default.createElement("div",{style:{margin:"0 0 0 6px"}},"天"))),d.push(n.default.createElement(r.Col,{className:"gutter-row",span:4},n.default.createElement(r.Input,{type:"text",name:"remnant_2",id:"remnant_2",value:c,onChange:e.handleOnChange3}))),d.push(n.default.createElement(r.Col,{className:"gutter-row",span:2},n.default.createElement("div",{style:{margin:"0 0 0 6px"}},"小时")))}else d.push(n.default.createElement(r.Input,{type:"text",name:"remnant",id:"remnant",value:i,onChange:e.handleOnChange3}));return{accruedFields:o,spendFields:s,remnantFields:d}}}},function(e,t,a){"use strict";var l=a(1),i=a(108),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-work-type",e,t)},onRetrieveHrWorkType:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr-work-type/retrieve");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrWorkTypePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrWorkType(e)},onInitHrWorkType:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrWorkType(e)},onCreateHrWorkType:function(e){var t=this.getServiceUrl("hr-work-type/create");n.recordCreate(this,e,t)},onUpdateHrWorkType:function(e){var t=this.getServiceUrl("hr-work-type/update");n.recordUpdate(this,e,t)},onDeleteHrWorkType:function(e){var t=this.getServiceUrl("hr-work-type/remove");n.recordDelete(this,e,t)}});e.exports=o},,,,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createResRole","deleteResRole","updateResRole","retrieveResRole","retrieveResRolePage","initResRole","retrieveResPoolStaff","retrieveResTeamStaff"]);e.exports=i},,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=l(o),d=a(4),u=a(12),c=l(u),h=a(104),p=l(h),m=a(1),f=d.Form.Item,g=(d.Select.Option,a(6)),v=a(66),y=a(32),S=r.default.createClass({displayName:"CompUserPage",getInitialState:function(){return{compUserSet:{operation:"",errMsg:""},hints:{},validRules:[]}},componentDidMount:function(){this.state.validRules=[]},clear:function(e,t){this.state.hints={}},handleOnChange:function(e){var t=this.props.compUser;t[e.target.id]=e.target.value,g.validator(this,t,e.target.id),this.setState({compUserSet:this.state.compUserSet})},handleOnSelected:function(e,t,a){var l=this.props.compUser;l[e]=t,g.validator(this,l,e),this.setState({compUserSet:this.state.compUserSet})},onClickSave:function(){return!!g.formValidator(this,this.props.compUser)&&(y.createCompUser(this.props.compUser),!0)},selectCompUser:function(e){var t=this.props.compUser,a=t.userGroup?t.userGroup.split(","):[];a.push(e),t.userGroup=a.join(","),this.setState({loading:this.state.loading})},deSelectCompUser:function(e){for(var t=this.props.compUser,a=t.userGroup.split(","),l=0;l<a.length;l++)if(a[l]===e){a.splice(l,1);break}t.userGroup=a.join(","),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.props.corpUuid,n=this.props.compUser.userGroup?this.props.compUser.userGroup.split(","):[],o=this.state.hints;return r.default.createElement(d.Form,{layout:e},r.default.createElement(f,i({},a,{label:"用户名",colon:!0,className:t,help:o.userNameHint,validateStatus:o.userNameStatus}),r.default.createElement(d.Input,{type:"text",name:"userName",id:"userName",readOnly:"true",value:this.props.compUser.userName,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"用户姓名",colon:!0,className:t,help:o.perNameHint,validateStatus:o.perNameStatus}),r.default.createElement(d.Input,{type:"text",name:"perName",id:"perName",readOnly:"true",value:this.props.compUser.perName,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"用户类型",colon:!0,className:t,help:o.userTypeHint,validateStatus:o.userTypeStatus}),r.default.createElement(c.default,{name:"userType",id:"userType",appName:"用户管理",optName:"用户类型",value:this.props.compUser.userType,onSelect:this.handleOnSelected.bind(this,"userType")})),r.default.createElement(f,i({},a,{label:"员工编号",colon:!0,className:t,help:o.userCodeHint,validateStatus:o.userCodeStatus}),r.default.createElement(d.Input,{type:"text",name:"userCode",id:"userCode",value:this.props.compUser.userCode,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"职务",colon:!0,className:t,help:o.userTitleHint,validateStatus:o.userTitleStatus}),r.default.createElement(d.Input,{type:"text",name:"userTitle",id:"userTitle",value:this.props.compUser.userTitle,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"用户组",colon:!0,className:t,help:o.userGroupHint,validateStatus:o.userGroupStatus}),r.default.createElement(p.default,{corpUuid:l,name:"userGroup",id:"userGroup",value:n,onSelect:this.selectCompUser,onDeselect:this.deSelectCompUser})))}});s.default.onClass(S,m.connect(v,"compUserSet")),t.default=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(12)),d=l(s),u=a(4),c=a(1),h=a(6),p=u.Form.Item,m=(u.Select.Option,a(94)),f=a(74),g=a(66),v=a(32),y=r.default.createClass({displayName:"FindUserPage",getInitialState:function(){return{authUserSet:{authUser:{},errMsg:""},loading:!1,btnNext:!1,isExist:!1,hints:{},validRules:[],lastIdType:"",lastIdCode:""}},mixins:[c.listenTo(m,"onAuthUserComplete"),c.listenTo(g,"onCompUserComplete")],onAuthUserComplete:function(e){if("find"===e.operation){var t=this.props.authUser;this.state.lastIdType=t.idType,this.state.lastIdCode=t.idCode,"staff"!==this.props.from&&"out"!==this.props.from&&(t.email="",t.phoneno="",t.userName="",t.perName=""),this.state.isExist=!1;var a=e.authUser;if(null!==a&&"undefined"!=typeof a){var l=a.userId;""!==l&&null!==l&&"undefined"!=typeof l&&(this.state.isExist=!0)}if(this.state.isExist)"staff"!==this.props.from&&"out"!==this.props.from||t.perName!==a.perName&&h.warnMsg("用户已经存在，但是姓名不一致["+t.perName+"]["+a.perName+"]"),t.email=a.email,t.phoneno=a.phoneno,t.passwd=a.passwd,""===e.errMsg&&(t.userName=a.userName,t.perName=a.perName);else{var i=t.idType;"电子邮箱"===i?t.email=t.idCode:"手机号"===i&&(t.phoneno=t.idCode),t.passwd="11111111"}this.setState({loading:this.state.isExist,authUserSet:e}),this.state.isExist&&v.getCompUser(this.props.corpUuid,a.userName)}},onCompUserComplete:function(e){"find"===e.operation&&this.setState({loading:!1})},componentDidMount:function(){this.state.validRules=[{id:"idCode",desc:"身份内容",required:!0,max:64},{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0},{id:"perName",desc:"用户姓名",required:!0,max:32},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:32},{id:"email",desc:"电子邮箱",required:!0,dataType:"email",max:32}],"staff"!==this.props.from&&"out"!==this.props.from||this.findAuthUser()},clear:function(){this.state.hints={},this.state.lastIdType="",this.state.lastIdCode=""},handleOnChange:function(e){var t=this.props.authUser;t[e.target.id]=e.target.value,h.validator(this,t,e.target.id),this.setState({authUserSet:this.state.authUserSet})},handleOnSelected:function(e,t,a){var l=this.props.authUser;l[e]=t,this.findAuthUser()||this.setState({authUserSet:this.state.authUserSet})},onIdCodeFinished:function(e){this.findAuthUser()},findAuthUser:function(){if(this.state.lastIdType!==this.props.authUser.idType||this.state.lastIdCode!==this.props.authUser.idCode){this.state.authUserSet.authUser={},this.state.authUserSet.errMsg="",this.state.btnNext=!1;var e=this.props.authUser,t=e.idType,a=e.idCode;return""!==t&&null!==t&&"undefined"!=typeof t&&(""!==a&&null!==a&&"undefined"!=typeof a&&("身份证"===t?this.state.validRules[0].dataType="idcard18":"电子邮箱"===t?this.state.validRules[0].dataType="email":"手机号"===t?this.state.validRules[0].dataType="mobile":this.state.validRules[0].dataType="",h.validator(this,e,"idCode")?(this.setState({loading:!0}),this.state.btnNext=!0,f.getAuthUser(t,a),!0):(this.setState({authUserSet:this.state.authUserSet}),!0)))}},onClickSave:function(){return this.state.btnNext?this.state.isExist?1:h.formValidator(this,this.props.authUser)?(f.createAuthUser(this.props.authUser),2):0:(h.setError(this,"idCode","请输入身份信息"),0)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints,n=r.default.createElement(u.Form,{layout:e},r.default.createElement(p,i({},a,{label:"身份类型",required:!0,colon:!0,className:t,help:l.idTypeHint,validateStatus:l.idTypeStatus}),r.default.createElement(d.default,{name:"idType",id:"idType",appName:"用户管理",optName:"身份类型",value:this.props.authUser.idType,onSelect:this.handleOnSelected.bind(this,"idType")})),r.default.createElement(p,i({},a,{label:"身份内容",required:!0,colon:!0,className:t,help:l.idCodeHint,validateStatus:l.idCodeStatus}),r.default.createElement(u.Input,{type:"text",name:"idCode",id:"idCode",value:this.props.authUser.idCode,onChange:this.handleOnChange,onBlur:this.onIdCodeFinished})),r.default.createElement(p,i({},a,{label:"用户名",required:!0,colon:!0,className:t,help:l.userNameHint,validateStatus:l.userNameStatus}),r.default.createElement(u.Input,{type:"text",name:"userName",id:"userName",value:this.props.authUser.userName,onChange:this.handleOnChange})),r.default.createElement(p,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(u.Input,{type:"text",name:"perName",id:"perName",value:this.props.authUser.perName,onChange:this.handleOnChange})),r.default.createElement(p,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:l.phonenoHint,validateStatus:l.phonenoStatus}),r.default.createElement(u.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.props.authUser.phoneno,onChange:this.handleOnChange})),r.default.createElement(p,i({},a,{label:"电子邮箱",required:!0,colon:!0,className:t,help:l.emailHint,validateStatus:l.emailStatus}),r.default.createElement(u.Input,{type:"text",name:"email",id:"email",value:this.props.authUser.email,onChange:this.handleOnChange})),this.state.isExist?null:r.default.createElement(p,i({},a,{label:"密码",required:!0,colon:!0,className:t,help:l.passwdHint,validateStatus:l.passwdStatus}),r.default.createElement(u.Input,{type:"text",name:"passwd",id:"passwd",value:this.props.authUser.passwd,onChange:this.handleOnChange})));return this.state.loading?r.default.createElement(u.Spin,{tip:"检查用户是否已经存在..."},n):n}});t.default=y},,,,,,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrEmpJob","deleteHrEmpJob","updateHrEmpJob","retrieveHrEmpJob","retrieveHrEmpJobPage","initHrEmpJob","retrievePersonEmpJob","getCacheData","addHrEmpJob","batchCreateHrEmpJob"]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(7),o=l(r),s=a(4),d=a(1),u=a(6),c=a(99),h=a(75),p=n.default.createClass({displayName:"SelectEmployee",getInitialState:function(){return{employeeSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectEmployee:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,employeeSet:e,selectIndex:-1,selectEmployee:{}})},componentDidMount:function(){},clear:function(e){this.state.employeeSet=e,this.state.selectIndex=-1,this.state.selectEmployee={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectEmpLoyee(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.employeeSet.startPage=e;var t=this.state.employeeSet.filter;h.retrieveHrEmployeePage(t,e,this.state.employeeSet.pageRow)},render:function(){var e=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:140},{title:"入职时间",dataIndex:"entryDate",key:"entryDate",width:140,render:function(e,t){return u.formatDate(e,u.dateFormat)}},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:140},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:100}],t=this.state.employeeSet.recordSet,a={showQuickJumper:!0,total:this.state.employeeSet.totalRow,pageSize:this.state.employeeSet.pageRow,current:this.state.employeeSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择员工",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(o.default,{ref:"mxgBox",svcList:["hr-employee/retrieve"]}),n.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=p},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrSalaryItem","deleteHrSalaryItem","updateHrSalaryItem","retrieveHrSalaryItem","retrieveHrSalaryItemPage","initHrSalaryItem"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrTripCity","deleteHrTripCity","updateHrTripCity","retrieveHrTripCity","retrieveHrTripCityPage","initHrTripCity"]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(1),d=o.Select.Option,u=a(274),c=a(168),h=n.default.createClass({displayName:"SelectPool",getInitialState:function(){return{poolSet:{recordSet:[],errMsg:""},loading:!1,corpUuid:""}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,poolSet:e})},getPoolNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.poolSet.recordSet,a=t.length,l=0;l<a;l++)if(t[l].uuid===e)return t[l];return{}},componentDidMount:function(){this.loadData(this.props.corpUuid)},componentWillReceiveProps:function(e){e.corpUuid!==this.state.corpUuid&&this.loadData(e.corpUuid)},loadData:function(e){if(this.state.poolSet={recordSet:[]},null===e||void 0===e||""===e)return void this.setState({loading:!1,corpUuid:""});this.setState({loading:!0,corpUuid:e});var t={};t.corpUuid=e,c.initPool(t)},render:function(){var e=this.state.poolSet.recordSet,t=n.default.createElement(o.Select,this.props,n.default.createElement(d,{key:"-",value:""},"--"),e.map(function(e){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.poolName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=h},,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrBenefits","deleteHrBenefits","updateHrBenefits","retrieveHrBenefits","retrieveHrBenefitsPage","initHrBenefits","retrieveEmpBenefits","getCacheData","addHrBenefits"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrDeptStaff","deleteHrDeptStaff","updateHrDeptStaff","retrieveHrDeptStaff","retrieveHrDeptStaffPage","initHrDeptStaff"]);e.exports=i},function(e,t){"use strict";e.exports={empFields:[{id:"A",name:"idType",title:"证件类型",opts:"#简历系统.证件类型"},{id:"B",name:"idCode",title:"证件编号"},{id:"C",name:"perName",title:"姓名"},{id:"D",name:"staffCode",title:"员工编号"},{id:"E",name:"jobTitle",title:"职位"},{id:"F",name:"entryDate",title:"入职时间"},{id:"G",name:"phoneno",title:"电话"},{id:"H",name:"email",title:"电子邮箱"},{id:"I",name:"eduDegree",title:"最高学历",opts:"#简历系统.教育背景"},{id:"J",name:"eduCollege",title:"毕业院校"},{id:"K",name:"workYears",title:"工作年限"},{id:"L",name:"induYears",title:"行业经验"},{id:"M",name:"baseCity",title:"归属地"},{id:"N",name:"status",title:"状态",opts:"#HR系统.员工状态"}],allowLogFields:[{id:"A",name:"perName",title:"姓名"},{id:"B",name:"staffCode",title:"员工编号"},{id:"C",name:"deptName",title:"部门名称"},{id:"D",name:"allowType",title:"报销类型",opts:"#HR系统.报销类型"},{id:"E",name:"applyDate",title:"填表日期"},{id:"F",name:"projCode",title:"项目编号"},{id:"G",name:"projName",title:"项目名称"},{id:"H",name:"allowDesc",title:"报销事项"},{id:"I",name:"beginDate",title:"费用开始月"},{id:"J",name:"endDate",title:"费用结束月"},{id:"K",name:"payAmount",title:"报销金额"},{id:"L",name:"memo2",title:"发票张数"},{id:"M",name:"payMemo",title:"报销说明"},{id:"N",name:"approve",title:"审批人"},{id:"O",name:"approveDay",title:"审批日期"},{id:"P",name:"payDate",title:"发放日期"},{id:"Q",name:"bankCard",title:"银行卡号"}],deviceFields:[{id:"A",name:"perName",title:"姓名"},{id:"B",name:"staffCode",title:"员工编号"},{id:"C",name:"devName",title:"设备名称"},{id:"D",name:"devAllow",title:"补贴金额"},{id:"E",name:"devPrice",title:"采购价格"},{id:"F",name:"effectDate",title:"开始月份"},{id:"G",name:"expiryDate",title:"结束月份"},{id:"H",name:"approver",title:"审批人"},{id:"I",name:"appDate",title:"审批日期"},{id:"J",name:"appMemo",title:"审批备注"}],contractFields:[{id:"A",name:"perName",title:"姓名"},{id:"B",name:"staffCode",title:"员工编号"},{id:"C",name:"contCode",title:"合同编号"},{id:"D",name:"contVer",title:"合同版本"},{id:"E",name:"jobName",title:"签订岗位"},{id:"F",name:"signDate",title:"签订日期"},{id:"G",name:"effectDate",title:"生效日期"},{id:"H",name:"expiryDate",title:"失效日期"},{id:"I",name:"hrName",title:"HR人员"},{id:"J",name:"signLoc",title:"签订地点"},{id:"K",name:"signType",title:"签订方式",opts:"#HR系统.签订方式"}],empSalaryFields:[{id:"A",name:"perName",title:"姓名"},{id:"B",name:"staffCode",title:"员工编号"},{id:"C",name:"applyName",title:"申请人"},{id:"D",name:"applyDate",title:"申请日期"},{id:"E",name:"chgType",title:"调整类型",opts:"#HR系统.薪资调整类型"},{id:"F",name:"empType",title:"员工类型",opts:"#HR系统.员工类型"},{id:"G",name:"befSalary",title:"调前薪水"},{id:"H",name:"aftSalary",title:"调后薪水"},{id:"I",name:"chgReason",title:"调整原因"},{id:"J",name:"manager",title:"直接主管"},{id:"K",name:"approver",title:"审批人"},{id:"L",name:"effectDate",title:"生效日期"},{id:"M",name:"chgMonth",title:"执行月份"}],leaveDetailFields:[{id:"A",name:"perName",title:"姓名"},{id:"B",name:"staffCode",title:"员工编号"},{id:"C",name:"leaveType",title:"假期类型",opts:"#HR系统.假期类型"},{id:"D",name:"accrued_1",title:"天数"},{id:"E",name:"accrued_2",title:"小时"},{id:"F",name:"effectDate",title:"生效日期"},{id:"G",name:"expiryDate",title:"失效日期"}],empJobFields:[{id:"A",name:"perName",title:"姓名"},{id:"B",name:"staffCode",title:"员工编号"},{id:"C",
name:"empType",title:"员工类型",opts:"#HR系统.员工类型"},{id:"D",name:"empLevel",title:"*员工级别"},{id:"E",name:"techUuid",title:"*技术岗编号"},{id:"F",name:"manUuid",title:"*管理岗编号"},{id:"G",name:"techLevel",title:"技术级别"},{id:"H",name:"manLevel",title:"管理级别"},{id:"I",name:"chgReason",title:"调整原因"},{id:"J",name:"approver",title:"审批人"},{id:"K",name:"effectDate",title:"生效日期"}]}},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrWorkLog","deleteHrWorkLog","updateHrWorkLog","retrieveHrWorkLog","retrieveHrWorkLogPage","initHrWorkLog","retrieveEmpWorkLog","retrieveEmpLoyee","getCacheData"]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(1),u=(a(3),a(125)),c=a(92),h=s.AutoComplete.Option,p=r.default.createClass({displayName:"EmailInput",getInitialState:function(){return{paramList:[],result:[],loading:!1}},mixins:[d.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){if(this.state.paramList=[],""===e.errMsg)for(var t=e.recordSet,a="邮件后缀",l=0;l<t.length;l++){var i=t[l];if(i.paramName===a){this.state.paramList=i.paramValue.split("\n");break}}this.setState({loading:!1})},componentDidMount:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid;c.retrieveUiParam(e)},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:this.state.paramList.map(function(t){return e+"@"+t}),this.setState({result:t})},render:function(){var e=this.state.result,t=e.map(function(e){return r.default.createElement(h,{key:e},e)});return r.default.createElement(s.AutoComplete,i({onSearch:this.handleSearch,placeholder:"请输入电子邮箱"},this.props),t)}});t.default=p},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["retrievePool","initPool"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["retrieveResTeam","initResTeam"]);e.exports=i},,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrBizTripParam","deleteHrBizTripParam","updateHrBizTripParam","retrieveHrBizTripParam","retrieveHrBizTripParamPage","initHrBizTripParam"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrContract","deleteHrContract","updateHrContract","retrieveHrContract","retrieveHrContractPage","initHrContract","retrieveEmpContract","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(147),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-salary-item",e,t)},onRetrieveHrSalaryItem:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr-salary-item/get-by-corpUuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrSalaryItemPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrSalaryItem(e)},onInitHrSalaryItem:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrSalaryItem(e)},onCreateHrSalaryItem:function(e){var t=this.getServiceUrl("hr-salary-item/create");n.recordCreate(this,e,t)},onUpdateHrSalaryItem:function(e){var t=this.getServiceUrl("hr-salary-item/update");n.recordUpdate(this,e,t)},onDeleteHrSalaryItem:function(e){var t=this.getServiceUrl("hr-salary-item/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(148),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_trip_city",e,t)},onRetrieveHrTripCity:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr_trip_city/get-by-corp_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrTripCityPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrTripCity(e)},onInitHrTripCity:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrTripCity(e)},onCreateHrTripCity:function(e){var t=this.getServiceUrl("hr_trip_city/create");n.recordCreate(this,e,t)},onUpdateHrTripCity:function(e){var t=this.getServiceUrl("hr_trip_city/update");n.recordUpdate(this,e,t)},onDeleteHrTripCity:function(e){var t=this.getServiceUrl("hr_trip_city/remove");n.recordDelete(this,e,t)}});e.exports=o},,,,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(1),d=o.Select.Option,u=a(275),c=a(169),h=n.default.createClass({displayName:"SelectResTeam",getInitialState:function(){return{resTeamSet:{recordSet:[],errMsg:""},loading:!1,poolUuid:""}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,resTeamSet:e})},getTeamNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.resTeamSet.recordSet,a=t.length,l=0;l<a;l++)if(t[l].uuid===e)return t[l];return{}},componentDidMount:function(){this.loadData(this.props.poolUuid)},componentWillReceiveProps:function(e){e.poolUuid!==this.state.poolUuid&&this.loadData(e.poolUuid)},loadData:function(e){if(this.state.resTeamSet={recordSet:[]},null===e||void 0===e||""===e)return void this.setState({loading:!1,poolUuid:""});this.setState({loading:!0,poolUuid:e});var t={};t.poolUuid=e,c.initResTeam(t)},render:function(){var e=this.state.resTeamSet.recordSet,t=n.default.createElement(o.Select,this.props,n.default.createElement(d,{key:"-",value:""},"--"),e.map(function(e){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.teamName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=h},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=a(164),n=a(3),r=a(11),o=l.createStore({listenables:[i],deptUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({deptUuid:a.deptUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-dept-staff",e,t)},onRetrieveHrDeptStaff:function(e){var t=this,a={};a.deptUuid=e;var l=this.getServiceUrl("hr-dept-staff/retrieve");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.deptUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrDeptStaffPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrDeptStaff(e)},onInitHrDeptStaff:function(e){return this.recordSet.length>0&&this.deptUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrDeptStaff(e)},onCreateHrDeptStaff:function(e){var t=this.getServiceUrl("hr-dept-staff/create");n.recordCreate(this,e,t)},onUpdateHrDeptStaff:function(e){var t=this.getServiceUrl("hr-dept-staff/update");n.recordUpdate(this,e,t)},onDeleteHrDeptStaff:function(e){var t=this.getServiceUrl("hr-dept-staff/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(145),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_emp_job",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveHrEmpJob:function(e){var t=this,a=this.getServiceUrl("hr_emp_job/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrEmpJobPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrEmpJob(e)},onInitHrEmpJob:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrEmpJob(e)},onCreateHrEmpJob:function(e){var t=this,a=e,l=this.getServiceUrl("hr_emp_job/create");n.doCreateService(l,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(e.object.perName=a.perName,e.object.staffCode=a.staffCode,t.recordSet.push(e.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrEmpJob:function(e){var t=this.getServiceUrl("hr_emp_job/update");n.recordUpdate(this,e,t)},onDeleteHrEmpJob:function(e){var t=this.getServiceUrl("hr_emp_job/remove");n.recordDelete(this,e,t)},onBatchCreateHrEmpJob:function(e){for(var t={},a=e.length,l=0;l<a;l++){var i=e[l];t[i.userUuid]=i}var r=this,o=this.getServiceUrl("hr_emp_job/batchCreate");n.doCreateService(o,e).then(function(e){if(null==e.errCode||""==e.errCode||"000000"==e.errCode){for(var a=e.object.list.length,l=0;l<a;l++){var i=e.object.list[l],n=t[i.userUuid];void 0!==n&&(i.perName=n.perName,i.staffCode=n.staffCode),r.recordSet.push(i)}r.totalRow=r.totalRow+a,r.fireEvent("create","",r)}else r.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("create","调用服务错误",r)})}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrEmpSalary","deleteHrEmpSalary","updateHrEmpSalary","retrieveHrEmpSalary","retrieveHrEmpSalaryPage","initHrEmpSalary","retrievePerSalary","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(113),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({deptUuid:a.deptUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-employee",e,t)},onRetrieveHrEmployee:function(e){var t=this,a=this.getServiceUrl("hr-employee/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrEmployeePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrEmployee(e)},onInitHrEmployee:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrEmployee(e)},onCreateHrEmployee:function(e){var t=this.getServiceUrl("hr-employee/createWithJob"),a=this;n.doCreateService(t,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(a.recordSet.push(e.object.os),a.totalRow=a.totalRow+1,a.fireEvent("create","",a)):a.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent("create","调用服务错误",a)})},onUpdateHrEmployee:function(e){var t=this.getServiceUrl("hr-employee/update");n.recordUpdate(this,e,t)},onDeleteHrEmployee:function(e){var t=this.getServiceUrl("hr-employee/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(107),n=a(3),r=a(11),o=l.createStore({listenables:[i],userUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({userUuid:a.userUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-leaveLog",e,t)},onRetrieveHrLeaveLog:function(e){var t=this,a={};a.userUuid=e;var l=this.getServiceUrl("hr-leaveLog/get-by-userUuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.userUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrLeaveLogPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrLeaveLog(e)},onInitHrLeaveLog:function(e){return this.recordSet.length>0&&this.userUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrLeaveLog(e)},onCreateHrLeaveLogWithLeave:function(e){var t=this,a=e,l=this.getServiceUrl("hr-leaveLog/create2");n.doGetRecordService(l,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet.push(e.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrLeaveLogWithLeave:function(e){var t=this,a=e,l=n.findRecord(t,e.log.uuid);if(console.log("obj",e),l<0)return void t.fireEvent("update","没有找到记录["+e.log.uuid+"]",t);var i=this.getServiceUrl("hr-leaveLog/update2");n.doGetRecordService(i,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(n.copyValue(e.object,t.recordSet[l]),t.fireEvent("update","",t)):t.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("update","调用服务错误",t)})},onCreateHrLeaveLog:function(e){var t=this.getServiceUrl("hr-leaveLog/create");n.recordCreate(this,e,t)},onUpdateHrLeaveLog:function(e){var t=this.getServiceUrl("hr-leaveLog/update");n.recordUpdate(this,e,t)},onDeleteHrLeaveLog:function(e){var t=this.getServiceUrl("hr-leaveLog/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrWorkFactor","deleteHrWorkFactor","updateHrWorkFactor","retrieveHrWorkFactor","retrieveHrWorkFactorPage","initHrWorkFactor"]);e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(139),c=l(u),h=a(138),p=l(h),m=a(1),f=o.Steps.Step,g=a(66),v=(a(32),a(94)),y=(a(74),[{title:"建立基本信息",content:"建立用户基本信息"},{title:"创建用户",content:"创建公司内部的用户"}]),S=n.default.createClass({displayName:"CreateStaffUserPage",getInitialState:function(){return{compUserSet:{errMsg:""},authUserSet:{errMsg:""},loading:!1,current:0,userExist:!1,compUser:{},authUser:{}}},mixins:[m.listenTo(g,"onCompUserComplete"),m.listenTo(v,"onAuthUserComplete")],onAuthUserComplete:function(e){this.props.modal&&0===this.state.current&&("create"===e.operation?""===e.errMsg?(this.state.compUser.userName=this.state.authUser.userName,this.state.compUser.perName=this.state.authUser.perName,this.setState({current:1,loading:!1,authUserSet:e})):this.setState({loading:!1,authUserSet:e}):"find"===e.operation&&(this.refs.mxgBox.clear(),this.setState({userExist:!1})))},onCompUserComplete:function(e){if(this.props.modal)if(1===this.state.current&&"create"===e.operation)""===e.errMsg?(this.setState({loading:!1}),this.props.onSave("user")):this.setState({loading:!1,compUserSet:e});else if(0===this.state.current&&"find"===e.operation){var t="用户已经存在"===e.errMsg;this.setState({userExist:t})}},componentDidMount:function(){},initStaff:function(e){this.state.current=0,this.state.userExist=!1,this.state.compUserSet.errMsg="",this.state.authUserSet.errMsg="";var t=this.state.compUser;t.userName=e.perName,t.perName=e.perName,t.userCode=e.staffCode,t.userTitle=e.jobTitle,t.userType="1",t.corpUuid=e.corpUuid,t.deptUuid=e.deptUuid;var a=this.state.authUser;a.idType=e.idType,a.idCode=e.idCode,a.userName=e.perName,a.perName=e.perName,a.phoneno=e.phoneno,a.email=e.email,a.passwd="11111111",a.userStatus="1",a.regType="1","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),void 0!==this.refs.firstStepPage&&this.refs.firstStepPage.findAuthUser()},initOutStaff:function(e){this.state.current=0,this.state.userExist=!1,this.state.compUserSet.errMsg="",this.state.authUserSet.errMsg="";var t=this.state.compUser;t.userName=e.perName,t.perName=e.perName,t.userCode=e.staffCode,t.userTitle=e.jobTitle,t.userType="2",t.corpUuid=e.corpUuid,t.deptUuid=e.outUuid;var a=this.state.authUser;a.idType=e.idType,a.idCode=e.idCode,a.userName=e.perName,a.perName=e.perName,a.phoneno=e.phoneno,a.email=e.email,a.passwd="11111111",a.userStatus="1",a.regType="1","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),void 0!==this.refs.firstStepPage&&this.refs.firstStepPage.findAuthUser()},onClickSave:function(){if(0===this.state.current){var e=this.refs.firstStepPage.onClickSave();1==e?(this.state.compUser.userName=this.state.authUser.userName,this.state.compUser.perName=this.state.authUser.perName,this.setState({current:1})):2==e&&this.setState({loading:!0})}else{var e=this.refs.compUserPage.onClickSave();e&&this.setState({loading:!0})}},render:function(){var e=this.state.current,t=0===e?"下一步":"保存";return n.default.createElement("div",{style:{width:"100%"}},n.default.createElement(o.Steps,{current:e},y.map(function(e){return n.default.createElement(f,{key:e.title,title:e.title})})),n.default.createElement("div",{style:{paddingTop:"20px"}},0===e?n.default.createElement(c.default,{ref:"firstStepPage",authUser:this.state.authUser,corpUuid:this.state.compUser.corpUuid,from:"staff"}):n.default.createElement(p.default,{ref:"compUserPage",compUser:this.state.compUser,corpUuid:this.state.compUser.corpUuid})),n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right",padding:"8px 0 0 0"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["auth-user/create","auth-user/find","comp-user/create","comp-user/find"]}),n.default.createElement(o.Button,{key:"btnOK",type:"primary",size:"large",disabled:this.state.userExist,onClick:this.onClickSave,loading:this.state.loading},t)," "))}});t.default=S},,,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=a(163),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-benefits",e,t)},onRetrieveHrBenefits:function(e){var t=this,a=this.getServiceUrl("hr-benefits/retrieve1");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrBenefitsPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrBenefits(e)},onGetCacheData:function(){this.fireEvent("cache","",this)},onInitHrBenefits:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrBenefits(e)},onCreateHrBenefits:function(e){var t=this.getServiceUrl("hr-benefits/create"),a=this,l=e;n.doCreateService(t,l).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(e.object.perName=l.perName,e.object.staffCode=l.staffCode,e.object.deptName=l.deptName,a.recordSet.push(e.object),a.totalRow=a.totalRow+1,a.fireEvent("create","",a)):a.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent("create","调用服务错误",a)})},onUpdateHrBenefits:function(e){var t=this.getServiceUrl("hr-benefits/update");n.recordUpdate(this,e,t)},onDeleteHrBenefits:function(e){var t=this.getServiceUrl("hr-benefits/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(186),n=a(3),r=a(11),o=l.createStore({listenables:[i],tripUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({tripUuid:a.tripUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-biz-trip-param",e,t)},onRetrieveHrBizTripParam:function(e){var t=this,a={};a.tripUuid=e;var l=this.getServiceUrl("hr-biz-trip-param/retrieve");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.tripUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrBizTripParamPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrBizTripParam(e)},onInitHrBizTripParam:function(e){return this.recordSet.length>0&&this.tripUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrBizTripParam(e)},onCreateHrBizTripParam:function(e){var t=this.getServiceUrl("hr-biz-trip-param/create");n.recordCreate(this,e,t)},onUpdateHrBizTripParam:function(e){var t=this.getServiceUrl("hr-biz-trip-param/update");n.recordUpdate(this,e,t)},onDeleteHrBizTripParam:function(e){var t=this.getServiceUrl("hr-biz-trip-param/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["retrieveStaffCode","retrieveStaffCodePage","initStaffCode"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(107),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},leave:{},staffCode:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,leave:a.leave,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-leaveLog",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveHrLeaveLogReg:function(e){var t=this,a=this.getServiceUrl("hr-leaveLog/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrLeaveLogRegPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrLeaveLogReg(e)},onInitHrLeaveLogReg:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrLeaveLogReg(e)},onRefreshPage:function(e){var t=this;return n.compareTo(t.leave,e)?(console.log("数据没有变更"),void t.fireEvent("update","",t)):(n.copyValue(e,t.leave),void t.fireEvent("update","",t))},onRetrieveLeave:function(e){if(void 0!==this.staffCode&&this.staffCode===e)return void this.fireEvent("retrieveLeave","",this);var t=this,a={};a.staffCode=e,a.corpUuid=window.loginData.compUser.corpUuid;var l=this.getServiceUrl("hr-leave/retrieve");n.doRetrieveService(l,a,0,0,0).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?1===a.object.list.length?(t.leave=a.object.list[0],t.staffCode=e,t.fireEvent("retrieveLeave","",t)):t.fireEvent("retrieveLeave","没有找到记录["+a.object.list.length+"]",t):t.fireEvent("retrieveLeave","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieveLeave","调用服务错误",t)})},onCreateHrLeaveLogRegWithLeave:function(e){var t=this,a=e,l=this.getServiceUrl("hr-leaveLog/create2");n.doGetRecordService(l,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet.push(e.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrLeaveLogRegWithLeave:function(e){var t=this,a=e,l=n.findRecord(t,e.log.uuid);if(l<0)return void t.fireEvent("update","没有找到记录["+e.log.uuid+"]",t);var i=this.getServiceUrl("hr-leaveLog/update2");n.doGetRecordService(i,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(n.copyValue(e.object,t.recordSet[l]),t.fireEvent("update","",t)):t.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("update","调用服务错误",t)})},onCreateHrLeaveLogReg:function(e){var t=this.getServiceUrl("hr-leaveLog/create");n.recordCreate(this,e,t)},onUpdateHrLeaveLogReg:function(e){var t=this.getServiceUrl("hr-leaveLog/update");n.recordUpdate(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrSalaryFileItem","deleteHrSalaryFileItem","updateHrSalaryFileItem","retrieveHrSalaryFileItem","retrieveHrSalaryFileItemPage","initHrSalaryFileItem"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrSalaryLog","deleteHrSalaryLog","updateHrSalaryLog","retrieveHrSalaryLog","retrieveHrSalaryLogPage","initHrSalaryLog","batchSalaryLog","uploadFile"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(220),n=a(3),r=a(11),o=l.createStore({listenables:[i],workUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({workUuid:a.workUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-work-factor",e,t)},onRetrieveHrWorkFactor:function(e){var t=this,a={};a.workUuid=e;var l=this.getServiceUrl("hr-work-factor/retrieve");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.workUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrWorkFactorPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrWorkFactor(e)},onInitHrWorkFactor:function(e){return this.recordSet.length>0&&this.workUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrWorkFactor(e)},onCreateHrWorkFactor:function(e){var t=this.getServiceUrl("hr-work-factor/create");n.recordCreate(this,e,t)},onUpdateHrWorkFactor:function(e){var t=this.getServiceUrl("hr-work-factor/update");n.recordUpdate(this,e,t)},onDeleteHrWorkFactor:function(e){var t=this.getServiceUrl("hr-work-factor/remove");n.recordDelete(this,e,t)}});e.exports=o},,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["retrieveResTeam","initResTeam"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(168),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("res-pool",e,t)},onRetrievePool:function(e){var t=this,a=this.getServiceUrl("res-pool/get-by-corp_uuid");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitPool:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrievePool(e)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(169),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("res-team",e,t)},onRetrieveResTeam:function(e){var t=this,a=this.getServiceUrl("res-team/get-by-pool_uuid");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitResTeam:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveResTeam(e)}});e.exports=o},,,,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(7),u=l(d),c=a(9),h=l(c),p=a(149),m=l(p),f=a(193),g=l(f),v=a(1),y=s.Form.Item,S=(s.Select.Option,a(6)),C=a(14),E=a(101),b=a(80),w=r.default.createClass({displayName:"CreateStaffMemberPage",getInitialState:function(){return{resMemberSet:{empJob:{},errMsg:""},loading:!1,resMember:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,h.default)("resMember")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?(this.setState({loading:!1}),this.props.onSave("member")):this.setState({loading:!1,resMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"poolUuid",desc:"资源池",required:!0,max:"24"},{id:"teamUuid",desc:"小组",required:!0,max:"24"},{id:"userCost",desc:"核算成本",required:!1,max:"32"},{id:"beginDate",desc:"入池日期",required:!0,max:"24"},{id:"beginHour",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}];var e=this.props.type;"out"===e?this.initOutStaff(this.props.obj.user,this.props.obj.job):"staff"===e&&this.initStaff(this.props.obj.user,this.props.obj.job);
},initStaff:function(e,t){this.state.hints={};var a={};a.corpUuid=e.corpUuid,a.userUuid=e.uuid,a.userId=e.userId,a.staffCode=e.staffCode,a.perName=e.perName,a.deptName=e.deptName,a.baseCity=e.baseCity,a.phoneno=e.phoneno,a.email=e.email,a.eduDegree=e.eduDegree,a.eduCollege=e.eduCollege,a.workYears=e.workYears,a.workBegin=C.calcBeginMonth(e.entryDate,e.workYears),a.induYears=e.induYears,a.induBegin=C.calcBeginMonth(e.entryDate,e.induYears),a.beginDate=""+S.getToday(),a.resLoc=e.baseCity,a.beginHour="09:00",a.status="在岗",a.poolLoc="",a.empLevel=t.empLevel,a.techLevel=t.techLevel,a.manLevel=t.manLevel,a.techUuid=t.techUuid,a.techName=t.techName,a.manUuid=t.manUuid,a.manName=t.manName,a.manType="员工"==t.empType?"员工":"实习",a.resStatus="资源池",this.setState({resMember:a,loading:!1}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},initOutStaff:function(e,t){this.state.hints={};var a={};a.corpUuid=e.corpUuid,a.userUuid=e.uuid,a.userId=e.userId,a.staffCode=e.staffCode,a.perName=e.perName,a.deptName="",a.baseCity=e.baseCity,a.phoneno=e.phoneno,a.email=e.email,a.eduDegree=e.eduDegree,a.eduCollege=e.eduCollege,a.workYears=e.workYears,a.workBegin=C.calcBeginMonth(e.entryDate,e.workYears),a.induYears=e.induYears,a.induBegin=C.calcBeginMonth(e.entryDate,e.induYears),a.beginDate=""+S.getToday(),a.resLoc=e.baseCity,a.beginHour="09:00",a.status="在岗",a.poolLoc="",a.corpName=e.corpName,a.empLevel=t.empLevel,a.techLevel=t.techLevel,a.manLevel=t.manLevel,a.techUuid=t.techUuid,a.techName=t.techName,a.manUuid=t.manUuid,a.manName=t.manName,a.manType="外协",a.resStatus="资源池",a.userCost=t.userCost,this.setState({resMember:a,loading:!1}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},handleOnSelectedPool:function(e){var t=this.state.resMember;if(t.poolUuid!==e){t.teamUuid="",t.poolUuid=e;var a=this.refs.poolBox,l=a.getPoolNode(e);t.poolCode=l.poolCode,t.poolName=l.poolName,this.setState({resMember:t})}},onClickSave:function(){var e=this.state.resMember;S.formValidator(this,e)&&(e.resUuid=e.poolUuid,e.resName=e.poolName,e.resDate=e.beginDate,e.resHour=e.beginHour,this.setState({loading:!0}),b.createResMember(e))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=this.state.resMember,d=o.corpUuid,c=o.poolUuid;return r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(s.Form,{layout:e,style:{width:"100%"}},r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"员工编号",className:t}),r.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:o.staffCode,disabled:!0}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"姓名",className:t}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:o.perName,disabled:!0})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"资源池",required:!0,colon:!0,className:t,help:n.poolUuidHint,validateStatus:n.poolUuidStatus}),r.default.createElement(m.default,{ref:"poolBox",corpUuid:d,name:"poolUuid",id:"poolUuid",value:o.poolUuid,onSelect:this.handleOnSelectedPool}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"小组",required:!0,colon:!0,className:t,help:n.teamUuidHint,validateStatus:n.teamUuidStatus}),r.default.createElement(g.default,{poolUuid:c,name:"teamUuid",id:"teamUuid",value:o.teamUuid,onSelect:this.handleOnSelected.bind(this,"teamUuid")})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"入池日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:S.dateFormat,value:this.formatDate(o.beginDate,S.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",S.dateFormat)}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"时间",required:!0,colon:!0,className:t,help:n.beginHourHint,validateStatus:n.beginHourStatus}),r.default.createElement(s.Input,{type:"text",name:"beginHour",id:"beginHour",value:o.beginHour,onChange:this.handleOnChange})))),r.default.createElement(y,i({},a,{label:"核算成本",required:!1,colon:!0,className:t,help:n.userCost,validateStatus:n.userCost}),r.default.createElement(s.Input,{type:"text",name:"userCost",id:"userCost",value:o.userCost,onChange:this.handleOnChange}))),r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right",padding:"8px 0 0 0"}},r.default.createElement(u.default,{ref:"mxgBox",svcList:["res-member/create"]}),r.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," "))}});t.default=w},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrAllowLog","deleteHrAllowLog","updateHrAllowLog","retrieveHrAllowLog","retrieveHrAllowLogPage","initHrAllowLog","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrBranch","deleteHrBranch","updateHrBranch","retrieveHrBranch","retrieveHrBranchPage","initHrBranch"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrBranchStaff","deleteHrBranchStaff","updateHrBranchStaff","retrieveHrBranchStaff","retrieveHrBranchStaffPage","initHrBranchStaff"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(187),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_contract",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveHrContract:function(e){var t=this,a=this.getServiceUrl("hr_contract/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrContractPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrContract(e)},onInitHrContract:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrContract(e)},onCreateHrContract:function(e){var t=this.getServiceUrl("hr_contract/create");n.recordCreate(this,e,t)},onUpdateHrContract:function(e){var t=this.getServiceUrl("hr_contract/update");n.recordUpdate(this,e,t)},onDeleteHrContract:function(e){var t=this.getServiceUrl("hr_contract/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createCorpStaff","deleteCorpStaff","updateCorpStaff","retrieveCorpStaff","retrieveCorpStaffPage","initCorpStaff"]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(4)),d=a(1),u=(s.Tree.TreeNode,a(6)),c=a(83),h=a(69),p=[],m=[],f=n.default.createClass({displayName:"DeptTree",getInitialState:function(){return{deptSet:{recordSet:[],operation:"",errMsg:""},loading:!1,rootNodes:[],deptMap:{},timer:null}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){var t=this;if("retrieve"===e.operation){var a=[],l={};""===e.errMsg&&(a=u.initTreeNodes(e.recordSet,this.preCrtNode),e.recordSet.map(function(e,t){l[e.uuid]=e})),this.setState({loading:!1,deptSet:e,rootNodes:a,deptMap:l}),1===m.length&&(this.state.timer=setTimeout(function(){t.onSelect2(),clearInterval(t.state.timer)},100))}},componentDidMount:function(){this.state.deptSet.operation="",this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;h.initHrDept(t)},preCrtNode:function(e,t){var a={};return a.key=e.uuid,a.pid=e.puuid,""===e.deptCode||e.deptCode==e.deptName?a.title=e.deptName:a.title=e.deptName+"("+e.deptCode+")",a},onSelect:function(e,t){var a=t.node.props;a.expanded||"undefined"==typeof a.children||p.push(a.eventKey),m=e,this.onSelect2()},onSelect2:function(){var e=null;1===m.length&&(e=this.state.deptMap[m[0]]),this.props.onSelectDept(e)},onExpand:function(e,t){p=e},render:function(){return this.state.loading?n.default.createElement(s.Spin,{tip:"正在努力加载数据..."},n.default.createElement("div",{style:{height:"200px"}})):n.default.createElement(s.Tree,{className:"left-tree2",defaultExpandedKeys:p,defaultSelectedKeys:m,onSelect:this.onSelect,onExpand:this.onExpand},this.state.rootNodes.map(function(e,t){return u.prepareTreeNodes(e)}))}});e.exports=f},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrDeptGroup","deleteHrDeptGroup","updateHrDeptGroup","retrieveHrDeptGroup","retrieveHrDeptGroupPage","initHrDeptGroup"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrDevice","deleteHrDevice","updateHrDevice","retrieveHrDevice","retrieveHrDevicePage","initHrDevice","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrGroupStaff","deleteHrGroupStaff","updateHrGroupStaff","retrieveHrGroupStaff","retrieveHrGroupStaffPage","initHrGroupStaff"]);e.exports=i},function(e,t,a){"use strict";var l=a(1),i=a(97),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-leave",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveHrLeave:function(e){var t=this,a=this.getServiceUrl("hr-leave/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrLeavePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrLeave(e)},onInitHrLeave:function(e){return this.recordSet.length>0&&JSON.stringify(this.filter)===JSON.stringify(e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrLeave(e)},onRefreshPage:function(e){var t=this,a=n.findRecord(t,e.uuid);return a<0?void t.fireEvent("update","没有找到记录["+e.uuid+"]",t):n.compareTo(t.recordSet[a],e)?(console.log("数据没有变更"),void t.fireEvent("update","",t)):(n.copyValue(e,t.recordSet[a]),void t.fireEvent("update","",t))},onCreateHrLeave:function(e){var t=this,a=this.getServiceUrl("hr-leave/create");n.doGetRecordService(a,e).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(a.object.staffCode=e.staffCode,a.object.perName=e.perName,a.object.deptName=e.deptName,t.recordSet.push(a.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrLeave:function(e){var t=this.getServiceUrl("hr-leave/update");n.recordUpdate(this,e,t)},onDeleteHrLeave:function(e){var t=this.getServiceUrl("hr-leave/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(98),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,staffCode:"",leave:{},init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,staffCode:a.staffCode,leave:a.leave,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-leave-detail",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveHrLeaveDetailReg:function(e){var t=this,a=this.getServiceUrl("hr-leave-detail/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onBatchCreateLeaveDetailReg:function(e){var t=this,a=this.getServiceUrl("hr-leave-detail/batch-create");n.doGetRecordService(a,e).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.arr=e,t.fireEvent("batch-create","",t)):t.fireEvent("batch-create","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("batch-create","调用服务错误",t)})},onRetrieveHrLeaveDetailRegPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrLeaveDetailReg(e)},onRetrieveLeave:function(e){if(void 0!==this.staffCode&&this.staffCode===e)return void this.fireEvent("retrieveLeave","",this);var t=this,a={};a.staffCode=e,a.corpUuid=window.loginData.compUser.corpUuid;var l=this.getServiceUrl("hr-leave/retrieve");n.doRetrieveService(l,a,0,0,0).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(1===a.object.list.length?t.leave=a.object.list[0]:a.object.list.map(function(a){a.staffCode===e&&(t.leave=a)}),t.staffCode=e,t.fireEvent("retrieveLeave","",t)):t.fireEvent("retrieveLeave","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieveLeave","调用服务错误",t)})},onRefreshRegPage:function(e){var t=this;n.compareTo(t.leave,e)||n.copyValue(e,t.leave),t.fireEvent("update","",t)},onDeleteHrLeaveDetailReg:function(e){var t=this.getServiceUrl("hr-leave-detail/remove");n.recordDelete(this,e,t)},onCreateHrLeaveDetailRegWithLeave:function(e){var t=this,a=this.getServiceUrl("hr-leave-detail/create2");n.doGetRecordService(a,e).then(function(a){if(null==a.errCode||""==a.errCode||"000000"==a.errCode){var l=e.detail;a.object.staffCode=l.staffCode,a.object.perName=l.perName,a.object.deptUuid=l.deptUuid,a.object.deptName=l.deptName,n.copyValue(e.leave,t.leave),t.recordSet.push(a.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)}else t.fireEvent("create","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrLeaveDetailRegWithLeave:function(e){var t=this,a=n.findRecord(t,e.detail.uuid);if(a<0)return void t.fireEvent("update","没有找到记录["+e.detail.uuid+"]",t);var l=this.getServiceUrl("hr-leave-detail/update2");n.doGetRecordService(l,e).then(function(l){null==l.errCode||""==l.errCode||"000000"==l.errCode?(n.copyValue(e.leave,t.leave),n.copyValue(l.object,t.recordSet[a]),t.fireEvent("update","",t)):t.fireEvent("update","处理错误["+l.errCode+"]["+l.errDesc+"]",t)},function(e){t.fireEvent("update","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(98),n=a(3),r=a(11),o=l.createStore({listenables:[i],userUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({userUuid:a.userUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-leave-detail",e,t)},onRetrieveHrLeaveDetail:function(e){var t=this,a={};a.userUuid=e;var l=this.getServiceUrl("hr-leave-detail/get-by-userUuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.userUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrLeaveDetailPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrLeaveDetail(e)},onInitHrLeaveDetail:function(e){return this.recordSet.length>0&&this.userUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrLeaveDetail(e)},onCreateHrLeaveDetailWithLeave:function(e){var t=this,a=this.getServiceUrl("hr-leave-detail/create2");n.doGetRecordService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet.push(e.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrLeaveDetailWithLeave:function(e){var t=this,a=n.findRecord(t,e.detail.uuid);if(a<0)return void t.fireEvent("update","没有找到记录["+e.detail.uuid+"]",t);var l=this.getServiceUrl("hr-leave-detail/update2");n.doGetRecordService(l,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(n.copyValue(e.object,t.recordSet[a]),t.fireEvent("update","",t)):t.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("update","调用服务错误",t)})},onRefreshPage:function(e){var t=this;e.map(function(e,a){var l=n.findRecord(t,e.uuid);l>=0&&n.copyValue(e,t.recordSet[l])}),t.fireEvent("update","",t)},onDeleteHrLeaveDetail:function(e){var t=this.getServiceUrl("hr-leave-detail/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(5),d=(l(s),a(4)),u=a(7),c=(l(u),a(484)),h=l(c),p=a(1),m=a(6),f=a(3),g=a(131),v=a(346),y=a(98),S={type:o.default.PropTypes.string,leaveType:o.default.PropTypes.string,spendDay:o.default.PropTypes.string,spendHour:o.default.PropTypes.string,leave:o.default.PropTypes.object,onDetailSave:o.default.PropTypes.func},C=o.default.createClass({displayName:"LeaveDetailTable",getInitialState:function(){return{leaveDetailSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,leave:this.props.leave,leaveType:"",spendDay:"0",spendHour:"0",leaveDetails:[],filterDetails:[]}},clear:function(){this.state.leaveType="",this.state.spendDay="0",this.state.spendHour="0"},mixins:[p.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){var t=[];if("retrieve"===e.operation)if(""===e.errMsg){var a=this.props.leaveType,l=this.props.type,i="";"update"===l&&(i=this.props.leaveLog.memo2);var n=[],r=e.recordSet;r.map(function(e,r){if(a===e.leaveType){var o={};f.copyValue(e,o),n.push(o),o.spendDay={editable:!1,status:"",value:"0",oldValue:"0"},o.spendHour={editable:!1,status:"",value:"0",oldValue:"0"},"update"===l&&g.restoreUpdateValue(o,i),"0"!==o.remnant&&t.push(o)}}),m.sortTable(t,"expiryDate");var o=this.props.spendDay,s=this.props.spendHour;"create"===l&&(g.calcDetail(t,a,o,s),this.props.onDetailSave(t)),this.setState({loading:!1,leaveType:a,spendDay:o,spendHour:s,leaveDetailSet:e,leaveDetails:n,filterDetails:t})}else this.setState({loading:!1,leaveDetailSet:e,leaveDetails:[],filterDetails:[]})},componentDidMount:function(){var e=this.state.leave.uuid;this.setState({loading:!0}),y.initHrLeaveDetail(e)},componentWillReceiveProps:function(e){if(this.state.leaveType!==e.leaveType||this.state.leave.uuid!==e.leave.uuid){var t=e.leave.uuid;this.setState({loading:!0,leave:e.leave}),y.initHrLeaveDetail(t)}else if("create"===e.type){var a=e.spendDay,l=e.spendHour;a===this.state.spendDay&&l===this.state.spendHour||(this.state.spendDay=a,this.state.spendHour=l,g.calcDetail(this.state.filterDetails,this.state.leaveType,a,l),this.props.onDetailSave(this.state.filterDetails))}},renderColumns:function(e,t,a,l,i){var n=this,r=t[l],s=r.editable,d=r.status,u=r.value;return o.default.createElement(h.default,{key:t.paraUuid,editable:s,value:u,onChange:function(e,a){return n.handleChange(e,t,a,l,i)},status:d,isRefresh:a})},handleChange:function(e,t,a,l,i){var n=this.state.filterDetails,t=n[i][l];return"cancel"===a?void(t.value=t.oldValue):(t.value=e,t.oldValue=e,this.setState({filterDetails:n}),void this.props.onDetailSave(n))},edit:function(e,t){e[t].spendDay.editable=!0,e[t].spendDay.status="",e[t].spendHour.editable=!0,e[t].spendHour.status="",this.setState({filterDetails:e})},editDone:function(e,t,a,l){e[t].spendDay.editable=!1,e[t].spendDay.status=a,e[t].spendHour.editable=!1,e[t].spendHour.status=a,this.setState({filterDetails:e})},getRemainDay:function(e,t){if(null===e||void 0===e)return"0";var a=e.indexOf(".");return 1===t?a<0?e:0===a?"0":e.substr(0,a):a<0?"0":e.substr(1+a)},render:function(){var e=this,t=!0,a=this.state.filterDetails,l=this.props,r=(l.leave,l.type,l.leaveType),s=(l.spendDay,l.spendHour,l.onDetailSave,i(l,["leave","type","leaveType","spendDay","spendHour","onDetailSave"])),u={title:"",key:"action",width:100,render:function(t,l,i){return o.default.createElement("div",{className:"editable-row-operations"},l.spendDay.editable?o.default.createElement("span",null,o.default.createElement("a",{style:{marginRight:"6px"},onClick:function(){return e.editDone(a,i,"save",l)}},"保存"),o.default.createElement(d.Popconfirm,{title:"确定取消 ?",onConfirm:function(){return e.editDone(a,i,"cancel")}},o.default.createElement("a",null," 取消"))):o.default.createElement("span",null,o.default.createElement("a",{href:"#",onClick:function(){return e.edit(a,i)},title:"调整"},o.default.createElement(d.Icon,{type:m.iconUpdate}))))}},c=[];return c=g.isHourLeave(r)?[{title:"失效日期",dataIndex:"expiryDate",key:"expiryDate",width:160},{title:"剩余天数",dataIndex:"remnant",key:"remnant",width:120,render:function(t,a,l){return e.getRemainDay(t,1)}},{title:"剩余小时",dataIndex:"remnant",key:"remnant2",width:120,render:function(t,a,l){return e.getRemainDay(t,0)}},{title:"抵扣天数",dataIndex:"spendDay",key:"spendDay",width:120,render:function(a,l,i){return e.renderColumns(a,l,t,"spendDay",i)}},{title:"抵扣小时",dataIndex:"spendHour",key:"spendHour",width:120,render:function(a,l,i){return e.renderColumns(a,l,t,"spendHour",i)}},u]:[{title:"失效日期",dataIndex:"expiryDate",key:"expiryDate",width:160},{title:"剩余天数",dataIndex:"remnant",key:"remnant",width:120},{title:"抵扣天数",dataIndex:"spendDay",key:"spendDay",width:120,render:function(a,l,i){return e.renderColumns(a,l,t,"spendDay",i)}},u],o.default.createElement("div",n({className:"grid-body"},s),o.default.createElement(d.Table,{columns:c,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",scroll:{y:180},bordered:m.tableBorder}))}});C.propTypes=S,e.exports=C},function(e,t,a){"use strict";var l=a(1),i=a(262),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_salary_file_item",e,t)},onRetrieveHrSalaryFileItem:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr_salary_file_item/get-by-corp_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrSalaryFileItemPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrSalaryFileItem(e)},onInitHrSalaryFileItem:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrSalaryFileItem(e)},onCreateHrSalaryFileItem:function(e){var t=this.getServiceUrl("hr_salary_file_item/create");n.recordCreate(this,e,t)},onUpdateHrSalaryFileItem:function(e){var t=this.getServiceUrl("hr_salary_file_item/update");n.recordUpdate(this,e,t)},onDeleteHrSalaryFileItem:function(e){var t=this.getServiceUrl("hr_salary_file_item/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(263),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-salary-log",e,t)},onRetrieveHrSalaryLog:function(e){var t=this,a=this.getServiceUrl("hr-salary-log/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.list,t.startPage=e.object.startPage,t.pageRow=e.object.pageRow,t.totalRow=e.object.totalRow,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onBatchSalaryLog:function(e){var t=this,a=this.getServiceUrl("/hr-salary-log/batch-create");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.list,t.startPage=e.object.startPage,t.pageRow=e.object.pageRow,t.totalRow=e.object.totalRow,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrSalaryLogPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrSalaryLog(e)},onInitHrSalaryLog:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrSalaryLog(e)},onCreateHrSalaryLog:function(e){var t=this.getServiceUrl("hr-salary-log/create");n.recordCreate(this,e,t)},onUpdateHrSalaryLog:function(e){var t=this.getServiceUrl("hr-salary-log/update");n.recordUpdate(this,e,t)},onDeleteHrSalaryLog:function(e){var t=this.getServiceUrl("hr-salary-log/remove");n.recordDelete(this,e,t)},onUploadFile:function(e,t){var a=this.getServiceUrl("hr-salary-log/batch-create"),l=this,i=[t];n.doUploadService(a,e,i).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?l.fireEvent("upload","",l):l.fireEvent("upload","导入数据错误["+e.errCode+"]["+e.errDesc+"]",l)},function(e){l.fireEvent("upload","上传文件错误",l)})}});e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=a(335),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-allow-log",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveHrAllowLog:function(e){var t=this,a=this.getServiceUrl("hr-allow-log/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrAllowLogPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrAllowLog(e)},onInitHrAllowLog:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrAllowLog(e)},onCreateHrAllowLog:function(e){var t=this,a=e,l=this.getServiceUrl("hr-allow-log/create");n.doCreateService(l,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(e.object.perName=a.perName,e.object.staffCode=a.staffCode,e.object.deptName=a.deptName,t.recordSet.push(e.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrAllowLog:function(e){var t=this.getServiceUrl("hr-allow-log/update");n.recordUpdate(this,e,t)},onDeleteHrAllowLog:function(e){var t=this.getServiceUrl("hr-allow-log/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(336),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_branch",e,t)},onRetrieveHrBranch:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("/hr_branch/get-by-corp_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrBranchPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrBranch(e)},onInitHrBranch:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrBranch(e)},onCreateHrBranch:function(e){var t=this.getServiceUrl("/hr_branch/create");n.recordCreate(this,e,t)},onUpdateHrBranch:function(e){var t=this.getServiceUrl("/hr_branch/update");n.recordUpdate(this,e,t)},onDeleteHrBranch:function(e){var t=this.getServiceUrl("/hr_branch/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(337),n=a(3),r=a(11),o=l.createStore({listenables:[i],branchUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({branchUuid:a.branchUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-branch-staff",e,t)},onRetrieveHrBranchStaff:function(e){var t=this,a={};a.branchUuid=e;var l=this.getServiceUrl("hr-branch-staff/retrieve");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.branchUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrBranchStaffPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrBranchStaff(e)},onInitHrBranchStaff:function(e){return this.recordSet.length>0&&this.branchUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrBranchStaff(e)},onCreateHrBranchStaff:function(e){var t=this.getServiceUrl("hr-branch-staff/create");n.recordCreate(this,e,t)},onUpdateHrBranchStaff:function(e){var t=this.getServiceUrl("hr-branch-staff/update");n.recordUpdate(this,e,t)},onDeleteHrBranchStaff:function(e){var t=this.getServiceUrl("hr-branch-staff/remove");
n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(339),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_corp_staff",e,t)},onRetrieveCorpStaff:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("/hr_corp_staff/get-by-corp_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveCorpStaffPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveCorpStaff(e)},onInitCorpStaff:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveCorpStaff(e)},onCreateCorpStaff:function(e){var t=this.getServiceUrl("/hr_corp_staff/create");n.recordCreate(this,e,t)},onUpdateCorpStaff:function(e){var t=this.getServiceUrl("/hr_corp_staff/update");n.recordUpdate(this,e,t)},onDeleteCorpStaff:function(e){var t=this.getServiceUrl("/hr_corp_staff/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(341),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_dept_group",e,t)},onRetrieveHrDeptGroup:function(e){var t=this,a={};a.corpUuid=e;var l=this.getServiceUrl("hr_dept_group/get-by-corp_uuid");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrDeptGroupPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrDeptGroup(e)},onInitHrDeptGroup:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrDeptGroup(e)},onCreateHrDeptGroup:function(e){console.log("group",e);var t=this.getServiceUrl("hr_dept_group/create");n.recordCreate(this,e,t)},onUpdateHrDeptGroup:function(e){var t=this.getServiceUrl("hr_dept_group/update");n.recordUpdate(this,e,t)},onDeleteHrDeptGroup:function(e){var t=this.getServiceUrl("hr_dept_group/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(342),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_device",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveHrDevice:function(e){var t=this,a=this.getServiceUrl("hr_device/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrDevicePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrDevice(e)},onInitHrDevice:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrDevice(e)},onCreateHrDevice:function(e){var t=this,a=e,l=this.getServiceUrl("hr_device/create");n.doCreateService(l,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(e.object.perName=a.perName,e.object.staffCode=a.staffCode,e.object.deptName=a.deptName,t.recordSet.push(e.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrDevice:function(e){var t=this.getServiceUrl("hr_device/update");n.recordUpdate(this,e,t)},onDeleteHrDevice:function(e){var t=this.getServiceUrl("hr_device/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(217),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-emp-salary",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveHrEmpSalary:function(e){var t=this,a=this.getServiceUrl("hr-emp-salary/retrieve1");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrEmpSalaryPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrEmpSalary(e)},onInitHrEmpSalary:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrEmpSalary(e)},onCreateHrEmpSalary:function(e){var t=this,a=e,l=this.getServiceUrl("hr-emp-salary/create");n.doCreateService(l,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(e.object.perName=a.perName,e.object.staffCode=a.staffCode,e.object.deptName=a.deptName,t.recordSet.push(e.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrEmpSalary:function(e){var t=this.getServiceUrl("hr-emp-salary/update");n.recordUpdate(this,e,t)},onDeleteHrEmpSalary:function(e){var t=this.getServiceUrl("hr-emp-salary/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(248),d=l(s),u=a(279),c=l(u),h=a(470),p=l(h),m=(a(1),o.Tabs.TabPane),f=a(3);p.default;var g=n.default.createClass({displayName:"CreateUserPage",getInitialState:function(){return{modal:!1,selectKey:"1",user:null,job:null,userCreated:!1,memberCreated:!1,noticed:!1}},componentDidMount:function(){},initStaff:function(e,t){null!==t&&void 0!==t||(t={}),this.state.user={},this.state.job={},f.copyValue(e,this.state.user),f.copyValue(t,this.state.job);var a=this.refs.userPage;a&&a.initStaff(e);var l=this.refs.memberPage;l&&l.initStaff(e,t);var i=this.refs.mailPage;i&&i.initStaff(e,t),this.setState({selectKey:"1"})},onSave:function(e){"user"===e?this.setState({userCreated:!0,selectKey:"1"}):"member"===e?this.setState({memberCreated:!0,selectKey:"1"}):"notice"===e&&this.setState({noticed:!0,selectKey:"1"}),this.state.userCreated&&this.state.memberCreated&&this.state.noticed&&this.toggle()},toggle:function(){this.setState({selectKey:"1",userCreated:!1,memberCreated:!1,noticed:!1,modal:!this.state.modal})},onTabChange:function(e){this.setState({selectKey:e})},render:function(){var e=0,t=[];return this.state.userCreated||(e+=1,t.push(n.default.createElement(m,{tab:"创建员工账号",key:""+e,style:{width:"100%",height:"100%",padding:"0 10px 0 0"}},n.default.createElement(d.default,{ref:"userPage",onSave:this.onSave,modal:this.state.modal})))),this.state.memberCreated||(e+=1,t.push(n.default.createElement(m,{tab:"加入资源池",key:""+e,style:{width:"100%",height:"100%",padding:"0 10px 0 0"}},n.default.createElement(c.default,{ref:"memberPage",onSave:this.onSave,obj:this.state,type:"staff"})))),this.state.noticed||(e+=1,t.push(n.default.createElement(m,{tab:"通知相关人员",key:""+e,style:{width:"100%",height:"100%"}},n.default.createElement(p.default,{ref:"mailPage",onSave:this.onSave,obj:this.state,type:"staff"})))),0===e&&(this.state.modal=!1),n.default.createElement(o.Modal,{visible:this.state.modal,width:"640px",title:"后续操作",maskClosable:!1,onCancel:this.toggle,footer:null},n.default.createElement(o.Tabs,{ref:"EmpTabs",activeKey:this.state.selectKey,onChange:this.onTabChange,size:"small"},t))}});t.default=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(9),u=l(d),c=a(12),h=l(c),p=a(91),m=l(p),f=a(90),g=l(f),v=(a(1),s.Form.Item),y=a(6),S=r.default.createClass({displayName:"EmpJobPage",getInitialState:function(){return{afterChange:this.afterChange,hints:{},empJob:{},validRules:[],user:{},datas:{}}},mixins:[(0,u.default)("empJob")],componentDidMount:function(){this.state.validRules=[{id:"empLevel",desc:"员工级别",required:!1,max:"0"},{id:"techLevel",desc:"技术级别",required:!1,max:"0"},{id:"manLevel",desc:"管理级别",required:!1,max:"0"},{id:"manUuid",desc:"管理岗位",required:!1,max:"24"},{id:"techUuid",desc:"技术岗位",required:!1,max:"24"},{id:"empType",desc:"员工类型",required:!1,max:"32"}]},fun:function(){var e=this.state.empJob,t=this.refs.techUuidBox.getJobNode();null===t.jobName||""===t.jobName||t.jobName===t.jobCode?e.techName=t.jobCode:e.techName=t.jobCode+"("+t.jobName+")";var a=this.refs.manUuidBox.getJobNode();null===a.jobName||""===a.jobName||a.jobName===a.jobCode?e.manName=a.jobCode:e.manName=a.jobCode+"("+a.jobName+")"},clear:function(){this.state.hints={},this.state.empJob.empLevel="",this.state.empJob.techLevel="",this.state.empJob.manLevel="",this.state.empJob.manUuid="",this.state.empJob.techUuid="",this.state.empJob.empType=""},checkValue:function(){return y.formValidator(this,this.state.empJob)},afterChange:function(e,t){if("techUuid"===e){var a=this.state.empJob,l=this.refs.techUuidBox.getJobNode(t);a.techLevel=l.jobCode}else if("manUuid"===e){var a=this.state.empJob,i=this.refs.manUuidBox.getJobNode(t);a.manLevel=i.jobCode}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:5},wrapperCol:"vertical"==e?null:{span:19}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},n=this.state.hints;return r.default.createElement(s.Form,{layout:e,style:{margin:"8px 0 0 0"}},r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(v,i({},a,{label:"员工类型",required:!1,colon:!0,className:t,help:n.empTypeHint,validateStatus:n.empTypeStatus}),r.default.createElement(h.default,{name:"empType",id:"empType",value:this.state.empJob.empType,appName:"HR系统",optName:"员工类型",onSelect:this.handleOnSelected.bind(this,"empType")}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(v,i({},l,{label:"员工级别",required:!1,colon:!0,className:t,help:n.empLevelHint,validateStatus:n.empLevelStatus}),r.default.createElement(m.default,{ref:"empLevelBox",name:"empLevel",id:"empLevel",value:this.state.empJob.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(v,i({},a,{label:"技术岗位",required:!1,colon:!0,className:t,help:n.techUuidHint,validateStatus:n.techUuidStatus}),r.default.createElement(g.default,{ref:"techUuidBox",name:"techUuid",id:"techUuid",value:this.state.empJob.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(v,i({},l,{label:"技术级别",required:!1,colon:!0,className:t,help:n.techLevelHint,validateStatus:n.techLevelStatus}),r.default.createElement(s.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.empJob.techLevel,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(v,i({},a,{label:"管理岗位",required:!1,colon:!0,className:t,help:n.manUuidHint,validateStatus:n.manUuidStatus}),r.default.createElement(g.default,{ref:"manUuidBox",name:"manUuid",id:"manUuid",value:this.state.empJob.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(v,i({},l,{label:"管理级别",required:!1,colon:!0,className:t,help:n.manLevelHint,validateStatus:n.manLevelStatus}),r.default.createElement(s.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.empJob.manLevel,onChange:this.handleOnChange})))))}});e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=(l(s),a(4)),u=a(1),c=(d.Input.Search,a(6)),h=(a(3),a(472)),p=a(260),m=10,f=n.default.createClass({displayName:"SearchStaffCodePage",getInitialState:function(){return{staffCodeSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,modal:!1,filter:{}}},mixins:[u.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,staffCodeSet:e})},componentDidMount:function(){},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",p.retrieveStaffCodePage(this.state.filter,this.state.staffCodeSet.startPage,m)},initStaff:function(e){this.state.filter.corpUuid=e,p.retrieveStaffCodePage(this.state.filter,1,10)},onShowSizeChange:function(e,t){m=t,this.handleQueryClick()},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this.state.staffCodeSet.recordSet,t=[{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140}],a={showQuickJumper:!0,total:this.state.staffCodeSet.totalRow,pageSize:this.state.staffCodeSet.pageRow,current:this.state.staffCodeSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return n.default.createElement(d.Modal,{visible:this.state.modal,width:"640px",title:"员工编号",maskClosable:!1,onCancel:this.toggle,footer:null},n.default.createElement(d.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:c.tableBorder}))}});e.exports=f},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=(l(s),a(340)),u=l(d),c=a(1),h=(o.Form.Item,o.Select.Option,a(6)),p=(a(3),a(215)),m=a(164),f=n.default.createClass({displayName:"SelectDeptStaffPage",getInitialState:function(){return{deptStaffSet:{recordSet:[],errMsg:""},loading:!1,deptUuid:"",modal:!1}},mixins:[c.listenTo(p,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,deptStaffSet:e}),e.errMsg&&h.infoMsg(e.errMsg)},componentDidMount:function(){},onSelectDept:function(e){e&&(this.setState({deptUuid:e.uuid,loading:!0}),m.initHrDeptStaff(e.uuid))},onRowClick:function(e,t,a){this.props.onSelectStaff(e),this.setState({modal:!this.state.modal})},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this.state.deptStaffSet.recordSet,t=[{title:"用户姓名",dataIndex:"perName",key:"perName",width:90},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:120},{title:"电子邮箱",dataIndex:"email",key:"email",width:170}];return n.default.createElement(o.Modal,{visible:this.state.modal,width:"720px",title:"选择部门管理员",maskClosable:!1,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{display:"flex",height:"460px"}},n.default.createElement("div",{className:"left-tree",style:{flex:"0 0 240px",width:"240px",overflowY:"auto",overflowX:"hidden",backgroundColor:"#fcfcfc"}},n.default.createElement(u.default,{onSelectDept:this.onSelectDept})),n.default.createElement("div",{className:"left-tree",style:{width:"100%",overflowY:"auto",overflowX:"hidden"}},n.default.createElement(o.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},onRowClick:this.onRowClick,loading:this.state.loading,pagination:!1,size:"middle",bordered:h.tableBorder}))))}});t.default=f},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=(l(s),a(501)),u=l(d),c=a(1),h=(o.Form.Item,o.Select.Option,a(6)),p=(a(3),a(537)),m=a(136),f=n.default.createClass({displayName:"SelectPoolStaffPage",getInitialState:function(){return{staffSet:{recordSet:[],errMsg:""},loading:!1,deptUuid:"",modal:!1}},mixins:[c.listenTo(p,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,staffSet:e}),e.errMsg&&h.infoMsg(e.errMsg)},componentDidMount:function(){},onSelectTeam:function(e){e&&(this.setState({deptUuid:e.uuid,loading:!0}),m.retrieveResTeamStaff(e.uuid))},onSelectPool:function(e){e&&(this.setState({deptUuid:e.uuid,loading:!0}),m.retrieveResPoolStaff(e.uuid))},onRowClick:function(e,t,a){this.props.onSelectStaff(e),this.setState({modal:!this.state.modal})},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this.state.staffSet.recordSet,t=[{title:"用户姓名",dataIndex:"perName",key:"perName",width:90},{title:"职位",dataIndex:"roleName",key:"roleName",width:120},{title:"电子邮箱",dataIndex:"email",key:"email",width:170}];return n.default.createElement(o.Modal,{visible:this.state.modal,width:"720px",title:"选择部门管理员",maskClosable:!1,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{display:"flex",height:"460px"}},n.default.createElement("div",{className:"left-tree",style:{flex:"0 0 240px",width:"240px",overflowY:"auto",overflowX:"hidden",backgroundColor:"#fcfcfc"}},n.default.createElement(u.default,{onSelect:this.onSelectTeam,onSelectPool:this.onSelectPool})),n.default.createElement("div",{className:"left-tree",style:{width:"100%",overflowY:"auto",overflowX:"hidden"}},n.default.createElement(o.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},onRowClick:this.onRowClick,loading:this.state.loading,pagination:!1,size:"middle",bordered:h.tableBorder}))))}});t.default=f},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=(l(s),a(25)),u=l(d),c=a(468),h=l(c),p=a(469),m=l(p),f=a(1),g=o.Form.Item,v=(a(3),a(6)),y=a(471),S=a(113),C=n.default.createClass({displayName:"SendMailPage",getInitialState:function(){return{loading:!1,mailList:[],mailBody:"",perName:""}},mixins:[f.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){"mail"===e.operation&&(alert(e.errMsg),this.props.onSave?this.props.onSave("notice"):this.setState({loading:!1}))},componentDidMount:function(){var e=this.props.type;"out"===e?this.initOutStaff(this.props.obj.user,this.props.obj.job):"staff"===e&&this.initStaff(this.props.obj.user,this.props.obj.job),this.setState({loading:!1})},initStaff:function(e){this.state.loading=!1,this.state.perName=e.perName,this.state.mailList=[];var t=e.deptName+"员工："+e.perName+"，编号："+e.staffCode+"\n已于："+v.getToday()+" 办理入职手续，请协助办理相关事宜，谢谢\n人力资源部，"+window.loginData.authUser.perName+"\n此邮件地址不能回复，如有疑问请回复邮件："+window.loginData.authUser.email;this.state.mailBody=t,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},initOutStaff:function(e){this.state.loading=!1,this.state.perName=e.perName,this.state.mailList=[];var t="外协人员："+e.perName+"，编号："+e.staffCode+"\n已于："+v.getToday()+" 办理入职手续，请协助办理相关事宜，谢谢\n"+window.loginData.authUser.perName+"\n此邮件地址不能回复，如有疑问请回复邮件："+window.loginData.authUser.email;this.state.mailBody=t,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectEmpLoyee:function(e){var t=null,a=e.email;if(!a)return void v.infoMsg("["+e.perName+"]没有注册邮箱");for(var l=this.state.mailList.length,i=0;i<l;i++)if(this.state.mailList[i].email===a){t=this.state.mailList[i];break}t||(t={staffCode:e.staffCode,perName:e.perName,email:e.email},this.state.mailList.push(t),this.setState({loading:!1}))},onClickDelete:function(e,t){for(var a=e.email,l=this.state.mailList.length,i=0;i<l;i++)if(this.state.mailList[i].email===a){this.state.mailList.splice(i,1);break}this.setState({loading:!1})},onSelectDeptUser:function(){this.refs.deptWindow.toggle()},onSelectResUser:function(){this.refs.resWindow.toggle()},onSelectDeptStaff:function(e){var t=null,a=e.email;if(!a)return void v.infoMsg("["+e.perName+"]没有注册邮箱");for(var l=this.state.mailList.length,i=0;i<l;i++)if(this.state.mailList[i].email===a){t=this.state.mailList[i];break}t||(t={staffCode:e.staffCode,perName:e.perName,email:e.email},this.state.mailList.push(t),this.setState({loading:!1}))},onSelectResStaff:function(e){var t=null;console.log("staff",e);var a=e.email;if(!a)return void v.infoMsg("["+e.perName+"]没有注册邮箱");for(var l=this.state.mailList.length,i=0;i<l;i++)if(this.state.mailList[i].email===a){t=this.state.mailList[i];break}t||(t={staffCode:e.staffCode,perName:e.perName,email:e.email},this.state.mailList.push(t),this.setState({loading:!1}))},handleOnChange:function(e){this.setState({mailBody:e.target.value})},onClickSave:function(){var e=this.state.mailList.length;if(0===e)return void v.infoMsg("请选择邮件接收人");var t={mailBody:this.state.mailBody,perName:this.state.perName,mailList:this.state.mailList};this.setState({loading:!0}),S.sendEntryMail(t)},render:function(){var e=this,t=[{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"电子邮箱",dataIndex:"email",key:"email",width:200},{title:"",key:"action",width:40,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},n.default.createElement(o.Icon,{type:v.iconRemove})))}}],a=this.state.mailList,l=window.loginData.compUser.corpUuid,i="horizontal",r="form-item-"+i;return n.default.createElement("div",{style:{width:"100%"}},n.default.createElement("div",{style:{padding:"0 0 10px 0"}},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(o.Button,{icon:v.iconAdd,title:"选择部门干系人",type:"primary",onClick:this.onSelectDeptUser}),n.default.createElement(o.Button,{icon:v.iconAdd,title:"选择资源池干系人",onClick:this.onSelectResUser,style:{marginLeft:"4px",visibility:"hidden"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.default,{style:{width:"220px"},corpUuid:l,onSelectEmpLoyee:this.onSelectEmpLoyee}))),n.default.createElement(o.Table,{columns:t,dataSource:a,rowKey:function(e){return e.staffCode},pagination:!1,size:"middle",bordered:v.tableBorder,scroll:{y:158}}),n.default.createElement(g,{label:"",required:!1,colon:!0,className:r,style:{padding:"20px 0 0 0"}},n.default.createElement(o.Input,{type:"textarea",name:"mailBody",id:"mailBody",value:this.state.mailBody,onChange:this.handleOnChange,style:{height:"110px"}})),n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right",padding:"8px 0 0 0"}},n.default.createElement(o.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"发送邮件")," "),n.default.createElement(h.default,{ref:"deptWindow",onSelectStaff:this.onSelectDeptStaff}),n.default.createElement(m.default,{ref:"resWindow",onSelectStaff:this.onSelectResStaff}))}});t.default=C},function(e,t,a){"use strict";var l=a(1),i=a(113),n=a(3),r=(a(11),l.createStore({listenables:[i],init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent2:function(e,t,a){a.trigger({operation:e,errMsg:t})},onSendEntryMail:function(e){var t=this.getServiceUrl("hr-employee/entry-mail"),a=this;n.doGetRecordService(t,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?a.fireEvent2("mail",e.object,a):a.fireEvent2("mail","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent2("mail","调用服务错误",a)})}}));e.exports=r},function(e,t,a){"use strict";var l=a(1),i=a(260),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-employee",e,t)},onRetrieveStaffCode:function(e){var t=this,a=this.getServiceUrl("hr-employee/retrieve3");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve3","",t)):t.fireEvent("retrieve3","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve3","调用服务错误",t)})},onRetrieveStaffCodePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveStaffCode(e)},onInitStaffCode:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve3","",this):void this.onRetrieveStaffCode(e)}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(343),n=a(3),r=a(11),o=l.createStore({listenables:[i],groupUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({groupUuid:a.groupUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-group-staff",e,t)},onRetrieveHrGroupStaff:function(e){var t=this,a={};a.groupUuid=e;var l=this.getServiceUrl("hr-group-staff/retrieve");n.doRetrieveService(l,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.groupUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrGroupStaffPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrGroupStaff(e)},onInitHrGroupStaff:function(e){return this.recordSet.length>0&&this.groupUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrGroupStaff(e)},onCreateHrGroupStaff:function(e){var t=this.getServiceUrl("hr-group-staff/create");n.recordCreate(this,e,t)},onUpdateHrGroupStaff:function(e){var t=this.getServiceUrl("hr-group-staff/update");n.recordUpdate(this,e,t)},onDeleteHrGroupStaff:function(e){var t=this.getServiceUrl("hr-group-staff/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(1),d=o.Select.Option,u=a(111),c=a(81),h=n.default.createClass({displayName:"AllowSelect",getInitialState:function(){return{allowanceSet:{recordSet:[],errMsg:"",operation:""},loading:!1}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&(this.state.allowanceSet=e,this.setState({loading:!1}))},getAllowNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.allowanceSet.recordSet,a=t.length,l=0;l<a;l++)if(t[l].uuid===e)return t[l];return{}},componentDidMount:function(){this.state.allowanceSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;c.initHrAllowance(t)},render:function(){var e=this.state.allowanceSet.recordSet,t=n.default.createElement(o.Select,this.props,e.map(function(e,t){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.allowName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=h},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(1),d=o.Select.Option,u=a(115),c=a(85),h=n.default.createClass({displayName:"InsurSelect",getInitialState:function(){return{insuranceSet:{recordSet:[],errMsg:"",operation:""},loading:!1}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){"get-by-corp_uuid"===e.operation&&(this.state.insuranceSet=e,this.setState({loading:!1}))},getInsurNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.insuranceSet.recordSet,a=t.length,l=0;l<a;l++)if(t[l].uuid===e)return t[l];return{}},componentDidMount:function(){this.state.insuranceSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;c.initHrInsurance(t)},render:function(){var e=this.state.insuranceSet.recordSet,t=n.default.createElement(o.Select,this.props,e.map(function(e,t){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.insuName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=h},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(1),d=o.Select.Option,u=a(112),c=a(82),h=n.default.createClass({displayName:"TripSelect",getInitialState:function(){return{tripSet:{recordSet:[],errMsg:"",operation:""},loading:!1}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&(this.state.tripSet=e,this.setState({loading:!1}))},getTripNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.tripSet.recordSet,a=t.length,l=0;l<a;l++)if(t[l].uuid===e)return t[l];return{}},componentDidMount:function(){this.state.tripSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;c.initHrBizTrip(t)},render:function(){var e=this.state.tripSet.recordSet,t=n.default.createElement(o.Select,this.props,e.map(function(e,t){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.tripName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=h},function(e,t,a){"use strict";var l=a(1),i=a(166),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr_work_log",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveHrWorkLog:function(e){var t=this,a=this.getServiceUrl("hr_work_log/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t);
},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrWorkLogPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrWorkLog(e)},onInitHrWorkLog:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrWorkLog(e)},onCreateHrWorkLog:function(e){var t=this,a=e,l=this.getServiceUrl("hr_work_log/create");n.doCreateService(l,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(e.object.perName=a.perName,e.object.staffCode=a.staffCode,e.object.deptName=a.deptName,t.recordSet.push(e.object),t.totalRow=t.totalRow+1,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateHrWorkLog:function(e){var t=this.getServiceUrl("hr_work_log/update");n.recordUpdate(this,e,t)},onDeleteHrWorkLog:function(e){var t=this.getServiceUrl("hr_work_log/remove");n.recordDelete(this,e,t)}});e.exports=o},,,,,,,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),s=a(2),d=l(s),u=a(4),c=function(e){function t(){var e,a,l,r;i(this,t);for(var o=arguments.length,s=Array(o),d=0;d<o;d++)s[d]=arguments[d];return a=l=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),l.state={value:l.props.value,editable:l.props.editable||!1},r=a,n(l,r)}return r(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){e.editable!==this.state.editable&&(this.setState({editable:e.editable}),e.editable&&(this.cacheValue=this.state.value)),e.status&&e.status!==this.props.status?("cancel"===e.status?this.setState({value:this.cacheValue}):"save"!==e.status&&this.setState({value:e.value}),"save"===e.status?this.props.onChange(this.state.value,e.status):"cancel"===e.status&&this.props.onChange(this.cacheValue,e.status)):e.isRefresh&&this.setState({value:e.value})}},{key:"shouldComponentUpdate",value:function(e,t){return e.editable!==this.state.editable||t.value!==this.state.value}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t})}},{key:"render",value:function(){var e=this;return d.default.createElement("div",null,this.state.editable?d.default.createElement("div",null,d.default.createElement(u.Input,{value:this.state.value,onChange:function(t){return e.handleChange(t)}})):d.default.createElement("div",{className:"editable-row-text"},this.state.value||" "))}}]),t}(d.default.Component);t.default=c},,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(4)),d=a(1),u=(s.Tree.TreeNode,a(6)),c=(a(3),a(512)),h=a(273),p=[],m=[],f=n.default.createClass({displayName:"ResTeamTree",getInitialState:function(){return{dataSet:{poolSet:[],teamSet:[]},loading:!1,poolMap:{},teamMap:{},rootNodes:[]}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){var t=this;this.state.rootNodes=[],this.state.poolMap={},this.state.teamMap={},this.state.dataSet=e,""===e.errMsg&&(e.teamSet.map(function(e,a){t.state.teamMap[e.uuid]=e}),e.poolSet.map(function(e,a){t.state.poolMap[e.uuid]=e}),this.prepareTreeNodes()),this.setState({loading:!1})},componentDidMount:function(){p=[],m=[],this.setState({loading:!0});var e=window.loginData.compUser.corpUuid;h.initResTeam(e)},onSelect:function(e,t){m=e;var a="",l=null;if(null!=t.node&&(a=t.node.props.eventKey,l=this.state.teamMap[a],l||p.push(a)),l)this.props.onSelect(l);else{var i=this.state.poolMap[a];i&&this.props.onSelectPool(i)}},onExpand:function(e,t){p=e},prepareTreeNodes:function(){var e=this.state.dataSet.poolSet,t=this.state.dataSet.teamSet;this.state.rootNodes=u.initTreeNodes2(e,this.prePoolNode,t,this.preTeamNode)},prePoolNode:function(e){var t={};return t.key=e.uuid,t.title=e.poolName,t},preTeamNode:function(e){var t={};return t.key=e.uuid,t.pid=e.poolUuid,t.title=e.teamName,t},render:function(){var e=this.state.loading;if(0===this.state.rootNodes.length)return e?n.default.createElement(s.Spin,{tip:"正在努力加载数据...",style:{minHeight:"200px"}},"加载数据"):n.default.createElement("div",null,"暂时没有数据");var t=n.default.createElement(s.Tree,{defaultExpandedKeys:p,selectedKeys:m,onSelect:this.onSelect,onExpand:this.onExpand},this.state.rootNodes.map(function(e,t){return u.prepareTreeNodes(e)}));return e?n.default.createElement(s.Spin,{tip:"正在努力加载数据...",style:{minHeight:"200px"}},t):t}});e.exports=f},,,,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=a(273),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",poolSet:[],teamSet:[],init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,poolSet:a.poolSet,teamSet:a.teamSet,operation:e,errMsg:t}),r.showError("res-team",e,t)},onRetrieveResTeam:function(e){var t=this,a={corpUuid:e},l=this.getServiceUrl("res-pool/get-by-corp_uuid");n.doRetrieveService(l,a,0,0,0).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.poolSet=a.object.list,t.onRetrieveResTeam2(e)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResTeam2:function(e){var t=this,a={corpUuid:e},l=this.getServiceUrl("res-team/get-by-pool_uuid");n.doRetrieveService(l,a,0,0,0).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.teamSet=a.object.list,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitResTeam:function(e){return this.teamSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResTeam(e)}});e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(1),i=a(136),n=a(3),r=a(11),o=l.createStore({listenables:[i],recordSet:[],init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({recordSet:a.recordSet,operation:e,errMsg:t}),r.showError("res-role",e,t)},onRetrieveResPoolStaff:function(e){var t=this,a={};a.poolUuid=e;var l=this.getServiceUrl("res-role/pool-staff");n.doRetrieveService(l,a,0,0,0).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.list,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResTeamStaff:function(e){var t=this,a={};a.teamUuid=e;var l=this.getServiceUrl("res-role/pool-staff");n.doRetrieveService(l,a,0,0,0).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.list,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(33),o=l(r),s=a(6),d=n.default.createClass({displayName:"HrLayout",getInitialState:function(){return{navItems:[{name:"机构管理",to:"/hr/CorpStaffPage/"},{name:"人员管理",to:"/hr/EmployeePage/"},{name:"工资和休假",to:"/hr/SalaryLogPage/"},{name:"参数管理",to:"/hr/LevelPage/"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:s.hrHome,home:"@/index.html?from=hr",children:this.props.children})}});e.exports=d},function(e,t,a){"use strict";var l=a(1),i=a(163),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:{},recordSet:[],recordSet1:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("emp-benefits",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveEmpBenefits:function(e){var t=this,a=this.getServiceUrl("hr-benefits/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onAddHrBenefits:function(e){var t=this,a=this.getServiceUrl("hr-benefits/retrieve1");n.doRetrieveService(a,e,0,0,0).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1198),h=l(c),p=a(1199),m=l(p),f=a(1),g=u.Input.Search,v=a(6),y=(a(3),a(460)),S=a(337),C="",E=n.default.createClass({displayName:"BranchStaffPage",getInitialState:function(){return{branchStaffSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,branchUuid:"",corpUuid:window.loginData.compUser.corpUuid}},mixins:[f.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,branchStaffSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.branchStaffSet.operation="",S.retrieveHrBranchStaff(this.state.branchUuid)},componentDidMount:function(){this.setState({loading:!0}),this.state.branchUuid=this.props.branchUuid,S.initHrBranchStaff(this.props.branchUuid)},componentWillReceiveProps:function(e){e.branchUuid!==this.state.branchUuid&&(this.state.branchUuid=e.branchUuid,this.setState({loading:!0}),S.retrieveHrBranchStaff(e.branchUuid))},handleOpenCreateWindow:function(e){console.log("this.state",this.state),this.refs.createWindow.clear(this.state.corpUuid,this.state.branchUuid),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的公司 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.branchStaffSet.operation="",S.deleteHrBranchStaff(e.uuid)},onFilterRecord:function(e){C=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=v.filter(this.state.branchStaffSet.recordSet,C),a=[{title:"用户姓名",dataIndex:"perName",key:"perName",width:140},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:140},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:140},{title:"电子邮箱",dataIndex:"email",key:"email",width:140},{title:"职务说明",dataIndex:"jobDesc",key:"jobDesc",width:140},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员信息"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}];return n.default.createElement("div",{className:"grid-page",style:{padding:"58px 0 0 0"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-group-staff/retrieve","hr-group-staff/remove"]}),n.default.createElement("div",{style:{margin:"-58px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加事业群",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:C,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),n.default.createElement(h.default,{ref:"createWindow"}),n.default.createElement(m.default,{ref:"updateWindow"}))}});e.exports=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1207),h=l(c),p=a(1208),m=l(p),f=a(1),g=a(6),v=(a(3),a(461)),y=a(339),S=n.default.createClass({displayName:"CorpStaffPage",getInitialState:function(){return{CorpStaffSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,CorpStaffSet:e})},handleQueryClick:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),this.state.CorpStaffSet.operation="",y.retrieveCorpStaff(t)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),y.initCorpStaff(t)},handleOpenCreateWindow:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的关系人",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.CorpStaffSet.operation="",y.deleteCorpStaff(e.uuid)},render:function(e){var t=this,a=this.state.CorpStaffSet.recordSet,l=[{title:"用户姓名",dataIndex:"perName",key:"perName",width:110},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:110},{title:"办公地址",dataIndex:"officeLoc",key:"officeLoc",width:300},{title:" ",key:"action",width:70,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickUpdate.bind(t,a),title:"修改关系人"},n.default.createElement(u.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDelete.bind(t,a),title:"删除关系人"},n.default.createElement(u.Icon,{type:g.iconRemove})))}}],i=g.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:i.padding}},n.default.createElement("div",{style:{margin:i.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_corp_staff/retrieve","hr_corp_staff/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(u.Button,{icon:g.iconAdd,type:"primary",title:"增加关系人",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:l,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(h.default,{ref:"createWindow"}),n.default.createElement(m.default,{ref:"updateWindow"}))}});e.exports=S},function(e,t,a){"use strict";var l=a(1),i=a(145),n=a(3),r=a(11),o=l.createStore({listenables:[i],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("p_emp_job",e,t)},onRetrievePersonEmpJob:function(e){var t=this,a=this.getServiceUrl("hr_emp_job/get-by-user_uuid");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onAddHrEmpJob:function(e){var t=this,a=this.getServiceUrl("hr_emp_job/retrieve");n.doRetrieveService(a,e,0,0,0).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(12),u=l(d),c=a(19),h=l(c),p=a(77),m=l(p),f=a(7),g=l(f),v=a(9),y=l(v),S=a(109),C=l(S),E=a(466),b=l(E),w=a(467),x=l(w),k=a(1),N=s.Form.Item,D=s.AutoComplete.Option,R=s.Input.Group,_=s.Tabs.TabPane,P=a(6),U=a(218),L=a(113),I=r.default.createClass({displayName:"CreateEmployeePage",getInitialState:function(){return{afterChange:this.afterChange,employeeSet:{errMsg:""},loading:!1,employee:{},hints:{},validRules:[],result:[]}},mixins:[k.listenTo(U,"onServiceComplete"),(0,y.default)("employee")],onServiceComplete:function(e){if("create"===e.operation)if(""===e.errMsg){var t=this.refs.jobPage.state.empJob;this.goBack();var a=this.props.funcCreateUser;if(null!==a&&void 0!==a){for(var l=null,i=this.state.employee.staffCode,n=e.recordSet.length,r=0;r<n;r++){var o=e.recordSet[r];if(o.staffCode==i){l=o;break}}null!==l&&a(l,t)}}else this.setState({loading:!1,employeeSet:e})},componentDidMount:function(){this.state.validRules=[{id:"idType",desc:"证件类型",required:!0,max:"32"},{id:"idCode",desc:"证件编号",required:!0,validator:this.checkIcCode,max:"64"},{id:"gender",desc:"性别",required:!1,max:"32"},{id:"birthDate",desc:"出生日期",required:!1,max:"32"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"staffCode",desc:"员工编号",required:!0,max:"64"},{id:"jobTitle",desc:"职位",required:!1,max:"64"},{id:"entryDate",desc:"入职时间",required:!0,max:"24"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"32"},{id:"email",desc:"电子邮箱",required:!0,dataType:"email",max:"64"},{id:"household",desc:"户口城市",required:!1,max:"32"},{id:"eduCollege",desc:"毕业院校",required:!1,max:"128"},{id:"eduDegree",desc:"最高学历",required:!1,max:"64"},{id:"profession",desc:"专业",required:!1,max:"32"},{id:"gradDate",desc:"毕业日期",required:!1,max:"32"},{id:"diplomaId",desc:"证书编号",required:!1,max:"32"},{id:"workYears",desc:"工作年限",required:!1,max:"32"},{id:"induYears",desc:"行业经验",required:!1,max:"32"},{id:"baseCity",desc:"归属地",required:!1,max:"32"},{id:"status",desc:"状态",required:!1,max:"10"}],this.clear(this.props.dept)},handleKeyDown:function(e){if(73==e.keyCode&&e.ctrlKey&&e.altKey){var t=this.refs.QuickFillWindow;t&&(t.initPage(this.state.validRules),t.toggle())}},checkIcCode:function(e,t,a){var l=this.state.employee;if("身份证"===l.idType)return P.checkDataType(e,"idcard18")},clear:function(e){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.employee.eduDegree="",this.state.employee.eduCollege="",this.state.employee.workYears="",this.state.employee.induYears="",this.state.employee.idType="",this.state.employee.idCode="",this.state.employee.perName="",this.state.employee.staffCode="",this.state.employee.jobTitle="",this.state.employee.phoneno="",this.state.employee.email="",this.state.employee.baseCity="",this.state.employee.entryDate="",this.state.employee.status="2",this.state.employee.deptUuid=e.uuid,this.state.employee.deptName=e.deptName,this.state.employee.corpUuid=e.corpUuid,void 0!==this.refs.jobPage&&this.refs.jobPage.clear(),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({loading:!1})},handleOnChange2:function(e){var t=1,a=e.target.id,l=a.indexOf("_"),i=a.substr(l+1);"2"===i&&(t=2),a=a.substr(0,l);var n=this.state.employee,r=n[a],o="0";l=r.indexOf("."),l>0&&(o=r.substr(l+1),r=r.substr(0,l)),1===t?(r=e.target.value,""===r&&(r="0")):(o=e.target.value,""===o&&(o="0"),""===r&&(r="0")),n[a]=r+"."+o,P.validator(this,n,a),this.setState({loading:this.state.loading})},getDisplayValue:function(e){var t=e,a="";if(void 0!==t&&null!==t){var l=t.indexOf(".");l>0&&(a=t.substr(l+1),t=t.substr(0,l),a=""+parseInt(a),t=""+parseInt(t),"0"===a&&(a=""),"0"===t&&(t=""))}return{y:t,m:a}},onTabChange:function(e){"1"===e&&this.goBack()},goBack:function(){window.removeEventListener("keydown",this.handleKeyDown),this.props.onBack()},afterChange:function(e,t){if("idCode"===e&&"身份证"===this.state.employee.idType&&18===t.length){var a=t.substr(6,8),l=t.substr(16,1);this.state.employee.birthDate=a,this.state.employee.gender=l%2==0?"woman":"man"}},onClickSave:function(){if(P.formValidator(this,this.state.employee)&&this.refs.jobPage.checkValue()){var e=this.state.employee;this.refs.jobPage.fun();var t=this.refs.jobPage.state.empJob;t.uuid="",t.userUuid="",t.corpUuid=e.corpUuid,t.staffCode=e.staffCode,t.perName=e.perName,t.deptName=e.deptName,t.approver="",t.effectDate=e.entryDate,t.chgReason="入职";var a={os:e,oj:t};this.setState({loading:!0}),L.createHrEmployee(a)}},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:P.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.employee;t.email=e,P.validator(this,t,"email"),this.setState({loading:this.state.loading})},onSearchCode:function(){var e=window.loginData.compUser.corpUuid;this.refs.codePage.initStaff(e),this.refs.codePage.toggle()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:5},wrapperCol:"vertical"==e?null:{span:19}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},n=this.state.result,o=n.map(function(e){return r.default.createElement(D,{key:e},e)}),d=this.state.employee,c=this.getDisplayValue(d.workYears),p=this.getDisplayValue(d.induYears),f=this.state.hints,v=r.default.createElement(s.Form,{layout:e},r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"证件类型",required:!0,colon:!0,className:t,help:f.idTypeHint,validateStatus:f.idTypeStatus}),r.default.createElement(u.default,{name:"idType",id:"idType",value:this.state.employee.idType,appName:"简历系统",optName:"证件类型",onSelect:this.handleOnSelected.bind(this,"idType")}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"证件编号",required:!0,colon:!0,className:t,help:f.idCodeHint,validateStatus:f.idCodeStatus}),r.default.createElement(s.Input,{type:"text",name:"idCode",id:"idCode",value:this.state.employee.idCode,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"姓名",required:!0,colon:!0,className:t,help:f.perNameHint,validateStatus:f.perNameStatus}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.employee.perName,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"员工编号",required:!0,colon:!0,className:t,help:f.staffCodeHint,validateStatus:f.staffCodeStatus}),r.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.employee.staffCode,onChange:this.handleOnChange,addonAfter:r.default.createElement(s.Icon,{type:"search",onClick:this.onSearchCode})})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"性别",required:!1,colon:!0,className:t,help:f.genderHint,validateStatus:f.genderStatus}),r.default.createElement(h.default,{name:"gender",id:"gender",value:this.state.employee.gender,appName:"简历系统",optName:"性别",onChange:this.onRadioChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"出生日期",required:!1,colon:!0,className:t,help:f.birthDateHint,validateStatus:f.birthDateStatus}),r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"birthDate",id:"birthDate",value:this.formatDate(this.state.employee.birthDate,P.dateFormat),format:P.dateFormat,onChange:this.handleOnSelDate.bind(this,"birthDate",P.dateFormat)})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"职位",required:!1,colon:!0,className:t,help:f.jobTitleHint,validateStatus:f.jobTitleStatus}),r.default.createElement(s.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.employee.jobTitle,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"入职时间",required:!0,colon:!0,className:t,help:f.entryDateHint,validateStatus:f.entryDateStatus}),r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"entryDate",id:"entryDate",value:this.formatDate(this.state.employee.entryDate,P.dateFormat),format:P.dateFormat,onChange:this.handleOnSelDate.bind(this,"entryDate",P.dateFormat)})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:f.phonenoHint,validateStatus:f.phonenoStatus}),r.default.createElement(s.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.employee.phoneno,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"电子邮箱",required:!0,colon:!0,className:t,help:f.emailHint,validateStatus:f.emailStatus}),r.default.createElement(s.AutoComplete,{name:"email",id:"email",value:this.state.employee.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},o)))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"户口城市",required:!1,colon:!0,className:t,help:f.householdHint,validateStatus:f.householdStatus}),r.default.createElement(s.Input,{type:"text",name:"household",id:"household",value:this.state.employee.household,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"毕业院校",required:!1,colon:!0,className:t,help:f.eduCollegeHint,validateStatus:f.eduCollegeStatus}),r.default.createElement(s.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.employee.eduCollege,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"最高学历",required:!0,colon:!0,className:t,help:f.eduDegreeHint,validateStatus:f.eduDegreeStatus}),r.default.createElement(u.default,{name:"eduDegree",id:"eduDegree",value:this.state.employee.eduDegree,appName:"简历系统",optName:"教育背景",onSelect:this.handleOnSelected.bind(this,"eduDegree")}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"专业",required:!1,colon:!0,className:t,help:f.professionHint,validateStatus:f.professionStatus}),r.default.createElement(m.default,{name:"profession",id:"profession",paramName:"专业",value:this.state.employee.profession,onChange:this.handleOnSelected.bind(this,"profession")})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"毕业日期",required:!0,colon:!0,className:t,help:f.gradDateHint,validateStatus:f.gradDateStatus}),r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"gradDate",id:"gradDate",value:this.formatDate(this.state.employee.gradDate,P.dateFormat),format:P.dateFormat,onChange:this.handleOnSelDate.bind(this,"gradDate",P.dateFormat)}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"证书编号",required:!1,colon:!0,className:t,help:f.diplomaIdHint,validateStatus:f.diplomaIdStatus}),r.default.createElement(s.Input,{type:"text",name:"diplomaId",id:"diplomaId",value:this.state.employee.diplomaId,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"工作年限",required:!0,colon:!0,className:t,help:f.workYearsHint,validateStatus:f.workYearsStatus}),r.default.createElement(s.Col,{span:"11"},r.default.createElement(R,{compact:!0},r.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"workYears_1",id:"workYears_1",value:c.y,onChange:this.handleOnChange2}),r.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),r.default.createElement(s.Col,{span:"2"}),r.default.createElement(s.Col,{span:"11"},r.default.createElement(R,{compact:!0},r.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"workYears_2",id:"workYears_2",value:c.m,onChange:this.handleOnChange2}),r.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0}))))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"行业经验",required:!1,colon:!0,className:t,help:f.induYearsHint,validateStatus:f.induYearsStatus}),r.default.createElement(s.Col,{span:"11"},r.default.createElement(R,{compact:!0},r.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"induYears_1",id:"induYears_1",value:p.y,onChange:this.handleOnChange2}),r.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),r.default.createElement(s.Col,{span:"2"}),r.default.createElement(s.Col,{span:"11"},r.default.createElement(R,{compact:!0},r.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"induYears_2",id:"induYears_2",value:p.m,onChange:this.handleOnChange2}),r.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0})))))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(N,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:f.baseCityHint,validateStatus:f.baseCityStatus}),r.default.createElement(m.default,{name:"baseCity",id:"baseCity",paramName:"城市",value:this.state.employee.baseCity,onChange:this.handleOnSelected.bind(this,"baseCity")}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(N,i({},l,{label:"状态",required:!1,colon:!0,className:t,help:f.statusHint,validateStatus:f.statusStatus}),r.default.createElement(h.default,{name:"status",id:"status",value:this.state.employee.status,appName:"HR系统",optName:"员工状态",onChange:this.onRadioChange})))));return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"
}},r.default.createElement(_,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(_,{tab:"增加员工#",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"16px 0 16px 8px",height:"100%",width:"100%",overflowY:"auto"}},r.default.createElement(g.default,{ref:"mxgBox",svcList:["hr-employee/create"]}),r.default.createElement("div",{style:{width:"100%",maxWidth:"740px",margin:"12px 0 0 24px"}},v,r.default.createElement(b.default,{ref:"jobPage"}),r.default.createElement(x.default,{ref:"codePage"}),r.default.createElement(s.Form,{layout:e},r.default.createElement(N,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))),r.default.createElement(C.default,{ref:"QuickFillWindow",self:this,object:"employee"}))))))}});t.default=I},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=l(d),c=a(70),h=l(c),p=a(12),m=l(p),f=a(4),g=(a(1),a(6)),v=f.DatePicker.MonthPicker,y=f.Form.Item,S=(f.Select.Option,r.default.createClass({displayName:"EmployeeFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],filter:{corpUuid:window.loginData.compUser.corpUuid,perName:"",staffCode:"",baseCity:"",deptUuid:"",eduDegree:"",induYear:"",status:"",entryMonth:""}}},mixins:[(0,u.default)("filter")],componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"staffCode",desc:"员工编号",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"deptUuid",desc:"部门名称",required:!1,max:"0"},{id:"eduDegree",desc:"最高学历",required:!1,max:"0"},{id:"induYear",desc:"行业经验",required:!1,max:"0"},{id:"status",desc:"状态",required:!1,max:"0"},{id:"entryMonth",desc:"入职月份",required:!1,max:"0"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%"}},r.default.createElement(f.Form,{layout:e,style:{width:"100%"}},r.default.createElement(f.Row,{gutter:18},r.default.createElement(f.Col,{className:"gutter-row",span:6},r.default.createElement(y,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(f.Input,{type:"text",name:"perName",id:"perName",value:this.state.filter.perName,onChange:this.handleOnChange}))),r.default.createElement(f.Col,{className:"gutter-row",span:6},r.default.createElement(y,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(f.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.filter.staffCode,onChange:this.handleOnChange}))),r.default.createElement(f.Col,{className:"gutter-row",span:6},r.default.createElement(y,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:l.baseCityHint,validateStatus:l.baseCityStatus}),r.default.createElement(f.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.filter.baseCity,onChange:this.handleOnChange}))),r.default.createElement(f.Col,{className:"gutter-row",span:6},r.default.createElement(y,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:l.deptUuidHint,validateStatus:l.deptUuidStatus}),r.default.createElement(h.default,{name:"deptUuid",id:"deptUuid",value:this.state.filter.deptUuid,onSelect:this.handleOnSelected.bind(this,"deptUuid")})))),r.default.createElement(f.Row,{gutter:18},r.default.createElement(f.Col,{className:"gutter-row",span:6},r.default.createElement(y,i({},a,{label:"最高学历",required:!1,colon:!0,className:t,help:l.eduDegreeHint,validateStatus:l.eduDegreeStatus}),r.default.createElement(m.default,{name:"eduDegree",id:"eduDegree",value:this.state.filter.eduDegree,appName:"简历系统",optName:"教育背景",onSelect:this.handleOnSelected.bind(this,"eduDegree")}))),r.default.createElement(f.Col,{className:"gutter-row",span:6},r.default.createElement(y,i({},a,{label:"行业经验",required:!1,colon:!0,className:t,help:l.induYearHint,validateStatus:l.induYearStatus}),r.default.createElement(f.Input,{type:"text",name:"induYear",id:"induYear",value:this.state.filter.induYear,onChange:this.handleOnChange}))),r.default.createElement(f.Col,{className:"gutter-row",span:6},r.default.createElement(y,i({},a,{label:"状态",required:!1,colon:!0,className:t,help:l.statusHint,validateStatus:l.statusStatus}),r.default.createElement(m.default,{name:"status",id:"status",value:this.state.filter.status,appName:"HR系统",optName:"员工状态",onSelect:this.handleOnSelected.bind(this,"status")}))),r.default.createElement(f.Col,{className:"gutter-row",span:6},r.default.createElement(y,i({},a,{label:"入职月份",required:!1,colon:!0,className:t,help:l.entryMonthHint,validateStatus:l.entryMonthStatus}),r.default.createElement(v,{style:{width:"100%"},name:"entryMonth",id:"entryMonth",value:this.formatMonth(this.state.filter.entryMonth,g.monthFormat),format:g.monthFormat,onChange:this.handleOnSelDate.bind(this,"entryMonth",g.monthFormat)})))))))}}));e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(12),u=l(d),c=a(19),h=l(c),p=a(77),m=l(p),f=a(7),g=l(f),v=a(9),y=l(v),S=a(1),C=s.Form.Item,E=s.AutoComplete.Option,b=s.Input.Group,w=a(6),x=a(3),k=a(218),N=a(113),D=r.default.createClass({displayName:"UpdateEmployeePage",getInitialState:function(){return{employeeSet:{operation:"",errMsg:""},loading:!1,modal:!1,employee:{},hints:{},validRules:[],result:[]}},mixins:[S.listenTo(k,"onServiceComplete"),(0,y.default)("employee")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,employeeSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"idType",desc:"证件类型",required:!0,max:"32"},{id:"idCode",desc:"证件编号",required:!0,validator:this.checkIcCode,max:"64"},{id:"gender",desc:"性别",required:!1,max:"32"},{id:"birthDate",desc:"出生日期",required:!1,max:"32"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"staffCode",desc:"员工编号",required:!0,max:"64"},{id:"jobTitle",desc:"职位",required:!1,max:"64"},{id:"entryDate",desc:"入职时间",required:!0,max:"24"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"32"},{id:"email",desc:"电子邮箱",required:!0,dataType:"email",max:"64"},{id:"household",desc:"户口城市",required:!1,max:"32"},{id:"eduCollege",desc:"毕业院校",required:!1,max:"128"},{id:"eduDegree",desc:"最高学历",required:!1,max:"64"},{id:"profession",desc:"专业",required:!1,max:"32"},{id:"gradDate",desc:"毕业日期",required:!1,max:"32"},{id:"diplomaId",desc:"证书编号",required:!1,max:"32"},{id:"workYears",desc:"工作年限",required:!1,max:"32"},{id:"induYears",desc:"行业经验",required:!1,max:"32"},{id:"baseCity",desc:"归属地",required:!1,max:"32"},{id:"status",desc:"状态",required:!1,max:"10"},{id:"formalDate",desc:"转正日期",required:!1,max:"32"}]},checkIcCode:function(e,t,a){var l=this.state.employee;if("身份证"===l.idType)return w.checkDataType(e,"idcard18")},initPage:function(e){this.state.hints={},x.copyValue(e,this.state.employee),this.state.loading=!1,this.state.employeeSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},handleOnChange2:function(e){var t=1,a=e.target.id,l=a.indexOf("_"),i=a.substr(l+1);"2"===i&&(t=2),a=a.substr(0,l);var n=this.state.employee,r=n[a],o="0";void 0===r||null===r?r="0":(l=r.indexOf("."),l>0&&(o=r.substr(l+1),r=r.substr(0,l))),1===t?(r=e.target.value,""===r&&(r="0")):(o=e.target.value,""===o&&(o="0"),""===r&&(r="0")),n[a]=r+"."+o,w.validator(this,n,a),this.setState({modal:this.state.modal})},getDisplayValue:function(e){var t=e,a="";if(void 0!==t&&null!==t){var l=t.indexOf(".");l>0&&(a=t.substr(l+1),t=t.substr(0,l),a=""+parseInt(a),t=""+parseInt(t),"0"===a&&(a=""),"0"===t&&(t=""))}return{y:t,m:a}},onClickSave:function(){w.formValidator(this,this.state.employee)&&(this.state.employeeSet.operation="",this.setState({loading:!0}),N.updateHrEmployee(this.state.employee))},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:w.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.employee;t.email=e,w.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:5},wrapperCol:"vertical"==e?null:{span:19}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},n=this.state.employee,o=this.getDisplayValue(n.workYears),d=this.getDisplayValue(n.induYears),c=this.state.result,p=c.map(function(e){return r.default.createElement(E,{key:e},e)}),f=this.state.hints;return r.default.createElement(s.Modal,{visible:this.state.modal,width:"800px",title:"修改员工信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(g.default,{ref:"mxgBox",svcList:["hr-employee/update"]}),r.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(s.Form,{layout:e},r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"证件类型",required:!0,colon:!0,className:t,help:f.idTypeHint,validateStatus:f.idTypeStatus}),r.default.createElement(u.default,{name:"idType",id:"idType",disabled:!0,value:this.state.employee.idType,appName:"简历系统",optName:"证件类型",onSelect:this.handleOnSelected.bind(this,"idType")}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"证件编号",required:!0,colon:!0,className:t,help:f.idCodeHint,validateStatus:f.idCodeStatus}),r.default.createElement(s.Input,{type:"text",name:"idCode",id:"idCode",disabled:!0,value:this.state.employee.idCode,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"性别",required:!1,colon:!0,className:t,help:f.genderHint,validateStatus:f.genderStatus}),r.default.createElement(h.default,{name:"gender",id:"gender",value:this.state.employee.gender,appName:"简历系统",optName:"性别",onChange:this.onRadioChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"出生日期",required:!1,colon:!0,className:t,help:f.birthDateHint,validateStatus:f.birthDateStatus}),r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"birthDate",id:"birthDate",value:this.formatDate(this.state.employee.birthDate,w.dateFormat),format:w.dateFormat,onChange:this.handleOnSelDate.bind(this,"birthDate",w.dateFormat)})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"姓名",required:!0,colon:!0,className:t,help:f.perNameHint,validateStatus:f.perNameStatus}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.employee.perName,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"员工编号",required:!0,colon:!0,className:t,help:f.staffCodeHint,validateStatus:f.staffCodeStatus}),r.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",disabled:!0,value:this.state.employee.staffCode,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"职位",required:!1,colon:!0,className:t,help:f.jobTitleHint,validateStatus:f.jobTitleStatus}),r.default.createElement(s.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.employee.jobTitle,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"入职时间",required:!0,colon:!0,className:t,help:f.entryDateHint,validateStatus:f.entryDateStatus}),r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"entryDate",id:"entryDate",value:this.formatDate(this.state.employee.entryDate,w.dateFormat),format:w.dateFormat,onChange:this.handleOnSelDate.bind(this,"entryDate",w.dateFormat)})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:f.phonenoHint,validateStatus:f.phonenoStatus}),r.default.createElement(s.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.employee.phoneno,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"电子邮箱",required:!0,colon:!0,className:t,help:f.emailHint,validateStatus:f.emailStatus}),r.default.createElement(s.AutoComplete,{name:"email",id:"email",value:this.state.employee.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},p)))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"户口城市",required:!1,colon:!0,className:t,help:f.householdHint,validateStatus:f.householdStatus}),r.default.createElement(s.Input,{type:"text",name:"household",id:"household",value:this.state.employee.household,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"毕业院校",required:!1,colon:!0,className:t,help:f.eduCollegeHint,validateStatus:f.eduCollegeStatus}),r.default.createElement(s.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.employee.eduCollege,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"最高学历",required:!0,colon:!0,className:t,help:f.eduDegreeHint,validateStatus:f.eduDegreeStatus}),r.default.createElement(u.default,{name:"eduDegree",id:"eduDegree",value:this.state.employee.eduDegree,appName:"简历系统",optName:"教育背景",onSelect:this.handleOnSelected.bind(this,"eduDegree")}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"专业",required:!1,colon:!0,className:t,help:f.professionHint,validateStatus:f.professionStatus}),r.default.createElement(m.default,{name:"profession",id:"profession",paramName:"专业",value:this.state.employee.profession,onChange:this.handleOnSelected.bind(this,"profession")})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"毕业日期",required:!0,colon:!0,className:t,help:f.gradDateHint,validateStatus:f.gradDateStatus}),r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"gradDate",id:"gradDate",value:this.formatDate(this.state.employee.gradDate,w.dateFormat),format:w.dateFormat,onChange:this.handleOnSelDate.bind(this,"gradDate",w.dateFormat)}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"证书编号",required:!1,colon:!0,className:t,help:f.diplomaIdHint,validateStatus:f.diplomaIdStatus}),r.default.createElement(s.Input,{type:"text",name:"diplomaId",id:"diplomaId",value:this.state.employee.diplomaId,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"工作年限",required:!0,colon:!0,className:t,help:f.workYearsHint,validateStatus:f.workYearsStatus}),r.default.createElement(s.Col,{span:"11"},r.default.createElement(b,{compact:!0},r.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"workYears_1",id:"workYears_1",value:o.y,onChange:this.handleOnChange2}),r.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),r.default.createElement(s.Col,{span:"2"}),r.default.createElement(s.Col,{span:"11"},r.default.createElement(b,{compact:!0},r.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"workYears_2",id:"workYears_2",value:o.m,onChange:this.handleOnChange2}),r.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0}))))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"行业经验",required:!1,colon:!0,className:t,help:f.induYearsHint,validateStatus:f.induYearsStatus}),r.default.createElement(s.Col,{span:"11"},r.default.createElement(b,{compact:!0},r.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"induYears_1",id:"induYears_1",value:d.y,onChange:this.handleOnChange2}),r.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),r.default.createElement(s.Col,{span:"2"}),r.default.createElement(s.Col,{span:"11"},r.default.createElement(b,{compact:!0},r.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"induYears_2",id:"induYears_2",value:d.m,onChange:this.handleOnChange2}),r.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0})))))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"状态",required:!1,colon:!0,className:t,help:f.statusHint,validateStatus:f.statusStatus}),r.default.createElement(h.default,{name:"status",id:"status",disabled:!0,value:this.state.employee.status,appName:"HR系统",optName:"员工状态",onChange:this.onRadioChange}))),r.default.createElement(s.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"转正日期",required:!1,colon:!0,className:t,help:f.formalDateHint,validateStatus:f.formalDateStatus}),r.default.createElement(s.Input,{type:"text",name:"formalDate",id:"formalDate",disabled:!0,value:this.state.employee.formalDate,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"11"},r.default.createElement(C,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:f.baseCityHint,validateStatus:f.baseCityStatus}),r.default.createElement(s.Input,{type:"text",name:"baseCity",id:"baseCity",disabled:!0,value:this.state.employee.baseCity,onChange:this.handleOnChange}))))))}});t.default=D},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1238),h=l(c),p=a(340),m=l(p),f=a(697),g=l(f),v=a(465),y=l(v),S=a(694),C=(l(S),a(1),u.Tabs.TabPane),E=a(6),b=(a(3),n.default.createClass({displayName:"EmployeePage",getInitialState:function(){return{employee:null,action:"query",dept:{}}},componentDidMount:function(){},onSelectDept:function(e){null===e?this.refs.empTable.loadData(null):this.refs.empTable.loadData(e)},onViewEmployee:function(e){this.setState({employee:e})},onTabChange:function(e){"1"===e&&this.setState({employee:null})},onGoBack:function(){this.setState({action:"query"})},onCreateStaff:function(e){this.state.dept=e,"undefined"!=typeof e.uuid&&this.setState({action:"create"})},nextCreateUser:function(e,t){this.refs.nextWindow.toggle(),this.refs.nextWindow.initStaff(e,t)},render:function(){var e="",t=this.state.employee;null===t&&"query"===this.state.action||(e="none");var a=E.getGridMargin(this,0),l=n.default.createElement("div",{className:"grid-page",style:{padding:a.padding,display:e}},n.default.createElement("div",{style:{margin:a.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_dept/retrieve","hr-employee/retrieve","hr-employee/remove"]})),n.default.createElement("div",{style:{display:"flex",height:"100%"}},n.default.createElement("div",{className:"left-tree",style:{flex:"0 0 230px",width:"230px",overflowY:"auto",overflowX:"hidden"}},n.default.createElement(m.default,{onSelectDept:this.onSelectDept})),n.default.createElement("div",{style:{width:"100%"}},n.default.createElement(h.default,{ref:"empTable",onViewEmployee:this.onViewEmployee,onCreateStaff:this.onCreateStaff,funcCreateUser:this.nextCreateUser}))));if(null===t){var i=null;return"create"===this.state.action&&(i=n.default.createElement(g.default,{dept:this.state.dept,onBack:this.onGoBack,funcCreateUser:this.nextCreateUser})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},l,i,n.default.createElement(y.default,{ref:"nextWindow"}))}var r=n.default.createElement("div",{className:"tab-page"},n.default.createElement(u.Tabs,{ref:"EmpTabs",defaultActiveKey:"20",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(C,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(C,{tab:"岗位",key:"30",style:{width:"100%",height:"100%"}}),n.default.createElement(C,{tab:"工资福利",key:"40",style:{width:"100%",height:"100%"}}),n.default.createElement(C,{tab:"假日管理",key:"50",style:{width:"100%",height:"100%"}}),n.default.createElement(C,{tab:"劳动合同",key:"60",style:{width:"100%",height:"100%"}}),n.default.createElement(C,{tab:"工资单",key:"70",style:{width:"100%",height:"100%"}}),n.default.createElement(C,{tab:"报销记录",key:"80",style:{width:"100%",height:"100%"}}),n.default.createElement(C,{tab:"休假记录",key:"90",style:{width:"100%",height:"100%"}}),n.default.createElement(C,{tab:"调薪记录",key:"100",style:{width:"100%",height:"100%"}}),n.default.createElement(C,{tab:"工作调动",key:"110",style:{width:"100%",height:"100%"}})));return n.default.createElement("div",{style:{width:"100%",height:"100%"}},l,r)}}));e.exports=b},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(23),o=l(r),s={children:n.default.PropTypes.node},d=n.default.createClass({displayName:"HrPageIndex",getInitialState:function(){return{navItems:[{name:"工资和报销",icon:"home",to:"man_salary",childItems:[{name:"工资单录入",to:"/hr/SalaryLogPage/"},{name:"报销单录入",to:"/hr/AllowLogPage/"}]},{name:"休假管理",icon:"home",to:"man_leave",childItems:[{name:"休假数量维护",to:"/hr/LeavePage/"},{name:"假日明细登记",to:"/hr/LeaveDetailRegPage/"},{name:"休假记录维护",to:"/hr/LeaveLogRegPage/"}]}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/hr/SalaryLogPage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=(a(6),h.Form.Item),f=(h.Select.Option,a(1257)),g=a(703),v=a(220),y=a(264),S=r.default.createClass({displayName:"JobFactorPage",getInitialState:function(){return{jobFactorSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},workFactorSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,errMsg:""},jobLoading:!1,workLoading:!1,modal:!1,factorList:[],jobUuid:"",hints:{},validRules:[]}},mixins:[p.listenTo(f,"onServiceComplete1"),p.listenTo(y,"onServiceComplete2"),(0,c.default)("jobFactor")],onServiceComplete1:function(e){this.setState({jobLoading:!1,jobFactorSet:e}),this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({jobLoading:!1,jobFactorSet:e})),this.doFillter()},onServiceComplete2:function(e){this.setState({workLoading:!1,workFactorSet:e}),this.doFillter()},componentDidMount:function(){this.state.validRules=[]},clear:function(e,t,a){this.state.hints={},this.state.workLoading=!1,this.state.jobLoading=!1,this.state.jobFactorSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},fillterList:function(){var e=this,t=[],a=this.state.jobFactorSet.recordSet,l=this.state.workFactorSet.recordSet,i=a.length;l.map(function(l,n){for(var r={kpiName:l.kpiName,workUuid:l.workUuid,jobUuid:e.state.jobUuid,factorUuid:l.uuid},o=0;o<i;o++)if(a[o].factorUuid===l.uuid){r.kpiValue=a[o].kpiValue,r.uuid=a[o].uuid;break}t.push(r)}),this.setState({factorList:t})},doFillter:function(){var e=this.state.jobLoading||this.state.workLoading;e||this.fillterList()},onClickSave:function(){var e=this.state.factorList;console.log(e);var t=[];e.map(function(e,a){(e.uuid||e.kpiValue)&&t.push(e)}),this.state.jobFactorSet.operation="",this.setState({jobLoading:!0}),g.createHrJobFactorValue(t)},loadFactor:function(e,t){this.setState({workLoading:!0,jobLoading:!0,jobUuid:t}),g.initHrJobFactorValue(e,t),v.initHrWorkFactor(e)},onValueChange:function(e,t){var a=this.state.factorList;a[e].kpiValue=t.target.value,this.setState({modal:this.state.modal})},render:function(){var e=this,t="horizontal",a="form-item-"+t,l={labelCol:"vertical"==t?null:{span:4},wrapperCol:"vertical"==t?null:{span:20}},n=this.state.hints,o=this.state.jobLoading||this.state.workLoading,s=this.state.factorList,u=r.default.createElement(h.Form,{layout:t},s.map(function(t,o){return r.default.createElement(m,i({},l,{label:t.kpiName,required:!1,colon:!0,className:a,help:n.jobCodeHint,validateStatus:n.jobCodeStatus}),r.default.createElement(h.Input,{type:"text",name:t.uuid,id:t.uuid,value:e.state.factorList[o].kpiValue,onChange:e.onValueChange.bind(e,o)}))}));return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"岗位指标维护",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-work-factor/retrieve","hr-job-factor-value/retrieve1","hr-job-factor-value/create"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.jobLoading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},o?r.default.createElement(h.Spin,null,u):u)}});t.default=S},function(e,t,a){"use strict";var l=a(1),i=l.createActions(["createHrJobFactorValue","deleteHrJobFactorValue","updateHrJobFactorValue","retrieveHrJobFactorValue","retrieveHrJobFactorValuePage","initHrJobFactorValue"]);e.exports=i},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(9),c=(l(u),a(1259)),h=l(c),p=a(4),m=a(1258),f=l(m),g=a(1261),v=l(g),y=a(1),S=p.Input.Search,C=a(6),E=(a(3),a(344)),b=a(97),w=10,x=n.default.createClass({displayName:"LeavePage",getInitialState:function(){return{leaveSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},action:"query",leave:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[y.listenTo(E,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.LeaveFilterForm;null!==a&&"undefined"!=typeof a&&(a.state.leave=this.state.filter)}}this.setState({loading:!1,leaveSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.leaveSet.operation="",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",b.retrieveHrLeavePage(this.state.filter,this.state.leaveSet.startPage,w)},componentDidMount:function(){b.getCacheData()},onClickDelete:function(e,t){p.Modal.confirm({title:"删除确认",content:"是否删除选中的假日 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.leaveSet.operation="",b.deleteHrLeave(e.uuid)},toggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onSearch3:function(){var e=this.refs.LeaveFilterForm.state.leave;null!==e.entryMonth&&""!==e.entryMonth&&(e.entryDate1=e.entryMonth+"01",e.entryDate2=e.entryMonth+"31"),this.state.filter=e,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;C.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onChangePage:function(e){this.state.leaveSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){w=t,this.handleQueryClick()},onClickUpdate:function(e,t){this.setState({leave:e,action:"update"})},handleCreate:function(e){this.setState({action:"create"})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:120},{title:"姓名",dataIndex:"perName",key:"perName",width:120},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:140},{title:"年假",dataIndex:"annual",key:"annual",width:120},{title:"调休",dataIndex:"dayoff",key:"dayoff",width:120},{title:"",key:"action",width:60,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},n.default.createElement(p.Icon,{type:C.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"详情"},n.default.createElement(p.Icon,{type:C.iconDetail})))}}],a=this.state.leaveSet.recordSet,l=this.state.moreFilter,i="query"===this.state.action?"":"none",r={showQuickJumper:!0,total:this.state.leaveSet.totalRow,pageSize:this.state.leaveSet.pageRow,current:this.state.leaveSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=(C.getGridMargin(this),n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leave/retrieve","hr-leave/remove"]}),n.default.createElement(h.default,{ref:"LeaveFilterForm",moreFilter:l}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(p.Button,{icon:C.iconAdd,type:"primary",title:"增加假日",onClick:this.handleCreate}),n.default.createElement(p.Button,{icon:C.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),l?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(p.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading},"查询"),n.default.createElement(p.Button,{title:"快速条件",onClick:this.toggle,style:{marginLeft:"8px"}},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(S,{placeholder:"查询（员工编号/员工姓名）",onSearch:this.onSearch,value:this.state.filterValue,onChange:this.onChangeFilter,style:{width:"220px"}}),n.default.createElement(p.Button,{title:"更多条件",onClick:this.toggle,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(p.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:r,bordered:C.tableBorder})))),s=null;
return"create"===this.state.action?s=n.default.createElement(f.default,{onBack:this.onGoBack}):"update"===this.state.action&&(s=n.default.createElement(v.default,{onBack:this.onGoBack,leave:this.state.leave})),n.default.createElement("div",{style:{width:"100%"}},o,s)}});e.exports=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1281),h=l(c),p=a(1282),m=l(p),f=a(1),g=a(6),v=(a(3),a(89)),y=a(72),S=n.default.createClass({displayName:"LevelPage",getInitialState:function(){return{LevelSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,LevelSet:e})},handleQueryClick:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),this.state.LevelSet.operation="",y.retrieveHrLevel(t)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),y.initHrLevel(t)},handleOpenCreateWindow:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的管理 【"+e.lvlCode+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.LevelSet.operation="",y.deleteHrLevel(e.uuid)},render:function(e){var t=this,a=this.state.LevelSet.recordSet,l=[{title:"级别编号",dataIndex:"lvlCode",key:"lvlCode",width:140},{title:"级别名称",dataIndex:"lvlName",key:"lvlName",width:140},{title:"平均薪水",dataIndex:"lvlSalary",key:"lvlSalary",width:140},{title:"员工比例",dataIndex:"lvlRatio",key:"lvlRatio",width:120},{title:"结算单价",dataIndex:"unitPrice",key:"unitPrice",width:140,render:function(e,t){return e+" "+t.unitTime}},{title:"平均成本",dataIndex:"unitCost",key:"unitCost",width:100},{title:"级别说明",dataIndex:"lvlDesc",key:"lvlDesc",width:360},{title:" ",key:"action",width:120,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickUpdate.bind(t,a),title:"修改级别"},n.default.createElement(u.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDelete.bind(t,a),title:"删除级别"},n.default.createElement(u.Icon,{type:g.iconRemove})))}}],i=g.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:i.padding}},n.default.createElement("div",{style:{margin:i.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-level/retrieve","hr-level/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(u.Button,{icon:g.iconAdd,type:"primary",title:"增加级别",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:l,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(h.default,{ref:"createWindow"}),n.default.createElement(m.default,{ref:"updateWindow"}))}});e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(1),d=o.Select.Option,u=a(189),c=a(148),h=n.default.createClass({displayName:"CitySelect",getInitialState:function(){return{tripCitySet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&(this.state.tripCitySet=e,this.setState({loading:!1}))},componentDidMount:function(){this.state.tripCitySet={recordSet:[],operation:"",errMsg:""},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;c.initHrTripCity(t)},render:function(){var e=this.state.tripCitySet.recordSet,t=n.default.createElement(o.Select,this.props,e.map(function(e,t){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.cityType)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=h},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactMixin=__webpack_require__(5),_reactMixin2=_interopRequireDefault(_reactMixin),_ServiceMsg=__webpack_require__(7),_ServiceMsg2=_interopRequireDefault(_ServiceMsg),_ModalForm=__webpack_require__(9),_ModalForm2=_interopRequireDefault(_ModalForm),_antd=__webpack_require__(4),Reflux=__webpack_require__(1),Common=__webpack_require__(6),Utils=__webpack_require__(3),FormItem=_antd.Form.Item,MonthPicker=_antd.DatePicker.MonthPicker,Option=_antd.Select.Option,TabPane=_antd.Tabs.TabPane,SalaryItemStore=__webpack_require__(188),SalaryItemActions=__webpack_require__(147),SalaryListPage=_react2.default.createClass({displayName:"SalaryListPage",getInitialState:function(){return{salaryItemSet:{recordSet:[],errMsg:""},loading:!1,salaryLoading:!1,salary:{},user:{},salaryList:{},objList:{},salaryBody:{},hints:{},validRules:[]}},mixins:[Reflux.listenTo(SalaryItemStore,"onServiceComplete")],onServiceComplete:function(e){e.recordSet=Common.sortTable(e.recordSet,"itemIndex"),this.setState({salaryItemSet:e}),this.fillterList()},fillterList:function(){var e=[],t=this.state.salaryItemSet.recordSet;t.map(function(t,a){var l={groupName:t.groupName,itemIndex:t.itemIndex,itemName:t.itemName,itemCode:t.itemCode,uuid:t.uuid};e.push(l)});for(var a={},l=0;l<e.length;l++){var i=e[l].groupName;if(a[i]){var n=e[l];a[i].push(n)}else a[i]=[e[l]]}if("create"===this.props.action){for(var r={},l=0;l<e.length;l++){var o=e[l].itemCode;r[o]||(r[o]="")}this.state.salaryBody=r}this.setState({salaryList:e,objList:a})},onValueChange:function(e,t,a){var l=this.state.salaryBody;l[e.itemCode]=a.target.value,this.setState({salaryBody:l})},componentDidMount:function(){this.state.validRules=[],SalaryItemActions.initHrSalaryItem(window.loginData.compUser.corpUuid),"create"!=this.props.action&&this.initPage(this.props.salary)},componentWillReceiveProps:function(e){"create"!=this.props.action&&this.initPage(e.salary)},initPage:function initPage(salary){Utils.copyValue(salary,this.state.salary);var JsonStr=this.state.salary.salaryBody,salaryBody=eval("("+JsonStr+")");"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({salaryBody:salaryBody})},clear:function(){},onClickSave:function(){var e=this.state.salaryBody;this.props.onSave(e)},goBack:function(){this.props.onBack()},render:function(){var e=this,t="horizontal",a="form-item-"+t,l={labelCol:"vertical"==t?null:{span:8},wrapperCol:"vertical"==t?null:{span:16}},i=this.state.hints,n=!this.props.salary.userUuid,r=(window.loginData.compUser.corpUuid,this.state.objList),o=[];for(var s in r){var d=null;r[s].map(function(t,n){null===d?d=_react2.default.createElement(_antd.Col,{span:"12"},_react2.default.createElement(FormItem,_extends({},l,{label:t.itemName,required:!1,colon:!0,className:a,help:i.jobCodeHint,validateStatus:i.jobCodeStatus}),_react2.default.createElement(_antd.Input,{style:{zIndex:"2"},type:"text",name:t.uuid,id:t.uuid,value:e.state.salaryBody[t.itemCode],onChange:e.onValueChange.bind(e,t,n)}))):(o.push(_react2.default.createElement(_antd.Row,null,d,_react2.default.createElement(_antd.Col,{span:"12"},_react2.default.createElement(FormItem,_extends({},l,{label:t.itemName,required:!1,colon:!0,className:a,help:i.jobCodeHint,validateStatus:i.jobCodeStatus}),_react2.default.createElement(_antd.Input,{style:{zIndex:"2"},type:"text",name:t.uuid,id:t.uuid,value:e.state.salaryBody[t.itemCode],onChange:e.onValueChange.bind(e,t,n)}))))),d=null)}),null!==d&&o.push(_react2.default.createElement(_antd.Row,null,d))}var u=_react2.default.createElement(_antd.Form,{layout:t},o,_react2.default.createElement(FormItem,{style:{textAlign:"right"},required:!1,colon:!0,className:a},_react2.default.createElement(_antd.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:n},"保存")," ",_react2.default.createElement(_antd.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")));return _react2.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},this.state.loading?_react2.default.createElement(_antd.Spin,null,u):u)}});module.exports=SalaryListPage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(8),_reactDom2=_interopRequireDefault(_reactDom),_reactMixin=__webpack_require__(5),_reactMixin2=_interopRequireDefault(_reactMixin),_ServiceMsg=__webpack_require__(7),_ServiceMsg2=_interopRequireDefault(_ServiceMsg),_antd=__webpack_require__(4),_CreateSalaryLogPage=__webpack_require__(1295),_CreateSalaryLogPage2=_interopRequireDefault(_CreateSalaryLogPage),_UpdateSalaryLogPage=__webpack_require__(1297),_UpdateSalaryLogPage2=_interopRequireDefault(_UpdateSalaryLogPage),_MoreSalaryLogPage=__webpack_require__(1296),_MoreSalaryLogPage2=_interopRequireDefault(_MoreSalaryLogPage),_UploadSalaryPage=__webpack_require__(1298),_UploadSalaryPage2=_interopRequireDefault(_UploadSalaryPage),Reflux=__webpack_require__(1),Search=_antd.Input.Search,Common=__webpack_require__(6),Utils=__webpack_require__(3),SalaryLogStore=__webpack_require__(349),SalaryLogAction=__webpack_require__(263),filterValue="",pageRows=10,SalaryLogPage=_react2.default.createClass({displayName:"SalaryLogPage",getInitialState:function(){return{salarySet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,moreFilter:!1,salary:{},filterValue:"",filter:{}}},mixins:[Reflux.listenTo(SalaryLogStore,"onServiceComplete")],onServiceComplete:function onServiceComplete(data){if("cache"===data.operation){var ff=data.filter.staffCode;if(null!==ff&&"undefined"!=typeof ff&&""!==ff||(ff=data.filter.perName,null!==ff&&"undefined"!=typeof ff||(ff="")),this.state.filterValue=ff,this.state.filter=data.filter,this.state.moreFilter="1"===data.filter.more,this.state.moreFilter){var mp=this.refs.MoreSalaryLogPage;null!==mp&&"undefined"!=typeof mp&&(mp.state.salary=this.state.filter)}}else"upload"!==data.operation&&data.recordSet.map(function(node,i){if(void 0===node.grossPay&&null!==node.salaryBody){var salaryBody=eval("("+node.salaryBody+")");node.grossPay=salaryBody.grossPay,node.netPay=salaryBody.netPay}});this.setState({loading:!1,salarySet:data})},handleQueryClick:function(){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",SalaryLogAction.retrieveHrSalaryLogPage(this.state.filter,this.state.salarySet.startPage,pageRows)},componentDidMount:function(){},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.salarySet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){pageRows=t,this.state.salarySet.startPage=1,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;Common.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.state.salarySet.startPage=1,this.handleQueryClick()},onMoreSearch:function(){this.state.filter=this.refs.MoreSalaryLogPage.state.salary,this.state.salarySet.startPage=1,this.handleQueryClick()},onClickDelete:function(e,t){_antd.Modal.confirm({title:"删除确认",content:"是否删除选中的关系人",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.salarySet.operation="",SalaryLogAction.deleteHrSalaryLog(e.uuid)},handleCreate:function(e){this.setState({action:"create"})},handleUploadFile:function(){this.setState({action:"upload"})},onClickUpdate:function(e,t){this.setState({salary:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},render:function(e){var t=this,a=(window.loginData.compUser.corpUuid,this.state.salarySet.recordSet),l=this.state.moreFilter,i=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:140},{title:"发放月份",dataIndex:"salaryMonth",key:"salaryMonth",width:140,render:function(e,t){return Common.formatDate(e,Common.dateFormat)}},{title:"发薪日期",dataIndex:"payDate",key:"payDate",width:140,render:function(e,t){return Common.formatDate(e,Common.dateFormat)}},{title:"绩效分数",dataIndex:"performScore",key:"performScore",width:140},{title:"应发工资",dataIndex:"grossPay",key:"grossPay",width:140},{title:"税后工资",dataIndex:"netPay",key:"netPay",width:140},{title:"更多操作",key:"action",width:140,render:function(e,a){return _react2.default.createElement("span",null,_react2.default.createElement("a",{href:"#",onClick:t.onClickUpdate.bind(t,a),title:"修改工资单"},_react2.default.createElement(_antd.Icon,{type:Common.iconUpdate})),_react2.default.createElement("span",{className:"ant-divider"}),_react2.default.createElement("a",{href:"#",onClick:t.onClickDelete.bind(t,a),title:"删除工资单"},_react2.default.createElement(_antd.Icon,{type:Common.iconRemove})))}}],n="query"===this.state.action?"":"none",r={showQuickJumper:!0,total:this.state.salarySet.totalRow,pageSize:this.state.salarySet.pageRow,current:this.state.salarySet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=_react2.default.createElement("div",{className:"grid-page",style:{overflow:"hidden",display:n}},_react2.default.createElement("div",{style:{padding:"8px 0 0 0",height:"100%",width:"100%",overflowY:"auto"}},_react2.default.createElement(_ServiceMsg2.default,{ref:"mxgBox",svcList:["hr-salary-log/retrieve","hr-salary-log/remove"]}),_react2.default.createElement(_MoreSalaryLogPage2.default,{ref:"MoreSalaryLogPage",moreFilter:l}),_react2.default.createElement("div",{style:{margin:"8px 0 0 0"}},_react2.default.createElement("div",{className:"toolbar-table"},_react2.default.createElement("div",{style:{float:"left"}},_react2.default.createElement(_antd.Button,{icon:"upload",type:"primary",title:"导入数据",onClick:this.handleUploadFile}),_react2.default.createElement(_antd.Button,{icon:Common.iconAdd,title:"增加工资单",onClick:this.handleCreate,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Button,{icon:Common.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),l?_react2.default.createElement("div",{visible:this.state.open,style:{textAlign:"right",width:"100%"}},_react2.default.createElement(_antd.Button,{title:"查询",type:"primary",onClick:this.onMoreSearch},"查询"),_react2.default.createElement(_antd.Button,{title:"快速条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"快速条件")):_react2.default.createElement("div",{style:{textAlign:"right",width:"100%"}},_react2.default.createElement(Search,{placeholder:"查询(员工编号/员工姓名)",style:{width:Common.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),_react2.default.createElement(_antd.Button,{style:{marginLeft:"8px"},title:"更多条件",onClick:this.showMoreFilter},"更多条件")))),_react2.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},_react2.default.createElement(_antd.Table,{columns:i,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:Common.tableBorder})))),s=null;return"create"===this.state.action?s=_react2.default.createElement(_CreateSalaryLogPage2.default,{onBack:this.onGoBack,action:this.state.action}):"update"===this.state.action?s=_react2.default.createElement(_UpdateSalaryLogPage2.default,{onBack:this.onGoBack,salary:this.state.salary}):"upload"===this.state.action&&(s=_react2.default.createElement(_UploadSalaryPage2.default,{onBack:this.onGoBack})),_react2.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});module.exports=SalaryLogPage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(8),_reactDom2=_interopRequireDefault(_reactDom),_reactMixin=__webpack_require__(5),_reactMixin2=_interopRequireDefault(_reactMixin),_ServiceMsg=__webpack_require__(7),_ServiceMsg2=_interopRequireDefault(_ServiceMsg),_antd=__webpack_require__(4),_XlsTempFile=__webpack_require__(26),_XlsTempFile2=_interopRequireDefault(_XlsTempFile),_CreateWorkFactorPage=__webpack_require__(1303),_CreateWorkFactorPage2=_interopRequireDefault(_CreateWorkFactorPage),_UpdateWorkFactorPage=__webpack_require__(1304),_UpdateWorkFactorPage2=_interopRequireDefault(_UpdateWorkFactorPage),_BatchWorkFactorPage=__webpack_require__(1302),_BatchWorkFactorPage2=_interopRequireDefault(_BatchWorkFactorPage),Reflux=__webpack_require__(1),Search=_antd.Input.Search,Common=__webpack_require__(6),Utils=__webpack_require__(3),WorkFactorStore=__webpack_require__(264),WorkFactorActions=__webpack_require__(220),factorFields=[{id:"A",name:"kpiName",title:"指标名称"},{id:"B",name:"kpiWeight",title:"指标权重"},{id:"C",name:"kpiValues",title:"指标选值"},{id:"D",name:"kpiDesc",title:"指标说明"}],filterValue="",WorkFactorPage=_react2.default.createClass({displayName:"WorkFactorPage",getInitialState:function(){return{workFactorSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,workUuid:"",corpUuid:window.loginData.compUser.corpUuid}},mixins:[Reflux.listenTo(WorkFactorStore,"onServiceComplete"),(0,_XlsTempFile2.default)()],onServiceComplete:function(e){this.setState({loading:!1,workFactorSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.workFactorSet.operation="",WorkFactorActions.retrieveHrWorkFactor(this.state.workUuid)},componentDidMount:function(){this.setState({loading:!0}),this.state.workUuid=this.props.workhUuid,WorkFactorActions.initHrWorkFactor(this.props.workUuid)},componentWillReceiveProps:function(e){e.workUuid!==this.state.workUuid&&(this.state.workUuid=e.workUuid,this.setState({loading:!0}),this.state.workFactorSet.operation="",WorkFactorActions.retrieveHrWorkFactor(e.workUuid))},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(this.state.corpUuid,this.state.workUuid),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},handleTempDown:function(e){this.downXlsTempFile(factorFields)},beforeBatchLoad:function(e){this.setState({loading:!0});var t=Utils.paramUrl+"read-xlsx/read",a={corpUuid:window.loginData.compUser.corpUuid,workUuid:this.props.workUuid};return this.uploadXlsFile(t,a,factorFields,e,this.uploadComplete),!1},uploadComplete:function uploadComplete(errMsg,result){if(this.setState({loading:!1}),""!==errMsg)Common.errMsg(errMsg);else{result=result.replace(/}{/g,"},{");var list=eval("("+result+")");list&&(this.refs.batchWindow.clear(list,this.props.workUuid),this.refs.batchWindow.toggle())}},onClickDelete:function(e,t){_antd.Modal.confirm({title:"删除确认",content:"是否删除选中的管理  【"+e.kpiName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.workFactorSet.operation="",WorkFactorActions.deleteHrWorkFactor(e.uuid)},onFilterRecord:function(e){filterValue=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=Common.filter(this.state.workFactorSet.recordSet,filterValue),a=[{title:"指标名称",dataIndex:"kpiName",key:"kpiName",width:140},{title:"指标权重",dataIndex:"kpiWeight",key:"kpiWeight",width:140},{title:"指标说明",dataIndex:"kpiDesc",key:"kpiDesc",width:140},{title:"",key:"action",width:100,render:function(t,a){return _react2.default.createElement("span",null,_react2.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},_react2.default.createElement(_antd.Icon,{type:Common.iconUpdate})),_react2.default.createElement("span",{className:"ant-divider"}),_react2.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"移除"},_react2.default.createElement(_antd.Icon,{type:Common.iconRemove})))}}],l=Common.getGridMargin(this);return _react2.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},_react2.default.createElement("div",{style:{margin:l.margin}},_react2.default.createElement(_ServiceMsg2.default,{ref:"mxgBox",svcList:["hr-work-factor/retrieve","hr-work-factor/remove"]}),_react2.default.createElement("div",{className:"toolbar-table"},_react2.default.createElement("div",{style:{float:"left"}},_react2.default.createElement(_antd.Button,{icon:Common.iconAdd,type:"primary",title:"增加资源",onClick:this.handleOpenCreateWindow}),_react2.default.createElement(_antd.Button,{icon:Common.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeBatchLoad,style:{marginLeft:"4px"}},_react2.default.createElement(_antd.Button,{icon:"upload",title:"批量增加数据"}))),_react2.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},_react2.default.createElement(Search,{placeholder:"查找记录",style:{width:Common.searchWidth},value:filterValue,onChange:this.onFilterRecord})))),_react2.default.createElement("div",{className:"grid-body"},_react2.default.createElement(_antd.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:Common.tableBorder})),_react2.default.createElement(_CreateWorkFactorPage2.default,{ref:"createWindow"}),_react2.default.createElement(_UpdateWorkFactorPage2.default,{ref:"updateWindow"}),_react2.default.createElement(_BatchWorkFactorPage2.default,{ref:"batchWindow"}))}});module.exports=WorkFactorPage},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1175),h=l(c),p=a(1176),m=l(p),f=a(1177),g=l(f),v=a(26),y=l(v),S=a(165),C=l(S),E=a(1),b=u.Input.Search,w=a(6),x=a(3),k=a(458),N=a(335),D=10,R=n.default.createClass({displayName:"AllowLogPage",getInitialState:function(){return{allowLogSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",allowLog:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[E.listenTo(k,"onServiceComplete"),(0,y.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.AllowLogFilter;null!==a&&"undefined"!=typeof a&&(a.state.allowLog=this.state.filter)}}this.setState({loading:!1,allowLogSet:e})},componentDidMount:function(){N.getCacheData()},handleQueryClick:function(){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",N.retrieveHrAllowLogPage(this.state.filter,this.state.allowLogSet.startPage,D)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.allowLogSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){D=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;w.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.AllowLogFilter.state.allowLog;null!==e.applyDate&&""!==e.applyDate&&(e.applyDate1=e.applyDate+"01",e.applyDate2=e.applyDate+"31"),null!==e.payDate&&""!==e.payDate&&(e.date1=e.payDate+"01",e.date2=e.payDate+"31"),this.state.filter=e,this.handleQueryClick()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的报销单",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.allowLogSet.operation="",N.deleteHrAllowLog(e.uuid)},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){this.setState({allowLog:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},handleTempDown:function(e){this.downXlsTempFile(C.default.allowLogFields)},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&w.errMsg(e)},beforeUpload:function(e){this.setState({loading:!0});var t=x.hrUrl+"hr-allow-log/upload-xls",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,C.default.allowLogFields,e,this.uploadComplete),!1},getFeeDate:function(e){var t="";return e.beginDate?t=e.endDate?e.beginDate+" ~ "+e.endDate:e.beginDate+" ~ ":e.endDate&&(t=" ~ "+e.endDate),t},render:function(){var e=this,t=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"发放日期",dataIndex:"payDate",key:"payDate",width:140,render:function(e,t){return w.formatDate(e,w.dateFormat)}},{title:"报销类型",dataIndex:"allowType",key:"allowType",width:140},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"费用日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(t,a){return e.getFeeDate(a)}},{title:"报销金额",dataIndex:"payAmount",key:"payAmount",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改报销单查询"},n.default.createElement(u.Icon,{type:w.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除报销单查询"},n.default.createElement(u.Icon,{type:w.iconRemove})))}}],a=this.state.allowLogSet.recordSet,l=this.state.moreFilter,i="query"===this.state.action?"":"none",r={showQuickJumper:!0,total:this.state.allowLogSet.totalRow,pageSize:this.state.allowLogSet.pageRow,current:this.state.allowLogSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-allow-log/retrieve","hr-allow-log/remove"]}),n.default.createElement(h.default,{ref:"AllowLogFilter",moreFilter:l}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:w.iconAdd,type:"primary",title:"增加调薪记录",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:w.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(u.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(u.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},n.default.createElement(u.Button,{icon:"upload"}))),l?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(b,{placeholder:"查询(员工编号/员工姓名)",style:{width:w.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:w.tableBorder}))),s=null;return"create"===this.state.action?s=n.default.createElement(m.default,{onBack:this.onGoBack}):"update"===this.state.action&&(s=n.default.createElement(g.default,{onBack:this.onGoBack,allowLog:this.state.allowLog})),n.default.createElement("div",{style:{width:"100%"}},o,s)}});e.exports=R},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(12)),d=l(s),u=a(4),c=a(9),h=l(c),p=(a(1),u.DatePicker.MonthPicker),m=(u.DatePicker.RangePicker,u.Form.Item),f=a(6),g={moreFilter:r.default.PropTypes.bool},v=r.default.createClass({displayName:"AllowLogFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],allowLog:{perName:"",staffCode:"",applyDate:"",baseCity:"",allowType:"",deptName:"",projName:"",payDate:""}}},mixins:[(0,h.default)("allowLog")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"applyDate",desc:"填表日期",required:!1,max:"16"},{id:"baseCity",desc:"归属地",required:!1,max:"128"},{id:"allowType",desc:"报销类型",required:!1,max:"32"},{id:"deptName",desc:"部门名称",required:!1,max:"128"},{id:"projName",desc:"项目名称",required:!1,max:"256"},{id:"payDate",desc:"发放日期",required:!1,max:"24"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},l={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},r.default.createElement(u.Form,{layout:e,style:{width:"1000px",padding:"20px 0px"}},r.default.createElement(u.Row,{gutter:24},r.default.createElement(u.Col,{className:"gutter-row",span:6},r.default.createElement(m,i({},l,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus
}),r.default.createElement(u.Input,{type:"text",name:"perName",id:"perName",value:this.state.allowLog.perName,onChange:this.handleOnChange}))),r.default.createElement(u.Col,{className:"gutter-row",span:6},r.default.createElement(m,i({},l,{label:"员工号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(u.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.allowLog.staffCode,onChange:this.handleOnChange}))),r.default.createElement(u.Col,{className:"gutter-row",span:6},r.default.createElement(m,i({},a,{label:"填报月份",required:!1,colon:!0,className:t,help:n.applyDateHint,validateStatus:n.applyDateStatus}),r.default.createElement(p,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:f.monthFormat,value:this.formatMonth(this.state.allowLog.applyDate,f.monthFormat),onChange:this.handleOnSelDate.bind(this,"applyDate",f.monthFormat)}))),r.default.createElement(u.Col,{className:"gutter-row",span:6},r.default.createElement(m,i({},a,{label:"报销类型",required:!1,colon:!0,className:t,help:n.allowTypeHint,validateStatus:n.allowTypeStatus}),r.default.createElement(d.default,{name:"allowType",id:"allowType",appName:"HR系统",optName:"报销类型",value:this.state.allowLog.allowType,onSelect:this.handleOnSelected.bind(this,"allowType")})))),r.default.createElement(u.Row,{gutter:24},r.default.createElement(u.Col,{span:"6"},r.default.createElement(m,i({},l,{label:"归属地",required:!1,colon:!0,className:t,help:n.baseCityHint,validateStatus:n.baseCityStatus}),r.default.createElement(u.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.allowLog.baseCity,onChange:this.handleOnChange}))),r.default.createElement(u.Col,{span:"6"},r.default.createElement(m,i({},l,{label:"部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(u.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.allowLog.deptName,onChange:this.handleOnChange}))),r.default.createElement(u.Col,{span:"6"},r.default.createElement(m,i({},a,{label:"项目名称",required:!1,colon:!0,className:t,help:n.projNameHint,validateStatus:n.projNameStatus}),r.default.createElement(u.Input,{type:"text",name:"projName",id:"projName",value:this.state.allowLog.projName,onChange:this.handleOnChange}))),r.default.createElement(u.Col,{span:"6"},r.default.createElement(m,i({},a,{label:"发放月份",required:!1,colon:!0,className:t,help:n.payDateHint,validateStatus:n.payDateStatus}),r.default.createElement(p,{style:{width:"100%"},name:"payDate",id:"payDate",format:f.monthFormat,value:this.formatMonth(this.state.allowLog.payDate,f.monthFormat),onChange:this.handleOnSelDate.bind(this,"payDate",f.monthFormat)})))))))}});v.propTypes=g,e.exports=v},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(25),g=l(f),v=a(1),y=a(6),S=m.DatePicker.MonthPicker,C=(m.DatePicker.RangePicker,m.Form.Item),E=(m.Select.Option,m.Tabs.TabPane),b=a(458),w=a(335),x=r.default.createClass({displayName:"CreateAllowLogPage",getInitialState:function(){return{loading:!1,allowLog:{},user:{},hints:{},validRules:[]}},mixins:[v.listenTo(b,"onServiceComplete"),(0,c.default)("allowLog")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"deptName",desc:"部门名称",required:!1,max:"128"},{id:"allowType",desc:"报销类型",required:!0,max:"32"},{id:"applyDate",desc:"填表日期",required:!1,max:"16"},{id:"projCode",desc:"项目编号",required:!1,max:"128"},{id:"projName",desc:"项目名称",required:!1,max:"256"},{id:"allowDesc",desc:"报销事项",required:!1,max:"1024"},{id:"beginDate",desc:"费用开始日期",required:!1,max:"24"},{id:"endDate",desc:"费用结束日期",required:!1,max:"24"},{id:"payAmount",desc:"报销金额",required:!0,max:"24"},{id:"payMemo",desc:"报销说明",required:!1,max:"2000"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"payDate",desc:"发放日期",required:!0,max:"24"},{id:"bankCard",desc:"银行卡号",required:!1,max:"32"},{id:"memo2",desc:"备注",required:!1,max:"512"}],this.clear()},componentWillReceiveProps:function(e){this.clear()},clear:function(e){this.state.hints={},this.state.allowLog.uuid="",this.state.allowLog.corpUuid=window.loginData.compUser.corpUuid,this.state.allowLog.userUuid="",this.state.allowLog.perName="",this.state.allowLog.staffCode="",this.state.allowLog.deptName="",this.state.allowLog.allowType="",this.state.allowLog.applyDate="",this.state.allowLog.projCode="",this.state.allowLog.projName="",this.state.allowLog.allowDesc="",this.state.allowLog.beginDate="",this.state.allowLog.endDate="",this.state.allowLog.payAmount="",this.state.allowLog.payMemo="",this.state.allowLog.approve="",this.state.allowLog.approveDay="",this.state.allowLog.payDate="",this.state.allowLog.bankCard="",this.state.allowLog.memo2="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectAllowLog:function(e){this.state.allowLog.userUuid=e.uuid,this.state.allowLog.staffCode=e.staffCode,this.state.allowLog.perName=e.perName,this.state.allowLog.deptName=e.deptName,this.setState({user:e})},showError:function(e){console.log(e)},onClickSave:function(){y.formValidator(this,this.state.allowLog)&&(this.setState({loading:!0}),w.createHrAllowLog(this.state.allowLog))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.allowLog.userUuid,s=window.loginData.compUser.corpUuid;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(E,{tab:"增加报销单",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-allow-log/create"]}),r.default.createElement(g.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:s,showError:this.showError,onSelectEmpLoyee:this.onSelectAllowLog}),r.default.createElement(m.Form,{layout:e,style:{width:"600px"}},r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"任职部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName,disabled:!0})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"报销类型",required:!0,colon:!0,className:t,help:n.allowTypeHint,validateStatus:n.allowTypeStatus}),r.default.createElement(p.default,{name:"allowType",id:"allowType",value:this.state.allowLog.allowType,appName:"HR系统",optName:"报销类型",onSelect:this.handleOnSelected.bind(this,"allowType")}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"填表日期",required:!1,colon:!0,className:t,help:n.applyDateHint,validateStatus:n.applyDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:y.dateFormat,value:this.formatDate(this.state.allowLog.applyDate,y.dateFormat),onChange:this.handleOnSelDate.bind(this,"applyDate",y.dateFormat)})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,null,r.default.createElement(C,i({},a,{label:"项目编号",required:!1,colon:!0,className:t,help:n.projCodeHint,validateStatus:n.projCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"projCode",id:"projCode",value:this.state.allowLog.projCode,onChange:this.handleOnChange}))),r.default.createElement(m.Col,null,r.default.createElement(C,i({},a,{label:"项目名称",required:!1,colon:!0,className:t,help:n.projNameHint,validateStatus:n.projNameStatus}),r.default.createElement(m.Input,{type:"text",name:"projName",id:"projName",value:this.state.allowLog.projName,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,null,r.default.createElement(C,i({},a,{label:"报销事项",required:!1,colon:!0,className:t,help:n.allowDescHint,validateStatus:n.allowDescStatus}),r.default.createElement(m.Input,{type:"text",name:"allowDesc",id:"allowDesc",value:this.state.allowLog.allowDesc,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,null,r.default.createElement(C,i({},a,{label:"费用日期",required:!1,colon:!0,className:t}),r.default.createElement(m.Col,{span:"6"},r.default.createElement(C,{help:n.beginDateHint,validateStatus:n.beginDateStatus},r.default.createElement(S,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.allowLog.beginDate,y.monthFormat),format:y.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.monthFormat)}))),r.default.createElement(m.Col,{span:"2",style:{textAlign:"center"}},"到"),r.default.createElement(m.Col,{span:"6"},r.default.createElement(C,{help:n.endDateHint,validateStatus:n.endDateStatus},r.default.createElement(S,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatMonth(this.state.allowLog.endDate,y.monthFormat),format:y.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",y.monthFormat)})))))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"报销金额",required:!0,colon:!0,className:t,help:n.payAmountHint,validateStatus:n.payAmountStatus}),r.default.createElement(m.Input,{type:"text",name:"payAmount",id:"payAmount",value:this.state.allowLog.payAmount,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"发票张数",required:!1,colon:!0,className:t,help:n.memo2Hint,validateStatus:n.memo2Status}),r.default.createElement(m.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.allowLog.memo2,onChange:this.handleOnChange})))),r.default.createElement(C,i({},a,{label:"报销说明",required:!1,colon:!0,className:t,help:n.payMemoHint,validateStatus:n.payMemoStatus}),r.default.createElement(m.Input,{type:"textarea",name:"payMemo",id:"payMemo",value:this.state.allowLog.payMemo,onChange:this.handleOnChange,style:{height:"100px"}})),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:n.approveHint,validateStatus:n.approveStatus}),r.default.createElement(m.Input,{type:"text",name:"approve",id:"approve",value:this.state.allowLog.approve,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"审批日期",required:!1,colon:!0,className:t,help:n.approveDayHint,validateStatus:n.approveDayStatus}),r.default.createElement(S,{style:{width:"100%"},name:"approveDay",id:"approveDay",format:y.monthFormat,value:this.formatMonth(this.state.allowLog.approveDay,y.monthFormat),onChange:this.handleOnSelDate.bind(this,"approveDay",y.monthFormat)})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"发放日期",required:!0,colon:!0,className:t,help:n.payDateHint,validateStatus:n.payDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"payDate",id:"payDate",format:y.monthFormat,value:this.formatMonth(this.state.allowLog.payDate,y.monthFormat),onChange:this.handleOnSelDate.bind(this,"payDate",y.monthFormat)}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"银行卡号",required:!1,colon:!0,className:t,help:n.bankCardHint,validateStatus:n.bankCardStatus}),r.default.createElement(m.Input,{type:"text",name:"bankCard",id:"bankCard",value:this.state.allowLog.bankCard,onChange:this.handleOnChange})))),r.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(25),p=(l(h),a(12)),m=l(p),f=a(4),g=a(1),v=a(6),y=a(3),S=f.DatePicker.MonthPicker,C=(f.DatePicker.RangePicker,f.Form.Item),E=(f.Select.Option,f.Tabs.TabPane),b=a(458),w=a(335),x=r.default.createClass({displayName:"UpdateAllowLogPage",getInitialState:function(){return{allowLogSet:{operation:"",errMsg:""},loading:!1,allowLog:{},hints:{},validRules:[]}},mixins:[g.listenTo(b,"onServiceComplete"),(0,c.default)("allowLog")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,allowLogSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"deptName",desc:"部门名称",required:!1,max:"128"},{id:"allowType",desc:"报销类型",required:!0,max:"32"},{id:"applyDate",desc:"填表日期",required:!1,max:"16"},{id:"projCode",desc:"项目编号",required:!1,max:"128"},{id:"projName",desc:"项目名称",required:!1,max:"256"},{id:"allowDesc",desc:"报销事项",required:!1,max:"1024"},{id:"beginDate",desc:"费用开始日期",required:!1,max:"24"},{id:"endDate",desc:"费用结束日期",required:!1,max:"24"},{id:"payAmount",desc:"报销金额",required:!0,max:"24"},{id:"payMemo",desc:"报销说明",required:!1,max:"2000"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"payDate",desc:"发放日期",required:!0,max:"24"},{id:"bankCard",desc:"银行卡号",required:!1,max:"32"},{id:"memo2",desc:"备注",required:!1,max:"512"}],this.initPage(this.props.allowLog)},componentWillReceiveProps:function(e){},initPage:function(e){y.copyValue(e,this.state.allowLog),this.setState({loading:!1,hints:{}}),this.state.allowLogSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){v.formValidator(this,this.state.allowLog)&&(this.state.allowLogSet.operation="",this.setState({loading:!0}),w.updateHrAllowLog(this.state.allowLog))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(f.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(E,{tab:"修改报销单",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-allow-log/update"]}),r.default.createElement(f.Form,{layout:e,style:{width:"600px"}},r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(f.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.allowLog.staffCode,disabled:!0}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(f.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.allowLog.perName,disabled:!0})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"任职部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(f.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.allowLog.deptName,disabled:!0})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"报销类型",required:!0,colon:!0,className:t,help:n.allowTypeHint,validateStatus:n.allowTypeStatus}),r.default.createElement(m.default,{name:"allowType",id:"allowType",value:this.state.allowLog.allowType,appName:"HR系统",optName:"报销类型",onSelect:this.handleOnSelected.bind(this,"allowType")}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"填表日期",required:!1,colon:!0,className:t,help:n.applyDateHint,validateStatus:n.applyDateStatus}),r.default.createElement(f.DatePicker,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:v.dateFormat,value:this.formatDate(this.state.allowLog.applyDate,v.dateFormat),onChange:this.handleOnSelDate.bind(this,"applyDate",v.dateFormat)})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,null,r.default.createElement(C,i({},a,{label:"项目编号",required:!1,colon:!0,className:t,help:n.projCodeHint,validateStatus:n.projCodeStatus}),r.default.createElement(f.Input,{type:"text",name:"projCode",id:"projCode",value:this.state.allowLog.projCode,onChange:this.handleOnChange}))),r.default.createElement(f.Col,null,r.default.createElement(C,i({},a,{label:"项目名称",required:!1,colon:!0,className:t,help:n.projNameHint,validateStatus:n.projNameStatus}),r.default.createElement(f.Input,{type:"text",name:"projName",id:"projName",value:this.state.allowLog.projName,onChange:this.handleOnChange})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,null,r.default.createElement(C,i({},a,{label:"报销事项",required:!1,colon:!0,className:t,help:n.allowDescHint,validateStatus:n.allowDescStatus}),r.default.createElement(f.Input,{type:"text",name:"allowDesc",id:"allowDesc",value:this.state.allowLog.allowDesc,onChange:this.handleOnChange})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,null,r.default.createElement(C,i({},a,{label:"费用日期",required:!1,colon:!0,className:t}),r.default.createElement(f.Col,{span:"6"},r.default.createElement(C,{help:n.beginDateHint,validateStatus:n.beginDateStatus},r.default.createElement(S,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.allowLog.beginDate,v.monthFormat),format:v.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",v.monthFormat)}))),r.default.createElement(f.Col,{span:"2",style:{textAlign:"center"}},"到"),r.default.createElement(f.Col,{span:"6"},r.default.createElement(C,{help:n.endDateHint,validateStatus:n.endDateStatus},r.default.createElement(S,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatMonth(this.state.allowLog.endDate,v.monthFormat),format:v.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",v.monthFormat)})))))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"报销金额",required:!0,colon:!0,className:t,help:n.payAmountHint,validateStatus:n.payAmountStatus}),r.default.createElement(f.Input,{type:"text",name:"payAmount",id:"payAmount",value:this.state.allowLog.payAmount,onChange:this.handleOnChange}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"发票张数",required:!1,colon:!0,className:t,help:n.memo2Hint,validateStatus:n.memo2Status}),r.default.createElement(f.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.allowLog.memo2,onChange:this.handleOnChange})))),r.default.createElement(C,i({},a,{label:"报销说明",required:!1,colon:!0,className:t,help:n.payMemoHint,validateStatus:n.payMemoStatus}),r.default.createElement(f.Input,{type:"textarea",name:"payMemo",id:"payMemo",value:this.state.allowLog.payMemo,onChange:this.handleOnChange,style:{height:"100px"}})),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:n.approveHint,validateStatus:n.approveStatus}),r.default.createElement(f.Input,{type:"text",name:"approve",id:"approve",value:this.state.allowLog.approve,onChange:this.handleOnChange}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"审批日期",required:!1,colon:!0,className:t,help:n.approveDayHint,validateStatus:n.approveDayStatus}),r.default.createElement(S,{style:{width:"100%"},name:"approveDay",id:"approveDay",format:v.monthFormat,value:this.formatMonth(this.state.allowLog.approveDay,v.monthFormat),onChange:this.handleOnSelDate.bind(this,"approveDay",v.monthFormat)})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"发放日期",required:!0,colon:!0,className:t,help:n.payDateHint,validateStatus:n.payDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"payDate",id:"payDate",format:v.monthFormat,value:this.formatMonth(this.state.allowLog.payDate,v.monthFormat),onChange:this.handleOnSelDate.bind(this,"payDate",v.monthFormat)}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"银行卡号",required:!1,colon:!0,className:t,help:n.bankCardHint,validateStatus:n.bankCardStatus}),r.default.createElement(f.Input,{type:"text",name:"bankCard",id:"bankCard",value:this.state.allowLog.bankCard,onChange:this.handleOnChange})))),r.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1179),h=l(c),p=a(1180),m=l(p),f=a(1),g=a(6),v=(a(3),a(111)),y=a(81),S=n.default.createClass({displayName:"AllowancePage",getInitialState:function(){return{allowanceSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,allowanceSet:e})},handleQueryClick:function(e){var t=window.loginData.compUser,a=null===t?"":t.corpUuid;this.setState({loading:!0}),this.state.allowanceSet.operation="",y.retrieveHrAllowance(a)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),y.initHrAllowance(t)},handleOpenCreateWindow:function(e){var t=window.loginData.compUser,a=null===t?"":t.corpUuid;this.refs.createWindow.clear(a),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的补贴级别 【"+e.allowName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.allowanceSet.operation="",y.deleteHrAllowance(e.uuid)},render:function(){var e=this,t=this.state.allowanceSet.recordSet,a=[{title:"补贴名称",dataIndex:"allowName",key:"allowName",width:140},{title:"补贴说明",dataIndex:"allowDesc",key:"allowDesc",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改补贴参数"},n.default.createElement(u.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除补贴参数"},n.default.createElement(u.Icon,{type:g.iconRemove})))}}],l=g.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},n.default.createElement("div",{style:{margin:l.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_allowance/retrieve","hr_allowance/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(u.Button,{icon:g.iconAdd,title:"增加补贴级别",type:"primary",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(h.default,{ref:"createWindow"}),n.default.createElement(m.default,{ref:"updateWindow"}))}});e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(109),p=l(h),m=a(4),f=a(1),g=a(6),v=a(6),y=m.Form.Item,S=(m.Select.Option,a(111)),C=a(81),E=r.default.createClass({displayName:"CreateAllowancePage",getInitialState:function(){return{allowanceSet:{operation:"",errMsg:""},loading:!1,modal:!1,allowance:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("allowance")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.beforeClose():this.setState({loading:!1,allowanceSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"allowName",desc:"补贴名称",required:!0,max:"64"},{id:"allowDesc",desc:"补贴说明",required:!1,max:"1024"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"traffic",desc:"交通补贴",required:!1,max:"16"},{id:"phone",desc:"通讯补贴",required:!1,max:"16"},{id:"food",desc:"餐补",required:!1,max:"16"},{id:"clothing",desc:"服装补贴",required:!1,max:"16"},{id:"highTemp",desc:"高温补贴",required:!1,max:"16"},{id:"outDoor",desc:"户外补贴",required:!1,max:"16"}]},handleKeyDown:function(e){if(73==e.keyCode&&e.ctrlKey&&e.altKey){var t=this.refs.QuickFillWindow;t&&(t.initPage(this.state.validRules),t.toggle())}},beforeClose:function(){window.removeEventListener("keydown",this.handleKeyDown),this.setState({modal:!1})},clear:function(e){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.allowance.uuid="",this.state.allowance.corpUuid=e,this.state.allowance.allowName="",this.state.allowance.allowDesc="",this.state.allowance.effectDate="",this.state.allowance.traffic="",this.state.allowance.phone="",this.state.allowance.food="",this.state.allowance.clothing="",this.state.allowance.highTemp="",this.state.allowance.outDoor="",this.state.loading=!1,this.state.allowanceSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.allowance)&&(this.state.allowanceSet.operation="",this.setState({loading:!0}),C.createHrAllowance(this.state.allowance))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加补贴级别#",maskClosable:!1,onOk:this.onClickSave,onCancel:this.beforeClose,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_allowance/create"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.beforeClose},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(y,i({},a,{label:"补贴名称",required:!0,colon:!0,className:t,help:l.allowNameHint,validateStatus:l.allowNameStatus}),r.default.createElement(m.Input,{type:"text",name:"allowName",id:"allowName",value:this.state.allowance.allowName,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"补贴说明",colon:!0,className:t,help:l.allowDescHint,validateStatus:l.allowDescStatus}),r.default.createElement(m.Input,{type:"text",name:"allowDesc",id:"allowDesc",value:this.state.allowance.allowDesc,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"生效日期",colon:!0,className:t,help:l.effectDateHint,validateStatus:l.effectDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.allowance.effectDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",v.dateFormat)})),r.default.createElement(y,i({},a,{label:"交通补贴",colon:!0,className:t,help:l.trafficHint,validateStatus:l.trafficStatus}),r.default.createElement(m.Input,{type:"text",name:"traffic",id:"traffic",value:this.state.allowance.traffic,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"通讯补贴",colon:!0,className:t,help:l.phoneHint,validateStatus:l.phoneStatus}),r.default.createElement(m.Input,{type:"text",name:"phone",id:"phone",value:this.state.allowance.phone,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"餐补",colon:!0,className:t,help:l.foodHint,validateStatus:l.foodStatus}),r.default.createElement(m.Input,{type:"text",name:"food",id:"food",value:this.state.allowance.food,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"服装补贴",colon:!0,className:t,help:l.clothingHint,validateStatus:l.clothingStatus}),r.default.createElement(m.Input,{type:"text",name:"clothing",id:"clothing",value:this.state.allowance.clothing,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"高温补贴",colon:!0,className:t,help:l.highTempHint,validateStatus:l.highTempStatus}),r.default.createElement(m.Input,{type:"text",name:"highTemp",id:"highTemp",value:this.state.allowance.highTemp,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"户外补贴",colon:!0,className:t,
help:l.outDoorHint,validateStatus:l.outDoorStatus}),r.default.createElement(m.Input,{type:"text",name:"outDoor",id:"outDoor",value:this.state.allowance.outDoor,onChange:this.handleOnChange}))),r.default.createElement(p.default,{ref:"QuickFillWindow",self:this,object:"allowance"}))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=a(6),v=h.Form.Item,y=(h.Select.Option,a(111)),S=a(81),C=r.default.createClass({displayName:"UpdateAllowancePage",getInitialState:function(){return{allowanceSet:{operation:"",errMsg:""},loading:!1,modal:!1,allowance:{},hints:{},validRules:[]}},mixins:[p.listenTo(y,"onServiceComplete"),(0,c.default)("allowance")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,allowanceSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"allowName",desc:"补贴名称",required:!0,max:"64"},{id:"allowDesc",desc:"补贴说明",required:!1,max:"1024"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"traffic",desc:"交通补贴",required:!1,max:"16"},{id:"phone",desc:"通讯补贴",required:!1,max:"16"},{id:"food",desc:"餐补",required:!1,max:"16"},{id:"clothing",desc:"服装补贴",required:!1,max:"16"},{id:"highTemp",desc:"高温补贴",required:!1,max:"16"},{id:"outDoor",desc:"户外补贴",required:!1,max:"16"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.allowance),this.state.loading=!1,this.state.allowanceSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.allowance)&&(this.state.allowanceSet.operation="",this.setState({loading:!0}),S.updateHrAllowance(this.state.allowance))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改补贴级别信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_allowance/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(v,i({},a,{label:"补贴名称",required:!0,colon:!0,className:t,help:l.allowNameHint,validateStatus:l.allowNameStatus}),r.default.createElement(h.Input,{type:"text",name:"allowName",id:"allowName",value:this.state.allowance.allowName,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"补贴说明",colon:!0,className:t,help:l.allowDescHint,validateStatus:l.allowDescStatus}),r.default.createElement(h.Input,{type:"text",name:"allowDesc",id:"allowDesc",value:this.state.allowance.allowDesc,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"生效日期",colon:!0,className:t,help:l.effectDateHint,validateStatus:l.effectDateStatus}),r.default.createElement(h.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.allowance.effectDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",g.dateFormat)})),r.default.createElement(v,i({},a,{label:"交通补贴",colon:!0,className:t,help:l.trafficHint,validateStatus:l.trafficStatus}),r.default.createElement(h.Input,{type:"text",name:"traffic",id:"traffic",value:this.state.allowance.traffic,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"通讯补贴",colon:!0,className:t,help:l.phoneHint,validateStatus:l.phoneStatus}),r.default.createElement(h.Input,{type:"text",name:"phone",id:"phone",value:this.state.allowance.phone,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"餐补",colon:!0,className:t,help:l.foodHint,validateStatus:l.foodStatus}),r.default.createElement(h.Input,{type:"text",name:"food",id:"food",value:this.state.allowance.food,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"服装补贴",colon:!0,className:t,help:l.clothingHint,validateStatus:l.clothingStatus}),r.default.createElement(h.Input,{type:"text",name:"clothing",id:"clothing",value:this.state.allowance.clothing,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"高温补贴",colon:!0,className:t,help:l.highTempHint,validateStatus:l.highTempStatus}),r.default.createElement(h.Input,{type:"text",name:"highTemp",id:"highTemp",value:this.state.allowance.highTemp,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"户外补贴",colon:!0,className:t,help:l.outDoorHint,validateStatus:l.outDoorStatus}),r.default.createElement(h.Input,{type:"text",name:"outDoor",id:"outDoor",value:this.state.allowance.outDoor,onChange:this.handleOnChange}))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(13),a(7)),d=l(s),u=a(4),c=a(1182),h=l(c),p=a(1186),m=l(p),f=a(1184),g=l(f),v=a(1185),y=l(v),S=a(21),C=l(S),E=a(1),b=u.Input.Search,w=a(6),x=(a(3),a(258)),k=a(163),N=10,D=n.default.createClass({displayName:"BenefitsPage",getInitialState:function(){return{benefitsSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",benefits:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[E.listenTo(x,"onServiceComplete"),(0,C.default)()],onServiceComplete:function(e){if(console.log("data=",e),"cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.MoreBenefitsPage;null!==a&&"undefined"!=typeof a&&(a.state.benefits=this.state.filter)}}this.setState({loading:!1,benefitsSet:e})},handleQueryClick:function(){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",k.retrieveHrBenefitsPage(this.state.filter,this.state.benefitsSet.startPage,N)},componentDidMount:function(){k.getCacheData()},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.benefitsSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){N=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;w.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){this.state.filter=this.refs.MoreBenefitsPage.state.benefits,console.log("this.state.filter",this.state.filter),this.handleQueryClick()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的关系人",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.benefitsSet.operation="",k.deleteHrBenefits(e.uuid)},handleCreate:function(e){this.setState({action:"create"})},onClickDetails:function(e,t){this.setState({benefits:e,action:"detail"})},onClickUpdate:function(e,t){this.setState({benefits:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},render:function(e){var t=this,e=window.loginData.compUser.corpUuid,a=this.state.benefitsSet.recordSet,l=this.state.moreFilter,i=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"基本工资",dataIndex:"salary",key:"salary",width:140},{title:"绩效工资",dataIndex:"salary2",key:"salary2",width:140},{title:"社保基数",dataIndex:"insuBase",key:"insuBase",width:140},{title:"公积金基数",dataIndex:"cpfBase",key:"cpfBase",width:140},{title:"社保类型",dataIndex:"insuName",key:"insuName",width:140,render:function(a,l){return t.getInsuName(e,l.insuName)}},{title:"补贴类型",dataIndex:"allowName",key:"allowName",width:140,render:function(a,l){return t.getAllowName(e,l.allowName)}},{title:"更多操作",key:"action",width:140,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickUpdate.bind(t,a),title:"修改工资信息"},n.default.createElement(u.Icon,{type:w.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDelete.bind(t,a),title:"删除工资信息"},n.default.createElement(u.Icon,{type:w.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDetails.bind(t,a),title:"工资信息详情"},n.default.createElement(u.Icon,{type:"bars"})))}}],r="query"===this.state.action?"":"none",o={showQuickJumper:!0,total:this.state.benefitsSet.totalRow,pageSize:this.state.benefitsSet.pageRow,current:this.state.benefitsSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},s=n.default.createElement("div",{className:"grid-page",style:{overflow:"hidden",display:r}},n.default.createElement("div",{style:{padding:"8px 0 0 0",height:"100%",width:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-benefits/retrieve","hr-benefits/remove"]}),n.default.createElement(y.default,{ref:"MoreBenefitsPage",moreFilter:l}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:w.iconAdd,type:"primary",title:"增加工资信息",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:w.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),l?n.default.createElement("div",{visible:this.state.open,style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(b,{placeholder:"查询(员工编号/员工姓名)",style:{width:w.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{style:{marginLeft:"8px"},title:"更多条件",onClick:this.showMoreFilter},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:i,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:o,size:"middle",bordered:w.tableBorder})))),c=null;return"create"===this.state.action?c=n.default.createElement(h.default,{onBack:this.onGoBack}):"detail"===this.state.action?c=n.default.createElement(g.default,{onBack:this.onGoBack,userUuid:this.state.benefits.userUuid}):"update"===this.state.action&&(c=n.default.createElement(m.default,{onBack:this.onGoBack,benefits:this.state.benefits})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},s,c)}});e.exports=D},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(109),p=l(h),m=a(4),f=a(25),g=l(f),v=a(12),y=(l(v),a(475)),S=l(y),C=a(476),E=l(C),b=a(474),w=l(b),x=a(1),k=a(6),N=m.Form.Item,D=(m.Select.Option,m.Tabs.TabPane),R=a(693),_=a(258),P=a(163),U=r.default.createClass({displayName:"CreateBenefitsPage",getInitialState:function(){return{benefitsSet:{operation:"",errMsg:""},loading:!1,beneLoading:!1,benefits:{},user:{},datas:{},hints:{},validRules:[]}},mixins:[x.listenTo(_,"onServiceComplete"),x.listenTo(R,"onServiceComplete2"),(0,c.default)("benefits")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,benefitsSet:e}))},onServiceComplete2:function(e){if(null!==e.recordSet&&e.recordSet.length>0){var t=e.recordSet[0];this.state.benefits.salaryBank=t.salaryBank,this.state.benefits.salaryCard=t.salaryCard,this.state.benefits.reimBank=t.reimBank,this.state.benefits.reimCard=t.reimCard,this.state.benefits.salary=t.salary,this.state.benefits.salary2=t.salary2,this.state.benefits.salary3=t.salary3,this.state.benefits.salary7=t.salary7,this.state.benefits.salary6=t.salary6,this.state.benefits.devAllow=t.devAllow,this.state.benefits.insuBase=t.insuBase,this.state.benefits.cpfBase=t.cpfBase,this.state.benefits.insuName=t.insuName,this.state.benefits.allowName=t.allowName,this.state.benefits.tripName=t.tripName}this.setState({beneLoading:!1})},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"0"},{id:"perName",desc:"员工",required:!1,max:"0"},{id:"reimBank",desc:"报销卡银行",required:!1,max:"64"},{id:"salaryBank",desc:"工资卡银行",required:!1,max:"64"},{id:"salaryCard",desc:"工资卡",required:!1,max:"32"},{id:"reimCard",desc:"报销卡",required:!1,max:"32"},{id:"salary",desc:"基本工资",required:!1,max:"16"},{id:"salary2",desc:"绩效工资",required:!1,max:"16"},{id:"salary3",desc:"岗位津贴",required:!1,max:"16"},{id:"salary7",desc:"项目经费",required:!1,max:"16"},{id:"salary6",desc:"加班补偿基数",required:!1,max:"16"},{id:"insuBase",desc:"社保基数",required:!1,max:"16"},{id:"cpfBase",desc:"公积金基数",required:!1,max:"16"},{id:"devAllow",desc:"笔记本补贴",required:!1,max:"16"},{id:"allowName",desc:"补贴类型",required:!1,max:"64"},{id:"tripName",desc:"差旅类型",required:!1,max:"64"},{id:"insuName",desc:"社保类型",required:!1,max:"64"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"deptName",desc:"任职部门",required:!1,max:"0"}],this.clear()},handleKeyDown:function(e){if(73==e.keyCode&&e.ctrlKey&&e.altKey){var t=this.refs.QuickFillWindow;t&&(t.initPage(this.state.validRules),t.toggle())}},clear:function(e){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.benefits.uuid="",this.state.benefits.corpUuid=window.loginData.compUser.corpUuid,this.state.benefits.staffCode="",this.state.benefits.perName="",this.state.benefits.reimBank="",this.state.benefits.salaryBank="",this.state.benefits.salaryCard="",this.state.benefits.reimCard="",this.state.benefits.salary="",this.state.benefits.salary2="",this.state.benefits.salary3="",this.state.benefits.salary7="",this.state.benefits.salary6="",this.state.benefits.insuBase="",this.state.benefits.cpfBase="",this.state.benefits.devAllow="",this.state.benefits.allowName="",this.state.benefits.tripName="",this.state.benefits.insuName="",this.state.benefits.effectDate="",this.state.benefits.approver="",this.state.benefits.deptName="",this.state.benefits.status="1",this.state.loading=!1,this.state.benefitsSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectEmpLoyee:function(e){var t=window.loginData.compUser.corpUuid,a={corpUuid:t,staffCode:e.staffCode};P.addHrBenefits(a),this.state.benefits.staffCode=e.staffCode,this.state.benefits.perName=e.perName,this.state.benefits.deptName=e.deptName,this.state.benefits.userUuid=e.uuid,this.setState({beneLoading:!0,user:e})},showError:function(e){console.log(e)},onClickSave:function(){this.setState({loading:!0});var e=this.state.benefits;P.createHrBenefits(e)},goBack:function(){window.removeEventListener("keydown",this.handleKeyDown),this.props.onBack()},onTabChange:function(e){"1"===e&&this.goBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints,n=(k.getGridMargin(this),!this.state.benefits.userUuid),o=r.default.createElement(m.Form,{layout:e},r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,onChange:this.handleOnChange,disabled:!0}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"员工",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(m.Input,{type:"text",name:"perName",id:"perName",value:this.state.user.perName,onChange:this.handleOnChange,disabled:!0})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"任职部门",required:!1,colon:!0,className:t,help:l.deptNameHint,validateStatus:l.deptNameStatus}),r.default.createElement(m.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName,onChange:this.handleOnChange,disabled:!0})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"工资卡银行",required:!1,colon:!0,className:t,help:l.salaryBankHint,validateStatus:l.salaryBankStatus}),r.default.createElement(m.Input,{type:"text",name:"salaryBank",id:"salaryBank",value:this.state.benefits.salaryBank,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"工资卡",required:!1,colon:!0,className:t,help:l.salaryCardHint,validateStatus:l.salaryCardStatus}),r.default.createElement(m.Input,{type:"text",name:"salaryCard",id:"salaryCard",value:this.state.benefits.salaryCard,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"报销卡银行",required:!1,colon:!0,className:t,help:l.reimBankHint,validateStatus:l.reimBankStatus}),r.default.createElement(m.Input,{type:"text",name:"reimBank",id:"reimBank",value:this.state.benefits.reimBank,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"报销卡",required:!1,colon:!0,className:t,help:l.reimCardHint,validateStatus:l.reimCardStatus}),r.default.createElement(m.Input,{type:"text",name:"reimCard",id:"reimCard",value:this.state.benefits.reimCard,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"基本工资",required:!1,colon:!0,className:t,help:l.salaryHint,validateStatus:l.salaryStatus}),r.default.createElement(m.Input,{type:"text",name:"salary",id:"salary",value:this.state.benefits.salary,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"绩效工资",required:!1,colon:!0,className:t,help:l.salary2Hint,validateStatus:l.salary2Status}),r.default.createElement(m.Input,{type:"text",name:"salary2",id:"salary2",value:this.state.benefits.salary2,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"岗位津贴",required:!1,colon:!0,className:t,help:l.salary3Hint,validateStatus:l.salary3Status}),r.default.createElement(m.Input,{type:"text",name:"salary3",id:"salary3",value:this.state.benefits.salary3,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"项目经费",required:!1,colon:!0,className:t,help:l.salary7Hint,validateStatus:l.salary7Status}),r.default.createElement(m.Input,{type:"text",name:"salary7",id:"salary7",value:this.state.benefits.salary7,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"加班补偿基数",required:!1,colon:!0,className:t,help:l.salary6Hint,validateStatus:l.salary6Status}),r.default.createElement(m.Input,{type:"text",name:"salary6",id:"salary6",value:this.state.benefits.salary6,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"笔记本补贴",required:!1,colon:!0,className:t,help:l.devAllowHint,validateStatus:l.devAllowStatus}),r.default.createElement(m.Input,{type:"text",name:"devAllow",id:"devAllow",value:this.state.benefits.devAllow,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"社保基数",required:!1,colon:!0,className:t,help:l.insuBaseHint,validateStatus:l.insuBaseStatus}),r.default.createElement(m.Input,{type:"text",name:"insuBase",id:"insuBase",value:this.state.benefits.insuBase,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"公积金基数",required:!1,colon:!0,className:t,help:l.cpfBaseHint,validateStatus:l.cpfBaseStatus}),r.default.createElement(m.Input,{type:"text",name:"cpfBase",id:"cpfBase",value:this.state.benefits.cpfBase,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"社保类型",required:!1,colon:!0,className:t,help:l.insuNameHint,validateStatus:l.insuNameStatus}),r.default.createElement(S.default,{ref:"insuName",name:"insuName",id:"insuName",value:this.state.benefits.insuName,onSelect:this.handleOnSelected.bind(this,"insuName")}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"补贴类型",required:!1,colon:!0,className:t,help:l.allowNameHint,validateStatus:l.allowNameStatus}),r.default.createElement(w.default,{name:"allowName",id:"allowName",value:this.state.benefits.allowName,onSelect:this.handleOnSelected.bind(this,"allowName")})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"差旅级别",required:!1,colon:!0,className:t,help:l.tripNameHint,validateStatus:l.tripNameStatus}),r.default.createElement(E.default,{name:"tripName",id:"tripName",value:this.state.benefits.tripName,onSelect:this.handleOnSelected.bind(this,"tripName")})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:l.approverHint,validateStatus:l.approverStatus}),r.default.createElement(m.Input,{type:"text",name:"approver",id:"approver",value:this.state.benefits.approver,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(N,i({},a,{label:"生效日期",required:!1,colon:!0,className:t,help:l.effectDateHint,validateStatus:l.effectDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%",zIndex:"2"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.benefits.effectDate,k.dateFormat),format:k.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",k.dateFormat)})))),r.default.createElement(N,{style:{textAlign:"right"},required:!1,colon:!0,className:t},r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:n},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")));return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(m.Tabs,{defaultActiveKey:"2",onTabClick:this.goBack,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(D,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(D,{tab:"增加薪资信息#",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"16px 0 16px 8px",height:"100%",width:"100%",overflowY:"auto"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-benefits/create"]}),r.default.createElement(g.default,{style:{padding:"10px 0 16px 32px",width:"700px"},corpUuid:this.state.corpUuid,showError:this.showError,onSelectEmpLoyee:this.onSelectEmpLoyee}),this.state.beneLoading?r.default.createElement(m.Spin,null,o):o)))),r.default.createElement(p.default,{ref:"QuickFillWindow",self:this,object:"benefits"}))}});e.exports=U},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=(l(d),a(4)),c=a(12),h=(l(c),a(475)),p=l(h),m=a(476),f=l(m),g=a(474),v=l(g),y=(a(1),a(6),a(3),u.Form.Item),S=(a(258),a(163),r.default.createClass({displayName:"DetFromPage",getInitialState:function(){return{benefits:{}}},componentDidMount:function(){},initPage:function(e){this.setState({benefits:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}};return r.default.createElement("div",{style:{width:"800px"}},r.default.createElement(u.Form,{layout:e},r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"工资卡银行",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"salaryBank",id:"salaryBank",value:this.state.benefits.salaryBank}))),r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"工资卡",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"salaryCard",id:"salaryCard",value:this.state.benefits.salaryCard})))),r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"报销卡银行",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"reimBank",id:"reimBank",value:this.state.benefits.reimBank}))),r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"报销卡",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"reimCard",id:"reimCard",value:this.state.benefits.reimCard})))),r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"基本工资",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"salary",id:"salary",value:this.state.benefits.salary}))),r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"绩效工资",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"salary2",id:"salary2",value:this.state.benefits.salary2})))),r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"岗位津贴",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"salary3",id:"salary3",value:this.state.benefits.salary3}))),r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"项目经费",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"salary7",id:"salary7",value:this.state.benefits.salary7})))),r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"加班补偿基数",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"salary6",id:"salary6",value:this.state.benefits.salary6}))),r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"笔记本补贴",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"devAllow",id:"devAllow",value:this.state.benefits.devAllow})))),r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"社保基数",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"insuBase",id:"insuBase",value:this.state.benefits.insuBase}))),r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"公积金基数",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"cpfBase",id:"cpfBase",value:this.state.benefits.cpfBase})))),r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"社保类型",required:!1,colon:!0,className:t}),r.default.createElement(p.default,{ref:"insuName",name:"insuName",id:"insuName",value:this.state.benefits.insuName}))),r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"补贴类型",required:!1,colon:!0,className:t}),r.default.createElement(v.default,{ref:"allowName",name:"allowName",id:"allowName",value:this.state.benefits.allowName})))),r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"差旅级别",required:!1,colon:!0,className:t}),r.default.createElement(f.default,{name:"tripName",id:"tripName",value:this.state.benefits.tripName})))),r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"审批人",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"approver",id:"approver",value:this.state.benefits.approver}))),r.default.createElement(u.Col,{span:"8"},r.default.createElement(y,i({},a,{label:"生效日期",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"effectDate",id:"effectDate",value:this.state.benefits.effectDate}))))))}}));t.default=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(13),a(7)),d=l(s),u=a(4),c=a(1183),h=l(c),p=a(21),m=l(p),f=a(1),g=(u.Form.Item,u.Tabs.TabPane),v=a(6),y=(a(3),a(163)),S=a(693),C=n.default.createClass({displayName:"DetailsBenefitsPage",getInitialState:function(){return{BenefitsSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(S,"onServiceComplete"),(0,m.default)()],onServiceComplete:function(e){this.setState({loading:!1,BenefitsSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={userUuid:this.props.userUuid};y.retrieveEmpBenefits(e)},onClickDetails:function(e,t){null!=e&&this.refs.DetFromPage.initPage(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(e){var t=this,e=window.loginData.compUser.corpUuid,a=[{title:"基本工资",dataIndex:"salary",key:"salary",width:140},{title:"绩效工资",dataIndex:"salary2",key:"salary2",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140},{title:"社保基数",dataIndex:"insuBase",key:"insuBase",width:140},{title:"公积金基数",dataIndex:"cpfBase",key:"cpfBase",width:140},{title:"社保类型",dataIndex:"insuName",key:"insuName",width:140,render:function(a,l){return t.getInsuName(e,l.insuName)}},{title:"补贴类型",dataIndex:"allowName",key:"allowName",width:140,render:function(a,l){return t.getAllowName(e,l.allowName)}},{title:"更多操作",key:"action",width:140,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickDetails.bind(t,a),title:"查看"},n.default.createElement(u.Icon,{type:"bars"})))}}],l=this.state.BenefitsSet.recordSet;return n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(u.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(g,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(g,{
tab:"合同详情",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},n.default.createElement("div",{style:{padding:"12px",height:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-benefits/retrieve"]}),n.default.createElement(u.Table,{columns:a,dataSource:l,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder}),n.default.createElement("div",{style:{width:"100%",padding:"8px"}},n.default.createElement(h.default,{ref:"DetFromPage"})))))))}});e.exports=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=l(d),c=a(4),h=(a(1),a(6)),p=c.Form.Item,m=(a(258),a(163),r.default.createClass({displayName:"MoreBenefitsPage",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],benefits:{s1:"",s2:"",staffCode:"",perName:"",baseCity:"",entryDate2:"",entryDate1:""}}},mixins:[(0,u.default)("benefits")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"s1",desc:"工资范围下限",required:!1,max:"0"},{id:"s2",desc:"工资范围上限",required:!1,max:"0"},{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"staffCode",desc:"员工编号",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"entryDate1",desc:"入职日期开始时间",required:!1,max:"0"},{id:"entryDate2",desc:"入职日期结束时间",required:!1,max:"0"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},r.default.createElement(c.Form,{layout:e,style:{width:"100%"}},r.default.createElement(c.Row,null,r.default.createElement(c.Col,{span:"8"},r.default.createElement(p,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(c.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.benefits.staffCode,onChange:this.handleOnChange}))),r.default.createElement(c.Col,{span:"8"},r.default.createElement(p,i({},a,{label:"员工",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(c.Input,{type:"text",name:"perName",id:"perName",value:this.state.benefits.perName,onChange:this.handleOnChange}))),r.default.createElement(c.Col,{span:"8"},r.default.createElement(p,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:n.baseCityHint,validateStatus:n.baseCityStatus}),r.default.createElement(c.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.benefits.baseCity,onChange:this.handleOnChange})))),r.default.createElement(c.Row,null,r.default.createElement(c.Col,{span:"6"},r.default.createElement(p,i({},l,{label:"入职日期",required:!1,colon:!0,className:t,help:n.entryDate1Hint,validateStatus:n.entryDate1Status}),r.default.createElement(c.DatePicker,{name:"entryDate1",id:"entryDate1",value:this.formatDate(this.state.benefits.entryDate1,h.dateFormat),format:h.dateFormat,onChange:this.handleOnSelDate.bind(this,"entryDate1",h.dateFormat)}))),r.default.createElement(c.Col,{span:"5"},r.default.createElement(p,i({},a,{label:"到",required:!1,colon:!0,className:t,help:n.entryDate2Hint,validateStatus:n.entryDate2Status}),r.default.createElement(c.DatePicker,{name:"entryDate2",id:"entryDate2",value:this.formatDate(this.state.benefits.entryDate2,h.dateFormat),format:h.dateFormat,onChange:this.handleOnSelDate.bind(this,"entryDate2",h.dateFormat)}))),r.default.createElement(c.Col,{span:"3"}),r.default.createElement(c.Col,{span:"5"},r.default.createElement(p,i({},l,{label:"工资范围",required:!1,colon:!0,className:t,help:n.s1Hint,validateStatus:n.s1Status}),r.default.createElement(c.Input,{type:"text",name:"s1",id:"s1",value:this.state.benefits.s1,onChange:this.handleOnChange}))),r.default.createElement(c.Col,{span:"5"},r.default.createElement(p,i({},a,{label:"到",required:!1,colon:!0,className:t,help:n.s2Hint,validateStatus:n.s2Status}),r.default.createElement(c.Input,{type:"text",name:"s2",id:"s2",value:this.state.benefits.s2,onChange:this.handleOnChange})))))))}}));t.default=m},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(12),m=(l(p),a(475)),f=l(m),g=a(476),v=l(g),y=a(474),S=l(y),C=a(1),E=a(6),b=a(3),w=h.Form.Item,x=(h.Select.Option,h.Tabs.TabPane),k=a(258),N=a(163),D=r.default.createClass({displayName:"UpdateBenefitsPage",getInitialState:function(){return{benefitsSet:{operation:"",errMsg:""},loading:!1,benefits:{},hints:{},validRules:[]}},mixins:[C.listenTo(k,"onServiceComplete"),(0,c.default)("benefits")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,benefitsSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"0"},{id:"perName",desc:"员工",required:!1,max:"0"},{id:"reimBank",desc:"报销卡银行",required:!1,max:"64"},{id:"salaryBank",desc:"工资卡银行",required:!1,max:"64"},{id:"salaryCard",desc:"工资卡",required:!1,max:"32"},{id:"reimCard",desc:"报销卡",required:!1,max:"32"},{id:"salary",desc:"基本工资",required:!1,max:"16"},{id:"salary2",desc:"绩效工资",required:!1,max:"16"},{id:"salary3",desc:"岗位津贴",required:!1,max:"16"},{id:"salary7",desc:"项目经费",required:!1,max:"16"},{id:"salary6",desc:"加班补偿基数",required:!1,max:"16"},{id:"insuBase",desc:"社保基数",required:!1,max:"16"},{id:"cpfBase",desc:"公积金基数",required:!1,max:"16"},{id:"devAllow",desc:"笔记本补贴",required:!1,max:"16"},{id:"allowName",desc:"补贴类型",required:!1,max:"64"},{id:"tripName",desc:"差旅类型",required:!1,max:"64"},{id:"insuName",desc:"社保类型",required:!1,max:"64"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"deptName",desc:"任职部门",required:!1,max:"0"}],this.initPage(this.props.benefits)},componentWillReceiveProps:function(e){},initPage:function(e){b.copyValue(e,this.state.benefits),this.setState({loading:!1,hints:{}}),this.state.benefitsSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){E.formValidator(this,this.state.benefits)&&(this.state.benefitsSet.operation="",this.setState({loading:!0}),N.updateHrBenefits(this.state.benefits))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(h.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(x,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(x,{tab:"修改工资信息",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-benefits/update"]}),r.default.createElement(h.Form,{layout:e},r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.benefits.staffCode,onChange:this.handleOnChange,disabled:!0}))),r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"员工",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(h.Input,{type:"text",name:"perName",id:"perName",value:this.state.benefits.perName,onChange:this.handleOnChange,disabled:!0})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"任职部门",required:!1,colon:!0,className:t,help:l.deptNameHint,validateStatus:l.deptNameStatus}),r.default.createElement(h.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.benefits.deptName,onChange:this.handleOnChange,disabled:!0})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"工资卡银行",required:!1,colon:!0,className:t,help:l.salaryBankHint,validateStatus:l.salaryBankStatus}),r.default.createElement(h.Input,{type:"text",name:"salaryBank",id:"salaryBank",value:this.state.benefits.salaryBank,onChange:this.handleOnChange}))),r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"工资卡",required:!1,colon:!0,className:t,help:l.salaryCardHint,validateStatus:l.salaryCardStatus}),r.default.createElement(h.Input,{type:"text",name:"salaryCard",id:"salaryCard",value:this.state.benefits.salaryCard,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"报销卡银行",required:!1,colon:!0,className:t,help:l.reimBankHint,validateStatus:l.reimBankStatus}),r.default.createElement(h.Input,{type:"text",name:"reimBank",id:"reimBank",value:this.state.benefits.reimBank,onChange:this.handleOnChange}))),r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"报销卡",required:!1,colon:!0,className:t,help:l.reimCardHint,validateStatus:l.reimCardStatus}),r.default.createElement(h.Input,{type:"text",name:"reimCard",id:"reimCard",value:this.state.benefits.reimCard,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"基本工资",required:!1,colon:!0,className:t,help:l.salaryHint,validateStatus:l.salaryStatus}),r.default.createElement(h.Input,{type:"text",name:"salary",id:"salary",value:this.state.benefits.salary,onChange:this.handleOnChange}))),r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"绩效工资",required:!1,colon:!0,className:t,help:l.salary2Hint,validateStatus:l.salary2Status}),r.default.createElement(h.Input,{type:"text",name:"salary2",id:"salary2",value:this.state.benefits.salary2,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"岗位津贴",required:!1,colon:!0,className:t,help:l.salary3Hint,validateStatus:l.salary3Status}),r.default.createElement(h.Input,{type:"text",name:"salary3",id:"salary3",value:this.state.benefits.salary3,onChange:this.handleOnChange}))),r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"项目经费",required:!1,colon:!0,className:t,help:l.salary7Hint,validateStatus:l.salary7Status}),r.default.createElement(h.Input,{type:"text",name:"salary7",id:"salary7",value:this.state.benefits.salary7,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"加班补偿基数",required:!1,colon:!0,className:t,help:l.salary6Hint,validateStatus:l.salary6Status}),r.default.createElement(h.Input,{type:"text",name:"salary6",id:"salary6",value:this.state.benefits.salary6,onChange:this.handleOnChange}))),r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"笔记本补贴",required:!1,colon:!0,className:t,help:l.devAllowHint,validateStatus:l.devAllowStatus}),r.default.createElement(h.Input,{type:"text",name:"devAllow",id:"devAllow",value:this.state.benefits.devAllow,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"社保基数",required:!1,colon:!0,className:t,help:l.insuBaseHint,validateStatus:l.insuBaseStatus}),r.default.createElement(h.Input,{type:"text",name:"insuBase",id:"insuBase",value:this.state.benefits.insuBase,onChange:this.handleOnChange}))),r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"公积金基数",required:!1,colon:!0,className:t,help:l.cpfBaseHint,validateStatus:l.cpfBaseStatus}),r.default.createElement(h.Input,{type:"text",name:"cpfBase",id:"cpfBase",value:this.state.benefits.cpfBase,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"社保类型",required:!1,colon:!0,className:t,help:l.insuNameHint,validateStatus:l.insuNameStatus}),r.default.createElement(f.default,{ref:"insuName",name:"insuName",id:"insuName",value:this.state.benefits.insuName,onSelect:this.handleOnSelected.bind(this,"insuName")}))),r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"补贴类型",required:!1,colon:!0,className:t,help:l.allowNameHint,validateStatus:l.allowNameStatus}),r.default.createElement(S.default,{ref:"allowName",name:"allowName",id:"allowName",value:this.state.benefits.allowName,onSelect:this.handleOnSelected.bind(this,"allowName")})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"差旅级别",required:!1,colon:!0,className:t,help:l.tripNameHint,validateStatus:l.tripNameStatus}),r.default.createElement(v.default,{name:"tripName",id:"tripName",value:this.state.benefits.tripName,onSelect:this.handleOnSelected.bind(this,"tripName")})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:l.approverHint,validateStatus:l.approverStatus}),r.default.createElement(h.Input,{type:"text",name:"approver",id:"approver",value:this.state.benefits.approver,onChange:this.handleOnChange}))),r.default.createElement(h.Col,{span:"8"},r.default.createElement(w,i({},a,{label:"生效日期",required:!1,colon:!0,className:t,help:l.effectDateHint,validateStatus:l.effectDateStatus}),r.default.createElement(h.DatePicker,{style:{width:"100%",zIndex:"2"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.benefits.effectDate,E.dateFormat),format:E.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",E.dateFormat)})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"16"},r.default.createElement(w,{style:{textAlign:"right"},required:!1,colon:!0,className:t},r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))))}});t.default=D},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1188),c=l(u),h=a(1193),p=l(h),m=(a(1),a(6)),f=o.Tabs.TabPane,g=n.default.createClass({displayName:"BizTripPage",getInitialState:function(){return{isSelect:!0,selectKey:"1",bizTrip:{}}},componentDidMount:function(){},selectsRole:function(e){this.setState({isSelect:!1,selectKey:"2",bizTrip:e})},onTabClick:function(){this.setState({isSelect:!0,selectKey:"1"})},render:function(){var e=(this.state.selectKey,m.getGridMargin(this,0));return n.default.createElement("div",{className:"tab-page",style:{padding:e.padding}},n.default.createElement("div",{style:{margin:e.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_biz_trip/retrieve","hr_biz_trip/remove"]})),n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(o.Tabs,{activeKey:this.state.selectKey,onTabClick:this.onTabClick},n.default.createElement(f,{tab:"差旅级别",key:"1",style:{width:"100%",height:"100%"}},n.default.createElement(c.default,{selectsRole:this.selectsRole.bind(this),style:{width:"100%",height:"100%"}})),n.default.createElement(f,{tab:"报销额度",key:"2",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},n.default.createElement(p.default,{tripUuid:this.state.bizTrip.uuid,style:{width:"100%",height:"100%"}})))))}});e.exports=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=(l(s),a(4)),u=a(1189),c=l(u),h=a(1190),p=l(h),m=a(1),f=d.Input.Search,g=a(6),v=(a(3),a(112)),y=a(82),S="",C=n.default.createClass({displayName:"BizTripPage",getInitialState:function(){return{bizTripSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[m.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,bizTripSet:e})},handleQueryClick:function(e){var t=window.loginData.compUser,a=null===t?"":t.corpUuid;this.setState({loading:!0}),this.state.bizTripSet.operation="",y.retrieveHrBizTrip(a)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),y.initHrBizTrip(t)},handleOpenCreateWindow:function(e){var t=window.loginData.compUser,a=null===t?"":t.corpUuid;this.refs.createWindow.clear(a),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){d.Modal.confirm({title:"删除确认",content:"是否删除选中的差旅级别 【"+e.tripName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.bizTripSet.operation="",y.deleteHrBizTrip(e.uuid)},handleSelectClick:function(e){this.props.selectsRole(e)},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=g.filter(this.state.bizTripSet.recordSet,S),a=[{title:"差旅级别",dataIndex:"tripName",key:"tripName",width:140},{title:"差旅说明",dataIndex:"tripDesc",key:"tripDesc",width:240},{title:"",key:"action",width:70,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改差旅级别"},n.default.createElement(d.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除差旅级别"},n.default.createElement(d.Icon,{type:g.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.handleSelectClick.bind(e,a),title:"报销额度"},n.default.createElement(d.Icon,{type:g.iconDetail})))}}];return n.default.createElement("div",{className:"grid-page",style:{padding:"58px 0 0 0"}},n.default.createElement("div",{style:{margin:"-58px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(d.Button,{icon:g.iconAdd,type:"primary",title:"差旅级别",onClick:this.handleOpenCreateWindow}),n.default.createElement(d.Button,{icon:g.iconRefresh,title:"额度管理",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(f,{placeholder:"查找记录",style:{width:g.searchWidth},value:S,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(d.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(c.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=h.Form.Item,g=(h.Select.Option,a(112)),v=a(82),y=r.default.createClass({displayName:"CreateBizTripPage",getInitialState:function(){return{bizTripSet:{operation:"",errMsg:""},loading:!1,modal:!1,bizTrip:{},hints:{},validRules:[]}},mixins:[p.listenTo(g,"onServiceComplete"),(0,c.default)("bizTrip")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,bizTripSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"tripName",desc:"差旅级别",required:!0,max:"32"},{id:"tripDesc",desc:"差旅说明",required:!1,max:"256"}]},clear:function(e){this.state.hints={},this.state.bizTrip.uuid="",this.state.bizTrip.corpUuid=e,this.state.bizTrip.tripName="",this.state.bizTrip.tripDesc="",this.state.loading=!1,this.state.bizTripSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.bizTrip)&&(this.state.bizTripSet.operation="",this.setState({loading:!0}),v.createHrBizTrip(this.state.bizTrip))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"增加差旅级别",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_biz_trip/create"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(f,i({},a,{label:"差旅级别",required:!0,colon:!0,className:t,help:l.tripNameHint,validateStatus:l.tripNameStatus}),r.default.createElement(h.Input,{type:"text",name:"tripName",id:"tripName",value:this.state.bizTrip.tripName,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"差旅说明",colon:!0,className:t,help:l.tripDescHint,validateStatus:l.tripDescStatus}),r.default.createElement(h.Input,{type:"text",name:"tripDesc",id:"tripDesc",value:this.state.bizTrip.tripDesc,onChange:this.handleOnChange}))))}});t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.Form.Item,v=(h.Select.Option,a(112)),y=a(82),S=r.default.createClass({displayName:"UpdateBizTripPage",getInitialState:function(){return{bizTripSet:{operation:"",errMsg:""},loading:!1,modal:!1,bizTrip:{},hints:{},validRules:[]}},mixins:[p.listenTo(v,"onServiceComplete"),(0,c.default)("bizTrip")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,bizTripSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"tripName",desc:"差旅级别",required:!0,max:"32"},{id:"tripDesc",desc:"差旅说明",required:!1,max:"256"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.bizTrip),this.state.loading=!1,this.state.bizTripSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.bizTrip)&&(this.state.bizTripSet.operation="",this.setState({loading:!0}),y.updateHrBizTrip(this.state.bizTrip))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改差旅级别信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_biz_trip/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(g,i({},a,{label:"差旅级别",required:!0,colon:!0,className:t,help:l.tripNameHint,validateStatus:l.tripNameStatus}),r.default.createElement(h.Input,{type:"text",name:"tripName",id:"tripName",value:this.state.bizTrip.tripName,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"差旅说明",colon:!0,className:t,help:l.tripDescHint,validateStatus:l.tripDescStatus}),r.default.createElement(h.Input,{type:"text",name:"tripDesc",id:"tripDesc",value:this.state.bizTrip.tripDesc,onChange:this.handleOnChange}))))}});t.default=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(706),p=l(h),m=a(4),f=a(1),g=a(6),v=m.Form.Item,y=(m.Select.Option,a(259)),S=a(186),C=r.default.createClass({displayName:"CreateTripParamPage",getInitialState:function(){return{tripParamSet:{operation:"",errMsg:""},loading:!1,modal:!1,tripParam:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("tripParam")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tripParamSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"cityType",desc:"城市类型",required:!1,max:"16"},{id:"allowance",desc:"出差补贴",required:!1,max:"16"},{id:"traffic",desc:"交通补贴",required:!1,max:"256"},{id:"taxiPort",desc:"机场打车说明",required:!1,max:"256"},{id:"taxiCity",desc:"市内打车说明",required:!1,max:"256"},{id:"hotelMemo",desc:"酒店说明",required:!1,max:"256"},{id:"foodMemo",desc:"餐补说明",required:!1,max:"256"}]},clear:function(e,t){this.state.hints={},this.state.tripParam.uuid="",this.state.tripParam.tripUuid=t,this.state.tripParam.corpUuid=e,this.state.tripParam.cityType="",this.state.tripParam.allowance="",this.state.tripParam.traffic="",this.state.tripParam.taxiPort="",this.state.tripParam.taxiCity="",this.state.tripParam.hotelMemo="",this.state.tripParam.foodMemo="",this.state.loading=!1,this.state.tripParamSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.tripParam)&&(this.state.tripParamSet.operation="",this.setState({loading:!0}),S.createHrBizTripParam(this.state.tripParam))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加额度",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-biz-trip-param/create"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(v,i({},a,{label:"城市类型",colon:!0,className:t,help:l.cityTypeHint,validateStatus:l.cityTypeStatus}),r.default.createElement(p.default,{style:{marginBottom:"10px",width:200},value:this.state.tripParam.cityType,onSelect:this.handleOnSelected.bind(this,"cityType")})),r.default.createElement(v,i({},a,{label:"出差补贴",colon:!0,className:t,help:l.allowanceHint,validateStatus:l.allowanceStatus}),r.default.createElement(m.Input,{type:"text",name:"allowance",id:"allowance",value:this.state.tripParam.allowance,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"交通补贴",colon:!0,className:t,help:l.trafficHint,validateStatus:l.trafficStatus}),r.default.createElement(m.Input,{type:"textarea",name:"traffic",id:"traffic",value:this.state.tripParam.traffic,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"机场打车说明",colon:!0,className:t,help:l.taxiPortHint,validateStatus:l.taxiPortStatus}),r.default.createElement(m.Input,{type:"textarea",name:"taxiPort",id:"taxiPort",value:this.state.tripParam.taxiPort,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"市内打车说明",colon:!0,className:t,help:l.taxiCityHint,validateStatus:l.taxiCityStatus}),r.default.createElement(m.Input,{type:"textarea",name:"taxiCity",id:"taxiCity",value:this.state.tripParam.taxiCity,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"酒店说明",colon:!0,className:t,help:l.hotelMemoHint,validateStatus:l.hotelMemoStatus}),r.default.createElement(m.Input,{type:"textarea",name:"hotelMemo",id:"hotelMemo",value:this.state.tripParam.hotelMemo,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"餐补说明",colon:!0,className:t,help:l.foodMemoHint,validateStatus:l.foodMemoStatus}),r.default.createElement(m.Input,{type:"textarea",name:"foodMemo",id:"foodMemo",value:this.state.tripParam.foodMemo,onChange:this.handleOnChange}))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(706),p=l(h),m=a(4),f=a(1),g=a(6),v=a(3),y=m.Form.Item,S=(m.Select.Option,a(259)),C=a(186),E=r.default.createClass({displayName:"UpdateTripParamPage",getInitialState:function(){return{tripParamSet:{operation:"",errMsg:""},loading:!1,modal:!1,tripParam:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("tripParam")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tripParamSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"cityType",desc:"城市类型",required:!1,max:"16"},{id:"allowance",desc:"出差补贴",required:!0,max:"16"},{id:"traffic",desc:"交通补贴",required:!1,max:"256"},{id:"taxiPort",desc:"机场打车说明",required:!1,max:"256"},{id:"taxiCity",desc:"市内打车说明",required:!1,max:"256"},{id:"hotelMemo",desc:"酒店说明",required:!1,max:"256"},{id:"foodMemo",desc:"餐补说明",required:!1,max:"256"}]},onCitySelectChange:function(e,t){this.state.tripParam.cityType=e,this.setState({loading:this.state.loading})},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.tripParam),this.state.loading=!1,this.state.tripParamSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.tripParam)&&(this.state.tripParamSet.operation="",
this.setState({loading:!0}),C.updateHrBizTripParam(this.state.tripParam))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"修改额度信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-biz-trip-param/update"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(y,i({},a,{label:"城市类型",colon:!0,className:t,help:l.cityTypeHint,validateStatus:l.cityTypeStatus}),r.default.createElement(p.default,{style:{marginBottom:"10px",width:200},value:this.state.tripParam.cityType,onSelect:this.handleOnSelected.bind(this,"cityType")})),r.default.createElement(y,i({},a,{label:"出差补贴",colon:!0,className:t,help:l.allowanceHint,validateStatus:l.allowanceStatus}),r.default.createElement(m.Input,{type:"text",name:"allowance",id:"allowance",value:this.state.tripParam.allowance,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"交通补贴",colon:!0,className:t,help:l.trafficHint,validateStatus:l.trafficStatus}),r.default.createElement(m.Input,{type:"textarea",name:"traffic",id:"traffic",value:this.state.tripParam.traffic,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"机场打车说明",colon:!0,className:t,help:l.taxiPortHint,validateStatus:l.taxiPortStatus}),r.default.createElement(m.Input,{type:"textarea",name:"taxiPort",id:"taxiPort",value:this.state.tripParam.taxiPort,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"市内打车说明",colon:!0,className:t,help:l.taxiCityHint,validateStatus:l.taxiCityStatus}),r.default.createElement(m.Input,{type:"textarea",name:"taxiCity",id:"taxiCity",value:this.state.tripParam.taxiCity,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"酒店说明",colon:!0,className:t,help:l.hotelMemoHint,validateStatus:l.hotelMemoStatus}),r.default.createElement(m.Input,{type:"textarea",name:"hotelMemo",id:"hotelMemo",value:this.state.tripParam.hotelMemo,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"餐补说明",colon:!0,className:t,help:l.foodMemoHint,validateStatus:l.foodMemoStatus}),r.default.createElement(m.Input,{type:"textarea",name:"foodMemo",id:"foodMemo",value:this.state.tripParam.foodMemo,onChange:this.handleOnChange}))))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1191),h=l(c),p=a(1192),m=l(p),f=a(1),g=u.Input.Search,v=a(6),y=(a(3),a(259)),S=a(186),C=a(189),E=a(148),b="",w=n.default.createClass({displayName:"TripParamPage",getInitialState:function(){return{tripParamSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,cityMap:{},tripUuid:"",corpUuid:window.loginData.compUser.corpUuid}},mixins:[f.listenTo(y,"onServiceComplete"),f.listenTo(C,"onCityComplete")],onServiceComplete:function(e){this.setState({loading:!1,tripParamSet:e})},onCityComplete:function(e){var t={};e.recordSet.map(function(e,a){t[e.uuid]=e.cityType}),this.setState({cityMap:t})},getCityType:function(e){var t=this.state.cityMap[e];return null===t||""===t||"undefined"==typeof t?e:t},handleQueryClick:function(){this.setState({loading:!0}),this.state.tripParamSet.operation="",S.retrieveHrBizTripParam(this.state.tripUuid)},componentDidMount:function(){this.setState({loading:!0}),this.state.tripUuid=this.props.tripUuid,S.initHrBizTripParam(this.props.tripUuid);var e=window.loginData.compUser,t=null===e?"":e.corpUuid;E.initHrTripCity(t)},handleOpenCreateWindow:function(){this.refs.createWindow.clear(this.state.corpUuid,this.state.tripUuid),this.refs.createWindow.toggle()},componentWillReceiveProps:function(e){e.tripUuid!==this.state.tripUuid&&(this.state.tripUuid=e.tripUuid,this.setState({loading:!0}),this.state.tripParamSet.operation="",S.initHrBizTripParam(e.tripUuid))},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的额度 【"+e.cityType+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.tripParamSet.operation="",S.deleteHrBizTripParam(e.uuid)},onFilterRecord:function(e){b=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=v.filter(this.state.tripParamSet.recordSet,b),a=[{title:"城市类型",dataIndex:"cityType",key:"cityType",width:140,render:function(t,a){return e.getCityType(a.cityType)}},{title:"出差补贴",dataIndex:"allowance",key:"allowance",width:200},{title:"交通补贴",dataIndex:"traffic",key:"traffic",width:140},{title:"",key:"action",width:70,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}];return n.default.createElement("div",{className:"grid-page",style:{padding:"58px 0 0 0"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-biz-trip-param/retrieve","hr-biz-trip-param/remove"]}),n.default.createElement("div",{style:{margin:"-58px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加额度",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:b,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),n.default.createElement(h.default,{ref:"createWindow"}),n.default.createElement(m.default,{ref:"updateWindow"}))}});e.exports=w},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1195),c=l(u),h=a(694),p=l(h),m=(a(1),a(6)),f=o.Tabs.TabPane,g=n.default.createClass({displayName:"BranchPage",getInitialState:function(){return{isSelect:!0,selectKey:"1",branch:{}}},componentDidMount:function(){},selectsRole:function(e){this.setState({isSelect:!1,selectKey:"2",branch:e})},onTabClick:function(){this.setState({isSelect:!0,selectKey:"1"})},render:function(){var e=(this.state.selectKey,m.getGridMargin(this,0));return n.default.createElement("div",{className:"tab-page",style:{padding:e.padding}},n.default.createElement("div",{style:{margin:e.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_branch/retrieve","hr_branch/remove"]})),n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(o.Tabs,{defaultActiveKey:"1",activeKey:this.state.selectKey,onTabClick:this.onTabClick,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(f,{tab:"分公司管理",key:"1",style:{width:"100%",height:"100%"}},n.default.createElement(c.default,{selectsRole:this.selectsRole.bind(this),style:{width:"100%",height:"100%"}})),n.default.createElement(f,{tab:"人员维护",key:"2",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},n.default.createElement(p.default,{branchUuid:this.state.branch.uuid,style:{width:"100%",height:"100%"}})))))}});e.exports=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=(l(s),a(4)),u=a(1196),c=l(u),h=a(1197),p=l(h),m=a(1),f=d.Input.Search,g=a(6),v=a(3),y=a(459),S=a(336),C="",E=n.default.createClass({displayName:"BranchPage",getInitialState:function(){return{branchSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[m.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,branchSet:e})},handleQueryClick:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),this.state.branchSet.operation="",S.retrieveHrBranch(t)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),S.initHrBranch(t)},handleOpenCreateWindow:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){d.Modal.confirm({title:"删除确认",content:"是否删除选中的分公司 【"+e.branchName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.branchSet.operation="",S.deleteHrBranch(e.uuid)},handleSelectClick:function(e){this.props.selectsRole(e)},onFilterRecord:function(e){C=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=g.filter(this.state.branchSet.recordSet,C),a=[{title:"类型",dataIndex:"branchType",key:"branchType",width:90,render:function(t,a){return v.getOptionName("HR系统","分公司类型",a.branchType,!1,e)}},{title:"公司名称",dataIndex:"branchName",key:"branchName",width:160},{title:"城市",dataIndex:"branchCity",key:"branchCity",width:80},{title:"办公地址",dataIndex:"branchLoc",key:"branchLoc",width:160},{title:"总经理",dataIndex:"manager",key:"manager",width:80},{title:"联络人",dataIndex:"contact",key:"contact",width:80},{title:"注册资金",dataIndex:"capital",key:"capital",width:90},{title:"交易总额",dataIndex:"trdAmount",key:"trdAmount",width:90},{title:"",key:"action",width:90,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改分公司信息"},n.default.createElement(d.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除分公司"},n.default.createElement(d.Icon,{type:g.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.handleSelectClick.bind(e,a),title:"人员维护"},n.default.createElement(d.Icon,{type:g.iconUser})))}}];return n.default.createElement("div",{className:"grid-page",style:{padding:"58px 0 0 0"}},n.default.createElement("div",{style:{margin:"-58px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(d.Button,{icon:g.iconAdd,type:"primary",title:"增加事业群",onClick:this.handleOpenCreateWindow}),n.default.createElement(d.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(f,{placeholder:"查找记录",style:{width:g.searchWidth},value:C,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(d.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(c.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(77),p=l(h),m=a(12),f=l(m),g=a(4),v=a(1),y=a(6),S=g.Form.Item,C=(g.Select.Option,a(459)),E=a(336),b=r.default.createClass({displayName:"CreateBranchPage",getInitialState:function(){return{branchSet:{errMsg:""},loading:!1,modal:!1,branch:{},hints:{},validRules:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,c.default)("branch")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,branchSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"branchType",desc:"类型",required:!0,max:"32"},{id:"branchName",desc:"公司名称",required:!0,max:"128"},{id:"branchCity",desc:"城市",required:!0,max:"128"},{id:"branchLoc",desc:"办公地址",required:!1,max:"256"},{id:"manager",desc:"总经理",required:!1,max:"32"},{id:"contact",desc:"联络人",required:!1,max:"32"},{id:"capital",desc:"注册资金",required:!1,max:"32"},{id:"trdAmount",desc:"交易总额",required:!1,max:"32"},{id:"branchDesc",desc:"公司描述",required:!1,max:"512"},{id:"branchPhone",desc:"电话",required:!1,dataType:"mobile",max:"128"}]},clear:function(e){this.state.hints={},this.state.branch.uuid="",this.state.branch.corpUuid=e,this.state.branch.branchName="",this.state.branch.branchCity="",this.state.branch.branchLoc="",this.state.branch.branchCode="",this.state.branch.branchPhone="",this.state.branch.branchDesc="",this.state.branch.branchType="全资子公司",this.state.loading=!1,this.state.branchSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.branch)&&(this.setState({loading:!0}),E.createHrBranch(this.state.branch))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},l={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=this.state.hints;return r.default.createElement(g.Modal,{visible:this.state.modal,width:"640px",title:"增加分公司",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_branch/create"]}),r.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(g.Form,{layout:e},r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"11"},r.default.createElement(S,i({},l,{label:"类型",required:!0,colon:!0,className:t,help:n.branchTypeHint,validateStatus:n.branchTypeStatus}),r.default.createElement(f.default,{name:"branchType",id:"branchType",value:this.state.branch.branchType,appName:"HR系统",optName:"分公司类型",onSelect:this.handleOnSelected.bind(this,"branchType")}))),r.default.createElement(g.Col,{span:"13"},r.default.createElement(S,i({},l,{label:"公司名称",required:!0,colon:!0,className:t,help:n.branchNameHint,validateStatus:n.branchNameStatus}),r.default.createElement(g.Input,{type:"text",name:"branchName",id:"branchName",value:this.state.branch.branchName,onChange:this.handleOnChange})))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"11"},r.default.createElement(S,i({},l,{label:"城市",required:!0,colon:!0,className:t,help:n.branchCityHint,validateStatus:n.branchCityStatus}),r.default.createElement(p.default,{name:"branchCity",id:"branchCity",paramName:"城市",value:this.state.branch.branchCity,onChange:this.handleOnSelected.bind(this,"branchCity")}))),r.default.createElement(g.Col,{span:"13"},r.default.createElement(S,i({},l,{label:"电话",colon:!0,className:t,help:n.branchPhoneHint,validateStatus:n.branchPhoneStatus}),r.default.createElement(g.Input,{type:"text",name:"branchPhone",id:"branchPhone",value:this.state.branch.branchPhone,onChange:this.handleOnChange})))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"11"},r.default.createElement(S,i({},l,{label:"总经理",colon:!0,className:t,help:n.managerHint,validateStatus:n.managerStatus}),r.default.createElement(g.Input,{type:"text",name:"manager",id:"manager",value:this.state.branch.manager,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"13"},r.default.createElement(S,i({},l,{label:"联络人",colon:!0,className:t,help:n.contactHint,validateStatus:n.contactStatus}),r.default.createElement(g.Input,{type:"text",name:"contact",id:"contact",value:this.state.branch.contact,onChange:this.handleOnChange})))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"11"},r.default.createElement(S,i({},l,{label:"注册资金",colon:!0,className:t,help:n.capitalHint,validateStatus:n.capitalStatus}),r.default.createElement(g.Input,{type:"text",name:"capital",id:"capital",value:this.state.branch.capital,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"13"},r.default.createElement(S,i({},l,{label:"交易总额",colon:!0,className:t,help:n.trdAmountHint,validateStatus:n.trdAmountStatus}),r.default.createElement(g.Input,{type:"text",name:"trdAmount",id:"trdAmount",value:this.state.branch.trdAmount,onChange:this.handleOnChange})))),r.default.createElement(S,i({},a,{label:"办公地址",colon:!0,className:t,help:n.branchLocHint,validateStatus:n.branchLocStatus}),r.default.createElement(p.default,{name:"branchLoc",id:"branchLoc",paramName:"办公场地",value:this.state.branch.branchLoc,onChange:this.handleOnSelected.bind(this,"branchLoc")})),r.default.createElement(S,i({},a,{label:"公司描述",colon:!0,className:t,help:n.branchDescHint,validateStatus:n.branchDescStatus}),r.default.createElement(g.Input,{type:"textarea",name:"branchDesc",id:"branchDesc",value:this.state.branch.branchDesc,onChange:this.handleOnChange,style:{height:"100px"}}))))}});t.default=b},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(77),p=l(h),m=a(12),f=l(m),g=a(4),v=a(1),y=a(6),S=a(3),C=g.Form.Item,E=(g.Select.Option,a(459)),b=a(336),w=r.default.createClass({displayName:"UpdateBranchPage",getInitialState:function(){return{branchSet:{operation:"",errMsg:""},loading:!1,modal:!1,branch:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,c.default)("branch")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,branchSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"branchType",desc:"类型",required:!0,max:"32"},{id:"branchName",desc:"公司名称",required:!0,max:"128"},{id:"branchCity",desc:"城市",required:!0,max:"128"},{id:"branchLoc",desc:"办公地址",required:!1,max:"256"},{id:"manager",desc:"总经理",required:!1,max:"32"},{id:"contact",desc:"联络人",required:!1,max:"32"},{id:"capital",desc:"注册资金",required:!1,max:"32"},{id:"trdAmount",desc:"交易总额",required:!1,max:"32"},{id:"branchPhone",desc:"电话",required:!1,dataType:"mobile",max:"128"}]},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.branch),this.state.loading=!1,this.state.branchSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.branch)&&(this.state.branchSet.operation="",this.setState({loading:!0}),b.updateHrBranch(this.state.branch))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},l={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=this.state.hints;return r.default.createElement(g.Modal,{visible:this.state.modal,width:"640px",title:"修改分公司信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-branch/update"]}),r.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(g.Form,{layout:e},r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"11"},r.default.createElement(C,i({},l,{label:"类型",required:!0,colon:!0,className:t,help:n.branchTypeHint,validateStatus:n.branchTypeStatus}),r.default.createElement(f.default,{name:"branchType",id:"branchType",value:this.state.branch.branchType,appName:"HR系统",optName:"分公司类型",onSelect:this.handleOnSelected.bind(this,"branchType")}))),r.default.createElement(g.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"公司名称",required:!0,colon:!0,className:t,help:n.branchNameHint,validateStatus:n.branchNameStatus}),r.default.createElement(g.Input,{type:"text",name:"branchName",id:"branchName",value:this.state.branch.branchName,onChange:this.handleOnChange})))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"11"},r.default.createElement(C,i({},l,{label:"城市",required:!0,colon:!0,className:t,help:n.branchCityHint,validateStatus:n.branchCityStatus}),r.default.createElement(p.default,{name:"branchCity",id:"branchCity",paramName:"城市",value:this.state.branch.branchCity,onChange:this.handleOnSelected.bind(this,"branchCity")}))),r.default.createElement(g.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"电话",colon:!0,className:t,help:n.branchPhoneHint,validateStatus:n.branchPhoneStatus}),r.default.createElement(g.Input,{type:"text",name:"branchPhone",id:"branchPhone",value:this.state.branch.branchPhone,onChange:this.handleOnChange})))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"11"},r.default.createElement(C,i({},l,{label:"总经理",colon:!0,className:t,help:n.managerHint,validateStatus:n.managerStatus}),r.default.createElement(g.Input,{type:"text",name:"manager",id:"manager",value:this.state.branch.manager,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"联络人",colon:!0,className:t,help:n.contactHint,validateStatus:n.contactStatus}),r.default.createElement(g.Input,{type:"text",name:"contact",id:"contact",value:this.state.branch.contact,onChange:this.handleOnChange})))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"11"},r.default.createElement(C,i({},l,{label:"注册资金",colon:!0,className:t,help:n.capitalHint,validateStatus:n.capitalStatus}),r.default.createElement(g.Input,{type:"text",name:"capital",id:"capital",value:this.state.branch.capital,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"13"},r.default.createElement(C,i({},l,{label:"交易总额",colon:!0,className:t,help:n.trdAmountHint,validateStatus:n.trdAmountStatus}),r.default.createElement(g.Input,{type:"text",name:"trdAmount",id:"trdAmount",value:this.state.branch.trdAmount,onChange:this.handleOnChange})))),r.default.createElement(C,i({},a,{label:"办公地址",colon:!0,className:t,help:n.branchLocHint,validateStatus:n.branchLocStatus}),r.default.createElement(p.default,{name:"branchLoc",id:"branchLoc",paramName:"办公场地",value:this.state.branch.branchLoc,onChange:this.handleOnSelected.bind(this,"branchLoc")})),r.default.createElement(C,i({},a,{label:"公司描述",colon:!0,className:t,help:n.branchDescHint,validateStatus:n.branchDescStatus}),r.default.createElement(g.Input,{type:"textarea",name:"branchDesc",id:"branchDesc",value:this.state.branch.branchDesc,onChange:this.handleOnChange,style:{height:"100px"}}))))}});t.default=w},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(7),u=l(d),c=a(9),h=l(c),p=a(25),m=l(p),f=a(1),g=s.Form.Item,v=s.AutoComplete.Option,y=a(6),S=a(460),C=a(337),E=r.default.createClass({displayName:"CreateBranchStaffPage",getInitialState:function(){return{branchStaffSet:{operation:"",errMsg:""},loading:!1,modal:!1,branchStaff:{},hints:{},validRules:[],result:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,h.default)("branchStaff")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,branchStaffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"用户姓名",required:!0,max:"32"},{id:"jobTitle",desc:"职位",required:!0,max:"64"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"64"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"jobDesc",desc:"职务说明",required:!1,max:"1024"}]},clear:function(e,t){this.state.hints={},this.state.branchStaff.uuid="",this.state.branchStaff.branchUuid=t,this.state.branchStaff.corpUuid=e,this.state.branchStaff.perName="",this.state.branchStaff.jobTitle="",this.state.branchStaff.phoneno="",this.state.branchStaff.email="",this.state.branchStaff.jobDesc="",this.state.loading=!1,this.state.branchStaffSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.branchStaff)&&(this.state.branchStaffSet.operation="",this.setState({loading:!0}),C.createHrBranchStaff(this.state.branchStaff))},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:y.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.branchStaff;t.email=e,y.validator(this,t,"email"),this.setState({loading:this.state.loading})},onSelectEmpLoyee:function(e){this.state.branchStaff.jobTitle=e.jobTitle,this.state.branchStaff.perName=e.perName,this.state.branchStaff.phoneno=e.phoneno,this.state.branchStaff.email=e.email,this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.result,n=l.map(function(e){return r.default.createElement(v,{key:e},e)}),o=window.loginData.compUser.corpUuid,d=this.state.hints;return r.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"增加管理人",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-branch-staff/create"]}),r.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.default,{style:{padding:"10px 0 16px 32px",width:"508px"},corpUuid:o,onSelectEmpLoyee:this.onSelectEmpLoyee}),r.default.createElement(s.Form,{layout:e},r.default.createElement(g,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:d.perNameHint,validateStatus:d.perNameStatus}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.branchStaff.perName,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"职位",required:!0,colon:!0,className:t,help:d.jobTitleHint,validateStatus:d.jobTitleStatus}),r.default.createElement(s.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.branchStaff.jobTitle,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:d.phonenoHint,validateStatus:d.phonenoStatus}),r.default.createElement(s.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.branchStaff.phoneno,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"电子邮箱",colon:!0,className:t,help:d.emailHint,validateStatus:d.emailStatus}),r.default.createElement(s.AutoComplete,{name:"email",id:"email",value:this.state.branchStaff.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},n)),r.default.createElement(g,i({},a,{label:"职务说明",colon:!0,className:t,help:d.jobDescHint,validateStatus:d.jobDescStatus}),r.default.createElement(s.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.branchStaff.jobDesc,onChange:this.handleOnChange,style:{height:"60px"}}))))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.Form.Item,v=h.AutoComplete.Option,y=a(460),S=a(337),C=r.default.createClass({displayName:"UpdateBranchStaffPage",getInitialState:function(){return{branchStaffSet:{operation:"",errMsg:""},loading:!1,modal:!1,branchStaff:{},hints:{},validRules:[],result:[]}},mixins:[p.listenTo(y,"onServiceComplete"),(0,c.default)("branchStaff")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,branchStaffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"用户姓名",required:!0,max:"32"},{id:"jobTitle",desc:"职位",required:!0,max:"64"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"64"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"jobDesc",desc:"职务说明",required:!1,max:"1024"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.branchStaff),this.state.loading=!1,this.state.branchStaffSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.branchStaff)&&(this.state.branchStaffSet.operation="",this.setState({loading:!0}),S.updateHrBranchStaff(this.state.branchStaff))},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:m.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.branchStaff;t.email=e,m.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.result,n=l.map(function(e){return r.default.createElement(v,{key:e},e)}),o=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改管理人信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-branch-staff/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(g,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:o.perNameHint,validateStatus:o.perNameStatus}),r.default.createElement(h.Input,{type:"text",name:"perName",
id:"perName",value:this.state.branchStaff.perName,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"职位",required:!0,colon:!0,className:t,help:o.jobTitleHint,validateStatus:o.jobTitleStatus}),r.default.createElement(h.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.branchStaff.jobTitle,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:o.phonenoHint,validateStatus:o.phonenoStatus}),r.default.createElement(h.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.branchStaff.phoneno,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"电子邮箱",colon:!0,className:t,help:o.emailHint,validateStatus:o.emailStatus}),r.default.createElement(h.AutoComplete,{value:this.state.branchStaff.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},n)),r.default.createElement(g,i({},a,{label:"职务说明",colon:!0,className:t,help:o.jobDescHint,validateStatus:o.jobDescStatus}),r.default.createElement(h.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.branchStaff.jobDesc,onChange:this.handleOnChange,style:{height:"60px"}}))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(109),p=l(h),m=a(4),f=a(25),g=l(f),v=a(12),y=l(v),S=a(1),C=a(6),E=m.Form.Item,b=(m.Select.Option,m.Tabs.TabPane),w=a(338),x=a(187),k=r.default.createClass({displayName:"CreateContractPage",getInitialState:function(){return{contractSet:{operation:"",errMsg:""},loading:!1,contract:{},user:{},hints:{},validRules:[]}},mixins:[S.listenTo(w,"onServiceComplete"),(0,c.default)("contract")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,contractSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"contCode",desc:"合同编号",required:!1,max:"128"},{id:"contVer",desc:"合同版本",required:!1,max:"64"},{id:"signDate",desc:"签订日期",required:!1,max:"24"},{id:"jobName",desc:"签订岗位",required:!1,max:"64"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"expiryDate",desc:"失效日期",required:!1,max:"24"},{id:"signLoc",desc:"签订地点",required:!1,max:"128"},{id:"signType",desc:"签订方式：现场、邮寄",required:!1,max:"12"},{id:"hrName",desc:"HR人员",required:!1,max:"24"}],this.clear()},handleKeyDown:function(e){if(73==e.keyCode&&e.ctrlKey&&e.altKey){var t=this.refs.QuickFillWindow;t&&(t.initPage(this.state.validRules),t.toggle())}},clear:function(){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.contract.uuid="",this.state.contract.corpUuid=window.loginData.compUser.corpUuid,this.state.contract.userUuid="",this.state.contract.staffCode="",this.state.contract.perName="",this.state.contract.contCode="",this.state.contract.jobName="",this.state.contract.signDate="",this.state.contract.effectDate="",this.state.contract.expiryDate="",this.state.contract.hrName="",this.state.contract.signLoc="",this.state.contract.signType="",this.state.contract.contVer="",this.state.contract.status="1",this.state.loading=!1,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectEmpLoyee:function(e){this.state.contract.userUuid=e.uuid,this.state.contract.staffCode=e.staffCode,this.state.contract.perName=e.perName,this.setState({user:e})},showError:function(e){console.log(e)},onClickSave:function(){this.setState({loading:!0}),x.createHrContract(this.state.contract)},goBack:function(){window.removeEventListener("keydown",this.handleKeyDown),this.props.onBack()},onTabChange:function(e){"1"===e&&this.goBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.contract.userUuid,s=window.loginData.compUser.corpUuid;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(b,{tab:"增加合同#",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"16px 0 16px 8px",height:"100%",width:"100%",overflowY:"auto"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"600px"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_contract/create"]}),r.default.createElement(g.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:s,showError:this.showError,onSelectEmpLoyee:this.onSelectEmpLoyee}),r.default.createElement(m.Form,{layout:e},r.default.createElement(E,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0})),r.default.createElement(E,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(m.Input,{type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})),r.default.createElement(E,i({},a,{label:"合同编号",required:!1,colon:!0,className:t,help:n.contCodeHint,validateStatus:n.contCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.contract.contCode,onChange:this.handleOnChange})),r.default.createElement(E,i({},a,{label:"合同版本",required:!1,colon:!0,className:t,help:n.contVerHint,validateStatus:n.contVerStatus}),r.default.createElement(m.Input,{type:"text",name:"contVer",id:"contVer",value:this.state.contract.contVer,onChange:this.handleOnChange})),r.default.createElement(E,i({},a,{label:"岗位",required:!1,colon:!0,className:t,help:n.jobNameHint,validateStatus:n.jobNameStatus}),r.default.createElement(m.Input,{type:"text",name:"jobName",id:"jobName",value:this.state.contract.jobName,onChange:this.handleOnChange})),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(E,i({},l,{label:"签订日期",required:!1,colon:!0,className:t,help:n.signDateHint,validateStatus:n.signDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"signDate",id:"signDate",value:this.formatDate(this.state.contract.signDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"signDate",C.dateFormat)}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(E,i({},l,{label:"HR人员",required:!1,colon:!0,className:t,help:n.hrNameHint,validateStatus:n.hrNameStatus}),r.default.createElement(m.Input,{type:"text",name:"hrName",id:"hrName",value:this.state.contract.hrName,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(E,i({},l,{label:"生效日期",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%",zIndex:"2"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.contract.effectDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",C.dateFormat)}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(E,i({},l,{label:"失效日期",required:!1,colon:!0,className:t,help:n.expiryDateHint,validateStatus:n.expiryDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"expiryDate",id:"expiryDate",value:this.formatDate(this.state.contract.expiryDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"expiryDate",C.dateFormat)})))),r.default.createElement(E,i({},a,{label:"签订地点",required:!1,colon:!0,className:t,help:n.signLocHint,validateStatus:n.signLocStatus}),r.default.createElement(m.Input,{type:"text",name:"signLoc",id:"signLoc",value:this.state.contract.signLoc,onChange:this.handleOnChange})),r.default.createElement(E,i({},a,{label:"签订方式",required:!1,colon:!0,className:t,help:n.signTypeHint,validateStatus:n.signTypeStatus}),r.default.createElement(y.default,{name:"signType",id:"signType",value:this.state.contract.signType,appName:"HR系统",optName:"签订方式",onSelect:this.handleOnSelected.bind(this,"signType")})),r.default.createElement(E,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:o},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))),r.default.createElement(p.default,{ref:"QuickFillWindow",self:this,object:"contract"}))))))}});e.exports=k},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1202),h=l(c),p=a(1),m=(u.Form.Item,u.Tabs.TabPane),f=a(6),g=(a(3),a(1206)),v=a(187),y=n.default.createClass({displayName:"DetailsContractPage",getInitialState:function(){return{contractSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[p.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,contractSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={userUuid:this.props.userUuid};v.retrieveEmpContract(e)},onClickDetails:function(e,t){null!=e&&this.refs.DetailsFromPage.initPage(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e=this,t=[{title:"合同编号",dataIndex:"contCode",key:"contCode",width:140},{title:"签订日期",dataIndex:"signDate",key:"signDate",width:140,render:function(e,t){return f.formatDate(e,f.dateFormat)}},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return f.formatDate(e,f.dateFormat)}},{title:"失效日期",dataIndex:"expiryDate",key:"expiryDate",width:140,render:function(e,t){return f.formatDate(e,f.dateFormat)}},{title:"HR人员",dataIndex:"hrName",key:"hrName",width:140},{title:"更多操作",key:"action",width:80,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickDetails.bind(e,a),title:"查看"},n.default.createElement(u.Icon,{type:"bars"})))}}],a=this.state.contractSet.recordSet;return n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(u.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(m,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(m,{tab:"合同详情",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},n.default.createElement("div",{style:{padding:"12px",height:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["emp_contract/retrieve"]}),n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:f.tableBorder}),n.default.createElement("div",{style:{width:"100%",padding:"20px 0 0 8px"}},n.default.createElement(h.default,{ref:"DetailsFromPage"})))))))}});e.exports=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(12),u=l(d),c=(a(1),a(6),a(3),s.Form.Item),h=r.default.createClass({displayName:"DetailsFromPage",getInitialState:function(){return{contract:{}}},componentDidMount:function(){},initPage:function(e){this.setState({contract:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}};return r.default.createElement("div",{style:{width:"600px"}},r.default.createElement(s.Form,{layout:e},r.default.createElement(c,i({},a,{label:"合同编号",required:!1,colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.contract.contCode})),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(c,i({},l,{label:"合同版本",required:!1,colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"contVer",id:"contVer",value:this.state.contract.contVer}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(c,i({},l,{label:"岗位",required:!1,colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"jobName",id:"jobName",value:this.state.contract.jobName})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(c,i({},l,{label:"签订地点",required:!1,colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"signLoc",id:"signLoc",value:this.state.contract.signLoc}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(c,i({},l,{label:"签订方式",required:!1,colon:!0,className:t}),r.default.createElement(u.default,{name:"signType",id:"signType",value:this.state.contract.signType,appName:"HR系统",optName:"签订方式"}))))))}});t.default=h},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=l(d),c=a(4),h=(a(1),a(6)),p=c.Form.Item,m=(c.Select.Option,a(338),a(187),r.default.createClass({displayName:"MoreContractPage",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],contract:{staffCode:"",perName:"",baseCity:"",date1:"",date2:"",expiryDate:""}}},mixins:[(0,u.default)("contract")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"date1",desc:"生效日期",required:!1,max:"0"},{id:"date2",desc:"到",required:!1,max:"0"},{id:"expiryDate",desc:"失效日期",required:!1,max:"24"},{id:"perName",desc:"员工",required:!1,max:"0"},{id:"staffCode",desc:"员工号",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"128"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},r.default.createElement(c.Form,{layout:e,style:{width:"100%"}},r.default.createElement(c.Col,{span:"8"},r.default.createElement(p,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(c.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.contract.staffCode,onChange:this.handleOnChange}))),r.default.createElement(c.Col,{span:"8"},r.default.createElement(p,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(c.Input,{type:"text",name:"perName",id:"perName",value:this.state.contract.perName,onChange:this.handleOnChange}))),r.default.createElement(c.Col,{span:"8"},r.default.createElement(p,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:l.jobNameHint,validateStatus:l.jobNameStatus}),r.default.createElement(c.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.contract.baseCity,onChange:this.handleOnChange}))),r.default.createElement(c.Col,{span:"8"},r.default.createElement(p,i({},a,{label:"生效日期",required:!1,colon:!0,className:t,help:l.date1Hint,validateStatus:l.date1Status}),r.default.createElement(c.DatePicker,{style:{width:"100%"},name:"date1",id:"date1",value:this.formatDate(this.state.contract.date1,h.dateFormat),format:h.dateFormat,onChange:this.handleOnSelDate.bind(this,"date1",h.dateFormat)}))),r.default.createElement(c.Col,{span:"8"},r.default.createElement(p,i({},a,{label:"到",required:!1,colon:!0,className:t,help:l.date2Hint,validateStatus:l.date2Status}),r.default.createElement(c.DatePicker,{style:{width:"100%"},name:"date2",id:"date2",value:this.formatDate(this.state.contract.date2,h.dateFormat),format:h.dateFormat,onChange:this.handleOnSelDate.bind(this,"date2",h.dateFormat)}))),r.default.createElement(c.Col,{span:"8"},r.default.createElement(p,i({},a,{label:"失效日期",required:!1,colon:!0,className:t,help:l.expiryDateHint,validateStatus:l.expiryDateStatus}),r.default.createElement(c.DatePicker,{style:{width:"100%"},name:"expiryDate",id:"expiryDate",value:this.formatDate(this.state.contract.expiryDate,h.dateFormat),format:h.dateFormat,onChange:this.handleOnSelDate.bind(this,"expiryDate",h.dateFormat)}))))))}}));t.default=m},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(12),m=l(p),f=a(1),g=a(6),v=a(3),y=h.Form.Item,S=(h.Select.Option,h.Tabs.TabPane),C=a(338),E=a(187),b=r.default.createClass({displayName:"UpdateContractPage",getInitialState:function(){return{contractSet:{operation:"",errMsg:""},loading:!1,contract:{},hints:{},validRules:[]}},mixins:[f.listenTo(C,"onServiceComplete"),(0,c.default)("contract")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,contractSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"expiryDate",desc:"失效日期",required:!1,max:"24"},{id:"hrName",desc:"HR人员",required:!1,max:"24"},{id:"contCode",desc:"合同编号",required:!1,max:"128"},{id:"perName",desc:"员工",required:!1,max:"0"},{id:"signDate",desc:"签订日期",required:!1,max:"24"},{id:"staffCode",desc:"员工号",required:!1,max:"0"},{id:"jobName",desc:"岗位",required:!1,max:"0"},{id:"signLoc",desc:"签订地点",required:!1,max:"128"},{id:"signType",desc:"签订方式：现场、邮寄",required:!1,max:"12"},{id:"contVer",desc:"合同版本",required:!1,max:"64"}],this.initPage(this.props.contract)},componentWillReceiveProps:function(e){},initPage:function(e){v.copyValue(e,this.state.contract),this.setState({loading:!1,hints:{}}),this.state.contractSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.contract)&&(this.state.contractSet.operation="",this.setState({loading:!0}),E.updateHrContract(this.state.contract))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(h.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(S,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(S,{tab:"修改合同",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_contract/update"]}),r.default.createElement(h.Form,{layout:e,style:{width:"600px"}},r.default.createElement(y,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.contract.staffCode,disabled:!0})),r.default.createElement(y,i({},a,{label:"员工",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(h.Input,{type:"text",name:"perName",id:"perName",value:this.state.contract.perName,disabled:!0})),r.default.createElement(y,i({},a,{label:"合同编号",required:!1,colon:!0,className:t,help:n.contCodeHint,validateStatus:n.contCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.contract.contCode,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"合同版本",required:!1,colon:!0,className:t,help:n.contVerHint,validateStatus:n.contVerStatus}),r.default.createElement(h.Input,{type:"text",name:"contVer",id:"contVer",value:this.state.contract.contVer,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"岗位",required:!1,colon:!0,className:t,help:n.jobNameHint,validateStatus:n.jobNameStatus}),r.default.createElement(h.Input,{type:"text",name:"jobName",id:"jobName",value:this.state.contract.jobName,onChange:this.handleOnChange})),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"签订日期",required:!1,colon:!0,className:t,help:n.signDateHint,validateStatus:n.signDateStatus}),r.default.createElement(h.DatePicker,{style:{width:"100%"},name:"signDate",id:"signDate",value:this.formatDate(this.state.contract.signDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"signDate",g.dateFormat)}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"HR人员",required:!1,colon:!0,className:t,help:n.hrNameHint,validateStatus:n.hrNameStatus}),r.default.createElement(h.Input,{type:"text",name:"hrName",id:"hrName",value:this.state.contract.hrName,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"生效日期",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),r.default.createElement(h.DatePicker,{style:{width:"100%",zIndex:"2"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.contract.effectDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",g.dateFormat)}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"失效日期",required:!1,colon:!0,className:t,help:n.expiryDateHint,validateStatus:n.expiryDateStatus}),r.default.createElement(h.DatePicker,{style:{width:"100%"},name:"expiryDate",id:"expiryDate",value:this.formatDate(this.state.contract.expiryDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"expiryDate",g.dateFormat)})))),r.default.createElement(y,i({},a,{label:"签订地点",required:!1,colon:!0,className:t,help:n.signLocHint,validateStatus:n.signLocStatus}),r.default.createElement(h.Input,{type:"text",name:"signLoc",id:"signLoc",value:this.state.contract.signLoc,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"签订方式",required:!1,colon:!0,className:t,help:n.signTypeHint,validateStatus:n.signTypeStatus}),r.default.createElement(m.default,{name:"signType",id:"signType",value:this.state.contract.signType,appName:"HR系统",optName:"签订方式",onSelect:this.handleOnSelected.bind(this,"signType")})),r.default.createElement(y,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=b},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1200),h=l(c),p=a(1204),m=l(p),f=a(1201),g=l(f),v=a(1203),y=l(v),S=a(26),C=l(S),E=a(165),b=l(E),w=a(1),x=u.Input.Search,k=a(6),N=a(3),D=a(338),R=a(187),_=10,P=n.default.createClass({displayName:"ContactPage",getInitialState:function(){return{contractSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",contract:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[w.listenTo(D,"onServiceComplete"),(0,C.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.MoreContractPage;null!==a&&"undefined"!=typeof a&&(a.state.contract=this.state.filter)}}this.setState({loading:!1,contractSet:e})},componentDidMount:function(){R.getCacheData()},handleQueryClick:function(){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",R.retrieveHrContractPage(this.state.filter,this.state.contractSet.startPage,_)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.contractSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){_=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;k.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){this.state.filter=this.refs.MoreContractPage.state.contract,this.handleQueryClick()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的员工",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.contractSet.operation="",R.deleteHrContract(e.uuid)},handleCreate:function(e){this.setState({action:"create"})},onClickDetails:function(e,t){this.setState({contract:e,action:"detail"})},onClickUpdate:function(e,t){this.setState({contract:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},handleTempDown:function(e){this.downXlsTempFile(b.default.contractFields)},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&k.errMsg(e)},beforeUpload:function(e){this.setState({loading:!0});var t=N.hrUrl+"hr_contract/upload-xls",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,b.default.contractFields,e,this.uploadComplete),!1},render:function(e){var t=this,a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"员工",dataIndex:"perName",key:"perName",width:140},{title:"合同编号",dataIndex:"contCode",key:"contCode",width:140},{title:"岗位",dataIndex:"jobName",key:"jobName",width:140},{title:"签订日期",dataIndex:"signDate",key:"signDate",width:140,render:function(e,t){return k.formatDate(e,k.dateFormat)}},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return k.formatDate(e,k.dateFormat)}},{title:"失效日期",dataIndex:"expiryDate",key:"expiryDate",width:140,render:function(e,t){return k.formatDate(e,k.dateFormat)}},{title:"HR人员",dataIndex:"hrName",key:"hrName",width:140},{title:"更多操作",key:"action",width:140,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickUpdate.bind(t,a),title:"修改合同"},n.default.createElement(u.Icon,{type:k.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDelete.bind(t,a),title:"删除合同"},n.default.createElement(u.Icon,{type:k.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDetails.bind(t,a),title:"详情"},n.default.createElement(u.Icon,{type:"bars"})))}}],l=this.state.contractSet.recordSet,i=this.state.moreFilter,r="query"===this.state.action?"":"none",o={showQuickJumper:!0,total:this.state.contractSet.totalRow,pageSize:this.state.contractSet.pageRow,current:this.state.contractSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},s=n.default.createElement("div",{className:"grid-page",style:{overflow:"hidden",display:r}},n.default.createElement("div",{style:{padding:"8px 0 0 0",height:"100%",width:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_contract/retrieve","hr_contract/remove"]}),n.default.createElement(y.default,{ref:"MoreContractPage",moreFilter:i}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:k.iconAdd,type:"primary",title:"增加人员",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:k.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(u.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(u.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},n.default.createElement(u.Button,{icon:"upload"}))),i?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(x,{placeholder:"查询(员工编号/员工姓名)",style:{width:k.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:l,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:o,size:"middle",bordered:k.tableBorder})))),c=null;return"create"===this.state.action?c=n.default.createElement(h.default,{onBack:this.onGoBack}):"detail"===this.state.action?c=n.default.createElement(g.default,{onBack:this.onGoBack,userUuid:this.state.contract.userUuid}):"update"===this.state.action&&(c=n.default.createElement(m.default,{onBack:this.onGoBack,contract:this.state.contract})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},s,c)}});e.exports=P},function(e,t,a){"use strict";var l=a(1),i=a(187),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("emp_contract",e,t)},onRetrieveEmpContract:function(e){var t=this,a=this.getServiceUrl("hr_contract/get-by-user_uuid");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.list,
t.startPage=e.object.startPage,t.pageRow=e.object.pageRow,t.totalRow=e.object.totalRow,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(167),u=l(d),c=a(7),h=l(c),p=a(77),m=l(p),f=a(9),g=l(f),v=a(109),y=l(v),S=a(25),C=l(S),E=a(1),b=s.Form.Item,w=a(6),x=a(461),k=a(339),N=r.default.createClass({displayName:"CreateCorpStaffPage",getInitialState:function(){return{CorpStaffSet:{operation:"",errMsg:""},loading:!0,modal:!1,CorpStaff:{},hints:{},validRules:[],result:[]}},mixins:[E.listenTo(x,"onServiceComplete"),(0,g.default)("CorpStaff")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.close():this.setState({loading:!1,CorpStaffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"用户姓名",required:!0,max:32},{id:"jobTitle",desc:"职位",required:!0,max:"64"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"64"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"jobDesc",desc:"职务说明",required:!1,max:"1024"},{id:"officeLoc",desc:"办公地址",required:!1,max:"256"}]},handleKeyDown:function(e){73==e.keyCode&&e.ctrlKey&&e.altKey&&(this.refs.QuickFillWindow.initPage(this.state.validRules),this.refs.QuickFillWindow.toggle())},close:function(){window.removeEventListener("keydown",this.handleKeyDown),this.setState({modal:!1})},clear:function(e){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.CorpStaff.uuid="",this.state.CorpStaff.corpUuid=e,this.state.CorpStaff.perName="",this.state.CorpStaff.jobTitle="",this.state.CorpStaff.phoneno="",this.state.CorpStaff.email="",this.state.CorpStaff.jobDesc="",this.state.loading=!1,this.state.CorpStaffSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){w.formValidator(this,this.state.CorpStaff)&&(this.state.CorpStaffSet.operation="",this.setState({loading:!0}),k.createCorpStaff(this.state.CorpStaff))},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:w.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.CorpStaff;t.email=e,w.validator(this,t,"email"),this.setState({loading:this.state.loading})},onSelectEmpLoyee:function(e){this.state.CorpStaff.jobTitle=e.jobTitle,this.state.CorpStaff.perName=e.perName,this.state.CorpStaff.phoneno=e.phoneno,this.state.CorpStaff.email=e.email,this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.result,n=(l.map(function(e){return r.default.createElement(Option,{key:e},e)}),window.loginData.compUser.corpUuid),o=this.state.hints;return r.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"增加关系人#",maskClosable:!1,onOk:this.onClickSave,onCancel:this.close,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(h.default,{ref:"mxgBox",svcList:["hr_corp_staff/create"]}),r.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.close},"取消"))]},r.default.createElement(C.default,{style:{padding:"10px 0 16px 32px",width:"508px"},corpUuid:n,onSelectEmpLoyee:this.onSelectEmpLoyee}),r.default.createElement(s.Form,{layout:e},r.default.createElement(b,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:o.perNameHint,validateStatus:o.perNameStatus}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.CorpStaff.perName,onChange:this.handleOnChange})),r.default.createElement(b,i({},a,{label:"职位",required:!0,colon:!0,className:t,help:o.jobTitleHint,validateStatus:o.jobTitleStatus}),r.default.createElement(s.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.CorpStaff.jobTitle,onChange:this.handleOnChange})),r.default.createElement(b,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:o.phonenoHint,validateStatus:o.phonenoStatus}),r.default.createElement(s.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.CorpStaff.phoneno,onChange:this.handleOnChange})),r.default.createElement(b,i({},a,{label:"电子邮箱",colon:!0,className:t,help:o.emailHint,validateStatus:o.emailStatus}),r.default.createElement(u.default,{name:"email",id:"email",value:this.state.CorpStaff.email,onChange:this.emailOnChange})),r.default.createElement(b,i({},a,{label:"办公地址",required:!1,colon:!0,className:t,help:o.officeLocHint,validateStatus:o.officeLocStatus}),r.default.createElement(m.default,{name:"officeLoc",id:"officeLoc",paramName:"办公场地",value:this.state.CorpStaff.officeLoc,onChange:this.handleOnSelected.bind(this,"officeLoc")})),r.default.createElement(b,i({},a,{label:"职务说明",colon:!0,className:t,help:o.jobDescHint,validateStatus:o.jobDescStatus}),r.default.createElement(s.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.CorpStaff.jobDesc,onChange:this.handleOnChange,style:{height:"60px"}}))),r.default.createElement(y.default,{ref:"QuickFillWindow",self:this,object:"CorpStaff"}))}});t.default=N},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(167),u=l(d),c=a(7),h=l(c),p=a(9),m=l(p),f=a(77),g=l(f),v=a(1),y=s.Form.Item,S=a(6),C=a(3),E=a(461),b=a(339),w=r.default.createClass({displayName:"UpdateCorpPage",getInitialState:function(){return{staffSet:{operation:"",errMsg:""},loading:!1,modal:!1,staff:{},hints:{},validRules:[],result:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("staff")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,staffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"用户姓名",required:!0,max:32},{id:"jobTitle",desc:"职位",required:!0,max:"64"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"64"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"jobDesc",desc:"职务说明",required:!1,max:"1024"},{id:"officeLoc",desc:"办公地址",required:!1,max:"256"}]},initPage:function(e){this.state.hints={},C.copyValue(e,this.state.staff),this.state.loading=!1,this.state.staffSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){S.formValidator(this,this.state.staff)&&(this.state.staffSet.operation="",this.setState({loading:!0}),b.updateCorpStaff(this.state.staff))},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:S.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.staff;t.email=e,S.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.result,n=(l.map(function(e){return r.default.createElement(Option,{key:e},e)}),this.state.hints);return r.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"修改关系人信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(h.default,{ref:"mxgBox",svcList:["hr_corp_staff/update"]}),r.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(s.Form,{layout:e},r.default.createElement(y,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.staff.perName,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"职位",required:!0,colon:!0,className:t,help:n.jobTitleHint,validateStatus:n.jobTitleStatus}),r.default.createElement(s.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.staff.jobTitle,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:n.phonenoHint,validateStatus:n.phonenoStatus}),r.default.createElement(s.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.staff.phoneno,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"电子邮箱",colon:!0,className:t,help:n.emailHint,validateStatus:n.emailStatus}),r.default.createElement(u.default,{name:"email",id:"email",value:this.state.staff.email,onChange:this.emailOnChange})),r.default.createElement(y,i({},a,{label:"办公地址",required:!1,colon:!0,className:t,help:n.officeLocHint,validateStatus:n.officeLocStatus}),r.default.createElement(g.default,{name:"officeLoc",id:"officeLoc",paramName:"办公场地",value:this.state.staff.officeLoc,onChange:this.handleOnSelected.bind(this,"officeLoc")})),r.default.createElement(y,i({},a,{label:"职务说明",colon:!0,className:t,help:n.jobDescHint,validateStatus:n.jobDescStatus}),r.default.createElement(s.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.staff.jobDesc,onChange:this.handleOnChange,style:{height:"60px"}}))))}});t.default=w},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=h.Form.Item,g=(h.Select.Option,a(83)),v=a(69),y=r.default.createClass({displayName:"CreateDeptPage",getInitialState:function(){return{deptSet:{operation:"",errMsg:""},loading:!1,modal:!1,dept:{},hints:{},validRules:[]}},mixins:[p.listenTo(g,"onServiceComplete"),(0,c.default)("dept")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,deptSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"deptName",desc:"机构名称",required:!0,max:"128"},{id:"deptCode",desc:"机构代码",required:!1,max:"64"},{id:"deptDesc",desc:"机构描述",required:!1,max:"512"},{id:"deptLoc",desc:"办公地址",required:!1,max:"256"}]},clear:function(e,t){this.state.hints={},this.state.dept.deptName="",this.state.dept.deptCode="",this.state.dept.deptDesc="",this.state.dept.deptLoc="",this.state.dept.uuid="",this.state.dept.corpUuid=e,this.state.dept.puuid=t,this.state.loading=!1,this.state.deptSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.dept)&&(this.state.deptSet.operation="",this.setState({loading:!0}),v.createHrDept(this.state.dept))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"增加部门",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_dept/create"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(f,i({},a,{label:"机构名称",required:!0,colon:!0,className:t,help:l.deptNameHint,validateStatus:l.deptNameStatus}),r.default.createElement(h.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.dept.deptName,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"机构代码",required:!1,colon:!0,className:t,help:l.deptCodeHint,validateStatus:l.deptCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"deptCode",id:"deptCode",value:this.state.dept.deptCode,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"机构描述",required:!1,colon:!0,className:t,help:l.deptDescHint,validateStatus:l.deptDescStatus}),r.default.createElement(h.Input,{type:"text",name:"deptDesc",id:"deptDesc",value:this.state.dept.deptDesc,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"办公地址",required:!1,colon:!0,className:t,help:l.deptLocHint,validateStatus:l.deptLocStatus}),r.default.createElement(h.Input,{type:"text",name:"deptLoc",id:"deptLoc",value:this.state.dept.deptLoc,onChange:this.handleOnChange}))))}});t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=(l(s),a(4)),u=a(1209),c=l(u),h=a(1211),p=l(h),m=a(1),f=d.Input.Search,g=a(6),v=(a(3),a(83)),y=a(69),S="",C=[],E=n.default.createClass({displayName:"DeptTablePage",getInitialState:function(){return{deptSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,corpUuid:window.loginData.compUser.corpUuid,rootNodes:[],filterValue:"",filterNodes:[]}},mixins:[m.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,deptSet:e,rootNodes:[],filterValue:"",filterNodes:[]})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.deptSet.operation="",y.retrieveHrDept(this.state.corpUuid)},componentDidMount:function(){this.setState({loading:!0}),y.initHrDept(this.state.corpUuid)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(this.state.corpUuid,""),this.refs.createWindow.toggle()},onClickAddChild:function(e,t){null!=e&&(this.refs.createWindow.clear(this.state.deptSet.corpUuid,e.uuid),this.refs.createWindow.toggle())},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){d.Modal.confirm({title:g.removeTitle,content:"是否删除选中的部门 【"+e.deptName+"】",okText:g.removeOkText,cancelText:g.removeCancelText,onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.deptSet.operation="",y.deleteHrDept(e.uuid)},preCrtNode:function(e,t){var a={};return a.key=e.uuid,a.pid=e.puuid,""===e.deptCode||e.deptCode==e.deptName?a.title=e.deptName:a.title=e.deptName+"("+e.deptCode+")",a.deptCode=e.deptCode,a.deptName=e.deptName,a.deptDesc=e.deptDesc,a.deptLoc=e.deptLoc,a},onExpandedRowsChange:function(e){C=e},handleSelectClick:function(e){this.props.selectsRole(e)},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this;0===this.state.rootNodes.length&&(this.state.rootNodes=g.initTreeNodes(this.state.deptSet.recordSet,this.preCrtNode),this.state.rootNodes.map(function(e,t){"__unknow"===e.key&&(e.deptCode="未分类")})),""!==S&&this.state.filterValue!==S&&(this.state.filterNodes=g.filter(this.state.deptSet.recordSet,S),this.state.filterValue=S);var t=""!==S?this.state.filterNodes:this.state.rootNodes,a=[{title:"机构名称",dataIndex:"deptName",key:"deptName",width:120},{title:"机构代码",dataIndex:"deptCode",key:"deptCode",width:120},{title:"机构描述",dataIndex:"deptDesc",key:"deptDesc",width:160},{title:"办公地址",dataIndex:"deptLoc",key:"deptLoc",width:160},{title:"",key:"action",width:100,render:function(t,a){return"__unknow"!=a.key?n.default.createElement("span",null,""!==S?null:n.default.createElement("a",{href:"#",onClick:e.onClickAddChild.bind(e,a.object),title:"增加下级部门"},n.default.createElement(d.Icon,{type:g.iconAddChild})),""!==S?null:n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a.object),title:"修改部门信息"},n.default.createElement(d.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a.object),title:"删除部门"},n.default.createElement(d.Icon,{type:g.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.handleSelectClick.bind(e,a),title:"人员维护"},n.default.createElement(d.Icon,{type:g.iconUser}))):null}}],l=g.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},n.default.createElement("div",{style:{margin:l.margin}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(d.Button,{icon:g.iconAdd,type:"primary",title:"增加部门",onClick:this.handleOpenCreateWindow}),n.default.createElement(d.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(f,{placeholder:"查找记录",style:{width:g.searchWidth},value:S,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(d.Table,{columns:a,dataSource:t,rowKey:function(e){return e.key},defaultExpandedRowKeys:C,onExpandedRowsChange:this.onExpandedRowsChange,loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(c.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.Form.Item,v=(h.Select.Option,a(83)),y=a(69),S=r.default.createClass({displayName:"UpdateDeptPage",getInitialState:function(){return{deptSet:{operation:"",errMsg:""},loading:!1,modal:!1,dept:{},hints:{},validRules:[]}},mixins:[p.listenTo(v,"onServiceComplete"),(0,c.default)("dept")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,deptSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"deptName",desc:"机构名称",required:!0,max:"128"},{id:"deptCode",desc:"机构代码",required:!1,max:"64"},{id:"deptDesc",desc:"机构描述",required:!1,max:"512"},{id:"deptLoc",desc:"办公地址",required:!1,max:"256"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.dept),this.state.loading=!1,this.state.deptSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.dept)&&(this.state.deptSet.operation="",this.setState({loading:!0}),y.updateHrDept(this.state.dept))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改部门信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_dept/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(g,i({},a,{label:"机构名称",required:!0,colon:!0,className:t,help:l.deptNameHint,validateStatus:l.deptNameStatus}),r.default.createElement(h.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.dept.deptName,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"机构代码",required:!1,colon:!0,className:t,help:l.deptCodeHint,validateStatus:l.deptCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"deptCode",id:"deptCode",value:this.state.dept.deptCode,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"机构描述",required:!1,colon:!0,className:t,help:l.deptDescHint,validateStatus:l.deptDescStatus}),r.default.createElement(h.Input,{type:"text",name:"deptDesc",id:"deptDesc",value:this.state.dept.deptDesc,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"办公地址",required:!1,colon:!0,className:t,help:l.deptLocHint,validateStatus:l.deptLocStatus}),r.default.createElement(h.Input,{type:"text",name:"deptLoc",id:"deptLoc",value:this.state.dept.deptLoc,onChange:this.handleOnChange}))))}});t.default=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1210),c=l(u),h=a(1219),p=l(h),m=(a(1),a(6)),f=o.Tabs.TabPane,g=n.default.createClass({displayName:"DeptPage",getInitialState:function(){return{isSelect:!0,selectKey:"1",dept:{}}},componentDidMount:function(){},selectsRole:function(e){this.setState({isSelect:!1,selectKey:"2",dept:e})},onTabClick:function(){this.setState({isSelect:!0,selectKey:"1"})},render:function(){var e=(this.state.selectKey,m.getGridMargin(this,0));return n.default.createElement("div",{className:"tab-page",style:{padding:e.padding}},n.default.createElement("div",{style:{margin:e.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_dept/retrieve","hr_dept/remove","hr-dept-staff/retrieve","hr-dept-staff/remove"]})),n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(o.Tabs,{defaultActiveKey:"1",activeKey:this.state.selectKey,onTabClick:this.onTabClick,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(f,{tab:"部门管理",key:"1",style:{width:"100%",height:"100%"}},n.default.createElement(c.default,{selectsRole:this.selectsRole.bind(this),style:{width:"100%",height:"100%"}})),n.default.createElement(f,{tab:"人员维护",key:"2",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},n.default.createElement(p.default,{dept:this.state.dept,style:{width:"100%",height:"100%"}})))))}});e.exports=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=h.Form.Item,g=(h.Select.Option,a(462)),v=a(341),y=r.default.createClass({displayName:"CreateGroupTablePage",getInitialState:function(){return{groupSet:{operation:"",errMsg:""},loading:!1,modal:!1,group:{},hints:{},validRules:[]}},mixins:[p.listenTo(g,"onServiceComplete"),(0,c.default)("group")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,groupSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"groupName",desc:"机构名称",required:!0,max:"128"},{id:"groupCode",desc:"机构代码",required:!1,max:"64"},{id:"groupDesc",desc:"机构描述",required:!1,max:"512"},{id:"groupLoc",desc:"办公地址",required:!1,max:"256"}]},clear:function(e){this.state.hints={},this.state.group.groupName="",this.state.group.groupCode="",this.state.group.groupDesc="",this.state.group.groupLoc="",this.state.group.uuid="",this.state.group.corpUuid=e,this.state.loading=!1,this.state.groupSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.group)&&(this.state.groupSet.operation="",this.setState({loading:!0}),v.createHrDeptGroup(this.state.group))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"增加事业群",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_dept_group/create"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(f,i({},a,{label:"机构名称",required:!0,colon:!0,className:t,help:l.groupNameHint,validateStatus:l.groupNameStatus}),r.default.createElement(h.Input,{type:"text",name:"groupName",id:"groupName",value:this.state.group.groupName,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"机构代码",required:!1,colon:!0,className:t,help:l.groupCodeHint,validateStatus:l.groupCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"groupCode",id:"groupCode",value:this.state.group.groupCode,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"机构描述",required:!1,colon:!0,className:t,help:l.groupDescHint,validateStatus:l.groupDescStatus}),r.default.createElement(h.Input,{type:"text",name:"groupDesc",id:"groupDesc",value:this.state.group.groupDesc,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"办公地址",required:!1,colon:!0,className:t,help:l.groupLocHint,validateStatus:l.groupLocStatus}),r.default.createElement(h.Input,{type:"text",name:"groupLoc",id:"groupLoc",value:this.state.group.groupLoc,onChange:this.handleOnChange}))))}});t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=(l(s),a(4)),u=a(1213),c=l(u),h=a(1215),p=l(h),m=a(1),f=d.Input.Search,g=a(6),v=(a(3),a(462)),y=a(341),S="",C=n.default.createClass({displayName:"GroupTablePage",getInitialState:function(){return{groupSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,corpUuid:window.loginData.compUser.corpUuid}},mixins:[m.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,groupSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.groupSet.operation="",y.retrieveHrDeptGroup(this.state.corpUuid)},componentDidMount:function(){this.setState({loading:!0}),y.initHrDeptGroup(this.state.corpUuid)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(this.state.corpUuid),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){d.Modal.confirm({title:"删除确认",content:"是否删除选中的事业群 【"+e.groupName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.groupSet.operation="",y.deleteHrDeptGroup(e.uuid)},handleSelectClick:function(e){this.props.selectsRole(e)},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=g.filter(this.state.groupSet.recordSet,S),a=[{title:"机构名称",dataIndex:"groupName",key:"groupName",width:100},{title:"机构代码",dataIndex:"groupCode",key:"groupCode",width:100},{title:"机构描述",dataIndex:"groupDesc",key:"groupDesc",width:160},{title:"办公地址",dataIndex:"groupLoc",key:"groupLoc",width:160},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改事业群信息"},n.default.createElement(d.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除事业群"},n.default.createElement(d.Icon,{type:g.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.handleSelectClick.bind(e,a),title:"人员维护"},n.default.createElement(d.Icon,{type:g.iconUser})))}}];return n.default.createElement("div",{className:"grid-page",style:{padding:"58px 0 0 0"}},n.default.createElement("div",{style:{margin:"-58px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(d.Button,{icon:g.iconAdd,type:"primary",title:"增加事业群",onClick:this.handleOpenCreateWindow}),n.default.createElement(d.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(f,{placeholder:"查找记录",style:{width:g.searchWidth},value:S,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(d.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(c.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.Form.Item,v=(h.Select.Option,a(462)),y=a(341),S=r.default.createClass({displayName:"UpdateGroupTablePage",getInitialState:function(){return{groupSet:{operation:"",errMsg:""},loading:!1,modal:!1,group:{},hints:{},validRules:[]}},mixins:[p.listenTo(v,"onServiceComplete"),(0,c.default)("group")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,groupSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"groupName",desc:"机构名称",required:!0,max:"128"},{id:"groupCode",desc:"机构代码",required:!1,max:"64"},{id:"groupDesc",desc:"机构描述",required:!1,max:"512"},{id:"groupLoc",desc:"办公地址",required:!1,max:"256"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.group),this.state.loading=!1,this.state.groupSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.group)&&(this.state.groupSet.operation="",this.setState({loading:!0}),y.updateHrDeptGroup(this.state.group))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改事业群信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_dept_group/update"]}),r.default.createElement(h.Button,{
key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(g,i({},a,{label:"机构名称",required:!0,colon:!0,className:t,help:l.groupNameHint,validateStatus:l.groupNameStatus}),r.default.createElement(h.Input,{type:"text",name:"groupName",id:"groupName",value:this.state.group.groupName,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"机构代码",required:!1,colon:!0,className:t,help:l.groupCodeHint,validateStatus:l.groupCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"groupCode",id:"groupCode",value:this.state.group.groupCode,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"机构描述",required:!1,colon:!0,className:t,help:l.groupDescHint,validateStatus:l.groupDescStatus}),r.default.createElement(h.Input,{type:"text",name:"groupDesc",id:"groupDesc",value:this.state.group.groupDesc,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"办公地址",required:!1,colon:!0,className:t,help:l.groupLocHint,validateStatus:l.groupLocStatus}),r.default.createElement(h.Input,{type:"text",name:"groupLoc",id:"groupLoc",value:this.state.group.groupLoc,onChange:this.handleOnChange}))))}});t.default=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1214),c=l(u),h=a(1242),p=l(h),m=(a(1),a(6)),f=o.Tabs.TabPane,g=n.default.createClass({displayName:"DeptGroupPage",getInitialState:function(){return{isSelect:!0,selectKey:"1",group:{}}},componentDidMount:function(){},selectsRole:function(e){this.setState({isSelect:!1,selectKey:"2",group:e})},onTabClick:function(){this.setState({isSelect:!0,selectKey:"1"})},render:function(){var e=(this.state.selectKey,m.getGridMargin(this,0));return n.default.createElement("div",{className:"tab-page",style:{padding:e.padding}},n.default.createElement("div",{style:{margin:e.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-group-staff/retrieve","hr-group-staff/remove","hr_dept_group/retrieve","hr_dept_group/remove"]})),n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(o.Tabs,{defaultActiveKey:"1",activeKey:this.state.selectKey,onTabClick:this.onTabClick,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(f,{tab:"事业群管理",key:"1",style:{width:"100%",height:"100%"}},n.default.createElement(c.default,{selectsRole:this.selectsRole.bind(this),style:{width:"100%",height:"100%"}})),n.default.createElement(f,{tab:"人员维护",key:"2",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},n.default.createElement(p.default,{group:this.state.group,style:{width:"100%",height:"100%"}})))))}});e.exports=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(7),u=l(d),c=a(9),h=l(c),p=a(25),m=l(p),f=a(1),g=s.AutoComplete.Option,v=s.Form.Item,y=a(6),S=a(215),C=a(164),E=r.default.createClass({displayName:"CreateDeptStaffPage",getInitialState:function(){return{deptStaffSet:{operation:"",errMsg:""},loading:!1,modal:!1,deptStaff:{},hints:{},validRules:[],result:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,h.default)("deptStaff")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,deptStaffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"用户姓名",required:!0,max:"32"},{id:"jobTitle",desc:"职位",required:!0,max:"64"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"64"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"jobDesc",desc:"职务说明",required:!1,max:"1024"}]},clear:function(e,t){this.state.hints={},this.state.deptStaff.perName="",this.state.deptStaff.jobTitle="",this.state.deptStaff.phoneno="",this.state.deptStaff.email="",this.state.deptStaff.jobDesc="",this.state.deptStaff.uuid="",this.state.deptStaff.corpUuid=e,this.state.deptStaff.deptUuid=t,this.state.loading=!1,this.state.deptStaffSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.deptStaff)&&(this.state.deptStaffSet.operation="",this.setState({loading:!0}),C.createHrDeptStaff(this.state.deptStaff))},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:y.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.deptStaff;t.email=e,y.validator(this,t,"email"),this.setState({loading:this.state.loading})},onSelectEmpLoyee:function(e){this.state.deptStaff.jobTitle=e.jobTitle,this.state.deptStaff.perName=e.perName,this.state.deptStaff.phoneno=e.phoneno,this.state.deptStaff.email=e.email,this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.result,n=l.map(function(e){return r.default.createElement(g,{key:e},e)}),o=window.loginData.compUser.corpUuid,d=this.state.hints;return r.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"增加人员",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-dept-staff/create"]}),r.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.default,{style:{padding:"10px 0 16px 32px",width:"508px"},corpUuid:o,onSelectEmpLoyee:this.onSelectEmpLoyee}),r.default.createElement(s.Form,{layout:e},r.default.createElement(v,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:d.perNameHint,validateStatus:d.perNameStatus}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.deptStaff.perName,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"职位",required:!0,colon:!0,className:t,help:d.jobTitleHint,validateStatus:d.jobTitleStatus}),r.default.createElement(s.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.deptStaff.jobTitle,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:d.phonenoHint,validateStatus:d.phonenoStatus}),r.default.createElement(s.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.deptStaff.phoneno,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"电子邮箱",required:!1,colon:!0,className:t,help:d.emailHint,validateStatus:d.emailStatus}),r.default.createElement(s.AutoComplete,{name:"email",id:"email",value:this.state.deptStaff.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},n)),r.default.createElement(v,i({},a,{label:"职务说明",required:!1,colon:!0,className:t,help:d.jobDescHint,validateStatus:d.jobDescStatus}),r.default.createElement(s.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.deptStaff.jobDesc,onChange:this.handleOnChange,style:{height:"60px"}}))))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.AutoComplete.Option,v=h.Form.Item,y=a(215),S=a(164),C=r.default.createClass({displayName:"UpdateDeptStaffPage",getInitialState:function(){return{deptStaffSet:{operation:"",errMsg:""},loading:!1,modal:!1,deptStaff:{},hints:{},validRules:[],result:[]}},mixins:[p.listenTo(y,"onServiceComplete"),(0,c.default)("deptStaff")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,deptStaffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"用户姓名",required:!0,max:"32"},{id:"jobTitle",desc:"职位",required:!0,max:"64"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"64"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"jobDesc",desc:"职务说明",required:!1,max:"1024"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.deptStaff),this.state.loading=!1,this.state.deptStaffSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.deptStaff)&&(this.state.deptStaffSet.operation="",this.setState({loading:!0}),S.updateHrDeptStaff(this.state.deptStaff))},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:m.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.deptStaff;t.email=e,m.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.result,n=l.map(function(e){return r.default.createElement(g,{key:e},e)}),o=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改人员信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-dept-staff/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(v,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:o.perNameHint,validateStatus:o.perNameStatus}),r.default.createElement(h.Input,{type:"text",name:"perName",id:"perName",value:this.state.deptStaff.perName,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"职位",required:!0,colon:!0,className:t,help:o.jobTitleHint,validateStatus:o.jobTitleStatus}),r.default.createElement(h.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.deptStaff.jobTitle,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:o.phonenoHint,validateStatus:o.phonenoStatus}),r.default.createElement(h.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.deptStaff.phoneno,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"电子邮箱",required:!1,colon:!0,className:t,help:o.emailHint,validateStatus:o.emailStatus}),r.default.createElement(h.AutoComplete,{value:this.state.deptStaff.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},n)),r.default.createElement(v,i({},a,{label:"职务说明",required:!1,colon:!0,className:t,help:o.jobDescHint,validateStatus:o.jobDescStatus}),r.default.createElement(h.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.deptStaff.jobDesc,onChange:this.handleOnChange,style:{height:"60px"}}))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1217),h=l(c),p=a(1218),m=l(p),f=a(1),g=u.Input.Search,v=a(6),y=(a(3),a(215)),S=a(164),C="",E=n.default.createClass({displayName:"DeptStaffPage",getInitialState:function(){return{deptStaffSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,deptUuid:this.props.dept.key,corpUuid:window.loginData.compUser.corpUuid}},mixins:[f.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,deptStaffSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.deptStaffSet.operation="",S.retrieveHrDeptStaff(this.state.deptUuid)},componentDidMount:function(){this.setState({loading:!0}),S.initHrDeptStaff(this.props.dept.key)},componentWillReceiveProps:function(e){e.dept.key!=this.props.dept.key&&(this.state.deptUuid=e.dept.key,this.setState({loading:!0}),this.state.deptStaffSet.operation="",S.retrieveHrDeptStaff(e.dept.key))},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(this.state.corpUuid,this.state.deptUuid),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的人员 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.deptStaffSet.operation="",S.deleteHrDeptStaff(e.uuid)},onFilterRecord:function(e){C=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=v.filter(this.state.deptStaffSet.recordSet,C),a=[{title:"用户姓名",dataIndex:"perName",key:"perName",width:120},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:140},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:140},{title:"电子邮箱",dataIndex:"email",key:"email",width:140},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员信息"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}];return n.default.createElement("div",{className:"grid-page",style:{padding:"58px 0 0 0"}},n.default.createElement("div",{style:{margin:"-58px 0 0 0"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-dept-staff/retrieve","hr-dept-staff/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加人员",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:C,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),n.default.createElement(h.default,{ref:"createWindow"}),n.default.createElement(m.default,{ref:"updateWindow"}))}});e.exports=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(109),p=l(h),m=a(4),f=a(25),g=l(f),v=a(1),y=a(6),S=m.Form.Item,C=(m.Select.Option,m.Tabs.TabPane),E=m.DatePicker.MonthPicker,b=a(463),w=a(342),x=r.default.createClass({displayName:"CreateDevicePage",getInitialState:function(){return{loading:!1,device:{},user:{},hints:{},validRules:[]}},mixins:[v.listenTo(b,"onServiceComplete"),(0,c.default)("device")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"deptName",desc:"部门名称",required:!1,max:"128"},{id:"devName",desc:"设备名称",required:!1,max:"64"},{id:"devAllow",desc:"设备补贴",required:!1,max:"16"},{id:"devPrice",desc:"采购价格",required:!1,max:"16"},{id:"effectDate",desc:"开始月份",required:!1,max:"24"},{id:"expiryDate",desc:"结束月份",required:!1,max:"24"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"appDate",desc:"审批日期",required:!1,max:"24"},{id:"appMemo",desc:"审批备注",required:!1,max:"1024"}],this.clear()},handleKeyDown:function(e){if(73==e.keyCode&&e.ctrlKey&&e.altKey){var t=this.refs.QuickFillWindow;t&&(t.initPage(this.state.validRules),t.toggle())}},clear:function(e){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.device.uuid="",this.state.device.corpUuid=window.loginData.compUser.corpUuid,this.state.device.userUuid="",this.state.device.perName="",this.state.device.staffCode="",this.state.device.deptName="",this.state.device.devName="",this.state.device.devAllow="",this.state.device.devPrice="",this.state.device.effectDate="",this.state.device.expiryDate="",this.state.device.approver="",this.state.device.appDate="",this.state.device.appMemo="",this.state.loading=!1,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectDevice:function(e){this.state.device.userUuid=e.uuid,this.state.device.staffCode=e.staffCode,this.state.device.perName=e.perName,this.state.device.deptName=e.deptName,this.setState({user:e})},showError:function(e){console.log(e)},onClickSave:function(){this.setState({loading:!0}),w.createHrDevice(this.state.device)},goBack:function(){window.removeEventListener("keydown",this.handleKeyDown),this.props.onBack()},onTabChange:function(e){"1"===e&&this.goBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.device.userUuid,s=window.loginData.compUser.corpUuid;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(C,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(C,{tab:"增加设备补贴#",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_device/create"]}),r.default.createElement(g.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:s,showError:this.showError,onSelectEmpLoyee:this.onSelectDevice}),r.default.createElement(m.Form,{layout:e,style:{width:"600px"}},r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"任职部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName,disabled:!0})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"设备名称",required:!1,colon:!0,className:t,help:n.devNameHint,validateStatus:n.devNameStatus}),r.default.createElement(m.Input,{type:"text",name:"devName",id:"devName",value:this.state.device.devName,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"采购价格",required:!1,colon:!0,className:t,help:n.devPriceHint,validateStatus:n.devPriceStatus}),r.default.createElement(m.Input,{type:"text",name:"devPrice",id:"devPrice",value:this.state.device.devPrice,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"补贴金额",required:!1,colon:!0,className:t,help:n.devAllowHint,validateStatus:n.devAllowStatus}),r.default.createElement(m.Input,{type:"text",name:"devAllow",id:"devAllow",value:this.state.device.devAllow,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"开始月份",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),r.default.createElement(E,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatMonth(this.state.device.effectDate,y.monthFormat),format:y.monthFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",y.monthFormat)}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"结束月份",required:!1,colon:!0,className:t,help:n.expiryDateHint,validateStatus:n.expiryDateStatus}),r.default.createElement(E,{style:{width:"100%"},name:"expiryDate",id:"expiryDate",value:this.formatMonth(this.state.device.expiryDate,y.monthFormat),format:y.monthFormat,onChange:this.handleOnSelDate.bind(this,"expiryDate",y.monthFormat)})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:n.approverHint,validateStatus:n.approverStatus}),r.default.createElement(m.Input,{type:"text",name:"approver",id:"approver",value:this.state.device.approver,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(S,i({},l,{label:"审批日期",required:!1,colon:!0,className:t,help:n.appDateHint,validateStatus:n.appDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"appDate",id:"appDate",value:this.formatDate(this.state.device.appDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"appDate",y.dateFormat)})))),r.default.createElement(S,i({},a,{label:"备注",colon:!0,className:t,help:n.appMemoHint,validateStatus:n.appMemoStatus}),r.default.createElement(m.Input,{type:"textarea",name:"appMemo",id:"appMemo",value:this.state.device.appMemo,onChange:this.handleOnChange})),r.default.createElement(S,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))),r.default.createElement(p.default,{ref:"QuickFillWindow",self:this,object:"device"}))}});e.exports=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(12)),d=(l(s),a(4)),u=a(9),c=l(u),h=(a(1),d.DatePicker.MonthPicker),p=(d.DatePicker.RangePicker,d.Form.Item),m=a(6),f={moreFilter:r.default.PropTypes.bool},g=r.default.createClass({displayName:"DeviceFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],device:{perName:"",staffCode:"",baseCity:"",deptUuid:"",devName:"",devAllow:"",expiryDate1:"",expiryDate2:""}}},mixins:[(0,c.default)("device")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"baseCity",desc:"归属地",required:!1,max:"128"},{id:"expiryDate1",desc:"失效日期开始",required:!1,max:"0"},{id:"expiryDate2",desc:"失效日期结束",required:!1,max:"0"},{id:"devAllow",desc:"设备补贴",required:!1,max:"0"},{id:"devName",desc:"设备名称",required:!1,max:"0"},{id:"deptUuid",desc:"部门",required:!1,max:"0"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},r.default.createElement(d.Form,{layout:e,style:{width:"100%",padding:"20px 0px"}},r.default.createElement(d.Row,null,r.default.createElement(d.Col,{className:"gutter-row",span:6},r.default.createElement(p,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(d.Input,{type:"text",name:"perName",id:"perName",value:this.state.device.perName,onChange:this.handleOnChange}))),r.default.createElement(d.Col,{className:"gutter-row",span:6},r.default.createElement(p,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(d.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.device.staffCode,onChange:this.handleOnChange}))),r.default.createElement(d.Col,{className:"gutter-row",span:6},r.default.createElement(p,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:n.baseCityHint,validateStatus:n.baseCityStatus}),r.default.createElement(d.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.device.baseCity,onChange:this.handleOnChange}))),r.default.createElement(d.Col,{className:"gutter-row",span:6},r.default.createElement(p,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(d.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.device.deptName,onChange:this.handleOnChange})))),r.default.createElement(d.Row,null,r.default.createElement(d.Col,{className:"gutter-row",span:"6"},r.default.createElement(p,i({},a,{label:"设备名称",required:!1,colon:!0,className:t,help:n.devNameHint,validateStatus:n.devNameStatus}),r.default.createElement(d.Input,{type:"text",name:"devName",id:"devName",value:this.state.device.devName,onChange:this.handleOnChange}))),r.default.createElement(d.Col,{className:"gutter-row",span:"6"},r.default.createElement(p,i({},a,{label:"补贴金额",required:!1,colon:!0,className:t,help:n.devAllowHint,validateStatus:n.devAllowStatus}),r.default.createElement(d.Input,{type:"text",name:"devAllow",id:"devAllow",value:this.state.device.devAllow,onChange:this.handleOnChange}))),r.default.createElement(d.Col,{className:"gutter-row",span:"12"},r.default.createElement(p,i({},l,{label:"结束月份"}),r.default.createElement(d.Col,{span:"7"},r.default.createElement(p,{label:"",required:!1,colon:!0,className:t,help:n.expiryDate1Hint,validateStatus:n.expiryDate1Status},r.default.createElement(h,{style:{width:"100%"},name:"expiryDate1",id:"expiryDate1",format:m.monthFormat,value:this.formatMonth(this.state.device.expiryDate1,m.monthFormat),onChange:this.handleOnSelDate.bind(this,"expiryDate1",m.monthFormat)}))),r.default.createElement(d.Col,{span:"2",style:{textAlign:"center"}},"到"),r.default.createElement(d.Col,{span:"7"},r.default.createElement(p,{label:"",required:!1,colon:!0,className:t,help:n.expiryDate2Hint,validateStatus:n.expiryDate2Status},r.default.createElement(h,{style:{width:"100%"},name:"expiryDate2",id:"expiryDate2",format:m.monthFormat,value:this.formatMonth(this.state.device.expiryDate2,m.monthFormat),onChange:this.handleOnSelDate.bind(this,"expiryDate2",m.monthFormat)})))))))))}});g.propTypes=f,e.exports=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(25),p=(l(h),a(4)),m=a(1),f=a(6),g=a(3),v=p.Form.Item,y=(p.Select.Option,p.Tabs.TabPane),S=p.DatePicker.MonthPicker,C=a(463),E=a(342),b=r.default.createClass({displayName:"UpdateDevicePage",getInitialState:function(){return{deviceSet:{operation:"",errMsg:""},loading:!1,device:{},hints:{},validRules:[]}},mixins:[m.listenTo(C,"onServiceComplete"),(0,c.default)("device")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,deviceSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"deptName",desc:"部门名称",required:!1,max:"128"},{id:"devName",desc:"设备名称",required:!1,max:"64"},{id:"devAllow",desc:"设备补贴",required:!1,max:"16"},{id:"devPrice",desc:"采购价格",required:!1,max:"16"},{id:"effectDate",desc:"开始月份",required:!1,max:"24"},{id:"expiryDate",desc:"结束月份",required:!1,max:"24"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"appDate",desc:"审批日期",required:!1,max:"24"},{id:"appMemo",desc:"审批备注",required:!1,max:"1024"}],this.initPage(this.props.device)},componentWillReceiveProps:function(e){},initPage:function(e){g.copyValue(e,this.state.device),this.setState({loading:!1,hints:{}}),this.state.deviceSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){f.formValidator(this,this.state.device)&&(this.state.deviceSet.operation="",this.setState({loading:!0}),E.updateHrDevice(this.state.device))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(y,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(y,{tab:"修改设备补贴",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},r.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_device/update"]}),r.default.createElement(p.Form,{layout:e,style:{width:"600px"}},r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.device.staffCode,disabled:!0}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(p.Input,{
style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.device.perName,disabled:!0})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"任职部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.device.deptName,disabled:!0})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"设备名称",required:!1,colon:!0,className:t,help:n.devNameHint,validateStatus:n.devNameStatus}),r.default.createElement(p.Input,{type:"text",name:"devName",id:"devName",value:this.state.device.devName,onChange:this.handleOnChange}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"采购价格",required:!1,colon:!0,className:t,help:n.devPriceHint,validateStatus:n.devPriceStatus}),r.default.createElement(p.Input,{type:"text",name:"devPrice",id:"devPrice",value:this.state.device.devPrice,onChange:this.handleOnChange})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"补贴金额",required:!1,colon:!0,className:t,help:n.devAllowHint,validateStatus:n.devAllowStatus}),r.default.createElement(p.Input,{type:"text",name:"devAllow",id:"devAllow",value:this.state.device.devAllow,onChange:this.handleOnChange})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"开始月份",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatMonth(this.state.device.effectDate,f.monthFormat),format:f.monthFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",f.monthFormat)}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"结束月份",required:!1,colon:!0,className:t,help:n.expiryDateHint,validateStatus:n.expiryDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"expiryDate",id:"expiryDate",value:this.formatMonth(this.state.device.expiryDate,f.monthFormat),format:f.monthFormat,onChange:this.handleOnSelDate.bind(this,"expiryDate",f.monthFormat)})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:n.approverHint,validateStatus:n.approverStatus}),r.default.createElement(p.Input,{type:"text",name:"approver",id:"approver",value:this.state.device.approver,onChange:this.handleOnChange}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"审批日期",required:!1,colon:!0,className:t,help:n.appDateHint,validateStatus:n.appDateStatus}),r.default.createElement(p.DatePicker,{style:{width:"100%"},name:"appDate",id:"appDate",value:this.formatDate(this.state.device.appDate,f.dateFormat),format:f.dateFormat,onChange:this.handleOnSelDate.bind(this,"appDate",f.dateFormat)})))),r.default.createElement(v,i({},a,{label:"备注",colon:!0,className:t,help:n.appMemoHint,validateStatus:n.appMemoStatus}),r.default.createElement(p.Input,{type:"textarea",name:"appMemo",id:"appMemo",value:this.state.device.appMemo,onChange:this.handleOnChange})),r.default.createElement(v,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=b},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1220),h=l(c),p=a(1222),m=l(p),f=a(1221),g=l(f),v=a(26),y=l(v),S=a(165),C=l(S),E=a(1),b=u.Input.Search,w=a(6),x=a(3),k=a(463),N=a(342),D=10,R=n.default.createClass({displayName:"DevicePage",getInitialState:function(){return{deviceSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",device:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[E.listenTo(k,"onServiceComplete"),(0,y.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.DeviceFilter;null!==a&&"undefined"!=typeof a&&(a.state.device=this.state.filter)}}this.setState({loading:!1,deviceSet:e})},componentDidMount:function(){N.getCacheData()},handleQueryClick:function(){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",N.retrieveHrDevicePage(this.state.filter,this.state.deviceSet.startPage,D)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.deviceSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){D=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;w.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.DeviceFilter.state.device;null!==e.applyDate&&""!==e.applyDate&&(e.applyDate1=e.applyDate+"01",e.applyDate2=e.applyDate+"31"),null!==e.payDate&&""!==e.payDate&&(e.date1=e.payDate+"01",e.date2=e.payDate+"31"),this.state.filter=e,this.handleQueryClick()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的员工 【"+e.staffCode+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.deviceSet.operation="",N.deleteHrDevice(e.uuid)},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){this.setState({device:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},handleTempDown:function(e){this.downXlsTempFile(C.default.deviceFields)},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&w.errMsg(e)},beforeUpload:function(e){this.setState({loading:!0});var t=x.hrUrl+"hr_device/upload-xls",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,C.default.deviceFields,e,this.uploadComplete),!1},render:function(){var e=this,t=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"设备名称",dataIndex:"devName",key:"devName",width:140},{title:"补贴金额",dataIndex:"devAllow",key:"devAllow",width:140},{title:"采购价格",dataIndex:"devPrice",key:"devPrice",width:140},{title:"开始月份",dataIndex:"effectDate",key:"effectDate",width:140},{title:"结束月份",dataIndex:"expiryDate",key:"expiryDate",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改设备补贴"},n.default.createElement(u.Icon,{type:w.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除设备补贴"},n.default.createElement(u.Icon,{type:w.iconRemove})))}}],a=this.state.deviceSet.recordSet,l=this.state.moreFilter,i="query"===this.state.action?"":"none",r={showQuickJumper:!0,total:this.state.deviceSet.totalRow,pageSize:this.state.deviceSet.pageRow,current:this.state.deviceSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_device/retrieve","hr_device/remove"]}),n.default.createElement(g.default,{ref:"DeviceFilter",moreFilter:l}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:w.iconAdd,type:"primary",title:"增加设备补贴",onClick:this.handleCreate})," ",n.default.createElement(u.Button,{icon:w.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick}),n.default.createElement(u.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(u.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},n.default.createElement(u.Button,{icon:"upload"}))),l?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(b,{placeholder:"查询(员工编号/员工姓名)",style:{width:w.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:w.tableBorder}))),s=null;return"create"===this.state.action?s=n.default.createElement(h.default,{onBack:this.onGoBack}):"update"===this.state.action&&(s=n.default.createElement(m.default,{onBack:this.onGoBack,device:this.state.device})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});e.exports=R},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(21),h=l(c),p=a(26),m=l(p),f=a(165),g=l(f),v=a(1),y=(u.Input.Search,u.Radio.Button,u.Radio.Group,a(6)),S=a(3),C=a(216),E=a(145),b=a(130),w=a(106),x=a(89),k=a(72),N=n.default.createClass({displayName:"BatchCreateEmpJobPage",getInitialState:function(){return{recordSet:[],loading:!1,isSuccess:!0,isTranslate:!1,jobMap:{},jobSet:[],lvlMap:{},lvlMap2:{},lvlSet:[]}},mixins:[v.listenTo(C,"onServiceComplete"),v.listenTo(b,"onJobComplete"),v.listenTo(x,"onLevelComplete"),(0,h.default)(),(0,m.default)()],onServiceComplete:function(e){this.setState({loading:!1,recordSet:e.recordSet})},onJobComplete:function(e){var t={};e.recordSet.map(function(e,a){t[e.jobCode]=e.uuid}),this.setState({jobSet:e.recordSet,jobMap:t})},onLevelComplete:function(e){var t={},a={};e.recordSet.map(function(e,l){t[e.lvlCode]=e.uuid,a[e.uuid]=e.lvlCode}),this.setState({lvlSet:e.recordSet,lvlMap:t,lvlMap2:a})},translate:function(e){var t=e.newTechUuid;void 0!==t&&null!==t&&""!==t&&(e.techUuid=this.state.jobMap[t],void 0===e.techUuid?(this.state.isSuccess=!1,e.techName="#"+t):e.techName=t);var a=e.newManUuid;void 0!==a&&null!==a&&""!==a&&(e.manUuid=this.state.jobMap[a],void 0===e.manUuid?(this.state.isSuccess=!1,e.manName="#"+a):e.manName=a);var l=e.newEmpLevel;void 0!==l&&null!==l&&""!==l&&(e.empLevel=this.state.lvlMap[l],void 0===e.empLevel&&(e.empLevel="#"+l,this.state.isSuccess=!1))},getLevel:function(e){if(null===e||""===e)return"";if(e.startsWith("#"))return n.default.createElement("span",{style:{color:"red"}},e);var t=this.state.lvlMap2[e];return void 0===t?e:t},componentDidMount:function(){var e=window.loginData.compUser.corpUuid;w.initHrJob(e),k.initHrLevel(e)},handleBatchCreate:function(e){this.setState({loading:!0}),E.batchCreateHrEmpJob(this.state.recordSet)},handleTempDown:function(e){this.downXlsTempFile(g.default.empJobFields)},uploadComplete:function(e,t){if(this.setState({loading:!1}),""!==e)y.errMsg(e);else{for(var a=t.list.length,l=0;l<a;l++){var i=t.list[l];i.status="1"}this.setState({recordSet:t.list})}},beforeUpload:function(e){this.setState({loading:!0,isSuccess:!0,recordSet:[],isTranslate:!1});var t=S.hrUrl+"hr_emp_job/retrieve-xls",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,g.default.empJobFields,e,this.uploadComplete),!1},render:function(){var e=this,t=this.state.recordSet,a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"员工",dataIndex:"perName",key:"perName",width:140},{title:"类型",dataIndex:"empType",key:"empType",width:140,render:function(t,a){return S.getOptionName("HR系统","员工类型",a.empType,!1,e)}},{title:"级别",dataIndex:"empLevel",key:"empLevel",width:140,render:function(t,a){return e.getLevel(t)}},{title:"技术级别",dataIndex:"techLevel",key:"techLevel",width:140},{title:"管理级别",dataIndex:"manLevel",key:"manLevel",width:140},{title:"技术岗位",dataIndex:"techName",key:"techName",width:140,render:function(e,t){return null!==e&&e.startsWith("#")?n.default.createElement("span",{style:{color:"red"}},e):e}},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:140,render:function(e,t){return null!==e&&e.startsWith("#")?n.default.createElement("span",{style:{color:"red"}},e):e}},{title:"审批人",dataIndex:"approver",key:"approver",width:140}],l=0===t.length||0===this.state.jobSet.length||0===this.state.lvlSet.length;return this.state.isTranslate||l||(t.map(function(t,a){e.translate(t)}),this.state.isTranslate=!0),l=l||!this.state.isSuccess,n.default.createElement("div",{style:{width:"100%",height:"100%"}},n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_emp_job/create"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:"save",type:"primary",title:"批量调整岗位信息",onClick:this.handleBatchCreate,disabled:l},"批量调整岗位信息"),n.default.createElement(u.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(u.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},n.default.createElement(u.Button,{icon:"upload",title:"上传文件, 需要用户确认后才会保存到数据库"})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:y.tableBorder}))))}});e.exports=N},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(5),o=(l(r),a(7)),s=l(o),d=a(4),u=a(1227),c=l(u),h=a(21),p=l(h),m=a(1),f=a(6),g=(d.Form.Item,d.Tabs.TabPane),v=a(696),y=a(145),S=n.default.createClass({displayName:"CreateDetailPage",getInitialState:function(){return{empJobSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[m.listenTo(v,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,empJobSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={userUuid:this.props.userUuid};y.retrievePersonEmpJob(e)},onClickDetails:function(e,t){null!=e&&this.refs.DetailsFromPage.initPage(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=[{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140},{title:"员工类型",dataIndex:"empType",key:"empType",width:140},{title:"员工级别",dataIndex:"empLevel",key:"empLevel",width:140,render:function(a,l){return e.getLevelName(t,l.empLevel)}},{title:"技术级别",dataIndex:"techLevel",key:"techLevel",width:140},{title:"管理级别",dataIndex:"manLevel",key:"manLevel",width:140},{title:"技术岗位",dataIndex:"techName",key:"techUuid",width:140},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:140},{title:"更多操作",key:"action",width:140,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickDetails.bind(e,a),title:"查看"},n.default.createElement(d.Icon,{type:"eye-o"})))}}],l=this.state.empJobSet.recordSet;return n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(d.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(g,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(g,{tab:"岗位调整详情",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},n.default.createElement("div",{style:{padding:"12px",height:"100%",overflowY:"auto"}},n.default.createElement(s.default,{ref:"mxgBox",svcList:["p_emp_job/retrieve"]}),n.default.createElement(d.Table,{columns:a,dataSource:l,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:f.tableBorder}),n.default.createElement("div",{style:{width:"100%",maxWidth:"600px",padding:"30px 0 0 8px"}},n.default.createElement(c.default,{ref:"DetailsFromPage"})))))))}});e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(1224),u=l(d),c=a(7),h=l(c),p=a(9),m=l(p),f=a(25),g=l(f),v=a(12),y=l(v),S=a(91),C=l(S),E=a(90),b=l(E),w=a(1),x=s.Form.Item,k=(s.Select.Option,s.Tabs.TabPane),N=a(6),D=a(216),R=a(696),_=a(145),P=r.default.createClass({displayName:"CreateEmpJobPage",getInitialState:function(){return{afterChange:this.afterChange,empJobSet:{operation:"",errMsg:""},loading:!1,jobLoading:!1,empJob:{},user:{},hints:{},validRules:[],datas:{}}},mixins:[w.listenTo(D,"onServiceComplete"),w.listenTo(R,"onServiceComplete2"),(0,m.default)("empJob")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,empJobSet:e}))},onServiceComplete2:function(e){if(null!==e.recordSet&&e.recordSet.length>0){var t=e.recordSet[0];this.state.empJob.techLevel=t.techLevel,this.state.empJob.manLevel=t.manLevel,this.state.empJob.empType=t.empType,this.state.empJob.empLevel=t.empLevel,this.state.empJob.techUuid=t.techUuid,this.state.empJob.manUuid=t.manUuid}this.setState({jobLoading:!1})},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"empLevel",desc:"员工级别",required:!1,max:"0"},{id:"techLevel",desc:"技术级别",required:!1,max:"0"},{id:"manLevel",desc:"管理级别",required:!1,max:"0"},{id:"manUuid",desc:"管理岗位",required:!1,max:"24"},{id:"techUuid",desc:"技术岗位",required:!1,max:"24"},{id:"empType",desc:"员工类型",required:!1,max:"32"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"chgReason",desc:"原因",required:!1,max:"1024"},{id:"deptName",desc:"部门",required:!1,max:"0"}],this.clear()},componentWillReceiveProps:function(e){},clear:function(){this.state.hints={},this.state.empJob.uuid="",this.state.empJob.corpUuid=window.loginData.compUser.corpUuid,this.state.empJob.userUuid="",this.state.empJob.staffCode="",this.state.empJob.perName="",this.state.empJob.empLevel="",this.state.empJob.techLevel="",this.state.empJob.manLevel="",this.state.empJob.manUuid="",this.state.empJob.techUuid="",this.state.empJob.empType="",this.state.empJob.approver="",this.state.empJob.effectDate="",this.state.empJob.chgReason="",this.state.empJob.deptName=""},onSelectEmpLoyee:function(e){this.state.empJob.userUuid=e.uuid,this.state.empJob.staffCode=e.staffCode,this.state.empJob.perName=e.perName,this.state.empJob.deptName=e.deptName;var t=window.loginData.compUser.corpUuid,a={corpUuid:t,staffCode:e.staffCode};_.addHrEmpJob(a),this.setState({jobLoading:!0,user:e})},showError:function(e){console.log(e)},onClickSave:function(){this.setState({loading:!0});var e=this.state.empJob,t=this.refs.techUuidBox.getJobNode();null===t.jobName||""===t.jobName||t.jobName===t.jobCode?e.techName=t.jobCode:e.techName=t.jobName;var a=this.refs.manUuidBox.getJobNode();null===a.jobName||""===a.jobName||a.jobName===a.jobCode?e.manName=a.jobCode:e.manName=a.jobName,_.createHrEmpJob(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},afterChange:function(e,t){if("techUuid"===e){var a=this.state.empJob,l=this.refs.techUuidBox.getJobNode(t);a.techLevel=l.jobCode}else if("manUuid"===e){var a=this.state.empJob,i=this.refs.manUuidBox.getJobNode(t);a.manLevel=i.jobCode}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=!this.state.empJob.userUuid,o=this.state.hints,d=window.loginData.compUser.corpUuid,c=r.default.createElement(s.Form,{layout:e,style:{width:"600px"}},r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"员工编号",required:!1,colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"姓名",required:!1,colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",disabled:!0,value:this.state.user.perName})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"任职部门",required:!1,colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"deptName",id:"deptName",disabled:!0,value:this.state.user.deptName})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"员工类型",required:!1,colon:!0,className:t,help:o.empTypeHint,validateStatus:o.empTypeStatus}),r.default.createElement(y.default,{name:"empType",id:"empType",value:this.state.empJob.empType,appName:"HR系统",optName:"员工类型",onSelect:this.handleOnSelected.bind(this,"empType")}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"员工级别",required:!1,colon:!0,className:t,help:o.empLevelHint,validateStatus:o.empLevelStatus}),r.default.createElement(C.default,{ref:"empLevelBox",name:"empLevel",id:"empLevel",value:this.state.empJob.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"技术岗位",required:!1,colon:!0,className:t,help:o.techUuidHint,validateStatus:o.techUuidStatus}),r.default.createElement(b.default,{ref:"techUuidBox",name:"techUuid",id:"techUuid",value:this.state.empJob.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"技术级别",required:!1,colon:!0,className:t,help:o.techLevelHint,validateStatus:o.techLevelStatus}),r.default.createElement(s.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.empJob.techLevel,onChange:this.handleOnChange})))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"管理岗位",required:!1,colon:!0,className:t,help:o.manUuidHint,validateStatus:o.manUuidStatus}),r.default.createElement(b.default,{ref:"manUuidBox",name:"manUuid",id:"manUuid",value:this.state.empJob.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"管理级别",required:!1,colon:!0,className:t,help:o.manLevelHint,validateStatus:o.manLevelStatus}),r.default.createElement(s.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.empJob.manLevel,onChange:this.handleOnChange})))),r.default.createElement(x,i({},a,{label:"调整原因",required:!1,colon:!0,className:t,help:o.chgReasonHint,validateStatus:o.chgReasonStatus}),r.default.createElement(s.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.empJob.chgReason,onChange:this.handleOnChange})),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:o.approverHint,validateStatus:o.approverStatus}),r.default.createElement(s.Input,{type:"text",name:"approver",id:"approver",value:this.state.empJob.approver,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"生效日期",required:!1,colon:!0,className:t,help:o.effectDateHint,validateStatus:o.effectDateStatus}),r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.empJob.effectDate,N.dateFormat),format:N.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",N.dateFormat)})))),r.default.createElement(x,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:n,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")));return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(k,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(k,{tab:"增加岗位调整信息",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(h.default,{ref:"mxgBox",svcList:["hr_emp_job/create"]}),r.default.createElement(g.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:d,showError:this.showError,onSelectEmpLoyee:this.onSelectEmpLoyee}),this.state.jobLoading?r.default.createElement(s.Spin,null,c):c)),r.default.createElement(k,{tab:"批量调整岗位信息",key:"3",style:{width:"100%",height:"100%",overflowY:"auto"}},r.default.createElement(u.default,null))))}});e.exports=P},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=(l(d),a(4)),c=(a(1),a(6),a(3)),h=u.Form.Item,p=(a(216),a(145),r.default.createClass({displayName:"DetailsFromPage",getInitialState:function(){return{empJob:{}}},componentDidMount:function(){},initPage:function(e){c.copyValue(e,this.state.empJob),this.setState({hints:{}})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}};this.state.hints;return r.default.createElement("div",null,r.default.createElement(u.Form,{layout:e},r.default.createElement(h,i({},a,{label:"调整原因",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.empJob.chgReason})),r.default.createElement(u.Row,null,r.default.createElement(u.Col,{span:"12"},r.default.createElement(h,i({},l,{label:"审批人",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"approver",id:"approver",value:this.state.empJob.approver}))),r.default.createElement(u.Col,{span:"12"},r.default.createElement(h,i({},l,{label:"生效日期",required:!1,colon:!0,className:t}),r.default.createElement(u.Input,{type:"text",name:"effectDate",id:"effectDate",value:this.state.empJob.effectDate}))))))}}));t.default=p},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=l(d),c=a(12),h=(l(c),a(91)),p=l(h),m=a(90),f=l(m),g=a(4),v=(a(1),a(6),g.Form.Item),y=(g.Select.Option,a(216),a(145),r.default.createClass({displayName:"MoreEmpJobPage",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],empJob:{staffCode:"",perName:"",baseCity:"",empLevel:"",manUuid:"",techUuid:""}}},mixins:[(0,u.default)("empJob")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"0"},{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"empLevel",desc:"员工级别",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"manUuid",desc:"管理岗位",required:!1,max:"24"},{id:"techUuid",desc:"技术岗位",required:!1,max:"24"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},r.default.createElement(g.Form,{layout:e,style:{width:"900px",padding:"20px 0px"}},r.default.createElement(g.Col,{span:"8"},r.default.createElement(v,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(g.Input,{type:"text",name:"perName",id:"perName",value:this.state.empJob.perName,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"8"},r.default.createElement(v,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(g.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.empJob.staffCode,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"8"},r.default.createElement(v,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:l.baseCityHint,validateStatus:l.baseCityStatus}),r.default.createElement(g.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.empJob.baseCity,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"8"},r.default.createElement(v,i({},a,{label:"员工级别",required:!1,colon:!0,className:t,help:l.empLevelHint,validateStatus:l.empLevelStatus}),r.default.createElement(p.default,{name:"empLevel",id:"empLevel",value:this.state.empJob.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")}))),r.default.createElement(g.Col,{span:"8"},r.default.createElement(v,i({},a,{label:"技术岗位",required:!1,colon:!0,className:t,help:l.techUuidHint,validateStatus:l.techUuidStatus}),r.default.createElement(f.default,{name:"techUuid",id:"techUuid",value:this.state.empJob.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),r.default.createElement(g.Col,{span:"8"},r.default.createElement(v,i({},a,{label:"管理岗位",required:!1,colon:!0,className:t,help:l.manUuidHint,validateStatus:l.manUuidStatus}),r.default.createElement(f.default,{name:"manUuid",id:"manUuid",value:this.state.empJob.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")}))))))}}));t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{
value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(91),f=l(m),g=a(90),v=l(g),y=a(4),S=a(1),C=a(6),E=a(3),b=y.Form.Item,w=(y.Select.Option,y.Tabs.TabPane),x=a(216),k=a(145),N=r.default.createClass({displayName:"UpdateEmpJobPage",getInitialState:function(){return{afterChange:this.afterChange,empJobSet:{operation:"",errMsg:""},loading:!1,empJob:{},hints:{},validRules:[]}},mixins:[S.listenTo(x,"onServiceComplete"),(0,c.default)("empJob")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,empJobSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"0"},{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"empLevel",desc:"员工级别",required:!1,max:"0"},{id:"techLevel",desc:"技术级别",required:!1,max:"0"},{id:"manLevel",desc:"管理级别",required:!1,max:"0"},{id:"manUuid",desc:"管理岗位",required:!1,max:"24"},{id:"techUuid",desc:"技术岗位",required:!1,max:"24"},{id:"empType",desc:"员工类型",required:!1,max:"32"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"chgReason",desc:"原因",required:!1,max:"1024"},{id:"deptName",desc:"部门",required:!1,max:"0"}],this.initPage(this.props.empJob)},componentWillReceiveProps:function(e){},initPage:function(e){E.copyValue(e,this.state.empJob),this.setState({loading:!1,hints:{}}),this.state.empJobSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){if(C.formValidator(this,this.state.empJob)){this.setState({loading:!0});var e=this.state.empJob,t=this.refs.techUuidBox.getJobNode();null===t.jobName||""===t.jobName||t.jobName===t.jobCode?e.techName=t.jobCode:e.techName=t.jobName;var a=this.refs.manUuidBox.getJobNode();null===a.jobName||""===a.jobName||a.jobName===a.jobCode?e.manName=a.jobCode:e.manName=a.jobName,k.updateHrEmpJob(e)}},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},afterChange:function(e,t){if("techUuid"===e){var a=this.state.empJob,l=this.refs.techUuidBox.getJobNode(t);a.techLevel=l.jobCode}else if("manUuid"===e){var a=this.state.empJob,i=this.refs.manUuidBox.getJobNode(t);a.manLevel=i.jobCode}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(y.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(w,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(w,{tab:"修改岗位调整信息",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_emp_job/update"]}),r.default.createElement(y.Form,{layout:e,style:{width:"600px"}},r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(y.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.empJob.staffCode,disabled:!0,onChange:this.handleOnLoad}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(y.Input,{type:"text",name:"perName",id:"perName",disabled:!0,value:this.state.empJob.perName,onChange:this.handleOnLoad})))),r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"任职部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(y.Input,{type:"text",name:"deptName",id:"deptName",disabled:!0,value:this.state.empJob.deptName,onChange:this.handleOnLoad})))),r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"员工类型",required:!1,colon:!0,className:t,help:n.empTypeHint,validateStatus:n.empTypeStatus}),r.default.createElement(p.default,{name:"empType",id:"empType",value:this.state.empJob.empType,appName:"HR系统",optName:"员工类型",onSelect:this.handleOnSelected.bind(this,"empType")}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"员工级别",required:!1,colon:!0,className:t,help:n.empLevelHint,validateStatus:n.empLevelStatus}),r.default.createElement(f.default,{name:"empLevel",id:"empLevel",value:this.state.empJob.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")})))),r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"技术岗位",required:!1,colon:!0,className:t,help:n.techUuidHint,validateStatus:n.techUuidStatus}),r.default.createElement(v.default,{ref:"techUuidBox",name:"techUuid",id:"techUuid",value:this.state.empJob.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"技术级别",required:!1,colon:!0,className:t,help:n.techLevelHint,validateStatus:n.techLevelStatus}),r.default.createElement(y.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.empJob.techLevel,onChange:this.handleOnChange})))),r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"管理岗位",required:!1,colon:!0,className:t,help:n.manUuidHint,validateStatus:n.manUuidStatus}),r.default.createElement(v.default,{ref:"manUuidBox",name:"manUuid",id:"manUuid",value:this.state.empJob.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"管理级别",required:!1,colon:!0,className:t,help:n.manLevelHint,validateStatus:n.manLevelStatus}),r.default.createElement(y.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.empJob.manLevel,onChange:this.handleOnChange})))),r.default.createElement(b,i({},a,{label:"调整原因",required:!1,colon:!0,className:t,help:n.chgReasonHint,validateStatus:n.chgReasonStatus}),r.default.createElement(y.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.empJob.chgReason,onChange:this.handleOnChange})),r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:n.approverHint,validateStatus:n.approverStatus}),r.default.createElement(y.Input,{type:"text",name:"approver",id:"approver",value:this.state.empJob.approver,onChange:this.handleOnChange}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(b,i({},l,{label:"生效日期",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),r.default.createElement(y.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.empJob.effectDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",C.dateFormat)})))),r.default.createElement(b,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(y.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(y.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=N},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(12),h=(l(c),a(1226)),p=l(h),m=a(1229),f=l(m),g=a(1228),v=l(g),y=a(1225),S=l(y),C=a(21),E=l(C),b=a(1),w=(u.Form.Item,u.DatePicker.MonthPicker,u.Input.Search),x=a(6),k=a(3),N=a(216),D=a(145),R=10,_=n.default.createClass({displayName:"EmpJobPage",getInitialState:function(){return{empJobSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",empJob:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[b.listenTo(N,"onServiceComplete"),(0,E.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.MoreEmpJobPage;null!==a&&"undefined"!=typeof a&&(a.state.empJob=this.state.filter)}}this.setState({loading:!1,empJobSet:e})},componentDidMount:function(){D.getCacheData()},handleQueryClick:function(){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",D.retrieveHrEmpJobPage(this.state.filter,this.state.empJobSet.startPage,R)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.empJobSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){R=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;x.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){this.state.filter=this.refs.MoreEmpJobPage.state.empJob,this.handleQueryClick()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的岗位",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.empJobSet.operation="",D.deleteHrEmpJob(e.uuid)},handleCreate:function(e){this.setState({action:"create"})},onClickDetails:function(e,t){this.setState({empJob:e,action:"detail"})},onClickUpdate:function(e,t){this.setState({empJob:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},render:function(e){var t=this,e=window.loginData.compUser.corpUuid,a=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"员工类型",dataIndex:"empType",key:"empType",width:140,render:function(e,a){return k.getOptionName("HR系统","员工类型",a.empType,!1,t)}},{title:"员工级别",dataIndex:"empLevel",key:"empLevel",width:140,render:function(a,l){return t.getLevelName(e,l.empLevel)}},{title:"技术级别",dataIndex:"techLevel",key:"techLevel",width:140},{title:"管理级别",dataIndex:"manLevel",key:"manLevel",width:140},{title:"技术岗位",dataIndex:"techName",key:"techUuid",width:140},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:140},{title:"更多操作",key:"action",width:110,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickUpdate.bind(t,a),title:"修改岗位信息"},n.default.createElement(u.Icon,{type:x.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDelete.bind(t,a),title:"删除岗位信息"},n.default.createElement(u.Icon,{type:x.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDetails.bind(t,a),title:"岗位信息详情"},n.default.createElement(u.Icon,{type:"bars"})))}}],l=this.state.empJobSet.recordSet,i=this.state.moreFilter,r="query"===this.state.action?"":"none",o={showQuickJumper:!0,total:this.state.empJobSet.totalRow,pageSize:this.state.empJobSet.pageRow,current:this.state.empJobSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},s=n.default.createElement("div",{className:"grid-page",style:{overflow:"hidden",display:r}},n.default.createElement("div",{style:{padding:"8px 0 0 0",height:"100%",width:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_emp_job/retrieve","hr_emp_job/remove"]}),n.default.createElement(v.default,{ref:"MoreEmpJobPage",moreFilter:i}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:x.iconAdd,type:"primary",title:"增加岗位",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:x.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),i?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch},"查询"),n.default.createElement(u.Button,{style:{marginLeft:"8px"},title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(w,{placeholder:"查询(员工编号/员工姓名)",style:{width:x.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{style:{marginLeft:"8px"},title:"更多条件",onClick:this.showMoreFilter},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:l,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:o,size:"middle",bordered:x.tableBorder})))),c=null;return"create"===this.state.action?c=n.default.createElement(p.default,{onBack:this.onGoBack}):"detail"===this.state.action?c=n.default.createElement(S.default,{onBack:this.onGoBack,userUuid:this.state.empJob.userUuid}):"update"===this.state.action&&(c=n.default.createElement(f.default,{onBack:this.onGoBack,empJob:this.state.empJob})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},s,c)}});e.exports=_},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(13),a(12)),d=l(s),u=a(9),c=l(u),h=a(7),p=l(h),m=a(4),f=a(25),g=l(f),v=a(1),y=a(6),S=m.DatePicker.MonthPicker,C=(m.DatePicker.RangePicker,m.Form.Item),E=(m.Select.Option,m.Tabs.TabPane),b=a(464),w=a(217),x=r.default.createClass({displayName:"CreateEmpSalaryPage",getInitialState:function(){return{loading:!1,empSalary:{},user:{},hints:{},validRules:[]}},mixins:[v.listenTo(b,"onServiceComplete"),(0,c.default)("empSalary")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"deptName",desc:"部门名称",required:!1,max:"128"},{id:"applyName",desc:"申请人",required:!1,max:"24"},{id:"applyDate",desc:"申请日期",required:!1,max:"16"},{id:"chgType",desc:"调整类型",required:!1,max:"24"},{id:"empType",desc:"员工类型",required:!1,max:"32"},{id:"befSalary",desc:"调前薪水",required:!1,max:"24"},{id:"aftSalary",desc:"调后薪水",required:!1,max:"24"},{id:"chgReason",desc:"调整原因",required:!1,max:"1024"},{id:"manager",desc:"直接主管",required:!1,max:"24"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"chgMonth",desc:"执行月份",required:!1,max:"24"},{id:"staffCode",desc:"员工编号",required:!1,max:"128"}],this.clear()},componentWillReceiveProps:function(e){},clear:function(e){this.state.hints={},this.state.empSalary.uuid="",this.state.empSalary.corpUuid=window.loginData.compUser.corpUuid,this.state.empSalary.userUuid="",this.state.empSalary.staffCode="",this.state.empSalary.applyName="",this.state.empSalary.chgType="",this.state.empSalary.applyDate="",this.state.empSalary.befSalary="",this.state.empSalary.aftSalary="",this.state.empSalary.manager="",this.state.empSalary.empType="",this.state.empSalary.approver="",this.state.empSalary.effectDate="",this.state.empSalary.chgReason="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectEmpSalary:function(e){this.state.empSalary.userUuid=e.uuid,this.state.empSalary.staffCode=e.staffCode,this.state.empSalary.perName=e.perName,this.state.empSalary.deptName=e.deptName,this.setState({user:e})},showError:function(e){console.log(e)},onClickSave:function(){this.setState({loading:!0}),w.createHrEmpSalary(this.state.empSalary)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.empSalary.userUuid,s=window.loginData.compUser.corpUuid;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(E,{tab:"增加调薪记录",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(p.default,{ref:"mxgBox",svcList:["hr-emp-salary/create"]}),r.default.createElement(g.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:s,showError:this.showError,onSelectEmpLoyee:this.onSelectEmpSalary}),r.default.createElement(m.Form,{layout:e,style:{width:"600px"}},r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"任职部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName,disabled:!0})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"申请人",required:!1,colon:!0,className:t,help:n.applyNameHint,validateStatus:n.applyNameStatus}),r.default.createElement(m.Input,{type:"text",name:"applyName",id:"applyName",value:this.state.empSalary.applyName,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"申请日期",required:!1,colon:!0,className:t,help:n.applyDateHint,validateStatus:n.applyDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:y.dateFormat,value:this.formatDate(this.state.empSalary.applyDate,y.dateFormat),onChange:this.handleOnSelDate.bind(this,"applyDate",y.dateFormat)})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"调整类型",required:!1,colon:!0,className:t,help:n.chgTypeHint,validateStatus:n.chgTypeStatus}),r.default.createElement(d.default,{name:"chgType",id:"chgType",appName:"HR系统",optName:"薪资调整类型",value:this.state.empSalary.chgType,onSelect:this.handleOnSelected.bind(this,"chgType")}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"员工类型",required:!1,colon:!0,className:t,help:n.empTypeHint,validateStatus:n.empTypeStatus}),r.default.createElement(d.default,{name:"empType",id:"empType",value:this.state.empSalary.empType,appName:"HR系统",optName:"员工类型",onSelect:this.handleOnSelected.bind(this,"empType")})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,null,r.default.createElement(C,i({},a,{label:"调前薪水",required:!1,colon:!0,className:t,help:n.befSalaryHint,validateStatus:n.befSalaryStatus}),r.default.createElement(m.Input,{type:"text",name:"befSalary",id:"befSalary",value:this.state.empSalary.befSalary,onChange:this.handleOnChange}))),r.default.createElement(m.Col,null,r.default.createElement(C,i({},a,{label:"调后薪水",required:!1,colon:!0,className:t,help:n.aftSalaryHint,validateStatus:n.aftSalaryStatus}),r.default.createElement(m.Input,{type:"text",name:"aftSalary",id:"aftSalary",value:this.state.empSalary.aftSalary,onChange:this.handleOnChange})))),r.default.createElement(C,i({},a,{label:"调整原因",required:!1,colon:!0,className:t,help:n.chgReasonHint,validateStatus:n.chgReasonStatus}),r.default.createElement(m.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.empSalary.chgReason,onChange:this.handleOnChange,style:{height:"100px"}})),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"直接主管",required:!1,colon:!0,className:t,help:n.managerHint,validateStatus:n.managerStatus}),r.default.createElement(m.Input,{type:"text",name:"manager",id:"manager",value:this.state.empSalary.manager,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:n.approverHint,validateStatus:n.approverStatus}),r.default.createElement(m.Input,{type:"text",name:"approver",id:"approver",value:this.state.empSalary.approver,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"生效日期",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",format:y.dateFormat,value:this.formatDate(this.state.empSalary.effectDate,y.dateFormat),onChange:this.handleOnSelDate.bind(this,"effectDate",y.dateFormat)}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"执行月份",required:!1,colon:!0,className:t,help:n.chgMonthHint,validateStatus:n.chgMonthStatus}),r.default.createElement(S,{style:{width:"100%"},name:"chgMonth",id:"chgMonth",format:y.monthFormat,value:this.formatMonth(this.state.empSalary.chgMonth,y.monthFormat),onChange:this.handleOnSelDate.bind(this,"chgMonth",y.monthFormat)})))),r.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=l(d),c=a(12),h=l(c),p=a(4),m=(a(1),a(6)),f=(a(3),p.DatePicker.MonthPicker,p.DatePicker.RangePicker,p.Form.Item),g=(p.Select.Option,r.default.createClass({displayName:"DetailEmpSalary",getInitialState:function(){return{empSalary:{}}},mixins:[(0,u.default)("")],componentDidMount:function(){},initPage:function(e){this.setState({empSalary:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}};return r.default.createElement("div",null,r.default.createElement(p.Form,{layout:e},r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"申请人",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"text",name:"applyName",id:"applyName",value:this.state.empSalary.applyName}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"申请日期",required:!1,colon:!0,className:t}),r.default.createElement(p.DatePicker,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:m.dateFormat,value:this.formatDate(this.state.empSalary.applyDate,m.dateFormat)})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"调整类型",required:!1,colon:!0,className:t}),r.default.createElement(h.default,{name:"chgType",id:"chgType",appName:"HR系统",optName:"薪资调整类型",value:this.state.empSalary.chgType}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"员工类型",required:!1,colon:!0,className:t}),r.default.createElement(h.default,{name:"empType",id:"empType",value:this.state.empSalary.empType,appName:"HR系统",optName:"员工类型"})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,null,r.default.createElement(f,i({},a,{label:"调前薪水",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"text",name:"befSalary",id:"befSalary",value:this.state.empSalary.befSalary}))),r.default.createElement(p.Col,null,r.default.createElement(f,i({},a,{label:"调后薪水",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"text",name:"aftSalary",id:"aftSalary",value:this.state.empSalary.aftSalary})))),r.default.createElement(f,i({},a,{label:"调整原因",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.empSalary.chgReason,style:{height:"100px"}}))))}}));t.default=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1232),h=l(c),p=a(1),m=(u.Input.Search,u.Form.Item,u.Tabs.TabPane),f=a(6),g=a(3),v=a(1237),y=a(217),S=n.default.createClass({displayName:"DetailsEmpSalaryPage",getInitialState:function(){return{empSalarySet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[p.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,empSalarySet:e})},componentDidMount:function(){this.setState({loading:!0});var e={userUuid:this.props.userUuid};y.retrievePerSalary(e)},onClickDetails:function(e,t){null!=e&&this.refs.DetailEmpSalary.initPage(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(e){var t=this,a=[{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"调前薪水",dataIndex:"befSalary",key:"befSalary",width:140},{title:"调后薪水",dataIndex:"aftSalary",key:"aftSalary",width:140},{title:"申请日期",dataIndex:"applyDate",key:"applyDate",width:140,render:function(e,t){return f.formatDate(e,f.dateFormat)}},{title:"执行月份",dataIndex:"chgMonth",key:"chgMonth",width:140,render:function(e,t){return f.formatMonth(e,f.monthFormat)}},{title:"调整类型",dataIndex:"chgType",key:"chgType",width:140,render:function(e,a){return g.getOptionName("HR系统","薪资调整类型",a.chgType,!1,t)}},{title:"更多操作",key:"action",width:70,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickDetails.bind(t,a),title:"查看"},n.default.createElement(u.Icon,{type:"bars"})))}}],l=this.state.empSalarySet.recordSet;return n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(u.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(m,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(m,{tab:"调薪记录详情",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},n.default.createElement("div",{style:{padding:"12px",height:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-emp-salary/retrieve1"]}),n.default.createElement(u.Table,{columns:a,dataSource:l,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:f.tableBorder}),n.default.createElement("div",{style:{width:"640px",padding:"20px 0 12px 0"}},n.default.createElement(h.default,{ref:"DetailEmpSalary"})))))))}});e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(12)),d=l(s),u=a(4),c=a(9),h=l(c),p=(a(1),u.DatePicker.MonthPicker),m=(u.DatePicker.RangePicker,u.Form.Item),f=a(6),g={moreFilter:r.default.PropTypes.bool},v=r.default.createClass({displayName:"EmpSalaryFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],empSalary:{applyName:"",applyDate:"",chgMonth:"",chgType:"",staffCode:"",perName:""}}},mixins:[(0,h.default)("empSalary")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"staffCode",desc:"员工号",required:!1,max:"0"},{id:"applyName",desc:"申请人",required:!1,max:"24"},{id:"applyDate",desc:"申请日期",required:!1,max:"16"},{id:"chgMonth",desc:"执行月份",required:!1,max:"24"},{id:"chgType",desc:"调整类型",required:!1,max:"24"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},r.default.createElement(u.Form,{layout:e,style:{width:"900px",padding:"20px 0px"}},r.default.createElement(u.Row,{gutter:18},r.default.createElement(u.Col,{className:"gutter-row",span:8},r.default.createElement(m,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(u.Input,{type:"text",name:"perName",id:"perName",value:this.state.empSalary.perName,onChange:this.handleOnChange}))),r.default.createElement(u.Col,{className:"gutter-row",span:8},r.default.createElement(m,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(u.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.empSalary.staffCode,onChange:this.handleOnChange}))),r.default.createElement(u.Col,{className:"gutter-row",span:8},r.default.createElement(m,i({},a,{label:"申请人",required:!1,colon:!0,className:t,help:l.applyNameHint,validateStatus:l.applyNameStatus}),r.default.createElement(u.Input,{type:"text",name:"applyName",id:"applyName",value:this.state.empSalary.applyName,onChange:this.handleOnChange})))),r.default.createElement(u.Row,{gutter:18},r.default.createElement(u.Col,{span:"8"},r.default.createElement(m,i({},a,{label:"申请月份",required:!1,colon:!0,className:t,help:l.applyDateHint,validateStatus:l.applyDateStatus}),r.default.createElement(p,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:f.monthFormat,value:this.formatMonth(this.state.empSalary.applyDate,f.monthFormat),
onChange:this.handleOnSelDate.bind(this,"applyDate",f.monthFormat)}))),r.default.createElement(u.Col,{span:"8"},r.default.createElement(m,i({},a,{label:"执行月份",required:!1,colon:!0,className:t,help:l.chgMonthHint,validateStatus:l.chgMonthStatus}),r.default.createElement(p,{style:{width:"100%"},name:"chgMonth",id:"chgMonth",format:f.monthFormat,value:this.formatMonth(this.state.empSalary.chgMonth,f.monthFormat),onChange:this.handleOnSelDate.bind(this,"chgMonth",f.monthFormat)}))),r.default.createElement(u.Col,{className:"gutter-row",span:8},r.default.createElement(m,i({},a,{label:"调整类型",required:!1,colon:!0,className:t,help:l.chgTypeHint,validateStatus:l.chgTypeStatus}),r.default.createElement(d.default,{name:"chgType",id:"chgType",appName:"HR系统",optName:"员工状态",value:this.state.empSalary.chgType,onSelect:this.handleOnSelected.bind(this,"chgType")})))))))}});v.propTypes=g,e.exports=v},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(25),p=(l(h),a(12)),m=l(p),f=a(4),g=a(1),v=a(6),y=a(3),S=f.DatePicker.MonthPicker,C=(f.DatePicker.RangePicker,f.Form.Item),E=(f.Select.Option,f.Tabs.TabPane),b=a(464),w=a(217),x=r.default.createClass({displayName:"UpdateEmpSalaryPage",getInitialState:function(){return{empSalarySet:{operation:"",errMsg:""},loading:!1,empSalary:{},hints:{},validRules:[]}},mixins:[g.listenTo(b,"onServiceComplete"),(0,c.default)("empSalary")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,empSalarySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"deptName",desc:"部门名称",required:!1,max:"128"},{id:"applyName",desc:"申请人",required:!1,max:"24"},{id:"applyDate",desc:"申请日期",required:!1,max:"16"},{id:"chgType",desc:"调整类型",required:!1,max:"24"},{id:"empType",desc:"员工类型",required:!1,max:"32"},{id:"befSalary",desc:"调前薪水",required:!1,max:"24"},{id:"aftSalary",desc:"调后薪水",required:!1,max:"24"},{id:"chgReason",desc:"调整原因",required:!1,max:"1024"},{id:"manager",desc:"直接主管",required:!1,max:"24"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"chgMonth",desc:"执行月份",required:!1,max:"24"},{id:"staffCode",desc:"员工编号",required:!1,max:"128"}],this.initPage(this.props.empSalary)},componentWillReceiveProps:function(e){},initPage:function(e){y.copyValue(e,this.state.empSalary),this.setState({loading:!1,hints:{}}),this.state.empSalarySet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){v.formValidator(this,this.state.empSalary)&&(this.state.empSalarySet.operation="",this.setState({loading:!0}),w.updateHrEmpSalary(this.state.empSalary))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(f.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(E,{tab:"修改调薪记录",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-emp-salary/update"]}),r.default.createElement(f.Form,{layout:e,style:{width:"640px"}},r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(f.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.empSalary.staffCode,disabled:!0}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(f.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.empSalary.perName,disabled:!0})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"任职部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(f.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.empSalary.deptName,disabled:!0})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"申请人",required:!1,colon:!0,className:t,help:n.applyNameHint,validateStatus:n.applyNameStatus}),r.default.createElement(f.Input,{type:"text",name:"applyName",id:"applyName",value:this.state.empSalary.applyName,onChange:this.handleOnChange}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"申请日期",required:!1,colon:!0,className:t,help:n.applyDateHint,validateStatus:n.applyDateStatus}),r.default.createElement(f.DatePicker,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:v.dateFormat,value:this.formatDate(this.state.empSalary.applyDate,v.dateFormat),onChange:this.handleOnSelDate.bind(this,"applyDate",v.dateFormat)})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"调整类型",required:!1,colon:!0,className:t,help:n.chgTypeHint,validateStatus:n.chgTypeStatus}),r.default.createElement(m.default,{name:"chgType",id:"chgType",appName:"HR系统",optName:"薪资调整类型",value:this.state.empSalary.chgType,onSelect:this.handleOnSelected.bind(this,"chgType")}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"员工类型",required:!1,colon:!0,className:t,help:n.empTypeHint,validateStatus:n.empTypeStatus}),r.default.createElement(m.default,{name:"empType",id:"empType",value:this.state.empSalary.empType,appName:"HR系统",optName:"员工类型",onSelect:this.handleOnSelected.bind(this,"empType")})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,null,r.default.createElement(C,i({},a,{label:"调前薪水",required:!1,colon:!0,className:t,help:n.befSalaryHint,validateStatus:n.befSalaryStatus}),r.default.createElement(f.Input,{type:"text",name:"befSalary",id:"befSalary",value:this.state.empSalary.befSalary,onChange:this.handleOnChange}))),r.default.createElement(f.Col,null,r.default.createElement(C,i({},a,{label:"调后薪水",required:!1,colon:!0,className:t,help:n.aftSalaryHint,validateStatus:n.aftSalaryStatus}),r.default.createElement(f.Input,{type:"text",name:"aftSalary",id:"aftSalary",value:this.state.empSalary.aftSalary,onChange:this.handleOnChange})))),r.default.createElement(C,i({},a,{label:"调整原因",required:!1,colon:!0,className:t,help:n.chgReasonHint,validateStatus:n.chgReasonStatus}),r.default.createElement(f.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.empSalary.chgReason,onChange:this.handleOnChange,style:{height:"100px"}})),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"直接主管",required:!1,colon:!0,className:t,help:n.managerHint,validateStatus:n.managerStatus}),r.default.createElement(f.Input,{type:"text",name:"manager",id:"manager",value:this.state.empSalary.manager,onChange:this.handleOnChange}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:n.approverHint,validateStatus:n.approverStatus}),r.default.createElement(f.Input,{type:"text",name:"approver",id:"approver",value:this.state.empSalary.approver,onChange:this.handleOnChange})))),r.default.createElement(f.Row,null,r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"生效日期",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),r.default.createElement(f.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",format:v.dateFormat,value:this.formatDate(this.state.empSalary.effectDate,v.dateFormat),onChange:this.handleOnSelDate.bind(this,"effectDate",v.dateFormat)}))),r.default.createElement(f.Col,{span:"12"},r.default.createElement(C,i({},l,{label:"执行月份",required:!1,colon:!0,className:t,help:n.chgMonthHint,validateStatus:n.chgMonthStatus}),r.default.createElement(S,{style:{width:"100%"},name:"chgMonth",id:"chgMonth",format:v.monthFormat,value:this.formatMonth(this.state.empSalary.chgMonth,v.monthFormat),onChange:this.handleOnSelDate.bind(this,"chgMonth",v.monthFormat)})))),r.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(4)),d=a(7),u=l(d),c=a(1234),h=l(c),p=a(1231),m=l(p),f=a(1235),g=l(f),v=a(1233),y=l(v),S=a(26),C=l(S),E=a(165),b=l(E),w=a(1),x=s.Input.Search,k=a(6),N=a(3),D=a(464),R=a(217),_=10,P=n.default.createClass({displayName:"EmpSalaryPage",getInitialState:function(){return{empSalarySet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",empSalary:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[w.listenTo(D,"onServiceComplete"),(0,C.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.EmpSalaryFilter;null!==a&&"undefined"!=typeof a&&(a.state.empSalary=this.state.filter)}}this.setState({loading:!1,empSalarySet:e})},componentDidMount:function(){R.getCacheData()},handleQueryClick:function(){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",R.retrieveHrEmpSalaryPage(this.state.filter,this.state.empSalarySet.startPage,_)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.empSalarySet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){_=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;k.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){this.state.filter=this.refs.EmpSalaryFilter.state.empSalary,this.handleQueryClick()},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的工作日志",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.empSalarySet.operation="",R.deleteHrEmpSalary(e.uuid)},handleCreate:function(e){this.setState({action:"create"})},onClickDetails:function(e,t){this.setState({empSalary:e,action:"detail"})},onClickUpdate:function(e,t){this.setState({empSalary:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},handleTempDown:function(e){this.downXlsTempFile(b.default.empSalaryFields)},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&k.errMsg(e)},beforeUpload:function(e){this.setState({loading:!0});var t=N.hrUrl+"hr-emp-salary/upload-xls",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,b.default.empSalaryFields,e,this.uploadComplete),!1},render:function(){var e=this,t=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:140},{title:"调前薪水",dataIndex:"befSalary",key:"befSalary",width:140},{title:"调后薪水",dataIndex:"aftSalary",key:"aftSalary",width:140},{title:"申请日期",dataIndex:"applyDate",key:"applyDate",width:140,render:function(e,t){return k.formatDate(e,k.dateFormat)}},{title:"执行月份",dataIndex:"chgMonth",key:"chgMonth",width:140,render:function(e,t){return k.formatMonth(e,k.monthFormat)}},{title:"调整类型",dataIndex:"chgType",key:"chgType",width:140,render:function(t,a){return N.getOptionName("HR系统","薪资调整类型",a.chgType,!1,e)}},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改工作"},n.default.createElement(s.Icon,{type:k.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除工作"},n.default.createElement(s.Icon,{type:k.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDetails.bind(e,a),title:"详情"},n.default.createElement(s.Icon,{type:"bars"})))}}],a=this.state.empSalarySet.recordSet,l=this.state.moreFilter,i="query"===this.state.action?"":"none",r={showQuickJumper:!0,total:this.state.empSalarySet.totalRow,pageSize:this.state.empSalarySet.pageRow,current:this.state.empSalarySet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-emp-salary/retrieve","hr-emp-salary/remove"]}),n.default.createElement(h.default,{ref:"EmpSalaryFilter",moreFilter:l}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:k.iconAdd,type:"primary",title:"增加调薪记录",onClick:this.handleCreate}),n.default.createElement(s.Button,{icon:k.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(s.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(s.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},n.default.createElement(s.Button,{icon:"upload"}))),l?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(s.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(s.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(x,{placeholder:"查询(员工编号/员工姓名)",style:{width:k.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(s.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(s.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:k.tableBorder}))),d=null;return"create"===this.state.action?d=n.default.createElement(m.default,{onBack:this.onGoBack}):"detail"===this.state.action?d=n.default.createElement(y.default,{onBack:this.onGoBack,userUuid:this.state.empSalary.userUuid}):"update"===this.state.action&&(d=n.default.createElement(g.default,{onBack:this.onGoBack,empSalary:this.state.empSalary})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,d)}});e.exports=P},function(e,t,a){"use strict";var l=a(1),i=a(217),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-emp-salary",e,t)},retrievePerSalary:function(e){var t=this,a=this.getServiceUrl("/hr-emp-salary/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(e){console.log("result",e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.list,t.startPage=e.object.startPage,t.pageRow=e.object.pageRow,t.totalRow=e.object.totalRow,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(4)),d=a(699),u=l(d),c=a(698),h=(l(c),a(26)),p=l(h),m=a(165),f=l(m),g=a(1),v=s.Input.Search,y=a(6),S=a(3),C=a(218),E=a(113),b=10,w=n.default.createClass({displayName:"EmployeeTablePage",getInitialState:function(){return{employeeSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,dept:{},moreFilter:!1,filterValue:"",filter:{}}},mixins:[g.listenTo(C,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,employeeSet:e})},loadData:function(e){var t={};null===e||"undefined"==typeof e?(e={},t.deptUuid="#"):t.deptUuid=e.uuid,this.state.employeeSet.startPage=1,this.setState({loading:!0,dept:e}),E.retrieveHrEmployeePage(t,1,this.state.employeeSet.pageRow)},handleQueryClick:function(){var e=this.state.dept;this.state.employeeSet.operation="";var t=this.state.filter;null===e||"undefined"==typeof e?(e={},t.deptUuid="#"):t.deptUuid=e.uuid,this.state.employeeSet.startPage=1,this.setState({loading:!0}),t.more=this.state.moreFilter?"1":"0",E.retrieveHrEmployeePage(this.state.filter,1,this.state.employeeSet.pageRow)},componentDidMount:function(){},handleOpenCreateWindow:function(e){var t=this.state.dept;if("undefined"!=typeof t.uuid){var a=this.props.onCreateStaff;null!==a&&"undefined"!=typeof a&&a(t)}},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickEmployee:function(e,t){var a=this.props.onViewEmployee;e&&a&&a(e)},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的员工 【"+e.staffCode+" - "+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.employeeSet.operation="",E.deleteHrEmployee(e.uuid)},onChangePage:function(e){this.state.employeeSet.operation="",this.state.employeeSet.startPage=e,this.state.employeeSet.pageRow=b,this.setState({loading:!0});var t={};t.deptUuid=this.state.dept.uuid,E.retrieveHrEmployeePage(t,e,b)},onShowSizeChange:function(e,t){b=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;y.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},handleTempDown:function(e){this.downXlsTempFile(f.default.empFields)},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&y.errMsg(e)},beforeUpload:function(e){var t=this.state.dept;if("undefined"!=typeof t.uuid){this.setState({loading:!0});var a=S.hrUrl+"hr-employee/upload-xls",l={corpUuid:t.corpUuid,deptUuid:t.uuid,deptName:t.deptName};return this.uploadXlsFile(a,l,f.default.empFields,e,this.uploadComplete),!1}},render:function(){var e=this,t=this.state.employeeSet.recordSet,a=(this.state.moreFilter,[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:120},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:140},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:120},{title:"电子邮箱",dataIndex:"email",key:"email",width:180},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:100},{title:"状态",dataIndex:"status",key:"status",width:80,render:function(t,a){return S.getOptionName("HR系统","员工状态",a.status,!0,e)}},{title:"",key:"action",width:90,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"更新"},n.default.createElement(s.Icon,{type:y.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickEmployee.bind(e,a),title:"员工信息"},n.default.createElement(s.Icon,{type:y.iconDetail})))}}]),l=void 0===this.state.dept.uuid,i={showQuickJumper:!0,total:this.state.employeeSet.totalRow,pageSize:this.state.employeeSet.pageRow,current:this.state.employeeSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return n.default.createElement("div",{className:"grid-page"},n.default.createElement("div",null,n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:y.iconAdd,title:"增加员工",type:"primary",disabled:l,onClick:this.handleOpenCreateWindow}),n.default.createElement(s.Button,{icon:y.iconRefresh,title:"刷新数据",disabled:l,onClick:this.loadData.bind(this,this.state.dept),style:{marginLeft:"4px"}}),n.default.createElement(s.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(s.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,disabled:l,style:{marginLeft:"4px"}},n.default.createElement(s.Button,{icon:"upload"}))),n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(v,{placeholder:"查询（员工编号/员工姓名）",onSearch:this.onSearch,value:this.state.filterValue,onChange:this.onChangeFilter,disabled:l,style:{width:"220px"}}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:i,size:"middle",bordered:y.tableBorder}))),n.default.createElement(u.default,{ref:"updateWindow"}))}});e.exports=w},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(697),h=(l(c),a(699)),p=l(h),m=a(698),f=l(m),g=a(1),v=u.Input.Search,y=u.Radio.Button,S=u.Radio.Group,C=a(6),E=a(3),b=a(218),w=a(113),x=10,k=n.default.createClass({displayName:"EmployeeQueryPage",getInitialState:function(){return{employeeSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,viewType:"1",dept:{},moreFilter:!1,filterValue:"",filter:{}}},mixins:[g.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,employeeSet:e})},handleQueryClick:function(){this.state.employeeSet.operation="",this.state.employeeSet.startPage=1,this.setState({loading:!0});var e=this.state.filter;e.corpUuid=window.loginData.compUser.corpUuid,e.more=this.state.moreFilter?"1":"0",w.retrieveHrEmployeePage(e,1,this.state.employeeSet.pageRow)},componentDidMount:function(){},onChangeView:function(e){this.setState({viewType:e.target.value})},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickEmployee:function(e,t){null!=e&&null!==this.props.onViewEmployee&&"undefined"!=typeof this.props.onViewEmployee&&this.props.onViewEmployee(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的员工 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.employeeSet.operation="",w.deleteHrEmployee(e.uuid)},onChangePage:function(e){this.state.employeeSet.startPage=e,this.setState({loading:!0}),w.retrieveHrEmployeePage(this.state.filter,e,x)},onShowSizeChange:function(e,t){x=t,this.handleQueryClick()},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onSearch3:function(){var e=this.refs.EmployeeFilterForm.state.filter;null!==e.entryMonth&&""!==e.entryMonth&&(e.entryDate1=e.entryMonth+"01",e.entryDate2=e.entryMonth+"31"),this.state.filter=e,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={corpUuid:window.loginData.compUser.corpUuid};var t=this.state.filterValue;C.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},getWorkYear:function(e){if(void 0===e||null===e||""===e)return"";var t=e.indexOf(".");if(t>0){var a=e.substr(0,t),l=e.substr(t+1),i=parseInt(a),n=parseInt(l);return n>0?""+i+"年"+n+"月":""+i+"年"}return e+"年"},render:function(){var e=this,t=this.state.employeeSet.recordSet,a=this.state.moreFilter,l={title:"",key:"action",width:60,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"更新"},n.default.createElement(u.Icon,{type:C.iconUpdate})))}},i=[];i="1"===this.state.viewType?[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:100},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:120},{title:"性别",dataIndex:"gender",key:"gender",width:80},{title:"年龄",dataIndex:"birthDate",key:"birthDate",width:90},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:110},{title:"电子邮箱",dataIndex:"email",key:"email",width:180},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:120,render:function(e,t){return C.formatDate(e,C.dateFormat)}},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:90},l]:"2"===this.state.viewType?[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:100},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"入职时间",dataIndex:"entryDate",key:"entryDate",width:90,render:function(e,t){return C.formatDate(e,C.dateFormat)}},{title:"工龄",dataIndex:"workYears",key:"workYears",width:80,render:function(t,a){return e.getWorkYear(t)}},{title:"行业经验",dataIndex:"induYears",key:"induYears",width:80,render:function(t,a){return e.getWorkYear(t)}},{title:"最高学历",dataIndex:"eduDegree",key:"eduDegree",width:80,render:function(t,a){return E.getOptionName("简历系统","教育背景",a.eduDegree,!0,e)}},{title:"学校",dataIndex:"eduCollege",key:"eduCollege",width:120},{title:"专业",dataIndex:"profession",key:"profession",width:100},{title:"毕业日期",dataIndex:"gradDate",key:"gradDate",width:90,render:function(t,a){return e.getWorkYear(t)}},l]:[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:100},{title:"姓名",dataIndex:"perName",key:"perName",width:120},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:120},{title:"入职时间",dataIndex:"entryDate",key:"entryDate",width:120,render:function(e,t){return C.formatDate(e,C.dateFormat)}},{title:"转正时间",dataIndex:"formalDate",key:"formalDate",width:120,render:function(e,t){return C.formatDate(e,C.dateFormat)}},{title:"状态",dataIndex:"status",key:"status",width:80,render:function(t,a){return E.getOptionName("HR系统","员工状态",a.status,!0,e)}},{title:"直接主管",dataIndex:"manager",key:"manager",width:100},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:100},{title:"户口城市",dataIndex:"household",key:"household",width:100},l];var r={showQuickJumper:!0,total:this.state.employeeSet.totalRow,pageSize:this.state.employeeSet.pageRow,current:this.state.employeeSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return n.default.createElement("div",{className:"grid-page",style:{overflow:"hidden"}},n.default.createElement("div",{style:{padding:"8px 0 0 0",height:"100%",width:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-employee/retrieve","hr-employee/remove"]}),n.default.createElement(f.default,{ref:"EmployeeFilterForm",moreFilter:a}),n.default.createElement("div",null,n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:C.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(S,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeView},n.default.createElement(y,{value:"1"},"通讯录"),n.default.createElement(y,{value:"2"},"工作经验"),n.default.createElement(y,{value:"3"},"基本信息"))),a?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading,style:{marginRight:"8px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.filterToggle},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(v,{placeholder:"查询（员工编号/员工姓名）",onSearch:this.onSearch,value:this.state.filterValue,onChange:this.onChangeFilter,style:{width:"220px"}}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.filterToggle,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:C.tableBorder})),n.default.createElement(p.default,{ref:"updateWindow"})))}});e.exports=k},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(7),u=l(d),c=a(9),h=l(c),p=a(25),m=l(p),f=a(1),g=s.AutoComplete.Option,v=s.Form.Item,y=a(6),S=a(473),C=a(343),E=r.default.createClass({displayName:"CreategroupStaffPage",getInitialState:function(){return{staffSet:{operation:"",errMsg:""},loading:!1,modal:!1,staff:{},hints:{},validRules:[],result:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,h.default)("staff")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,staffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"用户姓名",required:!0,max:"32"},{id:"jobTitle",desc:"职位",required:!0,max:"64"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"64"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"jobDesc",desc:"职务说明",required:!1,max:"1024"}]},clear:function(e,t){this.state.hints={},this.state.staff.perName="",this.state.staff.jobTitle="",this.state.staff.phoneno="",this.state.staff.email="",this.state.staff.jobDesc="",this.state.staff.uuid="",this.state.staff.groupUuid=t,this.state.staff.corpUuid=e,this.state.loading=!1,this.state.staffSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.staff)&&(this.state.staffSet.operation="",this.setState({loading:!0}),C.createHrGroupStaff(this.state.staff))},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:y.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.staff;t.email=e,y.validator(this,t,"email"),this.setState({loading:this.state.loading})},onSelectEmpLoyee:function(e){this.state.staff.jobTitle=e.jobTitle,this.state.staff.perName=e.perName,this.state.staff.phoneno=e.phoneno,
this.state.staff.email=e.email,this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.result,n=l.map(function(e){return r.default.createElement(g,{key:e},e)}),o=window.loginData.compUser.corpUuid,d=this.state.hints;return r.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"增加人员",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-group-staff/create"]}),r.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.default,{style:{padding:"10px 0 16px 32px",width:"508px"},corpUuid:o,onSelectEmpLoyee:this.onSelectEmpLoyee}),r.default.createElement(s.Form,{layout:e},r.default.createElement(v,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:d.perNameHint,validateStatus:d.perNameStatus}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.staff.perName,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"职位",required:!0,colon:!0,className:t,help:d.jobTitleHint,validateStatus:d.jobTitleStatus}),r.default.createElement(s.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.staff.jobTitle,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:d.phonenoHint,validateStatus:d.phonenoStatus}),r.default.createElement(s.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.staff.phoneno,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"电子邮箱",required:!1,colon:!0,className:t,help:d.emailHint,validateStatus:d.emailStatus}),r.default.createElement(s.AutoComplete,{name:"email",id:"email",value:this.state.staff.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},n)),r.default.createElement(v,i({},a,{label:"职务说明",required:!1,colon:!0,className:t,help:d.jobDescHint,validateStatus:d.jobDescStatus}),r.default.createElement(s.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.staff.jobDesc,onChange:this.handleOnChange,style:{height:"60px"}}))))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.AutoComplete.Option,v=h.Form.Item,y=a(473),S=a(343),C=r.default.createClass({displayName:"UpdateGroupStaffPage",getInitialState:function(){return{staffSet:{operation:"",errMsg:""},loading:!1,modal:!1,staff:{},hints:{},validRules:[],result:[]}},mixins:[p.listenTo(y,"onServiceComplete"),(0,c.default)("staff")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,staffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"用户姓名",required:!0,max:"32"},{id:"jobTitle",desc:"职位",required:!0,max:"64"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"64"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"jobDesc",desc:"职务说明",required:!1,max:"1024"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.staff),this.state.loading=!1,this.state.staffSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.staff)&&(this.state.staffSet.operation="",this.setState({loading:!0}),S.updateHrGroupStaff(this.state.staff))},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:m.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.staff;t.email=e,m.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.result,n=l.map(function(e){return r.default.createElement(g,{key:e},e)}),o=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改人员信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-group-staff/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(v,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:o.perNameHint,validateStatus:o.perNameStatus}),r.default.createElement(h.Input,{type:"text",name:"perName",id:"perName",value:this.state.staff.perName,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"职位",required:!0,colon:!0,className:t,help:o.jobTitleHint,validateStatus:o.jobTitleStatus}),r.default.createElement(h.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.staff.jobTitle,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:o.phonenoHint,validateStatus:o.phonenoStatus}),r.default.createElement(h.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.staff.phoneno,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"电子邮箱",required:!1,colon:!0,className:t,help:o.emailHint,validateStatus:o.emailStatus}),r.default.createElement(h.AutoComplete,{name:"email",id:"email",value:this.state.staff.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},n)),r.default.createElement(v,i({},a,{label:"职务说明",required:!1,colon:!0,className:t,help:o.jobDescHint,validateStatus:o.jobDescStatus}),r.default.createElement(h.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.staff.jobDesc,onChange:this.handleOnChange,style:{height:"60px"}}))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=(l(s),a(4)),u=a(1240),c=l(u),h=a(1241),p=l(h),m=a(1),f=d.Input.Search,g=a(6),v=(a(3),a(473)),y=a(343),S="",C=n.default.createClass({displayName:"GroupStaffPage",getInitialState:function(){return{staffSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,groupUuid:"",corpUuid:window.loginData.compUser.corpUuid}},mixins:[m.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,staffSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.staffSet.operation="",this.state.groupUuid=this.props.group.uuid,y.retrieveHrGroupStaff(this.props.group.uuid)},componentDidMount:function(){this.setState({loading:!0}),y.initHrGroupStaff(this.props.group.uuid)},componentWillReceiveProps:function(e){e.group.uuid!=this.props.group.uuid&&(this.state.groupUuid=e.group.uuid,this.setState({loading:!0}),this.state.staffSet.operation="",y.retrieveHrGroupStaff(e.group.uuid))},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(this.state.corpUuid,this.state.groupUuid),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){d.Modal.confirm({title:"删除确认",content:"是否删除选中的人员 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.staffSet.operation="",y.deleteHrGroupStaff(e.uuid)},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=g.filter(this.state.staffSet.recordSet,S),a=[{title:"用户姓名",dataIndex:"perName",key:"perName",width:120},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:140},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:140},{title:"电子邮箱",dataIndex:"email",key:"email",width:140},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员信息"},n.default.createElement(d.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员"},n.default.createElement(d.Icon,{type:g.iconRemove})))}}];return n.default.createElement("div",{className:"grid-page",style:{padding:"58px 0 0 0"}},n.default.createElement("div",{style:{margin:"-58px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(d.Button,{icon:g.iconAdd,type:"primary",title:"增加人员",onClick:this.handleOpenCreateWindow}),n.default.createElement(d.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(f,{placeholder:"查找记录",style:{width:g.searchWidth},value:S,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(d.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(c.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=(a(6),a(3),h.Form.Item),f=h.Radio.Group,g=a(114),v=a(84),y=r.default.createClass({displayName:"CreateHolidayPage",getInitialState:function(){return{holidaySet:{operation:"",errMsg:""},loading:!1,modal:!1,hints:{},validRules:[],year:this.props.year,holiday:{},holidayMap:this.props.holidayMap}},mixins:[p.listenTo(g,"onServiceComplete"),(0,c.default)("holiday")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({loading:!1,modal:!1}):this.setState({loading:!1,holidaySet:e}))},componentDidMount:function(){},componentWillReceiveProps:function(e){this.setState({holidayMap:e.holidayMap,year:e.year})},initPage:function(e){var t=this.state.holidayMap[e];"1"!==t&&"2"!==t&&(t="0"),this.state.hints={},this.state.holiday={date:e,flag:t},this.state.loading=!1,this.state.holidaySet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){var e=this.state.holiday,t=this.state.holidayMap[e.date];"1"!==t&&"2"!==t&&(t="0"),t===e.flag&&this.setState({modal:!1});var a=this.state.holidayMap;a[e.date]=e.flag;var l=[];for(var i in a){var t=a[i];"1"!==t&&"2"!==t||l.push({date:i,flag:t})}var n={year:this.state.year,holidayList:l};this.setState({loading:!0}),v.createHoliday(n)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改节假日信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["holiday/create"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(m,i({},a,{label:"假日类型",colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(f,{id:"flag",name:"flag",value:this.state.holiday.flag,onChange:this.onRadioChange},r.default.createElement(h.Radio,{id:"flag",name:"flag",key:"0",style:{display:"inline-block",height:"30px",lineHeight:"30px"},value:"0"},"工作日"),r.default.createElement(h.Radio,{id:"flag",name:"flag",key:"1",style:{display:"inline-block",height:"30px",lineHeight:"30px"},value:"1"},"周末"),r.default.createElement(h.Radio,{id:"flag",name:"flag",key:"2",style:{display:"inline-block",height:"30px",lineHeight:"30px"},value:"2"},"节假日")))))}});t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(13),a(7)),d=l(s),u=a(9),c=l(u),h=a(21),p=(l(h),a(1243)),m=l(p),f=a(4),g=a(1),v=(f.Form.Item,f.Radio.Button),y=f.Radio.Group,S=a(6),C=(a(3),a(114)),E=a(84),b=(new Date).getFullYear(),w=n.default.createClass({displayName:"PersonSalaryLogPage",getInitialState:function(){return{holidaySet:{recordSet:[],operation:"",errMsg:""},year:b,last:b-1,next:b+1,viewYear:b,date:[31,28,31,30,31,30,31,31,30,31,30,31],loading:!1,holidayMap:{},tables:[]}},mixins:[g.listenTo(C,"onServiceComplete"),(0,c.default)("holiday")],onServiceComplete:function(e){var t=this,a=this.state.date,l=this.state.viewYear;a[1]=l%4!=0||l%100==0&&l%400!=0?28:29;var i={};if(0!=e.recordSet.length)e.recordSet.map(function(e,t){i[e.date]=e.flag});else{var n=1;a.map(function(e,a){for(var r=0===t.weekFunc(l,n,1)?7:t.weekFunc(l,n,1),o=Math.ceil((e+r-1)/7),s=0;s<o;s++){for(var d=6;d<8;d++){var u=7*s+d-r+1;if(u>0&&u<e+1){var c=""+(n>9?n:"0"+n)+(u>9?u:"0"+u);i[c]="1"}}for(var h=1;h<8;h++){var p=7*s+h-r+1,m=""+(n>9?n:"0"+n)+(p>9?p:"0"+p),f=S.getLunar(l,n,p),g=t.qingming(l);if("0101"!=f&&"0102"!=f&&"0505"!=f&&"0815"!=f&&"1001"!=m&&"1002"!=m&&"1003"!=m&&"0501"!=m&&"0101"!=m&&m!=g||(i[m]="2"),"0101"==f){var v="",y=parseInt(m),C=Math.floor(y/100);v=y%100==1?1==C?"":C-1>9?C-1:"0"+(C-1)+t.state.date[C-2]:y-1>1e3?""+(y-1):"0"+(y-1),i[v]="2"}}}n++})}this.createTable(a,i),this.setState({loading:!1,date:a,holidayMap:i})},componentDidMount:function(e){this.setState({loading:!0,viewYear:b}),E.initHoliday(b)},onChangeView:function(e){var t=e.target.value;this.state.viewYear=t,this.setState({loading:!0}),E.initHoliday(t)},handleOpenWindow:function(e,t){null!=e&&(this.refs.createWindow.initPage(e),this.refs.createWindow.toggle())},createTable:function(e,t){var a=this,l=[],i=1,r=this.state.viewYear;e.map(function(e,o){for(var s=0===a.weekFunc(r,i,1)?7:a.weekFunc(r,i,1),d=Math.ceil((e+s-1)/7),u=[],c=0;c<d;c++){for(var h=[],p=1;p<8;p++){var m="",f=7*c+p-s+1;if(f>e||f<1)m=n.default.createElement("td",null);else{var g="",v="",y=""+(i>9?i:"0"+i)+(f>9?f:"0"+f),S=t[y];"1"===S?g="red":"2"===S&&(g="red",v="3px solid rgb(255, 187, 0)"),m=n.default.createElement("td",{key:y,style:{textAlign:"center",color:g,border:v,cursor:"pointer"},onClick:a.handleOpenWindow.bind(a,y)},f)}h.push(m)}u.push(n.default.createElement("tr",{key:c,style:{height:"32px",borderBottom:"1px solid #ccc"}},h))}l.push(n.default.createElement("div",{style:{margin:"0 20px 0 0",float:"left",height:"260px"}},n.default.createElement("table",null,n.default.createElement("tbody",null,n.default.createElement("tr",null,n.default.createElement("td",{colSpan:"7",style:{width:"40px",minWidth:"40px",textAlign:"left"}},i,"月")),n.default.createElement("tr",{key:"row.0",style:{height:"28px",borderBottom:"1px solid #ccc"}},n.default.createElement("td",{key:"1",style:{width:"40px",minWidth:"40px",textAlign:"center",background:"#DBEDFF"}},"一"),n.default.createElement("td",{key:"2",style:{width:"40px",minWidth:"40px",textAlign:"center",background:"#DBEDFF"}},"二"),n.default.createElement("td",{key:"3",style:{width:"40px",minWidth:"40px",textAlign:"center",background:"#DBEDFF"}},"三"),n.default.createElement("td",{key:"4",style:{width:"40px",minWidth:"40px",textAlign:"center",background:"#DBEDFF"}},"四"),n.default.createElement("td",{key:"5",style:{width:"40px",minWidth:"40px",textAlign:"center",background:"#DBEDFF"}},"五"),n.default.createElement("td",{key:"6",style:{width:"40px",minWidth:"40px",textAlign:"center",background:"#DBEDFF"}},"六"),n.default.createElement("td",{key:"7",style:{width:"40px",minWidth:"40px",textAlign:"center",background:"#DBEDFF"}},"日")),u)))),i++}),this.setState({tables:l})},weekFunc:function(e,t,a){var l=e%100,i=Math.ceil(e/100)-1,n=t;t<3&&(n+=12,l=(e-1)%100,i=Math.ceil((e-1)/100)-1);var r=(l+Math.floor(l/4)+Math.floor(i/4)-2*i+Math.floor(26*(n+1)/10)+a-1)%7;return r<0&&(r+=7),r},qingming:function(e){var t=0;e>1999&&e<2100&&(t=4.81);var a=Math.floor(e%100*.2422+t)-Math.floor(e%100/4);return 0===t?"":"040"+a},render:function(){var e=this.state.holidayMap,t=this.state.tables,a=this.state.viewYear;return n.default.createElement("div",{className:"grid-page",style:{width:"100%",padding:"24px 0 0 24px",overflowY:"scroll"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["holiday/retrieve"]}),n.default.createElement("div",{style:{marginBottom:"24px"}},n.default.createElement(y,{value:this.state.viewYear,onChange:this.onChangeView},n.default.createElement(v,{value:this.state.last},this.state.last),n.default.createElement(v,{value:this.state.year},this.state.year),n.default.createElement(v,{value:this.state.next},this.state.next))),n.default.createElement("div",{style:{width:"100%"}},""===a?"":t),n.default.createElement(m.default,{ref:"createWindow",holidayMap:e,onChange:this.onChange,year:a}))}});e.exports=w},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(23),o=l(r),s={children:n.default.PropTypes.node},d=n.default.createClass({displayName:"HrPageIndex",getInitialState:function(){return{navItems:[{name:"员工管理",icon:"home",to:"man_emp",childItems:[{name:"员工管理",to:"/hr/EmployeePage/"},{name:"员工查询",to:"/hr/EmployeeQueryPage/"},{name:"合同管理",to:"/hr/ContactPage/"},{name:"工作变更",to:"/hr/WorkLogPage/"},{name:"岗位变更",to:"/hr/EmpJobPage/"},{name:"调薪记录",to:"/hr/EmpSalaryPage/"},{name:"薪资福利",to:"/hr/BenefitsPage/"},{name:"笔记本补贴",to:"/hr/DevicePage/"}]}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/hr/EmployeePage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(23),o=l(r),s={children:n.default.PropTypes.node},d=n.default.createClass({displayName:"HrPageIndex",getInitialState:function(){return{navItems:[{name:"机构管理",icon:"home",to:"man_org",childItems:[{name:"关系人管理",to:"/hr/CorpStaffPage/"},{name:"分公司管理",to:"/hr/BranchPage/"},{name:"部门管理",to:"/hr/DeptPage/"}]}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/hr/CorpStaffPage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(23),o=l(r),s={children:n.default.PropTypes.node},d=n.default.createClass({displayName:"HrPageIndex",getInitialState:function(){return{navItems:[{name:"岗位管理",icon:"home",to:"man_job",childItems:[{name:"级别管理",to:"/hr/LevelPage/"},{name:"工种管理",to:"/hr/WorkTypePage/"},{name:"岗位管理",to:"/hr/JobPage/"}]},{name:"福利参数管理",icon:"home",to:"man_allow_param",childItems:[{name:"社保参数管理",to:"/hr/InsurancePage/"},{name:"补贴级别管理",to:"/hr/AllowancePage/"},{name:"差旅城市分类",to:"/hr/TripCityPage/"},{name:"差旅级别管理",to:"/hr/BizTripPage/"}]},{name:"工资单参数",icon:"home",to:"salary_param",childItems:[{name:"文件格式",to:"/hr/SalaryFilePage/"},{name:"工资单字段",to:"/hr/SalaryItemPage/"}]},{name:"节假日管理",to:"/hr/HolidayPage/"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/hr/LevelPage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(109),p=l(h),m=a(4),f=a(1),g=a(6),v=a(6),y=m.Form.Item,S=(m.Select.Option,a(115)),C=a(85),E=r.default.createClass({displayName:"CreateInsurancePage",getInitialState:function(){return{insuranceSet:{operation:"",errMsg:""},loading:!1,modal:!1,insurance:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("insurance")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.beforeClose():this.setState({loading:!1,insuranceSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"insuName",desc:"社保名称",required:!0,max:"64"},{id:"health",desc:"医疗保险",required:!1,max:"16"},{id:"pension",desc:"养老保险",required:!1,max:"16"},{id:"maternity",desc:"生育保险",required:!1,max:"16"},{id:"injury",desc:"工伤保险",required:!1,max:"16"},{id:"jobless",desc:"失业保险",required:!1,max:"16"},{id:"accumulation",desc:"公积金",required:!1,max:"16"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"}]},handleKeyDown:function(e){if(73==e.keyCode&&e.ctrlKey&&e.altKey){var t=this.refs.QuickFillWindow;t&&(t.initPage(this.state.validRules),t.toggle())}},beforeClose:function(){window.removeEventListener("keydown",this.handleKeyDown),this.setState({modal:!1})},clear:function(e){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.insurance.uuid="",this.state.insurance.corpUuid=e,this.state.insurance.insuName="",this.state.insurance.accumulation="",this.state.insurance.health="",this.state.insurance.pension="",this.state.insurance.effectDate="",this.state.loading=!1,this.state.insuranceSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){v.formValidator(this,this.state.insurance)&&(this.state.insuranceSet.operation="",this.setState({loading:!0}),C.createHrInsurance(this.state.insurance))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加社保参数管理#",maskClosable:!1,onOk:this.onClickSave,onCancel:this.beforeClose,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_insurance/create"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.beforeClose},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(y,i({},a,{label:"社保名称",required:!0,colon:!0,className:t,help:l.insuNameHint,validateStatus:l.insuNameStatus}),r.default.createElement(m.Input,{type:"text",name:"insuName",id:"insuName",value:this.state.insurance.insuName,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"医疗保险",colon:!0,className:t,help:l.healthHint,validateStatus:l.healthStatus}),r.default.createElement(m.Input,{type:"text",name:"health",id:"health",value:this.state.insurance.health,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"养老保险",colon:!0,className:t,help:l.pensionHint,validateStatus:l.pensionStatus}),r.default.createElement(m.Input,{type:"text",name:"pension",id:"pension",value:this.state.insurance.pension,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"生育保险",colon:!0,className:t,help:l.maternityHint,validateStatus:l.maternityStatus}),r.default.createElement(m.Input,{type:"text",name:"maternity",id:"maternity",value:this.state.insurance.maternity,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"工伤保险",colon:!0,className:t,help:l.injuryHint,validateStatus:l.injuryStatus}),r.default.createElement(m.Input,{type:"text",name:"injury",id:"injury",value:this.state.insurance.injury,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"失业保险",colon:!0,className:t,help:l.joblessHint,validateStatus:l.joblessStatus}),r.default.createElement(m.Input,{type:"text",name:"jobless",id:"jobless",value:this.state.insurance.jobless,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"公积金",colon:!0,className:t,help:l.accumulationHint,validateStatus:l.accumulationStatus}),r.default.createElement(m.Input,{type:"text",name:"accumulation",id:"accumulation",value:this.state.insurance.accumulation,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"生效日期",colon:!0,className:t,help:l.effectDateHint,validateStatus:l.effectDateStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.insurance.effectDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",g.dateFormat)}))),r.default.createElement(p.default,{ref:"QuickFillWindow",self:this,object:"insurance"}))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(6),g=a(3),v=h.Form.Item,y=(h.Select.Option,a(115)),S=a(85),C=r.default.createClass({displayName:"UpdateInsurancePage",getInitialState:function(){return{insuranceSet:{operation:"",errMsg:""},loading:!1,modal:!1,insurance:{},hints:{},validRules:[]}},mixins:[p.listenTo(y,"onServiceComplete"),(0,c.default)("insurance")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,insuranceSet:e}))},componentDidMount:function(){this.state.validRules=[]},initPage:function(e){this.state.hints={},g.copyValue(e,this.state.insurance),this.state.loading=!1,this.state.insuranceSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){f.formValidator(this,this.state.insurance)&&(this.state.insuranceSet.operation="",this.setState({loading:!0}),S.updateHrInsurance(this.state.insurance))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改社保管理信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_insurance/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(v,i({},a,{label:"社保名称",required:!0,colon:!0,className:t,help:l.insuNameHint,validateStatus:l.insuNameStatus}),r.default.createElement(h.Input,{type:"text",name:"insuName",id:"insuName",value:this.state.insurance.insuName,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"医疗保险",colon:!0,className:t,help:l.healthHint,validateStatus:l.healthStatus}),r.default.createElement(h.Input,{type:"text",name:"health",id:"health",value:this.state.insurance.health,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"养老保险",colon:!0,className:t,help:l.pensionHint,validateStatus:l.pensionStatus}),r.default.createElement(h.Input,{type:"text",name:"pension",id:"pension",value:this.state.insurance.pension,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"生育保险",colon:!0,className:t,help:l.maternityHint,validateStatus:l.maternityStatus}),r.default.createElement(h.Input,{type:"text",name:"maternity",id:"maternity",value:this.state.insurance.maternity,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"工伤保险",colon:!0,className:t,help:l.injuryHint,validateStatus:l.injuryStatus}),r.default.createElement(h.Input,{type:"text",name:"injury",id:"injury",value:this.state.insurance.injury,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"失业保险",colon:!0,className:t,help:l.joblessHint,validateStatus:l.joblessStatus}),r.default.createElement(h.Input,{type:"text",name:"jobless",id:"jobless",value:this.state.insurance.jobless,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"公积金",colon:!0,className:t,help:l.accumulationHint,validateStatus:l.accumulationStatus}),r.default.createElement(h.Input,{type:"text",name:"accumulation",id:"accumulation",value:this.state.insurance.accumulation,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"生效日期",colon:!0,className:t,help:l.effectDateHint,validateStatus:l.effectDateStatus}),r.default.createElement(h.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.insurance.effectDate,m.dateFormat),format:m.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",m.dateFormat)}))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1248),h=l(c),p=a(1249),m=l(p),f=a(1),g=a(6),v=(a(3),a(115)),y=a(85),S=n.default.createClass({displayName:"InsurancePage",getInitialState:function(){return{insuranceSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,insuranceSet:e})},handleQueryClick:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),this.state.insuranceSet.operation="",y.retrieveHrInsurance(t)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),y.initHrInsurance(t)},handleOpenCreateWindow:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的管理 【"+e.insuName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.insuranceSet.operation="",y.deleteHrInsurance(e.uuid)},render:function(){var e=this,t=this.state.insuranceSet.recordSet,a=[{title:"社保名称",dataIndex:"insuName",key:"insuName",width:140},{title:"公积金",dataIndex:"accumulation",key:"accumulation",width:140},{title:"医疗保险",dataIndex:"health",key:"health",width:140},{title:"养老保险",dataIndex:"pension",key:"pension",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),
title:"修改社保参数"},n.default.createElement(u.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除社保参数"},n.default.createElement(u.Icon,{type:g.iconRemove})))}}],l=g.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},n.default.createElement("div",{style:{margin:l.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_insurance/get-by-corp_uuid","hr_insurance/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(u.Button,{icon:g.iconAdd,type:"primary",title:"增加社保参数管理",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(h.default,{ref:"createWindow"}),n.default.createElement(m.default,{ref:"updateWindow"}))}});e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1),c=(a(6),a(3),a(130)),h=a(106),p=n.default.createClass({displayName:"BatchJobPage",getInitialState:function(){return{recordSet:{errMsg:""},recordList:[],len:0,index:0,modal:!1,stop:!1}},mixins:[u.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){if(this.state.modal)if(""===e.errMsg){var t=this.state.len,a=this.state.index,l=this.state.stop;if(l)return;a+1===t?this.setState({index:a+1}):(this.setState({index:a+1}),this.doBatchCreate(this.state.recordList))}else this.setState({loading:!1,stop:!0,recordSet:e})},componentDidMount:function(){},clear:function(e){this.state.recordList=e,this.state.index=0,this.state.len=e.length,this.state.stop=!1,this.doBatchCreate(e)},doBatchCreate:function(e){var t=this.state.index,a=e[t];a.uuid="",a.corpUuid=window.loginData.compUser.corpUuid,h.createHrJob(a)},onStop:function(){this.state.stop=!0},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this.state.index,t=this.state.recordList[e],a=t?t.jobName:"",l=Math.floor(e/this.state.len*100),i=null,r=null;return this.state.stop?(i=n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=n.default.createElement("span",null,"已终止！")):(i=a?n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.onStop},"终止"):n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=a?n.default.createElement("span",null,"正在生成 ",a," ……"):n.default.createElement("span",null,"已完成！")),n.default.createElement(o.Modal,{visible:this.state.modal,width:"540px",closable:!1,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-job/create"]}),i)]},n.default.createElement("div",{style:{padding:"24px 0px"}},n.default.createElement(o.Progress,{percent:l,status:"active"}),n.default.createElement("p",{style:{padding:"12px 0 0 0"}},r)))}});t.default=p},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=m.Form.Item,y=(m.Select.Option,a(130)),S=a(106),C=r.default.createClass({displayName:"CreateJobPage",getInitialState:function(){return{jobSet:{operation:"",errMsg:""},loading:!1,modal:!1,job:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("job")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,jobSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"jobCode",desc:"岗位编码",required:!0,max:"32"},{id:"jobName",desc:"岗位名称",required:!0,max:"32"},{id:"jobDesc",desc:"岗位说明",required:!1,max:"1024"},{id:"unitTime",desc:"结算单位",required:!1,max:"32"},{id:"unitPrice",desc:"结算单价",required:!1,max:"32"},{id:"unitCost",desc:"平均成本",required:!1,max:"32"},{id:"jobResponse",desc:"岗位职责",required:!1,max:"4000"},{id:"jobQualify",desc:"岗位要求",required:!1,max:"4000"},{id:"levelUuid",desc:"最低级别编码",required:!1,max:"24"},{id:"levelUuid2",desc:"最高级别编码",required:!1,max:"24"}]},clear:function(e,t){this.state.hints={},this.state.job.uuid="",this.state.job.corpUuid=e,this.state.job.workUuid=t,this.state.job.jobCode="",this.state.job.jobName="",this.state.job.jobDesc="",this.state.job.unitTime="",this.state.job.unitPrice="",this.state.job.unitCost="",this.state.job.jobResponse="",this.state.job.jobQualify="",this.state.job.levelUuid="",this.state.job.levelUuid2="",this.state.loading=!1,this.state.jobSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.job)&&(this.state.jobSet.operation="",this.setState({loading:!0}),S.createHrJob(this.state.job))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加岗位",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-job/create"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"岗位编码",required:!0,colon:!0,className:t,help:n.jobCodeHint,validateStatus:n.jobCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"jobCode",id:"jobCode",value:this.state.job.jobCode,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"岗位名称",required:!0,colon:!0,className:t,help:n.jobNameHint,validateStatus:n.jobNameStatus}),r.default.createElement(m.Input,{type:"text",name:"jobName",id:"jobName",value:this.state.job.jobName,onChange:this.handleOnChange})))),r.default.createElement(v,i({},a,{label:"岗位说明",required:!1,colon:!0,className:t,help:n.jobDescHint,validateStatus:n.jobDescStatus}),r.default.createElement(m.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.job.jobDesc,onChange:this.handleOnChange,style:{height:"80px"}})),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"结算单位",required:!1,colon:!0,className:t,help:n.unitTimeHint,validateStatus:n.unitTimeStatus}),r.default.createElement(p.default,{name:"unitTime",id:"unitTime",value:this.state.job.unitTime,appName:"HR系统",optName:"结算单位",onSelect:this.handleOnSelected.bind(this,"unitTime")})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"结算单价",required:!1,colon:!0,className:t,help:n.unitPriceHint,validateStatus:n.unitPriceStatus}),r.default.createElement(m.Input,{type:"text",name:"unitPrice",id:"unitPrice",value:this.state.job.unitPrice,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"平均成本",required:!1,colon:!0,className:t,help:n.unitCostHint,validateStatus:n.unitCostStatus}),r.default.createElement(m.Input,{type:"text",name:"unitCost",id:"unitCost",value:this.state.job.unitCost,onChange:this.handleOnChange})))),r.default.createElement(v,i({},a,{label:"岗位职责",required:!1,colon:!0,className:t,help:n.jobResponseHint,validateStatus:n.jobResponseStatus}),r.default.createElement(m.Input,{type:"textarea",name:"jobResponse",id:"jobResponse",value:this.state.job.jobResponse,onChange:this.handleOnChange,style:{height:"80px"}})),r.default.createElement(v,i({},a,{label:"岗位要求",required:!1,colon:!0,className:t,help:n.jobQualifyHint,validateStatus:n.jobQualifyStatus}),r.default.createElement(m.Input,{type:"textarea",name:"jobQualify",id:"jobQualify",value:this.state.job.jobQualify,onChange:this.handleOnChange,style:{height:"80px"}})),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"最低级别",required:!1,colon:!0,className:t,help:n.levelUuidHint,validateStatus:n.levelUuidStatus}),r.default.createElement(m.Input,{type:"text",name:"levelUuid",id:"levelUuid",value:this.state.job.levelUuid,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(v,i({},l,{label:"最高级别",required:!1,colon:!0,className:t,help:n.levelUuid2Hint,validateStatus:n.levelUuid2Status}),r.default.createElement(m.Input,{type:"text",name:"levelUuid2",id:"levelUuid2",value:this.state.job.levelUuid2,onChange:this.handleOnChange}))))))}});t.default=C},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(8),_reactDom2=_interopRequireDefault(_reactDom),_reactMixin=__webpack_require__(5),_reactMixin2=_interopRequireDefault(_reactMixin),_antd=__webpack_require__(4),_ServiceMsg=__webpack_require__(7),_ServiceMsg2=_interopRequireDefault(_ServiceMsg),_XlsTempFile=__webpack_require__(26),_XlsTempFile2=_interopRequireDefault(_XlsTempFile),_CreateJobPage=__webpack_require__(1252),_CreateJobPage2=_interopRequireDefault(_CreateJobPage),_UpdateJobPage=__webpack_require__(1254),_UpdateJobPage2=_interopRequireDefault(_UpdateJobPage),_BatchJobPage=__webpack_require__(1251),_BatchJobPage2=_interopRequireDefault(_BatchJobPage),_JobFactorPage=__webpack_require__(702),_JobFactorPage2=_interopRequireDefault(_JobFactorPage),Reflux=__webpack_require__(1),Search=_antd.Input.Search,Common=__webpack_require__(6),Utils=__webpack_require__(3),JobStore=__webpack_require__(130),JobActions=__webpack_require__(106),jobFields=[{id:"A",name:"workType",title:"工种"},{id:"B",name:"jobCode",title:"岗位编码"},{id:"C",name:"jobName",title:"岗位名称"},{id:"D",name:"unitTime",title:"结算单位",opts:"#HR系统.结算单位"},{id:"E",name:"unitPrice",title:"结算单价"},{id:"F",name:"unitCost",title:"平均成本"}],JobTablePage=_react2.default.createClass({displayName:"JobTablePage",getInitialState:function(){return{jobSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,selectedWork:{},workTypeMap:{}}},mixins:[Reflux.listenTo(JobStore,"onServiceComplete"),(0,_XlsTempFile2.default)()],onServiceComplete:function(e){this.setState({loading:!1,jobSet:e})},handleQueryClick:function(e){var t=this.state.selectedWork;this.setState({loading:!0}),this.state.jobSet.operation="",JobActions.retrieveHrJob(t.corpUuid,t.uuid)},componentDidMount:function(){var e=this.state.selectedWork;e.corpUuid&&e.uuid&&(this.setState({loading:!0}),JobActions.initHrJob(e.corpUuid,e.uuid))},loadJobInfor:function(e,t){this.state.jobSet.operation="",this.setState({loading:!0}),this.state.selectedWork=e,this.state.workTypeMap={};for(var a=t.length,l=0;l<a;l++){var i=t[l];this.state.workTypeMap[i.workName]=i.uuid}JobActions.initHrJob(e.corpUuid,e.uuid)},handleOpenCreateWindow:function(e){var t=this.state.selectedWork;this.refs.createWindow.clear(t.corpUuid,t.uuid),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){_antd.Modal.confirm({title:"删除确认",content:"是否删除选中的岗位 【"+e.jobName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.jobSet.operation="",JobActions.deleteHrJob(e.uuid)},handleSelectClick:function(e,t){this.refs.jobFactorPage.loadFactor(e.workUuid,e.uuid),this.refs.jobFactorPage.clear(e.corpUuid,e.workUuid,e.uuid),this.refs.jobFactorPage.toggle()},handleTempDown:function(e){this.downXlsTempFile(jobFields)},beforeBatchLoad:function(e){this.setState({loading:!0});var t=Utils.paramUrl+"read-xlsx/read",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,jobFields,e,this.uploadComplete),!1},uploadComplete:function uploadComplete(errMsg,result){if(this.setState({loading:!1}),""!==errMsg)Common.errMsg(errMsg);else{result=result.replace(/}{/g,"},{");var list=eval("("+result+")");if(list){for(var len=list.length,i=0;i<len;i++){var job=list[i],workUuid=this.state.workTypeMap[job.workType];if(!workUuid)return void alert("没有找到工种["+job.workType+"]");job.workUuid=workUuid}this.refs.batchWindow.clear(list),this.refs.batchWindow.toggle()}}},render:function(){var e=this,t=this.state.jobSet.recordSet,a=this.state.selectedWork.uuid,l="undefined"!=typeof a,i=[{title:"岗位编码",dataIndex:"jobCode",key:"jobCode",width:120},{title:"岗位名称",dataIndex:"jobName",key:"jobName",width:120},{title:"结算单位",dataIndex:"unitTime",key:"unitTime",width:120,render:function(t,a){return Utils.getOptionName("HR系统","结算单位",a.unitTime,!0,e)}},{title:"结算单价",dataIndex:"unitPrice",key:"unitPrice",width:120},{title:"平均成本",dataIndex:"unitCost",key:"unitCost",width:120},{title:"",key:"action",width:140,render:function(t,a){return _react2.default.createElement("span",null,_react2.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改岗位信息"},_react2.default.createElement(_antd.Icon,{type:Common.iconUpdate})),_react2.default.createElement("span",{className:"ant-divider"}),_react2.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除岗位"},_react2.default.createElement(_antd.Icon,{type:Common.iconRemove})),_react2.default.createElement("span",{className:"ant-divider"}),_react2.default.createElement("a",{href:"#",onClick:e.handleSelectClick.bind(e,a),title:"指标维护"},_react2.default.createElement(_antd.Icon,{type:"setting"})))}}],n=Common.getGridMargin(this,0);return _react2.default.createElement("div",{className:"grid-page",style:{padding:"58px 0 0 0"}},_react2.default.createElement("div",{style:{margin:"-58px 0 0 0"}},_react2.default.createElement("div",{className:"toolbar-table"},_react2.default.createElement("div",{style:{float:"left"}},_react2.default.createElement(_antd.Button,{icon:Common.iconAdd,disabled:!l,type:"primary",title:"增加人员",onClick:this.handleOpenCreateWindow}),_react2.default.createElement(_antd.Button,{icon:Common.iconRefresh,disabled:!l,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Button,{icon:"download",disabled:!l,title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeBatchLoad,style:{marginLeft:"4px"}},_react2.default.createElement(_antd.Button,{icon:"upload",disabled:!l,title:"批量增加数据"}))))),_react2.default.createElement("div",{style:{margin:n.margin}},_react2.default.createElement(_ServiceMsg2.default,{ref:"mxgBox",svcList:["hr-job/retrieve","hr-job/remove"]})),_react2.default.createElement("div",{className:"grid-body"},_react2.default.createElement(_antd.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:Common.tableBorder})),_react2.default.createElement(_CreateJobPage2.default,{ref:"createWindow"}),_react2.default.createElement(_UpdateJobPage2.default,{ref:"updateWindow"}),_react2.default.createElement(_JobFactorPage2.default,{ref:"jobFactorPage"}),_react2.default.createElement(_BatchJobPage2.default,{ref:"batchWindow"}))}});module.exports=JobTablePage},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=a(3),y=m.Form.Item,S=(m.Select.Option,a(130)),C=a(106),E=r.default.createClass({displayName:"UpdateJobPage",getInitialState:function(){return{jobSet:{operation:"",errMsg:""},loading:!1,modal:!1,job:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("job")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,jobSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"jobCode",desc:"岗位编码",required:!0,max:"32"},{id:"jobName",desc:"岗位名称",required:!0,max:"32"},{id:"jobDesc",desc:"岗位说明",required:!1,max:"1024"},{id:"unitTime",desc:"结算单位",required:!1,max:"32"},{id:"unitPrice",desc:"结算单价",required:!1,max:"32"},{id:"unitCost",desc:"平均成本",required:!1,max:"32"},{id:"jobResponse",desc:"岗位职责",required:!1,max:"4000"},{id:"jobQualify",desc:"岗位要求",required:!1,max:"4000"},{id:"levelUuid",desc:"最低级别编码",required:!1,max:"24"},{id:"levelUuid2",desc:"最高级别编码",required:!1,max:"24"}]},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.job),this.state.loading=!1,this.state.jobSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.job)&&(this.state.jobSet.operation="",this.setState({loading:!0}),C.updateHrJob(this.state.job))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"640px",title:"修改岗位信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-job/update"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"岗位编码",required:!0,colon:!0,className:t,help:n.jobCodeHint,validateStatus:n.jobCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"jobCode",id:"jobCode",value:this.state.job.jobCode,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"岗位名称",required:!0,colon:!0,className:t,help:n.jobNameHint,validateStatus:n.jobNameStatus}),r.default.createElement(m.Input,{type:"text",name:"jobName",id:"jobName",value:this.state.job.jobName,onChange:this.handleOnChange})))),r.default.createElement(y,i({},a,{label:"岗位说明",required:!1,colon:!0,className:t,help:n.jobDescHint,validateStatus:n.jobDescStatus}),r.default.createElement(m.Input,{type:"textarea",name:"jobDesc",id:"jobDesc",value:this.state.job.jobDesc,onChange:this.handleOnChange,style:{height:"80px"}})),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"结算单位",required:!1,colon:!0,className:t,help:n.unitTimeHint,validateStatus:n.unitTimeStatus}),r.default.createElement(p.default,{name:"unitTime",id:"unitTime",value:this.state.job.unitTime,appName:"HR系统",optName:"结算单位",onSelect:this.handleOnSelected.bind(this,"unitTime")})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"结算单价",required:!1,colon:!0,className:t,help:n.unitPriceHint,validateStatus:n.unitPriceStatus}),r.default.createElement(m.Input,{type:"text",name:"unitPrice",id:"unitPrice",value:this.state.job.unitPrice,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"平均成本",required:!1,colon:!0,className:t,help:n.unitCostHint,validateStatus:n.unitCostStatus}),r.default.createElement(m.Input,{type:"text",name:"unitCost",id:"unitCost",value:this.state.job.unitCost,onChange:this.handleOnChange})))),r.default.createElement(y,i({},a,{label:"岗位职责",required:!1,colon:!0,className:t,help:n.jobResponseHint,validateStatus:n.jobResponseStatus}),r.default.createElement(m.Input,{type:"textarea",name:"jobResponse",id:"jobResponse",value:this.state.job.jobResponse,onChange:this.handleOnChange,style:{height:"80px"}})),r.default.createElement(y,i({},a,{label:"岗位要求",required:!1,colon:!0,className:t,help:n.jobQualifyHint,validateStatus:n.jobQualifyStatus}),r.default.createElement(m.Input,{type:"textarea",name:"jobQualify",id:"jobQualify",value:this.state.job.jobQualify,onChange:this.handleOnChange,style:{height:"80px"}})),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"最低级别",required:!1,colon:!0,className:t,help:n.levelUuidHint,validateStatus:n.levelUuidStatus}),r.default.createElement(m.Input,{type:"text",name:"levelUuid",id:"levelUuid",value:this.state.job.levelUuid,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(y,i({},l,{label:"最高级别",required:!1,colon:!0,className:t,help:n.levelUuid2Hint,validateStatus:n.levelUuid2Status}),r.default.createElement(m.Input,{type:"text",name:"levelUuid2",id:"levelUuid2",value:this.state.job.levelUuid2,onChange:this.handleOnChange}))))))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(8),d=(l(s),a(5)),u=l(d),c=a(1),h=(a(3),a(78)),p=a(132),m=a(108),f=o.default.createClass({displayName:"WorkListPage",getInitialState:function(){return{workSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},selectedRowUuid:""}},refresh:function(e){this.state.selectedRowUuid="",m.initHrWorkType(e)},componentDidMount:function(){var e=this.props.corpUuid;m.initHrWorkType(e)},handleWorkClick:function(e){this.state.selectedRowUuid=e.uuid,null!=e&&this.props.onSelectWork(e)},getRowClassName:function(e,t){var a=e.uuid;return this.state.selectedRowUuid==a?"selected":null},render:function(){var e=this.props,t=(e.corpUuid,e.onSelectwork,i(e,["corpUuid","onSelectwork"])),a=this.state.workSet.recordSet;return o.default.createElement(h,n({dataSource:a,rowText:"workName",onClick:this.handleWorkClick},t))}});u.default.onClass(f,c.connect(p,"workSet")),e.exports=f},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(13),a(1255)),d=l(s),u=a(1253),c=l(u),h=a(7),p=(l(h),a(4),a(1),a(3),n.default.createClass({displayName:"JobPage",getInitialState:function(){return{loading:!1,workUuid:""}},componentDidMount:function(){},handleWorkClick:function(e,t){if(this.state.workUuid="",null!==e){this.setState({workUuid:e.uuid});var a=this.refs.workList.state.workSet.recordSet;this.refs.JobTablePage.loadJobInfor(e,a)}},render:function(){var e=this;return n.default.createElement("div",{className:"grid-page"},n.default.createElement(d.default,{ref:"workList",width:"220px",caption:"请选择工种",onSelectWork:function(t){e.handleWorkClick(t)},corpUuid:window.loginData.compUser.corpUuid},n.default.createElement("div",{style:{paddingLeft:"16px",paddingRight:"16px"}},n.default.createElement(c.default,{workUuid:this.state.workUuid,ref:"JobTablePage"}))))}}));e.exports=p},function(e,t,a){"use strict";var l=a(1),i=a(703),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",workUuid:"",jobUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,workUuid:a.workUuid,jobUuid:a.jobUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("hr-job-factor-value",e,t)},onRetrieveHrJobFactorValue:function(e,t){var a=this,l={};l.workUuid=e,l.jobUuid=t;var i=this.getServiceUrl("hr-job-factor-value/retrieve1");n.doRetrieveService(i,l,a.startPage,a.pageRow,a.totalRow).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(a.recordSet=e.object.list,a.startPage=e.object.startPage,a.pageRow=e.object.pageRow,a.totalRow=e.object.totalRow,a.workUuid=e.object.workUuid,a.jobUuid=e.object.jobUuid,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveHrJobFactorValuePage:function(e,t,a,l){this.startPage=a,this.pageRow=l,this.onRetrieveHrJobFactorValue(e,t)},onInitHrJobFactorValue:function(e,t){return this.recordSet.length>0&&this.workUuid===e&&this.jobUuid===t?void this.fireEvent("retrieve","",this):void this.onRetrieveHrJobFactorValue(e,t)},onCreateHrJobFactorValue:function(e){var t=this,a=this.getServiceUrl("hr-job-factor-value/batch-cu");n.doGetRecordService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.list,t.startPage=e.object.startPage,t.pageRow=e.object.pageRow,t.totalRow=e.object.totalRow,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(13)),d=a(4),u=a(7),c=l(u),h=a(25),p=l(h),m=a(1),f=a(6),g=d.Form.Item,v=d.Tabs.TabPane,y=a(344),S=a(97),C=r.default.createClass({displayName:"CreateLeavePage2",getInitialState:function(){return{user:{},leave:{},message:""}},componentDidMount:function(){this.clear()},mixins:[m.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},clear:function(){this.state.leave.uuid="",this.state.leave.corpUuid=window.loginData.compUser.corpUuid,this.state.leave.annual=0,this.state.leave.wedding=0,this.state.leave.maternity=0,this.state.leave.paternity=0,this.state.leave.dayoff=0,this.state.leave.family=0,this.state.leave.funeral=0,this.state.leave.paidLeave=0,this.state.leave.otherLeave=0,this.state.message=""},showError:function(e){this.setState({message:e})},onSelectEmpLoyee:function(e){this.state.leave.uuid=e.uuid,this.state.leave.staffCode=e.staffCode,this.state.leave.perName=e.perName,this.state.leave.deptName=e.deptName,this.state.message="",this.setState({user:e})},onClickSave:function(){S.createHrLeave(this.state.leave)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e=(this.state.selectKey,f.getGridMargin(this,0)),t="horizontal",a="form-item-"+t,l={labelCol:"vertical"==t?null:{span:4},wrapperCol:"vertical"==t?null:{span:20}},n=!this.state.leave.uuid;return r.default.createElement("div",{className:"tab-page",style:{padding:e.padding}},r.default.createElement("div",{style:{margin:e.margin}},r.default.createElement(c.default,{ref:"mxgBox",svcList:["hr-leave/create"]})),r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(d.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(v,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(v,{tab:"增加员工假日信息",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{width:"400px",margin:"50px"}},r.default.createElement("div",{style:{margin:"0 0 30px 0"}},r.default.createElement(p.default,{corpUuid:this.state.corpUuid,showError:this.showError,onSelectEmpLoyee:this.onSelectEmpLoyee}),r.default.createElement("p",{style:{color:"red",textAlign:"right"}},this.state.message)),r.default.createElement(d.Form,{layout:t},r.default.createElement(g,i({},l,{label:"员工编号",required:!1,colon:!0,className:a}),r.default.createElement(d.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode})),r.default.createElement(g,i({},l,{label:"姓名",required:!1,colon:!0,className:a}),r.default.createElement(d.Input,{type:"text",name:"perName",id:"perName",value:this.state.user.perName})),r.default.createElement(g,i({},l,{label:"部门名称",required:!1,colon:!0,className:a}),r.default.createElement(d.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName})),r.default.createElement(g,{style:{textAlign:"right"},required:!1,colon:!0,className:a},r.default.createElement(d.Button,{key:"btnOK",type:"primary",size:"large",disabled:n,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(d.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}}),E=(0,s.withRouter)(C);e.exports=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=l(d),c=a(70),h=l(c),p=a(4),m=(a(1),a(6)),f=p.DatePicker.MonthPicker,g=p.Form.Item,v=(p.Select.Option,a(344),a(97),r.default.createClass({displayName:"SearchEmployee",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],leave:{corpUuid:window.loginData.compUser.corpUuid,perName:"",staffCode:"",baseCity:"",deptUuid:"",entryMonth:""}}},mixins:[(0,u.default)("leave")],componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"staffCode",desc:"员工编号",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"deptName",desc:"部门名称",required:!1,max:"0"},{id:"entryMonth",desc:"入职月份",required:!1,max:"0"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"760px",height:"100%",float:"right"}},r.default.createElement(p.Form,{layout:e,style:{width:"100%"}},r.default.createElement(p.Row,{gutter:18},r.default.createElement(p.Col,{className:"gutter-row",span:8}),r.default.createElement(p.Col,{className:"gutter-row",span:8},r.default.createElement(g,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(p.Input,{type:"text",name:"perName",id:"perName",value:this.state.leave.perName,onChange:this.handleOnChange
}))),r.default.createElement(p.Col,{className:"gutter-row",span:8},r.default.createElement(g,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(p.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.leave.staffCode,onChange:this.handleOnChange})))),r.default.createElement(p.Row,{gutter:18},r.default.createElement(p.Col,{className:"gutter-row",span:8},r.default.createElement(g,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:l.baseCityHint,validateStatus:l.baseCityStatus}),r.default.createElement(p.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.leave.baseCity,onChange:this.handleOnChange}))),r.default.createElement(p.Col,{className:"gutter-row",span:8},r.default.createElement(g,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:l.deptUuidHint,validateStatus:l.deptUuidStatus}),r.default.createElement(h.default,{name:"deptUuid",id:"deptUuid",value:this.state.leave.deptUuid,onSelect:this.handleOnSelected.bind(this,"deptUuid")}))),r.default.createElement(p.Col,{className:"gutter-row",span:8},r.default.createElement(g,i({},a,{label:"入职月份",required:!1,colon:!0,className:t,help:l.entryMonthHint,validateStatus:l.entryMonthStatus}),r.default.createElement(f,{style:{width:"100%"},name:"entryMonth",id:"entryMonth",value:this.formatMonth(this.state.leave.entryMonth,m.monthFormat),format:m.monthFormat,onChange:this.handleOnSelDate.bind(this,"entryMonth",m.monthFormat)})))))))}}));e.exports=v},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(4),s=o.Form.Item,d={leave:r.default.PropTypes.object},u=r.default.createClass({displayName:"LeaveInfor",getInitialState:function(){return{leaveSet:{recordSet:[],operation:"",errMsg:""},leave:this.props.leave}},componentDidMount:function(){},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.props.leave,d=n.annual?n.annual:"",u=d.indexOf(".");u>0?(n.annual_1=d.substr(0,u),n.annual_2=d.substr(u+1)):(n.annual_1=d,n.annual_2="0");var c=n.dayoff?n.dayoff:"",u=c.indexOf(".");return u>0?(n.dayoff_1=c.substr(0,u),n.dayoff_2=c.substr(u+1)):(n.dayoff_1=c,n.dayoff_2="0"),r.default.createElement("div",{style:{width:"100%",maxWidth:"600px",margin:"24px 20px 16px 24px"}},r.default.createElement(o.Form,{layout:e},r.default.createElement(o.Row,null,r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"员工编号",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.leave.staffCode,readOnly:!0}))),r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"perName",id:"perName",value:this.state.leave.perName,readOnly:!0})))),r.default.createElement(o.Row,null,r.default.createElement(o.Col,{className:"gutter-row",span:24},r.default.createElement(s,i({},l,{label:"任职部门",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.leave.deptName,readOnly:!0})))),r.default.createElement(o.Row,null,r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"年假",required:!1,colon:!0,className:t}),r.default.createElement(o.Col,{className:"gutter-row",span:8},r.default.createElement(o.Input,{type:"text",name:"annual_1",id:"annual_1",value:this.state.leave.annual_1,readOnly:!0})),r.default.createElement(o.Col,{className:"gutter-row",span:4},r.default.createElement("div",{style:{margin:"0 0 0 6px"}},"天")),r.default.createElement(o.Col,{className:"gutter-row",span:8},r.default.createElement(o.Input,{type:"text",name:"annual_2",id:"annual_2",value:this.state.leave.annual_2,readOnly:!0})),r.default.createElement(o.Col,{className:"gutter-row",span:4},r.default.createElement("div",{style:{margin:"0 0 0 6px"}},"小时")))),r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"调休",required:!1,colon:!0,className:t}),r.default.createElement(o.Col,{className:"gutter-row",span:8},r.default.createElement(o.Input,{type:"text",name:"dayoff_1",id:"dayoff_1",value:this.state.leave.dayoff_1,readOnly:!0})),r.default.createElement(o.Col,{className:"gutter-row",span:4},r.default.createElement("div",{style:{margin:"0 0 0 6px"}},"天")),r.default.createElement(o.Col,{className:"gutter-row",span:8},r.default.createElement(o.Input,{type:"text",name:"dayoff_2",id:"dayoff_2",value:this.state.leave.dayoff_2,readOnly:!0})),r.default.createElement(o.Col,{className:"gutter-row",span:4},r.default.createElement("div",{style:{margin:"0 0 0 6px"}},"小时"))))),r.default.createElement(o.Row,null,r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"婚假",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"wedding",id:"wedding",value:this.state.leave.wedding,readOnly:!0}))),r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"产假",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"maternity",id:"maternity",value:this.state.leave.maternity,readOnly:!0})))),r.default.createElement(o.Row,null,r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"陪护假",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"paternity",id:"paternity",value:this.state.leave.paternity,readOnly:!0}))),r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"探亲假",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"family",id:"family",value:this.state.leave.family,readOnly:!0})))),r.default.createElement(o.Row,null,r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"丧假",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"funeral",id:"funeral",value:this.state.leave.funeral,readOnly:!0}))),r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"带薪假",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"paidLeave",id:"paidLeave",value:this.state.leave.paidLeave,readOnly:!0})))),r.default.createElement(o.Row,null,r.default.createElement(o.Col,{className:"gutter-row",span:12},r.default.createElement(s,i({},a,{label:"其他假",required:!1,colon:!0,className:t}),r.default.createElement(o.Input,{type:"text",name:"otherLeave",id:"otherLeave",value:this.state.leave.otherLeave,readOnly:!0}))))))}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(25),c=(l(u),a(1260)),h=l(c),p=a(1268),m=l(p),f=a(1279),g=l(f),v=a(1),y=a(6),S=(o.Form.Item,o.Tabs.TabPane),C=a(344),E=a(97),b=n.default.createClass({displayName:"UpdateLeavePage",getInitialState:function(){return{user:{},leave:{},message:""}},componentDidMount:function(){this.clear()},mixins:[v.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},clear:function(){this.state.leave.uuid="",this.state.leave.corpUuid=window.loginData.compUser.corpUuid,this.state.leave.annual=0,this.state.leave.wedding=0,this.state.leave.maternity=0,this.state.leave.paternity=0,this.state.leave.dayoff=0,this.state.leave.family=0,this.state.leave.funeral=0,this.state.leave.paidLeave=0,this.state.leave.otherLeave=0,this.state.message=""},showError:function(e){this.setState({message:e})},onSelectEmpLoyee:function(e){this.state.leave.uuid=e.uuid,this.state.message="",this.setState({user:e})},onClickSave:function(){E.createHrLeave(this.state.leave)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e=this.props.leave,t=(this.state.selectKey,y.getGridMargin(this,0));!this.state.leave.uuid;return n.default.createElement("div",{className:"tab-page",style:{padding:t.padding}},n.default.createElement("div",{style:{margin:t.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leave/create"]})),n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(o.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(S,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(S,{tab:"假日信息",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement(h.default,{leave:e})),n.default.createElement(S,{tab:"假日明细",key:"3",style:{width:"100%",height:"100%"}},n.default.createElement(m.default,{leave:e})),n.default.createElement(S,{tab:"休假日志",key:"4",style:{width:"100%",height:"100%"}},n.default.createElement(g.default,{leave:e})))))}});e.exports=b},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(7)),s=l(o),d=a(9),u=(l(d),a(12)),c=(l(u),a(4)),h=a(26),p=l(h),m=a(165),f=l(m),g=a(1),v=a(6),y=a(3),S=a(131),C=(c.Tabs.TabPane,a(345)),E=a(98),b=(a(97),n.default.createClass({displayName:"BatchCreateLeavePage",getInitialState:function(){return{batch:[],day:[],hours:[],day1:[],hours1:[],hAfter:[],loading:!1}},mixins:[g.listenTo(C,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){"batch-create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){},getRemnant:function(e,t){return S.getRemnant(e,t)},getCount:function(e){var t=this,a=[],l=[],i=[],n=[],r=[];e.map(function(e,o){var s=e[e.leaveType];null===s?(s="0",r.push(s)):r.push(s);var d="",u=e.accrued_1,c=e.accrued_2;null===u?u="0":u,null===c?c="0":c,d="0"===c||0===c?u:u+"."+c;var h=t.getRemnant(s,d),p=r[o].indexOf("."),m=h.indexOf(".");if(p>=0){var f=r[o],g=f.substr(0,p),v=f.substr(p+1);if(m>=0)var y=h.substr(0,m),S=h.substr(m+1);else var y=h,S="0";a.push(y),l.push(S),i.push(g),n.push(v)}else{var f=r[o];if(m>=0)var y=h.substr(0,m),S=h.substr(m+1);else var y=h,S="0";a.push(y),l.push(S),i.push(f),n.push("0")}}),this.setState({batch:e,day:i,day1:a,hours:n,hours1:l})},handleBatchCreate:function(){var e=this,t=[],a=this.state.batch,l="",i={};a.map(function(a,n){var r=a[a.leaveType],o="",s=a.accrued_1,d=a.accrued_2;null===s?s="0":s,null===d?d="0":d,o="0"===d||0===d?s:s+"."+d;var u=e.getRemnant(r,o),c=u.indexOf(".");if(c>=0){var h=u.substr(0,c),p=u.substr(c+1);l=h+"."+p}else l=u;var m={},f={},g="",v=a.uuid;if(i[v]){var S=i[v];y.copyValue(i[v],m),m[a.leaveType]=l,S[a.leaveType]=l}else i[v]={},m.corpUuid=a.corpUuid,m.uuid=a.uuid,m.annual=a.annual,m.wedding=a.wedding,m.maternity=a.maternity,m.paternity=a.paternity,m.dayoff=a.dayoff,m.family=a.family,m.funeral=a.funeral,m.paidLeave=a.paidLeave,m.otherLeave=a.otherLeave,m[a.leaveType]=l,y.copyValue(m,i[v]);f.userUuid=m.uuid,f.leaveType=a.leaveType,g="0"===d?s:s+"."+d,f.accrued=g,f.remnant=g,f.spend="0",f.replacement="0",f.repAmount="",f.limitDay="",f.expiryMemo="",f.memo2="",f.effectDate=a.effectDate,f.expiryDate=a.expiryDate,f.status="1";var C={leave:m,detail:f};t.push(C)}),E.batchCreateLeaveDetailReg(t),this.setState({loading:!0})},goBack:function(){this.props.onBack()},handleTempDown:function(e){this.downXlsTempFile(f.default.leaveDetailFields)},uploadComplete:function(e,t){if(this.setState({loading:!1}),""!==e)v.errMsg(e);else{this.setState({batch:t.list});var a=t.list;this.getCount(a)}},beforeUpload:function(e){this.setState({loading:!0,batch:[]});var t=y.hrUrl+"hr-leave-detail/upload-xls",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,f.default.leaveDetailFields,e,this.uploadComplete),!1},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e=this,t=this.state.batch,a=this.state.hours1,l=this.state.hours,i=this.state.day,r=this.state.day1,o=0===t.length,d=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"休假类型",dataIndex:"leaveType",key:"leaveType",width:120,render:function(t,a){return y.getOptionName("HR系统","假期类型",a.leaveType,!1,e)}},{title:"应计天数",dataIndex:"accrued_1",key:"accrued_1",width:120},{title:"小时",dataIndex:"accrued_2",key:"accrued_2",width:120},{title:"调整前假日",key:"date1",width:120,render:function(e,t,a){return i[a]}},{title:"小时",key:"date2",width:120,render:function(e,t,a){return l[a]}},{title:"调整后假日",key:"date3",width:120,render:function(e,t,a){return isNaN(r[a])?0:r[a]}},{title:"小时",key:"date4",width:120,render:function(e,t,l){return isNaN(a[l])?0:a[l]}}];n.default.createElement("div",{style:{padding:"8px 0 0 0",height:"100%",width:"100%",overflowY:"auto"}},n.default.createElement(c.Button,{style:{margin:"3px 20px 8px 22px"},key:"btnOK",type:"primary",onClick:this.onClickSave,loading:this.state.loading},"保存"),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(c.Table,{columns:d,dataSource:t,rowKey:function(e,t){return t},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})));return n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(s.default,{ref:"mxgBox",svcList:["hr-leave-detail/batch-create"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(c.Button,{icon:"save",type:"primary",title:"批量增加假日信息",onClick:this.handleBatchCreate,disabled:o},"批量增加假日信息"),n.default.createElement(c.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(c.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},n.default.createElement(c.Button,{icon:"upload",title:"上传文件, 需要用户确认后才会保存到数据库"})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(c.Table,{columns:d,dataSource:t,rowKey:function(e,t){return t},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})))}}));t.default=b},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=a(3),y=a(131),S=m.DatePicker.MonthPicker,C=(m.DatePicker.RangePicker,m.Form.Item),E=(m.Select.Option,a(346)),b=a(98),w=a(97),x=r.default.createClass({displayName:"CreateLeaveDetailPage",getInitialState:function(){return{detailSet:{operation:"",errMsg:""},loading:!1,modal:!1,leaveType:"",leave:{},leave2:{},detail:{},hints:{},validRules:[]}},mixins:[f.listenTo(E,"onServiceComplete"),(0,c.default)("detail")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?(this.setState({modal:!1}),w.refreshPage(this.state.leave2)):this.setState({loading:!1,detailSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"accrued",desc:"应计天数",required:!0,max:"16"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"expiryDate",desc:"失效日期",required:!1,max:"24"},{id:"remnant",desc:"剩余天数",required:!1,max:"16"}]},clear:function(e,t){var a=new Date;this.state.hints={},this.state.detail.uuid="",this.state.detail.userUuid=e,this.state.detail.leaveType="dayoff",this.state.detail.accrued="",this.state.detail.effectDate=""+(100*a.getFullYear()+(a.getMonth()+1)),this.state.detail.expiryDate=""+(100*(1+a.getFullYear())+(a.getMonth()+1)),this.state.detail.remnant="",this.state.detail.spend="0",this.state.detail.replacement="0",this.state.detail.repAmount="0",this.state.leave=t,v.copyValue(t,this.state.leave2),this.state.leaveType="dayoff",this.state.detailSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),this.setState({loading:!1})},onClickSave:function(){if(g.formValidator(this,this.state.detail)){this.state.detailSet.operation="",this.setState({loading:!0}),this.state.detail.remnant=this.state.detail.accrued;var e={leave:this.state.leave2,detail:this.state.detail};b.createHrLeaveDetailWithLeave(e)}},getRemnant:function(e){var t=this.state.detail.accrued;return y.getRemnant(e,t)},handleOnSelected2:function(e,t){var a=this.state.leaveType;""!==a&&(this.state.leave2[a]=this.state.leave[a]);var l=this.state.leave[t];this.state.leave2[t]=this.getRemnant(l);var i=this.state.detail;i[e]=t,g.validator(this,i,e),this.setState({modal:this.state.modal,leaveType:t})},handleOnChange3:function(e){var t=this.state.detail,a=y.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a;var l=this.state.leaveType,i=this.state.leave[l];this.state.leave2[l]=this.getRemnant(i),this.setState({modal:this.state.modal})},handleOnChange2:function(e){var t=this.state.leave2,a=y.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({modal:this.state.modal})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=this.state.leaveType,o=this.state.leave[n],s=this.state.leave2[n],u=y.getRemnantFields(this),c=y.getAccruedFields(this),h=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加假日明细",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leave-detail/create"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:""===n||o===s||""===s,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(C,i({},a,{label:"假期类型",required:!0,colon:!0,className:t,help:h.leaveTypeHint,validateStatus:h.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.detail.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")})),r.default.createElement(C,i({},a,{label:"应计天数",required:!0,colon:!0,className:t,help:h.accruedHint,validateStatus:h.accruedStatus}),c.accruedFields),r.default.createElement(C,i({},a,{label:"生效日期",required:!1,colon:!0,className:t,help:h.effectDateHint,validateStatus:h.effectDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatMonth(this.state.detail.effectDate,g.monthFormat),format:g.monthFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",g.monthFormat)})),r.default.createElement(C,i({},a,{label:"失效日期",required:!1,colon:!0,className:t,help:h.expiryDateHint,validateStatus:h.expiryDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"expiryDate",id:"expiryDate",value:this.formatMonth(this.state.detail.expiryDate,g.monthFormat),format:g.monthFormat,onChange:this.handleOnSelDate.bind(this,"expiryDate",g.monthFormat)})),r.default.createElement(C,i({},l,{style:{margin:"40px 0 10px 0"},label:"调整前假日数量",required:!1,colon:!0,className:t}),u.bfFields),r.default.createElement(C,i({},l,{label:"调整后假日数量",required:!0,colon:!0,className:t,help:h.remnantHint,validateStatus:h.remnantStatus}),u.afFields)))}});t.default=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(25),g=l(f),v=a(1262),y=l(v),S=a(1),C=a(6),E=a(3),b=a(131),w=m.DatePicker.MonthPicker,x=(m.DatePicker.RangePicker,m.Form.Item),k=m.Tabs.TabPane,N=a(345),D=a(98),R=a(97),_=r.default.createClass({displayName:"CreateLeaveDetailRegPage",getInitialState:function(){return{detailSet:{operation:"",errMsg:""},loading:!1,leaveLoading:!1,selectKey:"2",leaveType:"",leave:{},leave2:{},detail:{},user:{},hints:{},validRules:[]}},mixins:[S.listenTo(N,"onServiceComplete"),(0,c.default)("detail")],onServiceComplete:function(e){"retrieveLeave"===e.operation&&(E.copyValue(e.leave,this.state.leave2),this.setState({leaveLoading:!1,leave:e.leave})),"create"===e.operation&&(""===e.errMsg?(R.refreshPage(this.state.leave2),this.goBack()):this.setState({loading:!1,detailSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"accrued",desc:"应计天数",required:!0,max:"16"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"expiryDate",desc:"失效日期",required:!1,max:"24"},{id:"remnant",desc:"剩余天数",required:!1,max:"16"}],this.clear()},clear:function(){var e=new Date;this.state.hints={},this.state.detail.uuid="",this.state.detail.userUuid="",this.state.detail.leaveType="dayoff",this.state.detail.accrued="",this.state.detail.effectDate=""+(100*e.getFullYear()+(e.getMonth()+1)),this.state.detail.expiryDate=""+(100*(1+e.getFullYear())+(e.getMonth()+1)),this.state.detail.remnant="",this.state.detail.spend="0",this.state.detail.replacement="0",this.state.detail.repAmount="0",this.state.leaveType="dayoff",this.state.detailSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.state.leave2={},this.setState({loading:!1})},onSelectEmpLoyee:function(e){this.state.detail.userUuid=e.uuid,this.state.detail.staffCode=e.staffCode,this.state.detail.perName=e.perName,this.state.detail.deptUuid=e.deptUuid,this.state.detail.deptName=e.deptName,this.setState({leaveLoading:!0,user:e}),D.retrieveLeave(e.staffCode)},onClickSave:function(){if(C.formValidator(this,this.state.detail)){this.state.detailSet.operation="",this.setState({loading:!0}),this.state.detail.remnant=this.state.detail.accrued;var e={leave:this.state.leave2,detail:this.state.detail};D.createHrLeaveDetailRegWithLeave(e)}},getRemnant:function(e){var t=this.state.detail.accrued;return b.getRemnant(e,t)},handleOnSelected2:function(e,t){var a=this.state.leaveType;""!==a&&(this.state.leave2[a]=this.state.leave[a]);var l=this.state.leave[t];this.state.leave2[t]=this.getRemnant(l);var i=this.state.detail;i[e]=t,C.validator(this,i,e),this.setState({leaveType:t})},handleOnChange3:function(e){var t=this.state.detail,a=b.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a;var l=this.state.leaveType,i=this.state.leave[l];this.state.leave2[l]=this.getRemnant(i),this.setState({loading:this.state.loading})},handleOnChange2:function(e){var t=this.state.leave2,a=b.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({loading:this.state.loading})},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.leaveType,o=this.state.leave[n],s=this.state.leave2[n],u=b.getRemnantFields(this),c=b.getAccruedFields(this,[9,3,8,4]),h=window.loginData.compUser.corpUuid,f=this.state.hints,v=r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(g.default,{style:{padding:"10px 0 16px 40px",width:"600px"},corpUuid:h,onSelectEmpLoyee:this.onSelectEmpLoyee}),r.default.createElement(m.Form,{layout:e,style:{maxWidth:"600px",width:"100%"}},r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:f.staffCodeHint,validateStatus:f.staffCodeStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"员工姓名",required:!1,colon:!0,className:t,help:f.perNameHint,validateStatus:f.perNameStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"任职部门",required:!1,colon:!0,className:t,help:f.deptNameHint,validateStatus:f.deptNameStatus}),r.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName,disabled:!0}))),r.default.createElement(m.Col,{span:"12"})),r.default.createElement(m.Row,{style:{margin:"24px 0 0 0"}},r.default.createElement(m.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"假期类型",required:!0,colon:!0,className:t,help:f.leaveTypeHint,validateStatus:f.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.detail.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"应计天数",required:!0,colon:!0,className:t,help:f.accruedHint,validateStatus:f.accruedStatus}),c.accruedFields))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"生效日期",required:!1,colon:!0,className:t,help:f.effectDateHint,validateStatus:f.effectDateStatus}),r.default.createElement(w,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatMonth(this.state.detail.effectDate,C.monthFormat),format:C.monthFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",C.monthFormat)}))),r.default.createElement(m.Col,{span:"12"},r.default.createElement(x,i({},l,{label:"失效日期",required:!1,colon:!0,className:t,help:f.expiryDateHint,validateStatus:f.expiryDateStatus}),r.default.createElement(w,{style:{width:"100%"},name:"expiryDate",id:"expiryDate",value:this.formatMonth(this.state.detail.expiryDate,C.monthFormat),format:C.monthFormat,onChange:this.handleOnSelDate.bind(this,"expiryDate",C.monthFormat)})))),r.default.createElement(x,i({},a,{style:{margin:"24px 0 10px 0"},label:"调整前假日",required:!1,colon:!0,className:t}),u.bfFields),r.default.createElement(x,i({},a,{label:"调整后假日",required:!0,colon:!0,className:t,help:f.remnantHint,validateStatus:f.remnantStatus}),u.afFields),r.default.createElement(x,{style:{textAlign:"right",margin:"12px 0"},className:t},r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:""===n||o===s||""===s,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))));return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leave-detail/create"]}),r.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(k,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(k,{tab:"增加带薪休假",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},this.state.leaveLoading?r.default.createElement(m.Spin,null,v):v),r.default.createElement(k,{tab:"批量增加假日信息",key:"3",style:{width:"100%",height:"100%",overflowY:"auto"}},r.default.createElement(y.default,{onBack:this.goBack}))))}});e.exports=_},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(12),u=l(d),c=a(9),h=l(c),p=a(70),m=l(p),f=(a(1),s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),g=a(6),v={moreFilter:r.default.PropTypes.bool},y=r.default.createClass({displayName:"LeaveDetailRegFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],leaveDetailReg:{effectDate1:"",effectDate2:"",baseCity:"",leaveType:"",staffCode:"",perName:"",deptUuid:""}}},mixins:[(0,h.default)("leaveDetailReg")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"staffCode",desc:"编号",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"leaveType",desc:"假期类型",required:!1,max:"0"},{id:"deptUuid",desc:"部门uuid",required:!1,max:"0"},{id:"effectDate1",desc:"生效日期1",required:!1,max:"0"},{id:"effectDate2",desc:"生效日期2",required:!1,max:"0"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},r.default.createElement(s.Form,{layout:e,style:{width:"900px",padding:"20px 0px"}},r.default.createElement(s.Row,{gutter:18},r.default.createElement(s.Col,{className:"gutter-row",span:7},r.default.createElement(f,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.leaveDetailReg.perName,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{className:"gutter-row",span:8},r.default.createElement(f,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.leaveDetailReg.staffCode,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{className:"gutter-row",span:9},r.default.createElement(f,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:l.baseCityHint,validateStatus:l.baseCityStatus}),r.default.createElement(s.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.leaveDetailReg.baseCity,onChange:this.handleOnChange})))),r.default.createElement(s.Row,{gutter:18},r.default.createElement(s.Col,{className:"gutter-row",span:7},r.default.createElement(f,i({},a,{label:"类型",required:!1,colon:!0,className:t,help:l.leaveTypeHint,validateStatus:l.leaveTypeStatus}),r.default.createElement(u.default,{name:"leaveType",id:"leaveType",value:this.state.leaveDetailReg.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected.bind(this,"leaveType")}))),r.default.createElement(s.Col,{className:"gutter-row",span:8},r.default.createElement(f,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:l.deptUuidHint,validateStatus:l.deptUuidStatus}),r.default.createElement(m.default,{name:"deptUuid",
id:"deptUuid",value:this.state.leaveDetailReg.deptUuid,onSelect:this.handleOnSelected.bind(this,"deptUuid")}))),r.default.createElement(s.Col,{className:"gutter-row",span:9},r.default.createElement(f,i({},a,{label:"休假日期",required:!1,colon:!0,className:t}),r.default.createElement(s.Col,{span:"11"},r.default.createElement(f,{help:l.effectDate1Hint,validateStatus:l.effectDate1Status},r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"effectDate1",id:"effectDate1",value:this.formatDate(this.state.leaveDetailReg.effectDate1,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate1",g.dateFormat)}))),r.default.createElement(s.Col,{span:"2",style:{textAlign:"center"}},"到"),r.default.createElement(s.Col,{span:"11"},r.default.createElement(f,{help:l.effectDate2Hint,validateStatus:l.effectDate2Status},r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"effectDate2",id:"effectDate2",value:this.formatDate(this.state.leaveDetailReg.effectDate2,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate2",g.dateFormat)})))))))))}});y.propTypes=v,e.exports=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=a(3),y=a(131),S=m.DatePicker.MonthPicker,C=(m.DatePicker.RangePicker,m.Form.Item),E=(m.Select.Option,a(346)),b=a(98),w=a(97),x=r.default.createClass({displayName:"UpdateLeaveDetailPage",getInitialState:function(){return{detailSet:{operation:"",errMsg:""},loading:!1,modal:!1,leaveType:"",leave:{},leave2:{},detail:{},hints:{},validRules:[]}},mixins:[f.listenTo(E,"onServiceComplete"),(0,c.default)("detail")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?(this.setState({modal:!1}),w.refreshPage(this.state.leave2)):this.setState({loading:!1,detailSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"accrued",desc:"应计天数",required:!1,max:"16"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"expiryDate",desc:"失效日期",required:!1,max:"24"},{id:"remnant",desc:"剩余天数",required:!0,max:"16"},{id:"spend",desc:"已修天数",required:!1,max:"16"},{id:"replacement",desc:"补偿天数",required:!1,max:"16"},{id:"repAmount",desc:"补偿金额",required:!1,max:"16"}]},initPage:function(e,t){this.state.hints={},v.copyValue(e,this.state.detail),v.copyValue(t,this.state.leave2),this.state.loading=!1,this.state.leave=t,this.state.leaveType=e.leaveType,this.state.detailSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){if(g.formValidator(this,this.state.detail)){this.state.detailSet.operation="",this.setState({loading:!0});var e={leave:this.state.leave2,detail:this.state.detail};b.updateHrLeaveDetailWithLeave(e)}},handleOnSelected2:function(e,t){var a=this.state.leaveType;this.state.leave2[a]=this.state.leave[a];var l=this.state.detail;l[e]=t,g.validator(this,l,e),this.setState({modal:this.state.modal,leaveType:t})},handleOnChange2:function(e){var t=this.state.leave2,a=y.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({modal:this.state.modal})},handleOnChange3:function(e){var t=this.state.detail,a=y.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({modal:this.state.modal})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},o=this.state.leaveType,s=this.state.leave2[o],u=y.getRemnantFields(this),c=y.getAccruedFields2(this),h=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"修改假日明细信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leave-detail/update"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:""===o||""===s,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(C,i({},n,{label:"假期类型",required:!0,colon:!0,className:t,help:h.leaveTypeHint,validateStatus:h.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.detail.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")})),r.default.createElement(m.Row,{gutter:20},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(C,i({},a,{label:"生效日期",required:!1,colon:!0,className:t,help:h.effectDateHint,validateStatus:h.effectDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatMonth(this.state.detail.effectDate,g.monthFormat),format:g.monthFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",g.monthFormat)}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(C,i({},a,{label:"失效日期",required:!1,colon:!0,className:t,help:h.expiryDateHint,validateStatus:h.expiryDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"expiryDate",id:"expiryDate",value:this.formatMonth(this.state.detail.expiryDate,g.monthFormat),format:g.monthFormat,onChange:this.handleOnSelDate.bind(this,"expiryDate",g.monthFormat)})))),r.default.createElement(C,i({},n,{label:"应计天数",required:!1,colon:!0,className:t,help:h.accruedHint,validateStatus:h.accruedStatus}),c.accruedFields),r.default.createElement(C,i({},n,{label:"已修天数",required:!1,colon:!0,className:t,help:h.spendHint,validateStatus:h.spendStatus}),c.spendFields),r.default.createElement(C,i({},n,{label:"剩余天数",required:!0,colon:!0,className:t,help:h.remnantHint,validateStatus:h.remnantStatus}),c.remnantFields),r.default.createElement(m.Row,{gutter:20},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(C,i({},a,{label:"补偿天数",required:!1,colon:!0,className:t,help:h.replacementHint,validateStatus:h.replacementStatus}),r.default.createElement(m.Input,{type:"number",name:"replacement",id:"replacement",value:this.state.detail.replacement,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(C,i({},a,{label:"补偿金额",required:!1,colon:!0,className:t,help:h.repAmountHint,validateStatus:h.repAmountStatus}),r.default.createElement(m.Input,{type:"text",name:"repAmount",id:"repAmount",value:this.state.detail.repAmount,onChange:this.handleOnChange})))),r.default.createElement(C,i({},l,{style:{margin:"40px 0 10px 0"},label:"调整前假日数量",required:!1,colon:!0,className:t}),u.bfFields),r.default.createElement(C,i({},l,{label:"调整后假日数量",required:!0,colon:!0,className:t,help:h.remnantHint,validateStatus:h.remnantStatus}),u.afFields)))}});t.default=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=a(3),y=a(131),S=m.DatePicker.MonthPicker,C=(m.DatePicker.RangePicker,m.Form.Item),E=(m.Select.Option,a(345)),b=a(98),w=a(97),x=r.default.createClass({displayName:"UpdateLeaveDetailRegPage",getInitialState:function(){return{detailSet:{operation:"",errMsg:""},loading:!1,leaveLoading:!1,modal:!1,leaveType:"",leave:{},leave2:{},detail:{},hints:{},validRules:[]}},mixins:[f.listenTo(E,"onServiceComplete"),(0,c.default)("detail")],onServiceComplete:function(e){"retrieveLeave"===e.operation&&(v.copyValue(e.leave,this.state.leave2),this.setState({leaveLoading:!1,leave:e.leave})),this.state.modal&&"update"===e.operation&&(""===e.errMsg?(this.setState({modal:!1}),w.refreshPage(this.state.leave2)):this.setState({loading:!1,detailSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"accrued",desc:"应计天数",required:!1,max:"16"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"expiryDate",desc:"失效日期",required:!1,max:"24"},{id:"remnant",desc:"剩余天数",required:!0,max:"16"},{id:"spend",desc:"已修天数",required:!1,max:"16"},{id:"replacement",desc:"补偿天数",required:!1,max:"16"},{id:"repAmount",desc:"补偿金额",required:!1,max:"16"}]},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.detail),this.state.loading=!1,this.state.leaveType=e.leaveType,this.state.detailSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),this.state.leaveLoading=!0,this.state.leave={},this.state.leave2={},b.retrieveLeave(e.staffCode)},onClickSave:function(){if(g.formValidator(this,this.state.detail)){this.state.detailSet.operation="",this.setState({loading:!0});var e={leave:this.state.leave2,detail:this.state.detail};b.updateHrLeaveDetailRegWithLeave(e)}},handleOnSelected2:function(e,t){var a=this.state.leaveType;this.state.leave2[a]=this.state.leave[a];var l=this.state.detail;l[e]=t,g.validator(this,l,e),this.setState({modal:this.state.modal,leaveType:t})},handleOnChange2:function(e){var t=this.state.leave2,a=y.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({modal:this.state.modal})},handleOnChange3:function(e){var t=this.state.detail,a=y.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({modal:this.state.modal})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.leaveType,o=this.state.leave2[n],s=y.getRemnantFields(this),u=y.getAccruedFields2(this),c=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"修改假日明细信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leave-detail/update","hr-leave-detail/retrieveLeave"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:""===n||""===o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(C,i({},l,{label:"假期类型",required:!0,colon:!0,className:t,help:c.leaveTypeHint,validateStatus:c.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.detail.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")})),r.default.createElement(m.Row,{gutter:20},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(C,i({},a,{label:"生效日期",required:!1,colon:!0,className:t,help:c.effectDateHint,validateStatus:c.effectDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatMonth(this.state.detail.effectDate,g.monthFormat),format:g.monthFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",g.monthFormat)}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(C,i({},a,{label:"失效日期",required:!1,colon:!0,className:t,help:c.expiryDateHint,validateStatus:c.expiryDateStatus}),r.default.createElement(S,{style:{width:"100%"},name:"expiryDate",id:"expiryDate",value:this.formatMonth(this.state.detail.expiryDate,g.monthFormat),format:g.monthFormat,onChange:this.handleOnSelDate.bind(this,"expiryDate",g.monthFormat)})))),r.default.createElement(C,i({},l,{label:"应计天数",required:!1,colon:!0,className:t,help:c.accruedHint,validateStatus:c.accruedStatus}),u.accruedFields),r.default.createElement(C,i({},l,{label:"已修天数",required:!1,colon:!0,className:t,help:c.spendHint,validateStatus:c.spendStatus}),u.spendFields),r.default.createElement(C,i({},l,{label:"剩余天数",required:!0,colon:!0,className:t,help:c.remnantHint,validateStatus:c.remnantStatus}),u.remnantFields),r.default.createElement(m.Row,{gutter:20},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(C,i({},a,{label:"补偿天数",required:!1,colon:!0,className:t,help:c.replacementHint,validateStatus:c.replacementStatus}),r.default.createElement(m.Input,{type:"number",name:"replacement",id:"replacement",value:this.state.detail.replacement,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(C,i({},a,{label:"补偿金额",required:!1,colon:!0,className:t,help:c.repAmountHint,validateStatus:c.repAmountStatus}),r.default.createElement(m.Input,{type:"text",name:"repAmount",id:"repAmount",value:this.state.detail.repAmount,onChange:this.handleOnChange})))),r.default.createElement(C,i({},l,{style:{margin:"24px 0 10px 0"},label:"调整前假日",required:!1,colon:!0,className:t}),s.bfFields),r.default.createElement(C,i({},l,{label:"调整后假日",required:!0,colon:!0,className:t,help:c.remnantHint,validateStatus:c.remnantStatus}),s.afFields)))}});t.default=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1263),h=l(c),p=a(1266),m=l(p),f=a(1),g=a(6),v=a(3),y=a(346),S=a(98),C=({leave:n.default.PropTypes.object},n.default.createClass({displayName:"LeaveDetailPage",getInitialState:function(){return{detailSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,leave:this.props.leave}},mixins:[f.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,detailSet:e})},handleQueryClick:function(e){var t=this.state.leave.uuid;this.setState({loading:!0}),this.state.detailSet.operation="",S.retrieveHrLeaveDetail(t)},componentDidMount:function(){var e=this.state.leave.uuid;this.setState({loading:!0}),S.initHrLeaveDetail(e)},handleOpenCreateWindow:function(e){var t=this.state.leave.uuid,a=this.state.leave;this.refs.createWindow.clear(t,a),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){var a=this.state.leave;null!=e&&(this.refs.updateWindow.initPage(e,a),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的假日明细 【"+e.leaveType+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.detailSet.operation="",S.deleteHrLeaveDetail(e.uuid)},onFilterRecord:function(e){filterValue=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=this.state.detailSet.recordSet,a=[{title:"假期类型",dataIndex:"leaveType",key:"leaveType",width:120,render:function(t,a){return v.getOptionName("HR系统","假期类型",a.leaveType,!1,e)}},{title:"应计天数",dataIndex:"accrued",key:"accrued",width:120},{title:"已修天数",dataIndex:"spend",key:"spend",width:120},{title:"剩余天数",dataIndex:"remnant",key:"remnant",width:120},{title:"补偿天数",dataIndex:"replacement",key:"replacement",width:120},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:160,render:function(e,t){return g.formatMonth(e,g.monthFormat)}},{title:"失效日期",dataIndex:"expiryDate",key:"expiryDate",width:160,render:function(e,t){return g.formatMonth(e,g.monthFormat)}},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"调整"},n.default.createElement(u.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},n.default.createElement(u.Icon,{type:g.iconRemove})))}}],l=g.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},n.default.createElement("div",{style:{margin:l.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leave-detail/retrieve","hr-leave-detail/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:g.iconAdd,type:"primary",title:"增加假日明细",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:g.tableBorder})),n.default.createElement(h.default,{ref:"createWindow"}),n.default.createElement(m.default,{ref:"updateWindow"}))}}));e.exports=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1265),h=l(c),p=a(1264),m=l(p),f=a(1267),g=l(f),v=a(26),y=(l(v),a(165)),S=(l(y),a(1)),C=u.Input.Search,E=a(6),b=a(3),w=a(345),x=a(98),k=10,N=n.default.createClass({displayName:"LeaveDetailRegPage",getInitialState:function(){return{leaveDetailRegSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,leaveDetailReg:{},batch:{},moreFilter:!1,filterValue:"",filter:{}}},mixins:[S.listenTo(w,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.LeaveDetailRegFilter;null!==a&&"undefined"!=typeof a&&(a.state.leaveDetailReg=this.state.filter)}}this.setState({loading:!1,leaveDetailRegSet:e})},componentDidMount:function(){x.getCacheData()},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.corpUuid=window.loginData.compUser.corpUuid,t.more=this.state.moreFilter?"1":"0",x.retrieveHrLeaveDetailRegPage(t,this.state.leaveDetailRegSet.startPage,k)},handleOpenCreateWindow:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onGoBack:function(){this.setState({action:"query"})},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的假日 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.leaveDetailRegSet.operation="",x.deleteHrLeaveDetailReg(e.uuid)},onChangePage:function(e){this.state.leaveDetailRegSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){k=t,this.handleQueryClick()},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onSearch3:function(){this.state.filter=this.refs.LeaveDetailRegFilter.state.leaveDetailReg,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;E.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},render:function(){var e=this,t=this.state.leaveDetailRegSet.recordSet,a=this.state.moreFilter,l=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:140},{title:"假期类型",dataIndex:"leaveType",key:"leaveType",width:120,render:function(t,a){return b.getOptionName("HR系统","假期类型",a.leaveType,!1,e)}},{title:"应计天数",dataIndex:"accrued",key:"accrued",width:120},{title:"已修天数",dataIndex:"spend",key:"spend",width:120},{title:"剩余天数",dataIndex:"remnant",key:"remnant",width:120},{title:"补偿天数",dataIndex:"replacement",key:"replacement",width:120},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:160,render:function(e,t){return E.formatMonth(e,E.monthFormat)}},{title:"失效日期",dataIndex:"expiryDate",key:"expiryDate",width:160,render:function(e,t){return E.formatMonth(e,E.monthFormat)}},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"调整"},n.default.createElement(u.Icon,{type:E.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},n.default.createElement(u.Icon,{type:E.iconRemove})))}}],i="query"===this.state.action?"":"none",r={showQuickJumper:!0,total:this.state.leaveDetailRegSet.totalRow,pageSize:this.state.leaveDetailRegSet.pageRow,current:this.state.leaveDetailRegSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{overflow:"auto",display:i}},n.default.createElement("div",{style:{padding:"8px 0 0 0",height:"100%",width:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leave-detail/retrieve","hr-leave-detail/remove"]}),n.default.createElement(h.default,{ref:"LeaveDetailRegFilter",moreFilter:a}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:E.iconAdd,type:"primary",title:"增加假日明细",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:E.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),a?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading,style:{marginRight:"8px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.filterToggle},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(C,{placeholder:"查询（员工编号/员工姓名）",onSearch:this.onSearch,value:this.state.filterValue,onChange:this.onChangeFilter,style:{width:"220px"}}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.filterToggle,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:l,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:E.tableBorder})))),s=null;return"create"===this.state.action&&(s=n.default.createElement(m.default,{onBack:this.onGoBack})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s,n.default.createElement(g.default,{ref:"updateWindow"}))}});e.exports=N},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(347),f=l(m),g=a(4),v=a(1),y=a(6),S=a(3),C=a(131),E=(g.DatePicker.MonthPicker,g.DatePicker.RangePicker,g.Tabs.TabPane),b=g.Form.Item,w=a(219),x=a(107),k=a(97),N=a(98),D=r.default.createClass({displayName:"CreatePaidLeavePage",getInitialState:function(){return{leaveLogSet:{operation:"",errMsg:""},loading:!1,modal:!1,leaveLog:{},hints:{},validRules:[],isSelect:!0,selectKey:"1",leave:this.props.leave,leave2:{},leaveType:"",detail:[],modifyList:[]}},mixins:[v.listenTo(w,"onServiceComplete"),(0,c.default)("leaveLog")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?(this.setState({modal:!1}),k.refreshPage(this.state.leave2),N.refreshPage(this.state.modifyList)):this.setState({loading:!1,leaveLogSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假小时",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"spend",desc:"休假天数",required:!0,dataType:"number",validator:this.checkValue,max:"16"},{id:"proposer",desc:"申请人",required:!1,max:"16"},{id:"applyDay",desc:"申请日期",required:!1,max:"16"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},componentWillReceiveProps:function(e){S.compareTo(this.state.leave,e.leave)&&e.leaveLoading===this.state.leaveLoading||(this.setState({leave:e.leave,leaveLoading:e.leaveLoading}),S.copyValue(e.leave,this.state.leave2))},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var l=parseInt(e);if(l>18||l<9)return"[请输入9~18]"}else if("spend"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accrued"===t.id&&parseInt(e)>7)return"[请输入0~7]"},onClickNext:function(){if(y.formValidator(this,this.state.leaveLog)){void 0!==this.refs.detailTable&&this.refs.detailTable.clear();var e=this.state.leaveType,t=this.state.leave[e],a=this.state.leaveLog.spend,l=this.state.leaveLog.accrued;if(C.remnantCompare(e,t,a,l)<0)return void y.infoMsg("可以使用的假日不足");this.setState({isSelect:!1,selectKey:"2"})}},onTabClick:function(){this.setState({isSelect:!0,selectKey:"1"})},clear:function(e,t){this.state.hints={},this.state.leaveLog.uuid="",this.state.leaveLog.userUuid=e,this.state.leaveLog.perName=this.state.leave.perName,this.state.leaveLog.staffCode=this.state.leave.staffCode,this.state.leaveLog.deptUuid=this.state.leave.deptUuid,this.state.leaveLog.deptName=this.state.leave.deptName,this.state.leaveLog.corpUuid=t,this.state.leaveLog.leaveType="dayoff",this.state.leaveLog.beginDate="",this.state.leaveLog.endDate="",this.state.leaveLog.beginHour="9",this.state.leaveLog.endHour="18",this.state.leaveLog.accrued="0",this.state.leaveLog.spend="",this.state.leaveLog.proposer=window.loginData.authUser.perName,this.state.leaveLog.applyDay="",this.state.leaveLog.approve="",this.state.leaveLog.approveDay="",this.state.leaveLog.reason="",this.state.leaveType="dayoff",this.state.isSelect=!0,this.state.selectKey="1",S.copyValue(this.state.leave,this.state.leave2),this.state.loading=!1,this.state.leaveLogSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onDetailSave:function(e){this.setState({detail:e})},onClickSave:function(){if(y.formValidator(this,this.state.leaveLog)){var e=this.state.leaveType,t=C.getModifyDetails(this.state.detail,e);if(null===t||0===t.length)return;var a="";t.map(function(e,t){a=a+e.spendDay+";"}),this.state.leaveLogSet.operation="",this.setState({loading:!0}),this.state.modifyList=t,this.state.leaveLog.memo2=a;var l={leave:this.state.leave2,log:this.state.leaveLog,detail:t};x.createHrLeaveLogWithLeave(l)}},getRemnant:function(e){var t=this.state.leaveLog.spend,a=this.state.leaveLog.accrued;return""!==a&&(a=(""===t?"0":t)+"."+a),C.getRemnant(e,a,!0)},handleOnSelected2:function(e,t){var a=this.state.leaveType;""!==a&&(this.state.leave2[a]=this.state.leave[a]);var l=this.state.leave[t];this.state.leave2[t]=this.getRemnant(l);var i=this.state.leaveLog;i[e]=t,y.validator(this,i,e),this.setState({modal:this.state.modal,leaveType:t})},handleOnChange2:function(e){var t=this.state.leave2,a=C.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({modal:this.state.modal})},handleOnChange3:function(e){this.handleOnChange(e);var t=(this.state.leaveLog,this.state.leaveType),a=this.state.leave[t];this.state.leave2[t]=this.getRemnant(a),this.setState({modal:this.state.modal})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},n={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:14}},o=this.state.leaveType,s=this.state.leave[o],u=this.state.leave2[o],c=C.getRemnantFields(this),h=C.getRemnantFields2(this),m=this.state.leaveLog.spend,v=this.state.leaveLog.accrued,S=this.state.hints,w=y.dateFormat;return r.default.createElement(g.Modal,{visible:this.state.modal,width:"760px",title:"增加有薪休假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leaveLog/create"]}),this.state.isSelect?r.default.createElement(g.Button,{key:"btnNext",type:"primary",size:"large",disabled:""===o,onClick:this.onClickNext,loading:this.state.loading},"下一步"):r.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",disabled:s===u||""===u,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(g.Tabs,{defaultActiveKey:"1",activeKey:this.state.selectKey,onTabClick:this.onTabClick,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(E,{tab:"休假信息",key:"1",style:{width:"100%",height:"100%"}},r.default.createElement(g.Form,{layout:e,style:{padding:"30px 0 0 0"}},r.default.createElement(g.Row,{gutter:10},r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"假期类型",required:!0,colon:!0,className:t,help:S.leaveTypeHint,validateStatus:S.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.leaveLog.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")}))),r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"剩余天数",required:!1,colon:!0,className:t}),h.bfFields))),r.default.createElement(b,i({},l,{label:"开始日期",required:!0,colon:!0,className:t}),r.default.createElement(g.Col,{className:"gutter-row",span:5},r.default.createElement(b,{help:S.beginDateHint,validateStatus:S.beginDateStatus},r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveLog.beginDate,w),format:w,onChange:this.handleOnSelDate.bind(this,"beginDate",w)}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(g.Col,{span:3},r.default.createElement(b,{help:S.beginHourHint,validateStatus:S.beginHourStatus},r.default.createElement(g.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveLog.beginHour,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(b,i({},l,{label:"结束日期",required:!0,colon:!0,className:t
}),r.default.createElement(g.Col,{className:"gutter-row",span:5},r.default.createElement(b,{help:S.endDateHint,validateStatus:S.endDateStatus},r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveLog.endDate,w),format:w,onChange:this.handleOnSelDate.bind(this,"endDate",w)}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(g.Col,{span:3},r.default.createElement(b,{className:t,help:S.endHourHint,validateStatus:S.endHourStatus},r.default.createElement(g.Input,{type:"text",name:"endHour",id:"endHour",value:this.state.leaveLog.endHour,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(b,i({},l,{label:"休假天数",required:!0,colon:!0,className:t}),h.spendFields),r.default.createElement(g.Row,{gutter:10},r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"申请人",required:!1,colon:!0,className:t,help:S.proposerHint,validateStatus:S.proposerStatus}),r.default.createElement(g.Input,{type:"text",name:"proposer",id:"proposer",value:this.state.leaveLog.proposer,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"申请日期",required:!1,colon:!0,className:t,help:S.applyDayHint,validateStatus:S.applyDayStatus}),r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"applyDay",id:"applyDay",value:this.formatDate(this.state.leaveLog.applyDay,w),format:w,onChange:this.handleOnSelDate.bind(this,"applyDay",w)})))),r.default.createElement(g.Row,{gutter:10},r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:S.approveHint,validateStatus:S.approveStatus}),r.default.createElement(g.Input,{type:"text",name:"approve",id:"approve",value:this.state.leaveLog.approve,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"审批日期",required:!1,colon:!0,className:t,help:S.approveDayHint,validateStatus:S.approveDayStatus}),r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"approveDay",id:"approveDay",value:this.formatDate(this.state.leaveLog.approveDay,w),format:w,onChange:this.handleOnSelDate.bind(this,"approveDay",w)})))),r.default.createElement(b,i({},l,{label:"休假原因",required:!1,colon:!0,className:t,help:S.reasonHint,validateStatus:S.reasonStatus}),r.default.createElement(g.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveLog.reason,onChange:this.handleOnChange})))),r.default.createElement(E,{tab:"抵扣信息",key:"2",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},r.default.createElement(g.Form,{layout:e,style:{padding:"24px 0 0 0"}},r.default.createElement(b,i({},n,{label:"调整前假日数量",required:!1,colon:!0,className:t}),c.bfFields),r.default.createElement(b,i({},n,{label:"调整后假日数量",required:!0,colon:!0,className:t}),c.afFields)),r.default.createElement(f.default,{ref:"detailTable",leave:this.state.leave,leaveType:o,type:"create",spendDay:m,spendHour:v,onDetailSave:this.onDetailSave})))))}});t.default=D},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(347),f=l(m),g=a(4),v=a(25),y=l(v),S=a(1),C=a(6),E=a(3),b=a(131),w=(g.DatePicker.MonthPicker,g.DatePicker.RangePicker,g.Form.Item),x=(g.Select.Option,g.Tabs.TabPane),k=a(261),N=a(107),D=a(97),R=a(98),_=r.default.createClass({displayName:"CreatePaidRegPage",getInitialState:function(){return{leaveLogSet:{operation:"",errMsg:""},user:{},loading:!1,leaveLoading:!1,leaveLog:{},hints:{},validRules:[],isSelect:!0,selectKey:"2",leave:{},leave2:{},leaveType:"",detail:[],modifyList:[]}},mixins:[S.listenTo(k,"onServiceComplete"),(0,c.default)("leaveLog")],onServiceComplete:function(e){if("retrieveLeave"===e.operation&&(this.setState({leaveLoading:!1,leaveLogSet:e,leave:e.leave}),E.copyValue(e.leave,this.state.leave2)),"create"===e.operation)if(""===e.errMsg){this.goBack();var t=this.state.leave2;N.refreshPage(t),D.refreshPage(t),R.refreshPage(this.state.modifyList)}else this.setState({loading:!1,leaveLogSet:e})},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假小时",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"spend",desc:"休假天数",required:!0,dataType:"number",validator:this.checkValue,max:"16"},{id:"proposer",desc:"申请人",required:!1,max:"16"},{id:"applyDay",desc:"申请日期",required:!1,max:"16"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}],this.clear()},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var l=parseInt(e);if(l>18||l<9)return"[请输入9~18]"}else if("spend"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accrued"===t.id&&parseInt(e)>7)return"[请输入0~7]"},componentWillReceiveProps:function(e){},clear:function(){this.state.hints={},this.state.leaveLog.uuid="",this.state.leaveLog.userUuid="",this.state.leaveLog.perName="",this.state.leaveLog.staffCode="",this.state.leaveLog.deptName="",this.state.leaveLog.corpUuid=window.loginData.compUser.corpUuid,this.state.leaveLog.leaveType="dayoff",this.state.leaveLog.beginDate="",this.state.leaveLog.endDate="",this.state.leaveLog.beginHour="9",this.state.leaveLog.endHour="18",this.state.leaveLog.accrued="0",this.state.leaveLog.spend="",this.state.leaveLog.proposer=window.loginData.authUser.perName,this.state.leaveLog.applyDay="",this.state.leaveLog.approve="",this.state.leaveLog.approveDay="",this.state.leaveLog.reason="",this.state.leave2={},this.state.leaveType="dayoff",this.state.isSelect=!0,this.state.selectKey="2",this.state.loading=!1,this.state.leaveLogSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectEmpLoyee:function(e){this.state.leaveLog.userUuid=e.uuid,this.state.leaveLog.staffCode=e.staffCode,this.state.leaveLog.perName=e.perName,this.state.leaveLog.deptUuid=e.deptUuid,this.state.leaveLog.deptName=e.deptName,this.setState({leaveLoading:!0,user:e}),N.retrieveLeave(e.staffCode)},showError:function(e){console.log(e)},onClickNext:function(){if(C.formValidator(this,this.state.leaveLog)){void 0!==this.refs.detailTable&&this.refs.detailTable.clear();var e=this.state.leaveType,t=this.state.leave[e],a=this.state.leaveLog.spend,l=this.state.leaveLog.accrued;if(b.remnantCompare(e,t,a,l)<0)return void C.infoMsg("可以使用的假日不足");this.setState({isSelect:!1,selectKey:"3"})}},onDetailSave:function(e){this.setState({detail:e})},onClickSave:function(){if(C.formValidator(this,this.state.leaveLog)){var e=this.state.leaveType,t=b.getModifyDetails(this.state.detail,e);if(null===t||0===t.length)return;var a="";t.map(function(e,t){a=a+e.spendDay+";"}),this.state.leaveLogSet.operation="",this.setState({loading:!0}),this.state.modifyList=t,this.state.leaveLog.memo2=a;var l={leave:this.state.leave2,log:this.state.leaveLog,detail:t};N.createHrLeaveLogRegWithLeave(l)}},getRemnant:function(e){var t=this.state.leaveLog.spend,a=this.state.leaveLog.accrued;return""!==a&&(a=(""===t?"0":t)+"."+a),b.getRemnant(e,a,!0)},handleOnSelected2:function(e,t){var a=this.state.leaveType;""!==a&&(this.state.leave2[a]=this.state.leave[a]);var l=this.state.leave[t];this.state.leave2[t]=this.getRemnant(l);var i=this.state.leaveLog;i[e]=t,C.validator(this,i,e),this.setState({modal:this.state.modal,leaveType:t})},handleOnChange2:function(e){var t=this.state.leave2,a=b.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({modal:this.state.modal})},handleOnChange3:function(e){this.handleOnChange(e);var t=(this.state.leaveLog,this.state.leaveType),a=this.state.leave[t];this.state.leave2[t]=this.getRemnant(a),this.setState({modal:this.state.modal})},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e?this.props.onBack():"2"===e&&this.setState({isSelect:!0,selectKey:"2"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n={labelCol:"vertical"==e?null:{span:5},wrapperCol:"vertical"==e?null:{span:19}},o=this.state.leaveType,s=(this.state.leave[o],this.state.leave2[o],b.getRemnantFields(this)),u=b.getRemnantFields2(this),c=this.state.leaveLog.spend,h=this.state.leaveLog.accrued,m=this.state.hints,v=C.dateFormat,S=!this.state.user.uuid,E=window.loginData.compUser.corpUuid,k=r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(y.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:E,showError:this.showError,onSelectEmpLoyee:this.onSelectEmpLoyee}),r.default.createElement(g.Form,{layout:e,style:{maxWidth:"600px",width:"100%"}},r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:m.staffCodeHint,validateStatus:m.staffCodeStatus}),r.default.createElement(g.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),r.default.createElement(g.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"员工姓名",required:!1,colon:!0,className:t,help:m.perNameHint,validateStatus:m.perNameStatus}),r.default.createElement(g.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"任职部门",required:!1,colon:!0,className:t,help:m.deptNameHint,validateStatus:m.deptNameStatus}),r.default.createElement(g.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName,disabled:!0})))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"假期类型",required:!0,colon:!0,className:t,help:m.leaveTypeHint,validateStatus:m.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.leaveLog.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")}))),r.default.createElement(g.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"剩余天数",required:!1,colon:!0,className:t}),u.bfFields))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,null,r.default.createElement(w,i({},a,{label:"开始日期",required:!0,colon:!0,className:t}),r.default.createElement(g.Col,{span:"5"},r.default.createElement(w,{help:m.beginDateHint,validateStatus:m.beginDateStatus},r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveLog.beginDate,v),format:v,onChange:this.handleOnSelDate.bind(this,"beginDate",v)}))),r.default.createElement(g.Col,{span:"2",style:{textAlign:"center"}},"日"),r.default.createElement(g.Col,{span:"5"},r.default.createElement(w,{help:m.beginHourHint,validateStatus:m.beginHourStatus},r.default.createElement(g.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveLog.beginHour,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"2",style:{textAlign:"center"}},"时")))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,null,r.default.createElement(w,i({},a,{label:"结束日期",required:!0,colon:!0,className:t}),r.default.createElement(g.Col,{span:"5"},r.default.createElement(w,{help:m.endDateHint,validateStatus:m.endDateStatus},r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveLog.endDate,v),format:v,onChange:this.handleOnSelDate.bind(this,"endDate",v)}))),r.default.createElement(g.Col,{span:"2",style:{textAlign:"center"}},"日"),r.default.createElement(g.Col,{span:"5"},r.default.createElement(w,{className:t,help:m.endHourHint,validateStatus:m.endHourStatus},r.default.createElement(g.Input,{type:"text",name:"endHour",id:"endHour",value:this.state.leaveLog.endHour,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"2",style:{textAlign:"center"}},"时")))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,null,r.default.createElement(w,i({},a,{label:"休假天数",required:!0,colon:!0,className:t}),u.spendFields))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"申请人",required:!1,colon:!0,className:t,help:m.proposerHint,validateStatus:m.proposerStatus}),r.default.createElement(g.Input,{type:"text",name:"proposer",id:"proposer",value:this.state.leaveLog.proposer,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"申请日期",required:!1,colon:!0,className:t,help:m.applyDayHint,validateStatus:m.applyDayStatus}),r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"applyDay",id:"applyDay",value:this.formatDate(this.state.leaveLog.applyDay,v),format:v,onChange:this.handleOnSelDate.bind(this,"applyDay",v)})))),r.default.createElement(g.Row,null,r.default.createElement(g.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:m.approveHint,validateStatus:m.approveStatus}),r.default.createElement(g.Input,{type:"text",name:"approve",id:"approve",value:this.state.leaveLog.approve,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"审批日期",required:!1,colon:!0,className:t,help:m.approveDayHint,validateStatus:m.approveDayStatus}),r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"approveDay",id:"approveDay",value:this.formatDate(this.state.leaveLog.approveDay,v),format:v,onChange:this.handleOnSelDate.bind(this,"approveDay",v)})))),r.default.createElement(w,i({},a,{label:"休假原因",required:!1,colon:!0,className:t,help:m.payMemoHint,validateStatus:m.payMemoStatus}),r.default.createElement(g.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveLog.reason,onChange:this.handleOnChange})),r.default.createElement(w,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(g.Button,{key:"btnNext",type:"primary",size:"large",disabled:S,onClick:this.onClickNext,loading:this.state.loading},"下一步")," ",r.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))));return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leaveLog/create"]}),r.default.createElement(g.Tabs,{defaultActiveKey:"2",activeKey:this.state.selectKey,onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(x,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(x,{tab:"增加带薪休假",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},this.state.leaveLoading?r.default.createElement(g.Spin,null,k):k),r.default.createElement(x,{tab:"抵扣信息",key:"3",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(g.Form,{layout:e,style:{padding:"24px 0 0 0",width:"600px"}},r.default.createElement(w,i({},n,{label:"调整前假日数量",required:!1,colon:!0,className:t}),s.bfFields),r.default.createElement(w,i({},n,{label:"调整后假日数量",required:!0,colon:!0,className:t}),s.afFields),r.default.createElement(f.default,{ref:"detailTable",leave:this.state.leave,leaveType:o,type:"create",spendDay:c,spendHour:h,onDetailSave:this.onDetailSave}),r.default.createElement(w,{style:{textAlign:"right",margin:"4px 12px 0 0"},required:!1,colon:!0,className:t},r.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",disabled:S,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=_},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=(m.DatePicker.MonthPicker,m.DatePicker.RangePicker,m.Form.Item),y=a(219),S=a(107),C=r.default.createClass({displayName:"CreateUnpaidLeavePage",getInitialState:function(){return{leaveLogSet:{operation:"",errMsg:""},loading:!1,modal:!1,leave:this.props.leave,leaveLog:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("leaveLog")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,leaveLogSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假小时",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"spend",desc:"休假天数",required:!0,dataType:"number",validator:this.checkValue,max:"16"},{id:"proposer",desc:"申请人",required:!1,max:"16"},{id:"applyDay",desc:"申请日期",required:!1,max:"16"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var l=parseInt(e);if(l>18||l<9)return"[请输入9~18]"}else if("spend"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accrued"===t.id&&parseInt(e)>7)return"[请输入0~7]"},clear:function(e,t){this.state.hints={},this.state.leaveLog.uuid="",this.state.leaveLog.userUuid=e,this.state.leaveLog.perName=this.state.leave.perName,this.state.leaveLog.staffCode=this.state.leave.staffCode,this.state.leaveLog.deptUuid=this.state.leave.deptUuid,this.state.leaveLog.deptName=this.state.leave.deptName,this.state.leaveLog.corpUuid=t,this.state.leaveLog.leaveType="事假",this.state.leaveLog.beginDate="",this.state.leaveLog.endDate="",this.state.leaveLog.beginHour="9",this.state.leaveLog.endHour="18",this.state.leaveLog.accrued="0",this.state.leaveLog.spend="",this.state.leaveLog.proposer=window.loginData.authUser.perName,this.state.leaveLog.applyDay="",this.state.leaveLog.approve="",this.state.leaveLog.approveDay="",this.state.leaveLog.reason="",this.state.loading=!1,this.state.leaveLogSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.leaveLog)&&(this.state.leaveLogSet.operation="",this.setState({loading:!0}),S.createHrLeaveLog(this.state.leaveLog))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},n=this.state.hints,o=g.dateFormat;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"720px",title:"增加无薪休假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leaveLog/create"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(m.Row,{gutter:10},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(v,i({},a,{label:"假期类型",required:!0,colon:!0,className:t,help:n.leaveTypeHint,validateStatus:n.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.leaveLog.leaveType,appName:"HR系统",optName:"假期类型2",onSelect:this.handleOnSelected.bind(this,"leaveType")})))),r.default.createElement(v,i({},l,{label:"开始日期",required:!0,colon:!0,className:t}),r.default.createElement(m.Col,{className:"gutter-row",span:5},r.default.createElement(v,{help:n.beginDateHint,validateStatus:n.beginDateStatus},r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveLog.beginDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"beginDate",o)}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(m.Col,{span:3},r.default.createElement(v,{help:n.beginHourHint,validateStatus:n.beginHourStatus},r.default.createElement(m.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveLog.beginHour,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(v,i({},l,{label:"结束日期",required:!0,colon:!0,className:t}),r.default.createElement(m.Col,{className:"gutter-row",span:5},r.default.createElement(v,{help:n.endDateHint,validateStatus:n.endDateStatus},r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveLog.endDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"endDate",o)}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(m.Col,{span:3},r.default.createElement(v,{className:t,help:n.endHourHint,validateStatus:n.endHourStatus},r.default.createElement(m.Input,{type:"text",name:"endHour",id:"endHour",value:this.state.leaveLog.endHour,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(v,i({},l,{label:"休假天数",required:!0,colon:!0,className:t}),r.default.createElement(m.Col,{className:"gutter-row",span:5},r.default.createElement(v,{help:n.spendHint,validateStatus:n.spendStatus},r.default.createElement(m.Input,{type:"text",name:"spend",id:"spend",value:this.state.leaveLog.spend,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"天")),r.default.createElement(m.Col,{span:3},r.default.createElement(v,{className:t,help:n.accruedHint,validateStatus:n.accruedStatus},r.default.createElement(m.Input,{type:"text",name:"accrued",id:"accrued",value:this.state.leaveLog.accrued,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"小时"))),r.default.createElement(m.Row,{gutter:10},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(v,i({},a,{label:"申请人",required:!1,colon:!0,className:t,help:n.proposerHint,validateStatus:n.proposerStatus}),r.default.createElement(m.Input,{type:"text",name:"proposer",id:"proposer",value:this.state.leaveLog.proposer,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(v,i({},a,{label:"申请日期",required:!1,colon:!0,className:t,help:n.applyDayHint,validateStatus:n.applyDayStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"applyDay",id:"applyDay",value:this.formatDate(this.state.leaveLog.applyDay,o),format:o,onChange:this.handleOnSelDate.bind(this,"applyDay",o)})))),r.default.createElement(m.Row,{gutter:10},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(v,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:n.approveHint,validateStatus:n.approveStatus}),r.default.createElement(m.Input,{type:"text",name:"approve",id:"approve",value:this.state.leaveLog.approve,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(v,i({},a,{label:"审批日期",required:!1,colon:!0,className:t,help:n.approveDayHint,validateStatus:n.approveDayStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"approveDay",id:"approveDay",value:this.formatDate(this.state.leaveLog.approveDay,o),format:o,onChange:this.handleOnSelDate.bind(this,"approveDay",o)})))),r.default.createElement(v,i({},l,{label:"休假原因",required:!1,colon:!0,className:t,help:n.reasonHint,validateStatus:n.reasonStatus}),r.default.createElement(m.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveLog.reason,onChange:this.handleOnChange}))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(2),o=l(r),s=a(5),d=(l(s),a(7)),u=l(d),c=a(9),h=l(c),p=a(12),m=l(p),f=a(4),g=a(25),v=l(g),y=a(1),S=a(6),C=(f.DatePicker.MonthPicker,f.DatePicker.RangePicker,f.Form.Item),E=(f.Select.Option,f.Tabs.TabPane),b=a(261),w=a(107),x=o.default.createClass({displayName:"CreateUnpaidRegPage",getInitialState:function(){return{leaveLogSet:{operation:"",errMsg:""},user:{},loading:!1,modal:!1,leaveLog:{},hints:{},validRules:[]}},mixins:[y.listenTo(b,"onServiceComplete"),(0,h.default)("leaveLog")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,leaveLogSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假小时",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"spend",desc:"休假天数",required:!0,dataType:"number",validator:this.checkValue,max:"16"},{id:"proposer",desc:"申请人",required:!1,max:"16"},{id:"applyDay",desc:"申请日期",required:!1,max:"16"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}],this.clear()},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var l=parseInt(e);if(l>18||l<9)return"[请输入9~18]"}else if("spend"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accrued"===t.id&&parseInt(e)>7)return"[请输入0~7]"},componentWillReceiveProps:function(e){this.clear()},clear:function(){this.state.hints={},this.state.leaveLog.uuid="",this.state.leaveLog.userUuid="",this.state.leaveLog.userUuid="",this.state.leaveLog.staffCode="",this.state.leaveLog.perName="",this.state.leaveLog.deptName="",this.state.leaveLog.corpUuid=window.loginData.compUser.corpUuid,this.state.leaveLog.leaveType="事假",this.state.leaveLog.beginDate="",this.state.leaveLog.endDate="",this.state.leaveLog.beginHour="9",this.state.leaveLog.endHour="18",this.state.leaveLog.accrued="0",this.state.leaveLog.spend="",this.state.leaveLog.proposer=window.loginData.authUser.perName,this.state.leaveLog.applyDay="",this.state.leaveLog.approve="",this.state.leaveLog.approveDay="",this.state.leaveLog.reason="",this.state.loading=!1,this.state.leaveLogSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectAllowLog:function(e){this.state.leaveLog.userUuid=e.uuid,this.state.leaveLog.staffCode=e.staffCode,this.state.leaveLog.perName=e.perName,this.state.leaveLog.deptUuid=e.deptUuid,this.state.leaveLog.deptName=e.deptName,this.setState({user:e})},showError:function(e){console.log(e)},onClickSave:function(){S.formValidator(this,this.state.leaveLog)&&(this.state.leaveLogSet.operation="",this.setState({loading:!0}),w.createHrLeaveLogReg(this.state.leaveLog))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e,t="horizontal",a="form-item-"+t,l={labelCol:"vertical"==t?null:{span:4},wrapperCol:"vertical"==t?null:{span:20}},r={labelCol:"vertical"==t?null:{span:8},wrapperCol:"vertical"==t?null:{span:16}},s=this.state.hints,d=S.dateFormat,c=!this.state.user.uuid,h=window.loginData.compUser.corpUuid;return o.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},o.default.createElement(f.Tabs,(e={defaultActiveKey:"1"},i(e,"defaultActiveKey","2"),i(e,"onChange",this.onTabChange),i(e,"tabBarStyle",{paddingLeft:"16px",margin:"-36px 0 0"}),i(e,"style",{width:"100%",height:"100%",padding:"36px 0 0"}),e),o.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),o.default.createElement(E,{tab:"增加无薪休假",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},o.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},o.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-leaveLog/create"]}),o.default.createElement(v.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:h,showError:this.showError,onSelectEmpLoyee:this.onSelectAllowLog}),o.default.createElement(f.Form,{layout:t,style:{width:"600px"}},o.default.createElement(f.Row,null,o.default.createElement(f.Col,{span:"12"},o.default.createElement(C,n({},r,{label:"员工编号",required:!1,colon:!0,className:a,help:s.staffCodeHint,validateStatus:s.staffCodeStatus}),o.default.createElement(f.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),o.default.createElement(f.Col,{span:"12"},o.default.createElement(C,n({},r,{label:"员工姓名",required:!1,colon:!0,className:a,help:s.perNameHint,validateStatus:s.perNameStatus}),o.default.createElement(f.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})))),o.default.createElement(f.Row,null,o.default.createElement(f.Col,{span:"12"},o.default.createElement(C,n({},r,{label:"任职部门",required:!1,colon:!0,className:a,help:s.deptNameHint,validateStatus:s.deptNameStatus}),o.default.createElement(f.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName,disabled:!0})))),o.default.createElement(f.Row,null,o.default.createElement(f.Col,{span:12},o.default.createElement(C,n({},r,{label:"假期类型",required:!0,colon:!0,className:a,help:s.leaveTypeHint,validateStatus:s.leaveTypeStatus}),o.default.createElement(m.default,{name:"leaveType",id:"leaveType",value:this.state.leaveLog.leaveType,appName:"HR系统",optName:"假期类型2",onSelect:this.handleOnSelected.bind(this,"leaveType")})))),o.default.createElement(f.Row,null,o.default.createElement(f.Col,null,o.default.createElement(C,n({},l,{
label:"开始日期",required:!0,colon:!0,className:a}),o.default.createElement(f.Col,{span:"5"},o.default.createElement(C,{help:s.beginDateHint,validateStatus:s.beginDateStatus},o.default.createElement(f.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveLog.beginDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"beginDate",d)}))),o.default.createElement(f.Col,{span:"2",style:{textAlign:"center"}},"日"),o.default.createElement(f.Col,{span:"5"},o.default.createElement(C,{help:s.beginHourHint,validateStatus:s.beginHourStatus},o.default.createElement(f.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveLog.beginHour,onChange:this.handleOnChange}))),o.default.createElement(f.Col,{span:"2",style:{textAlign:"center"}},"时")))),o.default.createElement(f.Row,null,o.default.createElement(f.Col,null,o.default.createElement(C,n({},l,{label:"结束日期",required:!0,colon:!0,className:a}),o.default.createElement(f.Col,{span:"5"},o.default.createElement(C,{help:s.endDateHint,validateStatus:s.endDateStatus},o.default.createElement(f.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveLog.endDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"endDate",d)}))),o.default.createElement(f.Col,{span:"2",style:{textAlign:"center"}},"日"),o.default.createElement(f.Col,{span:"5"},o.default.createElement(C,{className:a,help:s.endHourHint,validateStatus:s.endHourStatus},o.default.createElement(f.Input,{type:"text",name:"endHour",id:"endHour",value:this.state.leaveLog.endHour,onChange:this.handleOnChange}))),o.default.createElement(f.Col,{span:"2",style:{textAlign:"center"}},"时")))),o.default.createElement(f.Row,null,o.default.createElement(f.Col,null,o.default.createElement(C,n({},l,{label:"休假天数",required:!0,colon:!0,className:a}),o.default.createElement(f.Col,{span:"5"},o.default.createElement(C,{help:s.spendHint,validateStatus:s.spendStatus},o.default.createElement(f.Input,{type:"text",name:"spend",id:"spend",value:this.state.leaveLog.spend,onChange:this.handleOnChange}))),o.default.createElement(f.Col,{span:"2",style:{textAlign:"center"}},"天"),o.default.createElement(f.Col,{span:"5"},o.default.createElement(C,{className:a,help:s.accruedHint,validateStatus:s.accruedStatus},o.default.createElement(f.Input,{type:"text",name:"accrued",id:"accrued",value:this.state.leaveLog.accrued,onChange:this.handleOnChange}))),o.default.createElement(f.Col,{span:"2",style:{textAlign:"center"}},"小时")))),o.default.createElement(f.Row,null,o.default.createElement(f.Col,{span:"12"},o.default.createElement(C,n({},r,{label:"申请人",required:!1,colon:!0,className:a,help:s.proposerHint,validateStatus:s.proposerStatus}),o.default.createElement(f.Input,{type:"text",name:"proposer",id:"proposer",value:this.state.leaveLog.proposer,onChange:this.handleOnChange}))),o.default.createElement(f.Col,{span:"12"},o.default.createElement(C,n({},r,{label:"申请日期",required:!1,colon:!0,className:a,help:s.applyDayHint,validateStatus:s.applyDayStatus}),o.default.createElement(f.DatePicker,{style:{width:"100%"},name:"applyDay",id:"applyDay",value:this.formatDate(this.state.leaveLog.applyDay,d),format:d,onChange:this.handleOnSelDate.bind(this,"applyDay",d)})))),o.default.createElement(f.Row,null,o.default.createElement(f.Col,{span:"12"},o.default.createElement(C,n({},r,{label:"审批人",required:!1,colon:!0,className:a,help:s.approveHint,validateStatus:s.approveStatus}),o.default.createElement(f.Input,{type:"text",name:"approve",id:"approve",value:this.state.leaveLog.approve,onChange:this.handleOnChange}))),o.default.createElement(f.Col,{span:"12"},o.default.createElement(C,n({},r,{label:"审批日期",required:!1,colon:!0,className:a,help:s.approveDayHint,validateStatus:s.approveDayStatus}),o.default.createElement(f.DatePicker,{style:{width:"100%"},name:"approveDay",id:"approveDay",value:this.formatDate(this.state.leaveLog.approveDay,d),format:d,onChange:this.handleOnSelDate.bind(this,"approveDay",d)})))),o.default.createElement(C,n({},l,{label:"休假原因",required:!1,colon:!0,className:a,help:s.payMemoHint,validateStatus:s.payMemoStatus}),o.default.createElement(f.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveLog.reason,onChange:this.handleOnChange})),o.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:a},o.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",disabled:c,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=l(d),c=a(4),h=a(70),p=l(h),m=a(12),f=l(m),g=(a(1),a(6)),v=c.Form.Item,y=(c.Select.Option,a(219),a(107),r.default.createClass({displayName:"MoreLeavelLogPage",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],leaveLog:{staffCode:"",perName:"",baseCity:"",date1:"",date2:"",deptUuid:"",leaveType:""}}},mixins:[(0,u.default)("leaveLog")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"date1",desc:"生效日期",required:!1,max:"0"},{id:"date2",desc:"到",required:!1,max:"0"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"baseCity",desc:"归属地",required:!1,max:"128"},{id:"leaveType",desc:"假期类型",required:!1,max:"32"},{id:"deptUuid",desc:"部门UUID",required:!1,max:"24"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"800px",height:"100%",float:"right"}},r.default.createElement(c.Form,{layout:e,style:{width:"100%"}},r.default.createElement(c.Col,{span:"7"},r.default.createElement(v,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(c.Input,{type:"text",name:"perName",id:"perName",value:this.state.leaveLog.perName,onChange:this.handleOnChange}))),r.default.createElement(c.Col,{span:"7"},r.default.createElement(v,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(c.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.leaveLog.staffCode,onChange:this.handleOnChange}))),r.default.createElement(c.Col,{span:"10"},r.default.createElement(v,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:l.jobNameHint,validateStatus:l.jobNameStatus}),r.default.createElement(c.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.leaveLog.baseCity,onChange:this.handleOnChange}))),r.default.createElement(c.Col,{span:"7"},r.default.createElement(v,i({},a,{label:"类型",required:!1,colon:!0,className:t,help:l.leaveTypeHint,validateStatus:l.jleaveTypeStatus}),r.default.createElement(f.default,{name:"leaveType",id:"leaveType",appName:"HR系统",optName:"假期类型",value:this.state.leaveLog.leaveType,onSelect:this.handleOnSelected.bind(this,"leaveType")}))),r.default.createElement(c.Col,{span:"7"},r.default.createElement(v,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:l.deptUuidHint,validateStatus:l.deptUuidStatus}),r.default.createElement(p.default,{name:"deptUuid",id:"deptUuid",value:this.state.leaveLog.deptUuid,onSelect:this.handleOnSelected.bind(this,"deptUuid")}))),r.default.createElement(c.Col,{span:"10"},r.default.createElement(v,i({},a,{label:"休假日期",required:!1,colon:!0,className:t}),r.default.createElement(c.Col,{span:"10"},r.default.createElement(v,{help:l.date1Hint,validateStatus:l.date1Status},r.default.createElement(c.DatePicker,{style:{width:"100%"},name:"date1",id:"date1",value:this.formatDate(this.state.leaveLog.date1,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"date1",g.dateFormat)}))),r.default.createElement(c.Col,{span:"4",style:{textAlign:"center"}},"到"),r.default.createElement(c.Col,{span:"10"},r.default.createElement(v,{help:l.date2Hint,validateStatus:l.date2Status},r.default.createElement(c.DatePicker,{style:{width:"100%"},name:"date2",id:"date2",value:this.formatDate(this.state.leaveLog.date2,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"date2",g.dateFormat)}))))))))}}));t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(347),f=l(m),g=a(4),v=a(1),y=a(6),S=a(3),C=a(131),E=(g.DatePicker.MonthPicker,g.DatePicker.RangePicker,g.Tabs.TabPane),b=g.Form.Item,w=a(219),x=a(107),k=a(97),N=a(98),D=r.default.createClass({displayName:"UpdatePaidLeavePage",getInitialState:function(){return{leaveLogSet:{operation:"",errMsg:""},loading:!1,leaveLoading:!1,modal:!1,leaveLog:{},hints:{},validRules:[],isSelect:!0,selectKey:"1",leave:"",leave2:{},leaveType:"",detail:[],modifyList:[]}},mixins:[v.listenTo(w,"onServiceComplete"),(0,c.default)("leaveLog")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?(this.setState({modal:!1}),k.refreshPage(this.state.leave2),N.refreshPage(this.state.modifyList)):this.setState({loading:!1,leaveLogSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假小时",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"spend",desc:"休假天数",required:!0,dataType:"number",validator:this.checkValue,max:"16"},{id:"proposer",desc:"申请人",required:!1,max:"16"},{id:"applyDay",desc:"申请日期",required:!1,max:"16"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},componentWillReceiveProps:function(e){this.setState({leave:e.leave,leaveLoading:e.leaveLoading})},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var l=parseInt(e);if(l>18||l<9)return"[请输入9~18]"}else if("spend"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accrued"===t.id&&parseInt(e)>7)return"[请输入0~7]"},onClickNext:function(){y.formValidator(this,this.state.leaveLog)&&(void 0!==this.refs.detailTable&&this.refs.detailTable.clear(),this.setState({isSelect:!1,selectKey:"2"}))},onTabClick:function(){this.setState({isSelect:!0,selectKey:"1"})},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.leaveLog),this.state.leaveType=e.leaveType,this.state.isSelect=!0,this.state.selectKey="1",S.copyValue(this.state.leave,this.state.leave2),this.state.loading=!1,this.state.leaveLogSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onDetailSave:function(e){this.setState({detail:e})},onClickSave:function(){if(y.formValidator(this,this.state.leaveLog)){var e=this.state.leaveType,t=C.getModifyDetails(this.state.detail,e);if(null===t||0===t.length)return;var a="";t.map(function(e,t){a=a+e.spendDay+";"}),this.state.leaveLogSet.operation="",this.setState({loading:!0}),this.state.modifyList=t,this.state.leaveLog.memo2=a;var l={leave:this.state.leave2,log:this.state.leaveLog,detail:t};x.updateHrLeaveLogWithLeave(l)}},handleOnChange2:function(e){var t=this.state.leave2,a=C.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({modal:this.state.modal})},handleOnChange3:function(e){this.handleOnChange(e)},handleOnSelected2:function(e,t){var a=this.state.leaveType;this.state.leave2[a]=this.state.leave[a],console.log("this.state.leave2",this.state.leave2),console.log("this.state.leave",this.state.leave);var l=this.state.leaveLog;l[e]=t,y.validator(this,l,e),this.setState({modal:this.state.modal,leaveType:t})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},n={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:14}},o=this.state.leaveType,s="",u="";this.state.leave&&this.state.leave2&&(s=this.state.leave[o],u=this.state.leave2[o]);var c=C.getRemnantFields(this),h=C.getRemnantFields2(this),m=this.state.hints,v=y.dateFormat,S=r.default.createElement(g.Tabs,{defaultActiveKey:"1",activeKey:this.state.selectKey,onTabClick:this.onTabClick,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(E,{tab:"休假信息",key:"1",style:{width:"100%",height:"100%"}},r.default.createElement(g.Form,{layout:e,style:{padding:"30px 0 0 0"}},r.default.createElement(g.Row,{gutter:10},r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"假期类型",required:!0,colon:!0,className:t,help:m.leaveTypeHint,validateStatus:m.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.leaveLog.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")}))),r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"剩余天数",required:!1,colon:!0,className:t}),h.bfFields))),r.default.createElement(b,i({},l,{label:"开始日期",required:!0,colon:!0,className:t}),r.default.createElement(g.Col,{className:"gutter-row",span:5},r.default.createElement(b,{help:m.beginDateHint,validateStatus:m.beginDateStatus},r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveLog.beginDate,v),format:v,onChange:this.handleOnSelDate.bind(this,"beginDate",v)}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(g.Col,{span:3},r.default.createElement(b,{help:m.beginHourHint,validateStatus:m.beginHourStatus},r.default.createElement(g.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveLog.beginHour,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(b,i({},l,{label:"结束日期",required:!0,colon:!0,className:t}),r.default.createElement(g.Col,{className:"gutter-row",span:5},r.default.createElement(b,{help:m.endDateHint,validateStatus:m.endDateStatus},r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveLog.endDate,v),format:v,onChange:this.handleOnSelDate.bind(this,"endDate",v)}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(g.Col,{span:3},r.default.createElement(b,{className:t,help:m.endHourHint,validateStatus:m.endHourStatus},r.default.createElement(g.Input,{type:"text",name:"endHour",id:"endHour",value:this.state.leaveLog.endHour,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(b,i({},l,{label:"休假天数",required:!0,colon:!0,className:t}),h.spendFields),r.default.createElement(g.Row,{gutter:10},r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"申请人",required:!1,colon:!0,className:t,help:m.proposerHint,validateStatus:m.proposerStatus}),r.default.createElement(g.Input,{type:"text",name:"proposer",id:"proposer",value:this.state.leaveLog.proposer,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"申请日期",required:!1,colon:!0,className:t,help:m.applyDayHint,validateStatus:m.applyDayStatus}),r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"applyDay",id:"applyDay",value:this.formatDate(this.state.leaveLog.applyDay,v),format:v,onChange:this.handleOnSelDate.bind(this,"applyDay",v)})))),r.default.createElement(g.Row,{gutter:10},r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:m.approveHint,validateStatus:m.approveStatus}),r.default.createElement(g.Input,{type:"text",name:"approve",id:"approve",value:this.state.leaveLog.approve,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"审批日期",required:!1,colon:!0,className:t,help:m.approveDayHint,validateStatus:m.approveDayStatus}),r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"approveDay",id:"approveDay",value:this.formatDate(this.state.leaveLog.approveDay,v),format:v,onChange:this.handleOnSelDate.bind(this,"approveDay",v)})))),r.default.createElement(b,i({},l,{label:"休假原因",required:!1,colon:!0,className:t,help:m.reasonHint,validateStatus:m.reasonStatus}),r.default.createElement(g.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveLog.reason,onChange:this.handleOnChange})))),r.default.createElement(E,{tab:"抵扣信息",key:"2",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},r.default.createElement(g.Form,{layout:e,style:{padding:"30px 0 0 0"}},r.default.createElement(b,i({},n,{label:"调整前假日数量",required:!1,colon:!0,className:t}),c.bfFields),r.default.createElement(b,i({},n,{label:"调整后假日数量",required:!0,colon:!0,className:t,help:m.remnantHint,validateStatus:m.remnantStatus}),c.afFields)),r.default.createElement(f.default,{ref:"detailTable",leave:this.state.leave,leaveLog:this.state.leaveLog,leaveType:o,type:"update",onDetailSave:this.onDetailSave})));return r.default.createElement(g.Modal,{visible:this.state.modal,width:"760px",title:"修改有薪休假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leaveLog/update"]}),this.state.isSelect?r.default.createElement(g.Button,{key:"btnNext",type:"primary",size:"large",disabled:""===o,onClick:this.onClickNext,loading:this.state.loading},"下一步"):r.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},this.state.leaveLoading?r.default.createElement(g.Spin,null,S):S))}});t.default=D},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(347),f=l(m),g=a(4),v=a(1),y=a(6),S=a(3),C=a(131),E=(g.DatePicker.MonthPicker,g.DatePicker.RangePicker,g.Tabs.TabPane),b=g.Form.Item,w=a(261),x=a(107),k=a(97),N=a(98),D=r.default.createClass({displayName:"UpdatePaidLeavePage",getInitialState:function(){return{leaveLogSet:{operation:"",errMsg:""},loading:!1,leaveLoading:!1,modal:!1,leaveLog:{},hints:{},validRules:[],isSelect:!0,selectKey:"1",leave:{},leave2:{},leaveType:"",detail:[],modifyList:[]}},mixins:[v.listenTo(w,"onServiceComplete"),(0,c.default)("leaveLog")],onServiceComplete:function(e){if(this.state.modal&&"update"===e.operation)if(""===e.errMsg){this.setState({modal:!1});var t=this.state.leave2;x.refreshPage(t),k.refreshPage(t),N.refreshPage(this.state.modifyList)}else this.setState({loading:!1,leaveLogSet:e})},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假小时",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"spend",desc:"休假天数",required:!0,dataType:"number",validator:this.checkValue,max:"16"},{id:"proposer",desc:"申请人",required:!1,max:"16"},{id:"applyDay",desc:"申请日期",required:!1,max:"16"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},componentWillReceiveProps:function(e){S.compareTo(this.state.leave,e.leave)&&e.leaveLoading===this.state.leaveLoading||(this.setState({leave:e.leave,leaveLoading:e.leaveLoading}),S.copyValue(e.leave,this.state.leave2))},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var l=parseInt(e);if(l>18||l<9)return"[请输入9~18]"}else if("spend"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accrued"===t.id&&parseInt(e)>7)return"[请输入0~7]"},onClickNext:function(){y.formValidator(this,this.state.leaveLog)&&(void 0!==this.refs.detailTable&&this.refs.detailTable.clear(),this.setState({isSelect:!1,selectKey:"2"}))},onTabClick:function(){this.setState({isSelect:!0,selectKey:"1"})},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.leaveLog),this.state.leaveType=e.leaveType,this.state.isSelect=!0,this.state.selectKey="1",this.state.loading=!1,this.state.leaveLogSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onDetailSave:function(e){this.setState({detail:e})},onClickSave:function(){if(y.formValidator(this,this.state.leaveLog)){var e=this.state.leaveType,t=C.getModifyDetails(this.state.detail,e);if(null===t||0===t.length)return;var a="";t.map(function(e,t){a=a+e.spendDay+";"}),this.state.leaveLogSet.operation="",this.setState({loading:!0}),this.state.modifyList=t,this.state.leaveLog.memo2=a;var l={leave:this.state.leave2,log:this.state.leaveLog,detail:t};x.updateHrLeaveLogRegWithLeave(l)}},handleOnChange2:function(e){var t=this.state.leave2,a=C.changeRemnantValue(t,e.target.id,e.target.value);this.state.hints[e.target.id+"Hint"]=a,this.setState({modal:this.state.modal})},handleOnChange3:function(e){this.handleOnChange(e)},handleOnSelected2:function(e,t){var a=this.state.leaveType;this.state.leave2[a]=this.state.leave[a];var l=this.state.leaveLog;l[e]=t,y.validator(this,l,e),this.setState({modal:this.state.modal,leaveType:t})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},n={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:14}},o=this.state.leaveType,s="",u="";this.state.leave&&this.state.leave2&&(s=this.state.leave[o],u=this.state.leave2[o]);var c=C.getRemnantFields(this),h=C.getRemnantFields2(this),m=this.state.hints,v=y.dateFormat,S=r.default.createElement(g.Tabs,{defaultActiveKey:"1",activeKey:this.state.selectKey,onTabClick:this.onTabClick,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(E,{tab:"休假信息",key:"1",style:{width:"100%",height:"100%"}},r.default.createElement(g.Form,{layout:e,style:{padding:"30px 0 0 0"}},r.default.createElement(g.Row,{gutter:10},r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"假期类型",required:!0,colon:!0,className:t,help:m.leaveTypeHint,validateStatus:m.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.leaveLog.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")}))),r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"剩余天数",required:!1,colon:!0,className:t}),h.bfFields))),r.default.createElement(b,i({},l,{label:"开始日期",required:!0,colon:!0,className:t}),r.default.createElement(g.Col,{className:"gutter-row",span:5},r.default.createElement(b,{help:m.beginDateHint,validateStatus:m.beginDateStatus},r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveLog.beginDate,v),format:v,onChange:this.handleOnSelDate.bind(this,"beginDate",v)}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(g.Col,{span:3},r.default.createElement(b,{help:m.beginHourHint,validateStatus:m.beginHourStatus},r.default.createElement(g.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveLog.beginHour,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(b,i({},l,{label:"结束日期",required:!0,colon:!0,className:t}),r.default.createElement(g.Col,{className:"gutter-row",span:5},r.default.createElement(b,{help:m.endDateHint,validateStatus:m.endDateStatus},r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveLog.endDate,v),format:v,onChange:this.handleOnSelDate.bind(this,"endDate",v)}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(g.Col,{span:3},r.default.createElement(b,{className:t,help:m.endHourHint,validateStatus:m.endHourStatus},r.default.createElement(g.Input,{type:"text",name:"endHour",id:"endHour",value:this.state.leaveLog.endHour,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(b,i({},l,{label:"休假天数",required:!0,colon:!0,className:t}),h.spendFields),r.default.createElement(g.Row,{gutter:10},r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"申请人",required:!1,colon:!0,className:t,help:m.proposerHint,validateStatus:m.proposerStatus}),r.default.createElement(g.Input,{type:"text",name:"proposer",id:"proposer",value:this.state.leaveLog.proposer,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"申请日期",required:!1,colon:!0,className:t,help:m.applyDayHint,validateStatus:m.applyDayStatus}),r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"applyDay",id:"applyDay",value:this.formatDate(this.state.leaveLog.applyDay,v),format:v,onChange:this.handleOnSelDate.bind(this,"applyDay",v)})))),r.default.createElement(g.Row,{gutter:10},r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:m.approveHint,validateStatus:m.approveStatus}),r.default.createElement(g.Input,{type:"text",name:"approve",id:"approve",value:this.state.leaveLog.approve,onChange:this.handleOnChange}))),r.default.createElement(g.Col,{className:"gutter-row",span:12},r.default.createElement(b,i({},a,{label:"审批日期",required:!1,colon:!0,className:t,help:m.approveDayHint,validateStatus:m.approveDayStatus}),r.default.createElement(g.DatePicker,{style:{width:"100%"},name:"approveDay",id:"approveDay",value:this.formatDate(this.state.leaveLog.approveDay,v),format:v,onChange:this.handleOnSelDate.bind(this,"approveDay",v)})))),r.default.createElement(b,i({},l,{label:"休假原因",required:!1,colon:!0,className:t,help:m.reasonHint,validateStatus:m.reasonStatus}),r.default.createElement(g.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveLog.reason,onChange:this.handleOnChange})))),r.default.createElement(E,{tab:"抵扣信息",key:"2",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},r.default.createElement(g.Form,{layout:e,style:{padding:"30px 0 0 0"}},r.default.createElement(b,i({},n,{label:"调整前假日数量",required:!1,colon:!0,className:t}),c.bfFields),r.default.createElement(b,i({},n,{label:"调整后假日数量",required:!0,colon:!0,className:t,help:m.remnantHint,validateStatus:m.remnantStatus}),c.afFields)),r.default.createElement(f.default,{ref:"detailTable",leave:this.state.leave,leaveLog:this.state.leaveLog,leaveType:o,type:"update",onDetailSave:this.onDetailSave})));return r.default.createElement(g.Modal,{visible:this.state.modal,width:"760px",title:"修改有薪休假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leaveLog/update"]}),this.state.isSelect?r.default.createElement(g.Button,{key:"btnNext",type:"primary",size:"large",disabled:""===o,onClick:this.onClickNext,loading:this.state.loading},"下一步"):r.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},this.state.leaveLoading?r.default.createElement(g.Spin,null,S):S))}});t.default=D},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=a(3),y=(m.DatePicker.MonthPicker,m.DatePicker.RangePicker,m.Form.Item),S=(m.Select.Option,a(219)),C=a(107),E=r.default.createClass({displayName:"UpdateUnpaidLeavePage",getInitialState:function(){return{leaveLogSet:{operation:"",errMsg:""},loading:!1,modal:!1,leaveLog:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("leaveLog")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,leaveLogSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假小时",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"spend",desc:"休假天数",required:!0,dataType:"number",validator:this.checkValue,max:"16"},{id:"proposer",desc:"申请人",required:!1,max:"16"},{id:"applyDay",desc:"申请日期",required:!1,max:"16"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var l=parseInt(e);if(l>18||l<9)return"[请输入9~18]"}else if("spend"===t.id){if(parseInt(e)>365)return"[请输入0~365]";
}else if("accrued"===t.id&&parseInt(e)>7)return"[请输入0~7]"},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.leaveLog),this.state.loading=!1,this.state.leaveLogSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.leaveLog)&&(this.state.leaveLogSet.operation="",this.setState({loading:!0}),C.updateHrLeaveLog(this.state.leaveLog))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},n=this.state.hints,o=g.dateFormat;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"720px",title:"修改无薪休假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leaveLog/update"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(m.Row,{gutter:10},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"假期类型",required:!0,colon:!0,className:t,help:n.leaveTypeHint,validateStatus:n.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.leaveLog.leaveType,appName:"HR系统",optName:"假期类型2",onSelect:this.handleOnSelected.bind(this,"leaveType")})))),r.default.createElement(y,i({},l,{label:"开始日期",required:!0,colon:!0,className:t}),r.default.createElement(m.Col,{className:"gutter-row",span:5},r.default.createElement(y,{help:n.beginDateHint,validateStatus:n.beginDateStatus},r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveLog.beginDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"beginDate",o)}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(m.Col,{span:3},r.default.createElement(y,{help:n.beginHourHint,validateStatus:n.beginHourStatus},r.default.createElement(m.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveLog.beginHour,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(y,i({},l,{label:"结束日期",required:!0,colon:!0,className:t}),r.default.createElement(m.Col,{className:"gutter-row",span:5},r.default.createElement(y,{help:n.endDateHint,validateStatus:n.endDateStatus},r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveLog.endDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"endDate",o)}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(m.Col,{span:3},r.default.createElement(y,{className:t,help:n.endHourHint,validateStatus:n.endHourStatus},r.default.createElement(m.Input,{type:"text",name:"endHour",id:"endHour",value:this.state.leaveLog.endHour,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(y,i({},l,{label:"休假天数",required:!0,colon:!0,className:t}),r.default.createElement(m.Col,{className:"gutter-row",span:5},r.default.createElement(y,{help:n.spendHint,validateStatus:n.spendStatus},r.default.createElement(m.Input,{type:"text",name:"spend",id:"spend",value:this.state.leaveLog.spend,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"天")),r.default.createElement(m.Col,{span:3},r.default.createElement(y,{className:t,help:n.accruedHint,validateStatus:n.accruedStatus},r.default.createElement(m.Input,{type:"text",name:"accrued",id:"accrued",value:this.state.leaveLog.accrued,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"小时"))),r.default.createElement(m.Row,{gutter:10},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"申请人",required:!1,colon:!0,className:t,help:n.proposerHint,validateStatus:n.proposerStatus}),r.default.createElement(m.Input,{type:"text",name:"proposer",id:"proposer",value:this.state.leaveLog.proposer,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"申请日期",required:!1,colon:!0,className:t,help:n.applyDayHint,validateStatus:n.applyDayStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"applyDay",id:"applyDay",value:this.formatDate(this.state.leaveLog.applyDay,o),format:o,onChange:this.handleOnSelDate.bind(this,"applyDay",o)})))),r.default.createElement(m.Row,{gutter:10},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:n.approveHint,validateStatus:n.approveStatus}),r.default.createElement(m.Input,{type:"text",name:"approve",id:"approve",value:this.state.leaveLog.approve,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"审批日期",required:!1,colon:!0,className:t,help:n.approveDayHint,validateStatus:n.approveDayStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"approveDay",id:"approveDay",value:this.formatDate(this.state.leaveLog.approveDay,o),format:o,onChange:this.handleOnSelDate.bind(this,"approveDay",o)})))),r.default.createElement(y,i({},l,{label:"休假原因",required:!1,colon:!0,className:t,help:n.reasonHint,validateStatus:n.reasonStatus}),r.default.createElement(m.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveLog.reason,onChange:this.handleOnChange}))))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=a(3),y=(m.DatePicker.MonthPicker,m.DatePicker.RangePicker,m.Form.Item),S=(m.Select.Option,a(261)),C=a(107),E=r.default.createClass({displayName:"UpdateUnpaidLeavePage",getInitialState:function(){return{leaveLogSet:{operation:"",errMsg:""},loading:!1,modal:!1,leaveLog:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("leaveLog")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,leaveLogSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假小时",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"spend",desc:"休假天数",required:!0,dataType:"number",validator:this.checkValue,max:"16"},{id:"proposer",desc:"申请人",required:!1,max:"16"},{id:"applyDay",desc:"申请日期",required:!1,max:"16"},{id:"approve",desc:"审批人",required:!1,max:"16"},{id:"approveDay",desc:"审批日期",required:!1,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var l=parseInt(e);if(l>18||l<9)return"[请输入9~18]"}else if("spend"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accrued"===t.id&&parseInt(e)>7)return"[请输入0~7]"},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.leaveLog),this.state.loading=!1,this.state.leaveLogSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.leaveLog)&&(this.state.leaveLogSet.operation="",this.setState({loading:!0}),console.log("this.state.leaveLog",this.state.leaveLog),C.updateHrLeaveLogReg(this.state.leaveLog))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},n=this.state.hints,o=g.dateFormat;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"720px",title:"修改无薪休假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leaveLog/update"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(m.Row,{gutter:10},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"假期类型",required:!0,colon:!0,className:t,help:n.leaveTypeHint,validateStatus:n.leaveTypeStatus}),r.default.createElement(p.default,{name:"leaveType",id:"leaveType",value:this.state.leaveLog.leaveType,appName:"HR系统",optName:"假期类型2",onSelect:this.handleOnSelected.bind(this,"leaveType")})))),r.default.createElement(y,i({},l,{label:"开始日期",required:!0,colon:!0,className:t}),r.default.createElement(m.Col,{className:"gutter-row",span:5},r.default.createElement(y,{help:n.beginDateHint,validateStatus:n.beginDateStatus},r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveLog.beginDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"beginDate",o)}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(m.Col,{span:3},r.default.createElement(y,{help:n.beginHourHint,validateStatus:n.beginHourStatus},r.default.createElement(m.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveLog.beginHour,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(y,i({},l,{label:"结束日期",required:!0,colon:!0,className:t}),r.default.createElement(m.Col,{className:"gutter-row",span:5},r.default.createElement(y,{help:n.endDateHint,validateStatus:n.endDateStatus},r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveLog.endDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"endDate",o)}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"日")),r.default.createElement(m.Col,{span:3},r.default.createElement(y,{className:t,help:n.endHourHint,validateStatus:n.endHourStatus},r.default.createElement(m.Input,{type:"text",name:"endHour",id:"endHour",value:this.state.leaveLog.endHour,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"时"))),r.default.createElement(y,i({},l,{label:"休假天数",required:!0,colon:!0,className:t}),r.default.createElement(m.Col,{className:"gutter-row",span:5},r.default.createElement(y,{help:n.spendHint,validateStatus:n.spendStatus},r.default.createElement(m.Input,{type:"text",name:"spend",id:"spend",value:this.state.leaveLog.spend,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"天")),r.default.createElement(m.Col,{span:3},r.default.createElement(y,{className:t,help:n.accruedHint,validateStatus:n.accruedStatus},r.default.createElement(m.Input,{type:"text",name:"accrued",id:"accrued",value:this.state.leaveLog.accrued,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:2},r.default.createElement("div",{style:{margin:"0 0 0 10px"}},"小时"))),r.default.createElement(m.Row,{gutter:10},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"申请人",required:!1,colon:!0,className:t,help:n.proposerHint,validateStatus:n.proposerStatus}),r.default.createElement(m.Input,{type:"text",name:"proposer",id:"proposer",value:this.state.leaveLog.proposer,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"申请日期",required:!1,colon:!0,className:t,help:n.applyDayHint,validateStatus:n.applyDayStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"applyDay",id:"applyDay",value:this.formatDate(this.state.leaveLog.applyDay,o),format:o,onChange:this.handleOnSelDate.bind(this,"applyDay",o)})))),r.default.createElement(m.Row,{gutter:10},r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:n.approveHint,validateStatus:n.approveStatus}),r.default.createElement(m.Input,{type:"text",name:"approve",id:"approve",value:this.state.leaveLog.approve,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{className:"gutter-row",span:12},r.default.createElement(y,i({},a,{label:"审批日期",required:!1,colon:!0,className:t,help:n.approveDayHint,validateStatus:n.approveDayStatus}),r.default.createElement(m.DatePicker,{style:{width:"100%"},name:"approveDay",id:"approveDay",value:this.formatDate(this.state.leaveLog.approveDay,o),format:o,onChange:this.handleOnSelDate.bind(this,"approveDay",o)})))),r.default.createElement(y,i({},l,{label:"休假原因",required:!1,colon:!0,className:t,help:n.reasonHint,validateStatus:n.reasonStatus}),r.default.createElement(m.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveLog.reason,onChange:this.handleOnChange}))))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1272),h=l(c),p=a(1270),m=l(p),f=a(1277),g=l(f),v=a(1275),y=l(v),S=a(1),C=a(6),E=a(3),b=a(219),w=a(107),x=({leave:n.default.PropTypes.object},n.default.createClass({displayName:"LeaveLogPage",getInitialState:function(){return{leaveLogSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,leave:this.props.leave,corpUuid:window.loginData.compUser.corpUuid}},mixins:[S.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,leaveLogSet:e})},handleQueryClick:function(e){var t=this.state.leave.uuid;this.setState({loading:!0}),this.state.leaveLogSet.operation="",w.retrieveHrLeaveLog(t)},componentDidMount:function(){var e=this.state.leave.uuid;this.setState({loading:!0}),w.initHrLeaveLog(e)},handleOpenUnpaidCreateWindow:function(e){var t=this.state.leave.uuid,a=this.state.corpUuid;this.refs.unpaidCreateWindow.clear(t,a),this.refs.unpaidCreateWindow.toggle()},handleOpenPaidCreateWindow:function(e){var t=this.state.leave.uuid,a=this.state.corpUuid;this.refs.paidCreateWindow.clear(t,a),this.refs.paidCreateWindow.toggle()},onClickUpdate:function(e,t){var a=this.state.leave,l=e.leaveType;null!=e&&(void 0===a[l]?(this.refs.unpaidUpdateWindow.initPage(e),this.refs.unpaidUpdateWindow.toggle()):(this.refs.paidUpdateWindow.initPage(e),this.refs.paidUpdateWindow.toggle()))},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的休假日志 【"+e.leaveType+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.leaveLogSet.operation="",w.deleteHrLeaveLog(e.uuid)},onFilterRecord:function(e){filterValue=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=this.state.leaveLogSet.recordSet,a=[{title:"假期类型",dataIndex:"leaveType",key:"leaveType",width:120,render:function(t,a){return E.getOptionName("HR系统","假期类型",a.leaveType,!1,e)}},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:120,render:function(e,t){return C.formatDate(e,C.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:120,render:function(e,t){return C.formatDate(e,C.dateFormat)}},{title:"休假天数",dataIndex:"spend",key:"spend",width:120},{title:"小时",dataIndex:"accrued",key:"accrued",width:120},{title:"休假原因",dataIndex:"reason",key:"reason",width:180},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"调整"},n.default.createElement(u.Icon,{type:C.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},n.default.createElement(u.Icon,{type:C.iconRemove})))}}],l=C.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},n.default.createElement("div",{style:{margin:l.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leaveLog/retrieve","hr-leaveLog/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(u.Button,{icon:C.iconAdd,type:"primary",title:"增加无薪休假",onClick:this.handleOpenUnpaidCreateWindow},"无薪假"),n.default.createElement(u.Button,{icon:C.iconAdd,title:"增加有薪休假",onClick:this.handleOpenPaidCreateWindow,style:{marginLeft:"4px"}},"带薪假"),n.default.createElement(u.Button,{icon:C.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:C.tableBorder})),n.default.createElement(h.default,{ref:"unpaidCreateWindow",leave:this.state.leave}),n.default.createElement(m.default,{ref:"paidCreateWindow",leave:this.state.leave}),n.default.createElement(g.default,{ref:"unpaidUpdateWindow"}),n.default.createElement(y.default,{ref:"paidUpdateWindow",leave:this.state.leave}))}}));e.exports=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1274),h=l(c),p=a(1278),m=l(p),f=a(1276),g=l(f),v=a(1273),y=l(v),S=a(1271),C=l(S),E=a(1),b=u.Input.Search,w=a(6),x=a(3),k=a(261),N=a(107),D=10,R=n.default.createClass({displayName:"LeaveLogRegPage",getInitialState:function(){return{leaveLogRegSet:{recordSet:[],leave:null,startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",leaveLog:null,loading:!1,leaveLoading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[E.listenTo(k,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.MoreLeavelLogPage;null!==a&&"undefined"!=typeof a&&(a.state.leaveLog=this.state.filter)}}return"retrieveLeave"===e.operation?void this.setState({leaveLoading:!1,leaveLogRegSet:e}):void this.setState({loading:!1,leaveLogRegSet:e})},componentDidMount:function(){N.getCacheData()},handleQueryClick:function(){this.setState({loading:!0});var e=this.state.filter;e.corpUuid=window.loginData.compUser.corpUuid,e.more=this.state.moreFilter?"1":"0",N.retrieveHrLeaveLogRegPage(e,this.state.leaveLogRegSet.startPage,D)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.leaveLogRegSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){D=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;w.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){this.state.filter=this.refs.MoreLeavelLogPage.state.leaveLog,this.handleQueryClick()},getSpendTime:function(e){return e.accrued&&"0"!==e.accrued?e.spend+"天 "+e.accrued+"时":e.spend+"天"},handleOpenCreateUnpaidWindow:function(e){this.setState({action:"createUnpaid"})},handleOpenPaidCreateWindow:function(e){this.setState({action:"createPaid"})},onClickUpdate:function(e,t){this.state.leaveLog=e;var a=e.leaveType;null!=e&&("事假"===a||"其他无薪假期"===a||"病假"===a?(this.refs.unpaidUpdateWindow.initPage(e),this.refs.unpaidUpdateWindow.toggle()):(this.setState({leaveLoading:!0}),N.retrieveLeave(e.staffCode),this.refs.paidUpdateWindow.initPage(e),this.refs.paidUpdateWindow.toggle()))},onGoBack:function(){this.setState({action:"query"})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.leaveLogRegSet.operation="",N.deleteHrLeaveLog(e.uuid)},render:function(e){var t=this,a=(window.loginData.compUser.corpUuid,[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:140},{title:"休假类型",dataIndex:"leaveType",key:"leaveType",width:140,render:function(e,a){return x.getOptionName("HR系统","假期类型",a.leaveType,!1,t)}},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return w.formatDate(e,w.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return w.formatDate(e,w.dateFormat)}},{title:"天数",dataIndex:"spend",key:"spend",width:140,render:function(e,a){return t.getSpendTime(a)}},{title:"更多操作",key:"action",width:100,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickUpdate.bind(t,a),title:"调整"},n.default.createElement(u.Icon,{type:w.iconUpdate})))}}]),l=this.state.leaveLogRegSet.recordSet,i=this.state.moreFilter,r="query"===this.state.action?"":"none",o={showQuickJumper:!0,total:this.state.leaveLogRegSet.totalRow,pageSize:this.state.leaveLogRegSet.pageRow,current:this.state.leaveLogRegSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},s=n.default.createElement("div",{className:"grid-page",style:{overflow:"auto",display:r}},n.default.createElement("div",{style:{padding:"8px 0 0 0",height:"100%",width:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-leaveLog/retrieve","hr-leaveLog/remove"]}),n.default.createElement(h.default,{ref:"MoreLeavelLogPage",moreFilter:i}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:w.iconAdd,type:"primary",title:"增加无薪休假",onClick:this.handleOpenCreateUnpaidWindow},"无薪假"),n.default.createElement(u.Button,{icon:w.iconAdd,title:"增加有薪休假",onClick:this.handleOpenPaidCreateWindow,style:{marginLeft:"4px"}},"带薪假"),n.default.createElement(u.Button,{icon:w.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),i?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(b,{placeholder:"查询(员工编号/员工姓名)",style:{width:w.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:l,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:o,size:"middle",bordered:w.tableBorder})))),c=null;return"createUnpaid"===this.state.action?c=n.default.createElement(y.default,{onBack:this.onGoBack}):"createPaid"===this.state.action&&(c=n.default.createElement(C.default,{onBack:this.onGoBack})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},s,c,n.default.createElement(m.default,{ref:"unpaidUpdateWindow"}),n.default.createElement(g.default,{ref:"paidUpdateWindow",leave:this.state.leaveLogRegSet.leave,leaveLoading:this.state.leaveLoading}))}});e.exports=R},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=h.Form.Item,g=(h.Select.Option,a(89)),v=a(72),y=r.default.createClass({displayName:"CreateLevelPage",getInitialState:function(){return{LevelSet:{operation:"",errMsg:""},loading:!1,modal:!1,Level:{},hints:{},validRules:[]}},mixins:[p.listenTo(g,"onServiceComplete"),(0,c.default)("Level")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({loading:!1,modal:!1}):this.setState({loading:!1,LevelSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"lvlCode",desc:"级别编号",required:!0,max:64},{id:"lvlName",desc:"级别名称",required:!0,max:"64"},{id:"lvlSalary",desc:"平均薪水",required:!1,max:"1024"},{id:"lvlRatio",desc:"员工比例",required:!1,max:"64"},{id:"unitTime",desc:"结算单位",required:!1,max:"32"},{id:"unitPrice",desc:"结算单价",required:!1,max:"32"},{id:"unitCost",desc:"平均成本",required:!1,max:"32"},{id:"lvlDesc",desc:"级别说明",required:!1,max:"1024"}]},clear:function(e){this.state.hints={},this.state.Level.uuid="",this.state.Level.corpUuid=e,this.state.Level.lvlCode="",this.state.Level.lvlName="",this.state.Level.lvlSalary="",this.state.Level.lvlRatio="",this.state.Level.unitTime="",this.state.Level.unitPrice="",this.state.Level.unitCost="",this.state.Level.lvlDesc="",this.state.loading=!1,this.state.LevelSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.Level)&&(this.state.LevelSet.operation="",this.setState({loading:!0}),v.createHrLevel(this.state.Level))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"增加管理",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-level/create"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(f,i({},a,{label:"级别编号",required:!0,colon:!0,className:t,help:l.lvlCodeHint,validateStatus:l.lvlCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"lvlCode",id:"lvlCode",value:this.state.Level.lvlCode,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"级别名称",required:!0,colon:!0,className:t,help:l.lvlNameHint,validateStatus:l.lvlNameStatus}),r.default.createElement(h.Input,{type:"text",name:"lvlName",id:"lvlName",value:this.state.Level.lvlName,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"平均薪水",colon:!0,className:t,help:l.lvlSalaryHint,validateStatus:l.lvlSalaryStatus}),r.default.createElement(h.Input,{type:"text",name:"lvlSalary",id:"lvlSalary",value:this.state.Level.lvlSalary,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"员工比例",colon:!0,className:t,help:l.lvlRatioHint,validateStatus:l.lvlRatioStatus}),r.default.createElement(h.Input,{type:"text",name:"lvlRatio",id:"lvlRatio",value:this.state.Level.lvlRatio,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"结算单位",colon:!0,className:t,help:l.unitTimeHint,validateStatus:l.unitTimeStatus}),r.default.createElement(h.Input,{type:"text",name:"unitTime",id:"unitTime",value:this.state.Level.unitTime,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"结算单价",colon:!0,className:t,help:l.unitPriceHint,validateStatus:l.unitPriceStatus}),r.default.createElement(h.Input,{type:"text",name:"unitPrice",id:"unitPrice",value:this.state.Level.unitPrice,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"平均成本",colon:!0,className:t,help:l.unitCostHint,validateStatus:l.unitCostStatus}),r.default.createElement(h.Input,{type:"text",name:"unitCost",id:"unitCost",value:this.state.Level.unitCost,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"级别说明",colon:!0,className:t,help:l.lvlDescHint,validateStatus:l.lvlDescStatus}),r.default.createElement(h.Input,{type:"textarea",name:"lvlDesc",id:"lvlDesc",value:this.state.Level.lvlDesc,onChange:this.handleOnChange,style:{height:"80px"}}))))}});t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.Form.Item,v=(h.Select.Option,a(89)),y=a(72),S=r.default.createClass({displayName:"UpdateLevelPage",getInitialState:function(){return{LevelSet:{operation:"",errMsg:""},loading:!1,modal:!1,Level:{},hints:{},validRules:[]}},mixins:[p.listenTo(v,"onServiceComplete"),(0,c.default)("Level")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,LevelSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"lvlCode",desc:"级别编号",required:!0,max:"64"},{id:"lvlName",desc:"级别名称",required:!0,max:"64"},{id:"lvlSalary",desc:"平均薪水",required:!1,max:"1024"},{id:"lvlRatio",desc:"员工比例",required:!1,max:"64"},{id:"unitTime",desc:"结算单位",required:!1,max:"32"},{id:"unitPrice",desc:"结算单价",required:!1,max:"32"},{id:"unitCost",desc:"平均成本",required:!1,max:"32"},{id:"lvlDesc",desc:"级别说明",required:!1,max:"1024"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.Level),this.state.loading=!1,this.state.LevelSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.Level)&&(this.state.LevelSet.operation="",this.setState({loading:!0}),y.updateHrLevel(this.state.Level))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改管理信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{
ref:"mxgBox",svcList:["hr-level/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(g,i({},a,{label:"级别编号",required:!0,colon:!0,className:t,help:l.lvlCodeHint,validateStatus:l.lvlCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"lvlCode",id:"lvlCode",value:this.state.Level.lvlCode,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"级别名称",required:!0,colon:!0,className:t,help:l.lvlNameHint,validateStatus:l.lvlNameStatus}),r.default.createElement(h.Input,{type:"text",name:"lvlName",id:"lvlName",value:this.state.Level.lvlName,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"平均薪水",colon:!0,className:t,help:l.lvlSalaryHint,validateStatus:l.lvlSalaryStatus}),r.default.createElement(h.Input,{type:"text",name:"lvlSalary",id:"lvlSalary",value:this.state.Level.lvlSalary,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"员工比例",colon:!0,className:t,help:l.lvlRatioHint,validateStatus:l.lvlRatioStatus}),r.default.createElement(h.Input,{type:"text",name:"lvlRatio",id:"lvlRatio",value:this.state.Level.lvlRatio,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"结算单位",colon:!0,className:t,help:l.unitTimeHint,validateStatus:l.unitTimeStatus}),r.default.createElement(h.Input,{type:"text",name:"unitTime",id:"unitTime",value:this.state.Level.unitTime,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"结算单价",colon:!0,className:t,help:l.unitPriceHint,validateStatus:l.unitPriceStatus}),r.default.createElement(h.Input,{type:"text",name:"unitPrice",id:"unitPrice",value:this.state.Level.unitPrice,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"平均成本",colon:!0,className:t,help:l.unitCostHint,validateStatus:l.unitCostStatus}),r.default.createElement(h.Input,{type:"text",name:"unitCost",id:"unitCost",value:this.state.Level.unitCost,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"级别说明",colon:!0,className:t,help:l.lvlDescHint,validateStatus:l.lvlDescStatus}),r.default.createElement(h.Input,{type:"textarea",name:"lvlDesc",id:"lvlDesc",value:this.state.Level.lvlDesc,onChange:this.handleOnChange,style:{height:"80px"}}))))}});t.default=S},,function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(8),s=(l(o),a(5)),d=(l(s),a(13)),u=a(4),c=a(18),h=l(c),p=a(29),m=l(p),f=(a(17),a(1),u.Form.Item),g=a(6),v=a(3),y=a(22),S=(0,d.withRouter)(r.default.createClass({displayName:"LoginPage2",getInitialState:function(){y.loadContext()&&this.props.router.push({pathname:g.hrHome,state:{from:"login"}});var e="";return"单公司"===g.corpStruct&&(e=g.corpUuid),{user:{userName:"",passwd:"",corpUuid:e},loading:!1,isRemember:!0,errMsg:"",hints:{},validRules:[]}},componentDidMount:function(){y.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",g.formValidator(this,this.state.user)){var a=v.authUrl+"auth-user/login",l=g.calcMD5(t),i={};i.password=l,i.username=this.state.user.userName;var n=this;this.setState({loading:!0}),v.loginService(a,i).then(function(e,t,a){n.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?n.loginSuccess(e.object):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.state.loading=!1,n.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=g.corpUuid;var t=v.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var l=this;this.setState({loading:!0}),v.loginService(t,a).then(function(e,t,a){l.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?l.loginSuccess(e.object):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.state.loading=!1,l.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;y.saveLoginData(e,t);var a=this;v.downAppMenu("人力资源管理","HR").then(function(e){a.state.loading=!1,a.props.router.push({pathname:g.hrHome,state:{from:"login"}})},function(e){a.state.loading=!1,a.showError(e)})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,g.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var l=this.state.user;l[e]=t,this.setState({user:l})},onUserNameFinished:function(e){"单公司"!==g.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,l={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},n=this.state.hints,o="单公司"===g.corpStruct?null:r.default.createElement(f,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:n.compUuidHint,validateStatus:n.compUuidStatus},r.default.createElement(m.default,{name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp}));return r.default.createElement("div",{style:{width:"100%"}},r.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},r.default.createElement(u.Form,{layout:t},r.default.createElement(f,i({},l,{label:"",colon:!0,style:{marginBottom:"20px"},help:n.userNameHint,validateStatus:n.userNameStatus}),r.default.createElement(u.Input,{prefix:r.default.createElement(u.Icon,{type:"user",style:{fontSize:13}}),placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),r.default.createElement(f,i({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:n.passwdHint,validateStatus:n.passwdStatus}),r.default.createElement(u.Input,{prefix:r.default.createElement(u.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),o,r.default.createElement(f,null,r.default.createElement(h.default,{message:e,toggle:this.onDismiss}),r.default.createElement(u.Checkbox,{id:"remember",checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),r.default.createElement(u.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%"},loading:this.state.loading},"登录"),g.resMode?null:r.default.createElement(u.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px"},loading:this.state.loading},"快速登录")))))}}));e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=(l(i),a(13),a(1284)),r=l(n),o=a(692),s=l(o),d=a(61),u=l(d),c=[{path:"/",component:r.default},{path:"/hr.html",component:r.default},{path:"/main/",component:s.default,childRoutes:[{path:"passwd/",component:a(38)},{path:"logout/",component:a(37)}]},a(1286),{path:"*",component:u.default}];t.default=c},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(692),n=l(i),r=a(36),o=l(r),s=a(700),d=l(s),u=a(695),c=l(u),h=a(710),p=l(h),m=a(704),f=l(m),g=a(705),v=l(g);e.exports={path:"/hr",component:n.default,indexRoute:{component:o.default},childRoutes:[{path:"/hr/",component:a(1246),indexRoute:{component:c.default},childRoutes:[{path:"CorpStaffPage/",component:a(695)},{path:"BranchPage/",component:a(1194)},{path:"DeptGroupPage/",component:a(1216)},{path:"DeptPage/",component:a(1212)}]},{path:"/hr/",component:a(1245),indexRoute:{component:d.default},childRoutes:[{path:"EmployeePage/",component:a(700)},{path:"EmployeeQueryPage/",component:a(1239)},{path:"ContactPage/",component:a(1205)},{path:"WorkLogPage/",component:a(1313)},{path:"EmpJobPage/",component:a(1230)},{path:"EmpSalaryPage/",component:a(1236)},{path:"BenefitsPage/",component:a(1181)},{path:"DevicePage/",component:a(1223)}]},{path:"/hr/",component:a(701),indexRoute:{component:p.default},childRoutes:[{path:"SalaryLogPage/",component:a(710)},{path:"AllowLogPage/",component:a(1174)}]},{path:"/hr/",component:a(701),indexRoute:{component:f.default},childRoutes:[{path:"LeavePage/",component:a(704)},{path:"LeaveDetailRegPage/",component:a(1269)},{path:"LeaveLogRegPage/",component:a(1280)}]},{path:"/hr/",component:a(1247),indexRoute:{component:v.default},childRoutes:[{path:"LevelPage/",component:a(705)},{path:"WorkTypePage/",component:a(1320)},{path:"WorkFactorPage/",component:a(711)},{path:"JobPage/",component:a(1256)},{path:"JobFactorPage/",component:a(702)},{path:"InsurancePage/",component:a(1250)},{path:"AllowancePage/",component:a(1178)},{path:"TripCityPage/",component:a(1301)},{path:"BizTripPage/",component:a(1187)},{path:"SalaryItemPage/",component:a(1294)},{path:"SalaryFilePage/",component:a(1290)},{path:"HolidayPage/",component:a(1244)}]}]}},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1),c=(a(6),a(3),a(348)),h=a(262),p=n.default.createClass({displayName:"BatchSalaryFilePage",getInitialState:function(){return{recordSet:{errMsg:""},recordList:[],len:0,index:0,modal:!1,stop:!1}},mixins:[u.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){if(this.state.modal)if(""===e.errMsg){var t=this.state.len,a=this.state.index,l=this.state.stop;if(l)return;a+1===t?this.setState({index:a+1}):(this.setState({index:a+1}),this.doBatchCreate(this.state.recordList))}else this.setState({loading:!1,stop:!0,recordSet:e})},componentDidMount:function(){},clear:function(e){this.state.recordList=e,this.state.index=0,this.state.len=e.length,this.state.stop=!1,this.doBatchCreate(e)},doBatchCreate:function(e){var t=this.state.index,a=e[t];a.uuid="",a.corpUuid=window.loginData.compUser.corpUuid,h.createHrSalaryFileItem(a)},onStop:function(){this.state.stop=!0},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this.state.index,t=this.state.recordList[e],a=t?t.colIndex:"",l=Math.floor(e/this.state.len*100),i=null,r=null;return this.state.stop?(i=n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=n.default.createElement("span",null,"已终止！")):(i=a?n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.onStop},"终止"):n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=a?n.default.createElement("span",null,"正在生成 ",a," ……"):n.default.createElement("span",null,"已完成！")),n.default.createElement(o.Modal,{visible:this.state.modal,width:"540px",closable:!1,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_salary_file_item/create"]}),i)]},n.default.createElement("div",{style:{padding:"24px 0px"}},n.default.createElement(o.Progress,{percent:l,status:"active"}),n.default.createElement("p",{style:{padding:"12px 0 0 0"}},r)))}});t.default=p},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(19),p=l(h),m=a(4),f=a(1),g=a(6),v=m.Form.Item,y=(m.Select.Option,a(348)),S=a(262),C=r.default.createClass({displayName:"CreateSalaryFilePage",getInitialState:function(){return{salaryFileSet:{operation:"",errMsg:""},loading:!1,modal:!1,salaryFile:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("salaryFile")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,salaryFileSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"colIndex",desc:"列编号",required:!0,max:"4"},{id:"colName",desc:"列名称",required:!0,max:"64"},{id:"itemCode",desc:"工资代码",required:!0,max:"64"},{id:"salaryItem",desc:"工资项",required:!0,max:"12"}]},clear:function(e){this.state.hints={},this.state.salaryFile.uuid="",this.state.salaryFile.corpUuid=e,this.state.salaryFile.colIndex="",this.state.salaryFile.colName="",this.state.salaryFile.itemCode="",this.state.salaryFile.salaryItem="1",this.state.loading=!1,this.state.salaryFileSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.salaryFile)&&(this.state.salaryFileSet.operation="",this.setState({loading:!0}),S.createHrSalaryFileItem(this.state.salaryFile))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加工资单",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_salary_file_item/create"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(v,i({},a,{label:"列编号",required:!0,colon:!0,className:t,help:l.colIndexHint,validateStatus:l.colIndexStatus}),r.default.createElement(m.Input,{type:"text",name:"colIndex",id:"colIndex",value:this.state.salaryFile.colIndex,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"列名称",required:!0,colon:!0,className:t,help:l.colNameHint,validateStatus:l.colNameStatus}),r.default.createElement(m.Input,{type:"text",name:"colName",id:"colName",value:this.state.salaryFile.colName,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"工资代码",required:!0,colon:!0,className:t,help:l.itemCodeHint,validateStatus:l.itemCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"itemCode",id:"itemCode",value:this.state.salaryFile.itemCode,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"工资项",required:!0,colon:!0,className:t,help:l.salaryItemHint,validateStatus:l.salaryItemStatus}),r.default.createElement(p.default,{name:"salaryItem",id:"salaryItem",value:this.state.salaryFile.salaryItem,appName:"common",optName:"是否",onChange:this.onRadioChange}))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(19),p=l(h),m=a(4),f=a(1),g=a(6),v=a(3),y=m.Form.Item,S=(m.Select.Option,a(348)),C=a(262),E=r.default.createClass({displayName:"UpdateSalaryFilePage",getInitialState:function(){return{salaryFileSet:{operation:"",errMsg:""},loading:!1,modal:!1,salaryFile:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("salaryFile")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,salaryFileSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"colIndex",desc:"列编号",required:!0,max:"4"},{id:"colName",desc:"列名称",required:!0,max:"64"},{id:"itemCode",desc:"工资代码",required:!0,max:"64"},{id:"salaryItem",desc:"工资项",required:!0,max:"12"}]},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.salaryFile),this.state.loading=!1,this.state.salaryFileSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.salaryFile)&&(this.state.salaryFileSet.operation="",this.setState({loading:!0}),C.updateHrSalaryFileItem(this.state.salaryFile))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"修改工资单信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_salary_file_item/update"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(y,i({},a,{label:"列编号",required:!0,colon:!0,className:t,help:l.colIndexHint,validateStatus:l.colIndexStatus}),r.default.createElement(m.Input,{type:"text",name:"colIndex",id:"colIndex",value:this.state.salaryFile.colIndex,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"列名称",required:!0,colon:!0,className:t,help:l.colNameHint,validateStatus:l.colNameStatus}),r.default.createElement(m.Input,{type:"text",name:"colName",id:"colName",value:this.state.salaryFile.colName,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"工资代码",required:!0,colon:!0,className:t,help:l.itemCodeHint,validateStatus:l.itemCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"itemCode",id:"itemCode",value:this.state.salaryFile.itemCode,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"工资项",required:!0,colon:!0,className:t,help:l.salaryItemHint,validateStatus:l.salaryItemStatus}),r.default.createElement(p.default,{name:"salaryItem",id:"salaryItem",value:this.state.salaryFile.salaryItem,appName:"common",optName:"是否",onChange:this.onRadioChange}))))}});t.default=E},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(8),_reactDom2=_interopRequireDefault(_reactDom),_reactMixin=__webpack_require__(5),_reactMixin2=_interopRequireDefault(_reactMixin),_ServiceMsg=__webpack_require__(7),_ServiceMsg2=_interopRequireDefault(_ServiceMsg),_antd=__webpack_require__(4),_XlsTempFile=__webpack_require__(26),_XlsTempFile2=_interopRequireDefault(_XlsTempFile),_CreateSalaryFilePage=__webpack_require__(1288),_CreateSalaryFilePage2=_interopRequireDefault(_CreateSalaryFilePage),_UpdateSalaryFilePage=__webpack_require__(1289),_UpdateSalaryFilePage2=_interopRequireDefault(_UpdateSalaryFilePage),_BatchSalaryFilePage=__webpack_require__(1287),_BatchSalaryFilePage2=_interopRequireDefault(_BatchSalaryFilePage),Reflux=__webpack_require__(1),Search=_antd.Input.Search,Common=__webpack_require__(6),Utils=__webpack_require__(3),SalaryFileStore=__webpack_require__(348),SalaryFileActions=__webpack_require__(262),SalaryFileFields=[{id:"A",name:"colIndex",title:"列编号"},{id:"B",name:"colName",title:"列名称"},{id:"C",name:"itemCode",title:"工资代码"},{id:"D",name:"salaryItem",title:"工资项"}],filterValue="",SalaryFilePage=_react2.default.createClass({displayName:"SalaryFilePage",getInitialState:function(){return{salaryFileSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[Reflux.listenTo(SalaryFileStore,"onServiceComplete"),(0,_XlsTempFile2.default)()],onServiceComplete:function(e){e.recordSet=Common.sortTable(e.recordSet,"colIndex"),this.setState({loading:!1,salaryFileSet:e})},handleQueryClick:function(e){var t=window.loginData.compUser,a=null===t?"":t.corpUuid;this.setState({loading:!0}),this.state.salaryFileSet.operation="",SalaryFileActions.retrieveHrSalaryFileItem(a)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),SalaryFileActions.initHrSalaryFileItem(t)},handleOpenCreateWindow:function(e){var t=window.loginData.compUser,a=null===t?"":t.corpUuid;this.refs.createWindow.clear(a),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){_antd.Modal.confirm({title:"删除确认",content:"是否删除选中的工资单 【"+e.colIndex+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.salaryFileSet.operation="",SalaryFileActions.deleteHrSalaryFileItem(e.uuid)},onFilterRecord:function(e){filterValue=e.target.value,this.setState({loading:this.state.loading})},handleTempDown:function(e){this.downXlsTempFile(SalaryFileFields)},beforeBatchLoad:function(e){this.setState({loading:!0});var t=Utils.paramUrl+"read-xlsx/read",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,SalaryFileFields,e,this.uploadComplete),!1},uploadComplete:function uploadComplete(errMsg,result){if(this.setState({loading:!1}),""!==errMsg)Common.errMsg(errMsg);else{result=result.replace(/}{/g,"},{");var list=eval("("+result+")");list&&(this.refs.batchWindow.clear(list),this.refs.batchWindow.toggle())}},render:function(){var e=this,t=Common.filter(this.state.salaryFileSet.recordSet,filterValue),a=[{title:"列编号",dataIndex:"colIndex",key:"colIndex",width:140},{title:"列名称",dataIndex:"colName",key:"colName",width:140},{title:"工资代码",dataIndex:"itemCode",key:"itemCode",width:140},{title:"工资项",dataIndex:"salaryItem",key:"salaryItem",width:140,render:function(t,a){return Utils.getOptionName("HR系统","是否",a.salaryItem,!1,e)}},{title:"更多操作",key:"action",width:100,render:function(t,a){return _react2.default.createElement("span",null,_react2.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改工资单"},_react2.default.createElement(_antd.Icon,{type:Common.iconUpdate})),_react2.default.createElement("span",{className:"ant-divider"}),_react2.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除工资单"},_react2.default.createElement(_antd.Icon,{type:Common.iconRemove})))}}],l=Common.getGridMargin(this);return _react2.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},_react2.default.createElement("div",{style:{margin:l.margin}},_react2.default.createElement(_ServiceMsg2.default,{ref:"mxgBox",svcList:["hr_salary_file_item/retrieve","hr_salary_file_item/remove"]}),_react2.default.createElement("div",{className:"toolbar-table"},_react2.default.createElement("div",{style:{float:"left"}},_react2.default.createElement(_antd.Button,{icon:Common.iconAdd,type:"primary",title:"增加工资单",onClick:this.handleOpenCreateWindow}),_react2.default.createElement(_antd.Button,{icon:Common.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeBatchLoad,style:{marginLeft:"4px"}},_react2.default.createElement(_antd.Button,{icon:"upload",title:"批量增加数据"}))),_react2.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},_react2.default.createElement(Search,{placeholder:"查找记录",style:{width:Common.searchWidth},value:filterValue,onChange:this.onFilterRecord})))),_react2.default.createElement("div",{className:"grid-body"},_react2.default.createElement(_antd.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:Common.tableBorder})),_react2.default.createElement(_CreateSalaryFilePage2.default,{ref:"createWindow"}),_react2.default.createElement(_UpdateSalaryFilePage2.default,{ref:"updateWindow"}),_react2.default.createElement(_BatchSalaryFilePage2.default,{ref:"batchWindow"}))}});module.exports=SalaryFilePage},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1),c=(a(6),a(3),a(188)),h=a(147),p=n.default.createClass({displayName:"BatchSalaryItemPage",getInitialState:function(){return{recordSet:{errMsg:""},recordList:[],len:0,index:0,modal:!1,stop:!1}},mixins:[u.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){if(this.state.modal)if(""===e.errMsg){var t=this.state.len,a=this.state.index,l=this.state.stop;if(l)return;a+1===t?this.setState({index:a+1}):(this.setState({index:a+1}),this.doBatchCreate(this.state.recordList))}else this.setState({loading:!1,stop:!0,recordSet:e})},componentDidMount:function(){},clear:function(e){this.state.recordList=e,this.state.index=0,this.state.len=e.length,this.state.stop=!1,this.doBatchCreate(e)},doBatchCreate:function(e){var t=this.state.index,a=e[t];a.uuid="",a.corpUuid=window.loginData.compUser.corpUuid,h.createHrSalaryItem(a)},onStop:function(){this.state.stop=!0},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this.state.index,t=this.state.recordList[e],a=t?t.itemCode:"",l=Math.floor(e/this.state.len*100),i=null,r=null;return this.state.stop?(console.log("1"),i=n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=n.default.createElement("span",null,"已终止！")):(i=a?n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.onStop},"终止"):n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=a?n.default.createElement("span",null,"正在生成 ",a," ……"):n.default.createElement("span",null,"已完成！")),n.default.createElement(o.Modal,{visible:this.state.modal,width:"540px",closable:!1,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-salary-item/create"]}),i)]},n.default.createElement("div",{style:{padding:"24px 0px"}},n.default.createElement(o.Progress,{percent:l,status:"active"}),n.default.createElement("p",{style:{padding:"12px 0 0 0"}},r)))}});t.default=p},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=h.Form.Item,g=(h.Select.Option,a(188)),v=a(147),y=r.default.createClass({displayName:"CreateSalaryItemPage",getInitialState:function(){return{salaryItemSet:{operation:"",errMsg:""},loading:!1,modal:!1,salaryItem:{},hints:{},validRules:[]}},mixins:[p.listenTo(g,"onServiceComplete"),(0,c.default)("salaryItem")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,salaryItemSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"groupName",desc:"分类名称",required:!0,max:"64"},{id:"itemIndex",desc:"序号",required:!0,max:"4"},{id:"itemCode",desc:"代码",required:!0,max:"64"},{id:"itemName",desc:"名称",required:!0,max:"64"},{id:"itemDesc",desc:"说明",required:!1,max:"256"}]},clear:function(e){this.state.hints={},this.state.salaryItem.uuid="",this.state.salaryItem.corpUuid=e,this.state.salaryItem.groupName="",this.state.salaryItem.itemIndex="",this.state.salaryItem.itemCode="",this.state.salaryItem.itemName="",this.state.salaryItem.itemDesc="",this.state.loading=!1,this.state.salaryItemSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.salaryItem)&&(this.state.salaryItemSet.operation="",this.setState({loading:!0}),v.createHrSalaryItem(this.state.salaryItem))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"增加工资单参数",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-salary-item/create"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(f,i({},a,{label:"分类名称",required:!0,colon:!0,className:t,help:l.groupNameHint,validateStatus:l.groupNameStatus}),r.default.createElement(h.Input,{type:"text",name:"groupName",id:"groupName",value:this.state.salaryItem.groupName,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"序号",required:!0,colon:!0,className:t,help:l.itemIndexHint,validateStatus:l.itemIndexStatus}),r.default.createElement(h.Input,{type:"text",name:"itemIndex",id:"itemIndex",value:this.state.salaryItem.itemIndex,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"代码",required:!0,colon:!0,className:t,help:l.itemCodeHint,validateStatus:l.itemCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"itemCode",id:"itemCode",value:this.state.salaryItem.itemCode,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"名称",required:!0,colon:!0,className:t,help:l.itemNameHint,validateStatus:l.itemNameStatus}),r.default.createElement(h.Input,{type:"text",name:"itemName",id:"itemName",value:this.state.salaryItem.itemName,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"说明",colon:!0,className:t,help:l.itemDescHint,validateStatus:l.itemDescStatus}),r.default.createElement(h.Input,{type:"textarea",name:"itemDesc",id:"itemDesc",value:this.state.salaryItem.itemDesc,onChange:this.handleOnChange}))))}});t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.Form.Item,v=(h.Select.Option,a(188)),y=a(147),S=r.default.createClass({displayName:"UpdateSalaryItemPage",getInitialState:function(){return{salaryItemSet:{operation:"",errMsg:""},loading:!1,modal:!1,salaryItem:{},hints:{},validRules:[]}},mixins:[p.listenTo(v,"onServiceComplete"),(0,c.default)("salaryItem")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,salaryItemSet:e
}))},componentDidMount:function(){this.state.validRules=[{id:"groupName",desc:"分类名称",required:!0,max:"64"},{id:"itemIndex",desc:"序号",required:!0,max:"4"},{id:"itemCode",desc:"代码",required:!0,max:"64"},{id:"itemName",desc:"名称",required:!0,max:"64"},{id:"itemDesc",desc:"说明",required:!1,max:"256"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.salaryItem),this.state.loading=!1,this.state.salaryItemSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.salaryItem)&&(this.state.salaryItemSet.operation="",this.setState({loading:!0}),y.updateHrSalaryItem(this.state.salaryItem))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改工资单参数信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-salary-item/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(g,i({},a,{label:"分类名称",required:!0,colon:!0,className:t,help:l.groupNameHint,validateStatus:l.groupNameStatus}),r.default.createElement(h.Input,{type:"text",name:"groupName",id:"groupName",value:this.state.salaryItem.groupName,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"序号",required:!0,colon:!0,className:t,help:l.itemIndexHint,validateStatus:l.itemIndexStatus}),r.default.createElement(h.Input,{type:"text",name:"itemIndex",id:"itemIndex",value:this.state.salaryItem.itemIndex,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"代码",required:!0,colon:!0,className:t,help:l.itemCodeHint,validateStatus:l.itemCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"itemCode",id:"itemCode",value:this.state.salaryItem.itemCode,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"名称",required:!0,colon:!0,className:t,help:l.itemNameHint,validateStatus:l.itemNameStatus}),r.default.createElement(h.Input,{type:"text",name:"itemName",id:"itemName",value:this.state.salaryItem.itemName,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"说明",colon:!0,className:t,help:l.itemDescHint,validateStatus:l.itemDescStatus}),r.default.createElement(h.Input,{type:"textarea",name:"itemDesc",id:"itemDesc",value:this.state.salaryItem.itemDesc,onChange:this.handleOnChange}))))}});t.default=S},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(8),_reactDom2=_interopRequireDefault(_reactDom),_reactMixin=__webpack_require__(5),_reactMixin2=_interopRequireDefault(_reactMixin),_ServiceMsg=__webpack_require__(7),_ServiceMsg2=_interopRequireDefault(_ServiceMsg),_antd=__webpack_require__(4),_XlsTempFile=__webpack_require__(26),_XlsTempFile2=_interopRequireDefault(_XlsTempFile),_CreateSalaryItemPage=__webpack_require__(1292),_CreateSalaryItemPage2=_interopRequireDefault(_CreateSalaryItemPage),_UpdateSalaryItemPage=__webpack_require__(1293),_UpdateSalaryItemPage2=_interopRequireDefault(_UpdateSalaryItemPage),_BatchSalaryItemPage=__webpack_require__(1291),_BatchSalaryItemPage2=_interopRequireDefault(_BatchSalaryItemPage),Reflux=__webpack_require__(1),Common=__webpack_require__(6),Utils=__webpack_require__(3),SalaryItemStore=__webpack_require__(188),SalaryItemActions=__webpack_require__(147),SalaryItemFields=[{id:"A",name:"groupName",title:"分类名称"},{id:"B",name:"itemIndex",title:"序号"},{id:"C",name:"itemCode",title:"代码"},{id:"D",name:"itemName",title:"名称"}],SalaryItemPage=_react2.default.createClass({displayName:"SalaryItemPage",getInitialState:function(){return{salaryItemSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[Reflux.listenTo(SalaryItemStore,"onServiceComplete"),(0,_XlsTempFile2.default)()],onServiceComplete:function(e){e.recordSet=Common.sortTable(e.recordSet,"itemIndex"),this.setState({loading:!1,salaryItemSet:e})},handleQueryClick:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),this.state.salaryItemSet.operation="",SalaryItemActions.retrieveHrSalaryItem(t)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),SalaryItemActions.initHrSalaryItem(t)},handleOpenCreateWindow:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){_antd.Modal.confirm({title:"删除确认",content:"是否删除选中的工资单参数 【"+e.itemCode+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.salaryItemSet.operation="",SalaryItemActions.deleteHrSalaryItem(e.uuid)},handleTempDown:function(e){this.downXlsTempFile(SalaryItemFields)},beforeBatchLoad:function(e){this.setState({loading:!0});var t=Utils.paramUrl+"read-xlsx/read",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,SalaryItemFields,e,this.uploadComplete),!1},uploadComplete:function uploadComplete(errMsg,result){if(this.setState({loading:!1}),""!==errMsg)Common.errMsg(errMsg);else{result=result.replace(/}{/g,"},{");var list=eval("("+result+")");list&&(this.refs.batchWindow.clear(list),this.refs.batchWindow.toggle())}},render:function(){var e=this,t=this.state.salaryItemSet.recordSet,a=[{title:"分类名称",dataIndex:"groupName",key:"groupName",width:140},{title:"序号",dataIndex:"itemIndex",key:"itemIndex",width:140},{title:"代码",dataIndex:"itemCode",key:"itemCode",width:140},{title:"名称",dataIndex:"itemName",key:"itemName",width:140},{title:"",key:"action",width:100,render:function(t,a){return _react2.default.createElement("span",null,_react2.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改工资参数"},_react2.default.createElement(_antd.Icon,{type:Common.iconUpdate})),_react2.default.createElement("span",{className:"ant-divider"}),_react2.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除工资参数"},_react2.default.createElement(_antd.Icon,{type:Common.iconRemove})))}}],l=Common.getGridMargin(this);return _react2.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},_react2.default.createElement("div",{style:{margin:l.margin}},_react2.default.createElement(_ServiceMsg2.default,{ref:"mxgBox",svcList:["hr-salary-item/retrieve","hr-salary-item/remove"]}),_react2.default.createElement("div",{className:"toolbar-table"},_react2.default.createElement(_antd.Button,{icon:Common.iconAdd,title:"增加工资单参数",type:"primary",onClick:this.handleOpenCreateWindow}),_react2.default.createElement(_antd.Button,{icon:Common.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeBatchLoad,style:{marginLeft:"4px"}},_react2.default.createElement(_antd.Button,{icon:"upload",title:"批量增加数据"})))),_react2.default.createElement("div",{className:"grid-body"},_react2.default.createElement(_antd.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:Common.tableBorder})),_react2.default.createElement(_CreateSalaryItemPage2.default,{ref:"createWindow"}),_react2.default.createElement(_UpdateSalaryItemPage2.default,{ref:"updateWindow"}),_react2.default.createElement(_BatchSalaryItemPage2.default,{ref:"batchWindow"}))}});module.exports=SalaryItemPage},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(12),m=(l(p),a(25)),f=l(m),g=a(709),v=l(g),y=a(1),S=a(6),C=(a(3),h.Form.Item),E=h.DatePicker.MonthPicker,b=(h.Select.Option,h.Tabs.TabPane),w=a(349),x=a(263),k=r.default.createClass({displayName:"CreateSalaryLogPage",getInitialState:function(){return{salarySet:{operation:"",errMsg:""},loading:!1,action:"",salary:{},user:{},salaryList:[],hints:{},validRules:[]}},mixins:[y.listenTo(w,"onServiceComplete"),(0,c.default)("salary")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,salarySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"salaryMonth",desc:"发放月份",required:!0,max:"24"},{id:"staffCode",desc:"员工编号",required:!0,max:"64"},{id:"salaryName",desc:"工资条名称",required:!0,max:"64"},{id:"salaryBody",desc:"工资条",required:!0}],this.setState({action:this.props.action}),this.clear()},componentWillReceiveProps:function(e){},clear:function(e){this.state.hints={},this.state.salary.corpUuid=window.loginData.compUser.corpUuid,this.state.salary.status="1",this.state.loading=!1,this.state.salarySet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectEmpLoyee:function(e){this.state.salary.staffCode=e.staffCode,this.state.salary.perName=e.perName,this.state.salary.deptUuid=e.deptUuid,this.state.salary.deptName=e.deptName,this.state.salary.userUuid=e.uuid,this.setState({user:e})},showError:function(e){console.log(e)},onClickSave:function(e){var t=JSON.stringify(e);this.state.salary.salaryBody=t,S.formValidator(this,this.state.salary)&&(this.setState({loading:!0}),x.createHrSalaryLog(this.state.salary))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints,n=window.loginData.compUser.corpUuid,o=r.default.createElement(h.Form,{layout:e},r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(C,i({},a,{label:"员工编号",required:!0,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,onChange:this.handleOnChange,disabled:!0}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(C,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(h.Input,{type:"text",name:"perName",id:"perName",value:this.state.user.perName,onChange:this.handleOnChange,disabled:!0})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(C,i({},a,{label:"部门名称",required:!1,colon:!0,className:t,help:l.deptNameHint,validateStatus:l.deptNameStatus}),r.default.createElement(h.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName,onChange:this.handleOnChange,disabled:!0}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(C,i({},a,{label:"银行卡号",required:!1,colon:!0,className:t,help:l.bankCardHint,validateStatus:l.bankCardStatus}),r.default.createElement(h.Input,{type:"text",name:"bankCard",id:"bankCard",value:this.state.salary.bankCard,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(C,i({},a,{label:"工资单名称",required:!0,colon:!0,className:t,help:l.salaryNameHint,validateStatus:l.salaryNameStatus}),r.default.createElement(h.Input,{type:"text",name:"salaryName",id:"salaryName",value:this.state.salary.salaryName,onChange:this.handleOnChange}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(C,i({},a,{label:"绩效分数",required:!1,colon:!0,className:t,help:l.performScoreHint,validateStatus:l.performScoreStatus}),r.default.createElement(h.Input,{type:"text",name:"performScore",id:"performScore",value:this.state.salary.performScore,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(C,i({},a,{label:"发放月份",required:!0,colon:!0,className:t,help:l.salaryMonthHint,validateStatus:l.salaryMonthStatus}),r.default.createElement(E,{name:"salaryMonth",id:"salaryMonth",style:{width:"100%"},value:this.formatMonth(this.state.salary.salaryMonth,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"salaryMonth",S.monthFormat)}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(C,i({},a,{label:"发薪日期",required:!1,colon:!0,className:t,help:l.payDateHint,validateStatus:l.payDateStatus}),r.default.createElement(h.DatePicker,{name:"payDate",id:"payDate",style:{width:"100%"},value:this.formatDate(this.state.salary.payDate,S.dateFormat),format:S.dateFormat,onChange:this.handleOnSelDate.bind(this,"payDate",S.dateFormat)})))));return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(h.Tabs,{defaultActiveKey:"2",onTabClick:this.goBack,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(b,{tab:"增加工资单",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},r.default.createElement("div",{style:{padding:"8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-salary-log/create"]}),r.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},r.default.createElement(f.default,{style:{padding:"10px 0 16px 40px",width:"700px"},corpUuid:n,onSelectEmpLoyee:this.onSelectEmpLoyee}),this.state.loading?r.default.createElement(h.Spin,null,o):o,r.default.createElement(v.default,{onSave:this.onClickSave,onBack:this.goBack,salary:this.state.salary,action:this.state.action})))))))}});t.default=k},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=l(d),c=a(70),h=l(c),p=a(4),m=(a(1),a(6)),f=p.Form.Item,g=r.default.createClass({displayName:"MoreSalaryLogPage",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],salary:{salaryMonth:"",date1:"",date2:"",staffCode:"",salaryName:"",perName:"",baseCity:"",deptUuid:""}}},mixins:[(0,u.default)("salary")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"salaryMonth",desc:"发放月份",required:!1,max:"24"},{id:"date1",desc:"发薪起始日期",required:!1,max:"24"},{id:"date2",desc:"发薪结束日期",required:!1,max:"24"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"salaryName",desc:"名称",required:!1,max:"32"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"baseCity",desc:"归属地",required:!1,max:"128"},{id:"deptName",desc:"部门",required:!1,max:"24"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},r.default.createElement(p.Form,{layout:e,style:{width:"100%"}},r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"6"},r.default.createElement(f,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(p.Input,{type:"text",name:"perName",id:"perName",value:this.state.salary.perName,onChange:this.handleOnChange}))),r.default.createElement(p.Col,{span:"6"},r.default.createElement(f,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(p.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.salary.staffCode,onChange:this.handleOnChange}))),r.default.createElement(p.Col,{span:"6"},r.default.createElement(f,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:l.baseCityHint,validateStatus:l.baseCityStatus}),r.default.createElement(p.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.salary.baseCity,onChange:this.handleOnChange}))),r.default.createElement(p.Col,{span:"6"},r.default.createElement(f,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:l.deptUuidHint,validateStatus:l.deptUuidStatus}),r.default.createElement(h.default,{name:"deptUuid",id:"deptUuid",value:this.state.salary.deptUuid,onSelect:this.handleOnSelected.bind(this,"deptUuid")})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"6"},r.default.createElement(f,i({},a,{label:"发放月份",required:!1,colon:!0,className:t,help:l.salaryMonthHint,validateStatus:l.salaryMonthStatus}),r.default.createElement(p.DatePicker,{name:"salaryMonth",id:"salaryMonth",value:this.formatDate(this.state.salary.salaryMonth,m.dateFormat),format:m.dateFormat,onChange:this.handleOnSelDate.bind(this,"salaryMonth",m.dateFormat)}))),r.default.createElement(p.Col,{span:"6"},r.default.createElement(f,i({},a,{label:"名称",required:!1,colon:!0,className:t,help:l.salaryNameHint,validateStatus:l.salaryNameStatus}),r.default.createElement(p.Input,{type:"text",name:"salaryName",id:"salaryName",value:this.state.salary.salaryName,onChange:this.handleOnChange}))),r.default.createElement(p.Col,{span:"6"},r.default.createElement(f,i({},a,{label:"发薪日期",required:!1,colon:!0,className:t,help:l.date1Hint,validateStatus:l.date1Status}),r.default.createElement(p.DatePicker,{name:"date1",id:"date1",value:this.formatDate(this.state.salary.date1,m.dateFormat),format:m.dateFormat,onChange:this.handleOnSelDate.bind(this,"date1",m.dateFormat)}))),r.default.createElement(p.Col,{span:"6"},r.default.createElement(f,i({},a,{label:"到",required:!1,colon:!0,className:t,help:l.date2Hint,validateStatus:l.date2Status}),r.default.createElement(p.DatePicker,{name:"date2",id:"date2",value:this.formatDate(this.state.salary.date2,m.dateFormat),format:m.dateFormat,onChange:this.handleOnSelDate.bind(this,"date2",m.dateFormat)})))))))}});t.default=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(12),m=(l(p),a(709)),f=l(m),g=a(1),v=a(6),y=a(3),S=h.Form.Item,C=h.DatePicker.MonthPicker,E=(h.Select.Option,h.Tabs.TabPane),b=a(349),w=a(263),x=r.default.createClass({displayName:"UpdateSalaryLogPage",getInitialState:function(){return{salarySet:{operation:"",errMsg:""},salaryItemSet:{recordSet:[],errMsg:""},loading:!1,salary:{},factorList:[],hints:{},validRules:[]}},mixins:[g.listenTo(b,"onServiceComplete"),(0,c.default)("salary")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,salarySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"salaryMonth",desc:"发放月份",required:!0,max:"24"},{id:"staffCode",desc:"员工编号",required:!0,max:"64"},{id:"salaryName",desc:"工资条名称",required:!0,max:"64"},{id:"salaryBody",desc:"工资条",required:!0}],this.initPage(this.props.salary)},componentWillReceiveProps:function(e){},initPage:function(e){y.copyValue(e,this.state.salary),this.setState({loading:!1,hints:{}}),this.state.salarySet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(e){var t=JSON.stringify(e);this.state.salary.salaryBody=t,v.formValidator(this,this.state.salary)&&(this.setState({loading:!0}),w.updateHrSalaryLog(this.state.salary))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints,n=r.default.createElement(h.Form,{layout:e},r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(S,i({},a,{label:"员工编号",required:!0,colon:!0,className:t,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),r.default.createElement(h.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.salary.staffCode,onChange:this.handleOnChange,disabled:!0}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(S,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:l.perNameHint,validateStatus:l.perNameStatus}),r.default.createElement(h.Input,{type:"text",name:"perName",id:"perName",value:this.state.salary.perName,onChange:this.handleOnChange,disabled:!0})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(S,i({},a,{label:"部门名称",required:!1,colon:!0,className:t,help:l.deptNameHint,validateStatus:l.deptNameStatus}),r.default.createElement(h.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.salary.deptName,onChange:this.handleOnChange,disabled:!0}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(S,i({},a,{label:"银行卡号",required:!1,colon:!0,className:t,help:l.bankCardHint,validateStatus:l.bankCardStatus}),r.default.createElement(h.Input,{type:"text",name:"bankCard",id:"bankCard",value:this.state.salary.bankCard,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(S,i({},a,{label:"工资单名称",required:!0,colon:!0,className:t,help:l.salaryNameHint,validateStatus:l.salaryNameStatus}),r.default.createElement(h.Input,{type:"text",name:"salaryName",id:"salaryName",value:this.state.salary.salaryName,onChange:this.handleOnChange}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(S,i({},a,{label:"绩效分数",required:!1,colon:!0,className:t,help:l.performScoreHint,validateStatus:l.performScoreStatus}),r.default.createElement(h.Input,{type:"text",name:"performScore",id:"performScore",value:this.state.salary.performScore,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(S,i({},a,{label:"发放月份",required:!0,colon:!0,className:t,help:l.salaryMonthHint,validateStatus:l.salaryMonthStatus}),r.default.createElement(C,{name:"salaryMonth",id:"salaryMonth",style:{width:"100%"},value:this.formatDate(this.state.salary.salaryMonth,v.monthFormat),format:v.monthFormat,onChange:this.handleOnSelDate.bind(this,"salaryMonth",v.monthFormat)}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(S,i({},a,{label:"发薪日期",required:!1,colon:!0,className:t,help:l.payDateHint,validateStatus:l.payDateStatus}),r.default.createElement(h.DatePicker,{name:"payDate",id:"payDate",style:{width:"100%"},value:this.formatDate(this.state.salary.payDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"payDate",v.dateFormat)})))));return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(h.Tabs,{defaultActiveKey:"2",onTabClick:this.goBack,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(E,{tab:"修改工资单",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},r.default.createElement("div",{style:{padding:"8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-salary-log/update"]}),r.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},this.state.loading?r.default.createElement(h.Spin,null,n):n,r.default.createElement(f.default,{onSave:this.onClickSave,onBack:this.goBack,salary:this.state.salary})))))))}});t.default=x},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=(a(3),h.Form.Item),g=h.DatePicker.MonthPicker,v=h.Tabs.TabPane,y=a(349),S=a(263),C=r.default.createClass({displayName:"UploadSalaryPage",getInitialState:function(){return{loading:!1,salary:{},salaryFile:null,hints:{},validRules:[]}},mixins:[p.listenTo(y,"onServiceComplete"),(0,c.default)("salary")],onServiceComplete:function(e){"upload"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"salaryMonth",desc:"发放月份",required:!0,max:"24"},{id:"salaryFile",desc:"工资单文件",required:!0,max:"128"},{id:"salaryName",desc:"工资条名称",required:!0,max:"64"}],this.initPage()},componentWillReceiveProps:function(e){},initPage:function(){this.setState({loading:!1,hints:{},salary:{},salaryFile:null}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},beforeUpload:function(e){return this.state.salary.salaryFile=e.name,this.setState({salaryFile:e}),!1},onClickSave:function(e){m.formValidator(this,this.state.salary)&&(this.setState({loading:!0}),this.state.salary.corpUuid=window.loginData.compUser.corpUuid,S.uploadFile(this.state.salary,this.state.salaryFile))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=r.default.createElement(h.Form,{layout:e,style:{margin:"12px 0 0 0"}},r.default.createElement(h.Row,null,r.default.createElement(f,i({},a,{label:"工资单名称",required:!0,colon:!0,className:t,help:n.salaryNameHint,validateStatus:n.salaryNameStatus}),r.default.createElement(h.Input,{type:"text",name:"salaryName",id:"salaryName",value:this.state.salary.salaryName,onChange:this.handleOnChange}))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"发放月份",required:!0,colon:!0,className:t,help:n.salaryMonthHint,validateStatus:n.salaryMonthStatus}),r.default.createElement(g,{name:"salaryMonth",id:"salaryMonth",style:{width:"100%"},value:this.formatDate(this.state.salary.salaryMonth,m.monthFormat),format:m.monthFormat,onChange:this.handleOnSelDate.bind(this,"salaryMonth",m.monthFormat)}))),r.default.createElement(h.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"发薪日期",required:!1,colon:!0,className:t,help:n.payDateHint,validateStatus:n.payDateStatus}),r.default.createElement(h.DatePicker,{name:"payDate",id:"payDate",style:{width:"100%"},value:this.formatDate(this.state.salary.payDate,m.dateFormat),format:m.dateFormat,onChange:this.handleOnSelDate.bind(this,"payDate",m.dateFormat)})))),r.default.createElement(h.Row,null,r.default.createElement(f,i({},a,{label:"工资单文件",required:!0,colon:!0,className:t,help:n.salaryFileHint,validateStatus:n.salaryFileStatus}),r.default.createElement(h.Col,{span:"19"},r.default.createElement(h.Input,{type:"text",name:"salaryFile",id:"salaryFile",value:this.state.salary.salaryFile,readOnly:!0})),r.default.createElement(h.Col,{span:"5"},r.default.createElement(h.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{width:"100%"}},r.default.createElement(h.Button,{icon:"upload",style:{width:"100%",marginLeft:"4px"}},"选择文件"))))),r.default.createElement(h.Row,null,r.default.createElement(h.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"文件密码",required:!1,colon:!0,className:t,help:n.passwdHint,validateStatus:n.passwdStatus}),r.default.createElement(h.Input,{type:"text",name:"passwd",id:"passwd",value:this.state.salary.passwd,onChange:this.handleOnChange})))),r.default.createElement(h.Row,null,r.default.createElement(f,{style:{textAlign:"right",margin:"12px 0"},className:t},r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"上传文件"),r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.goBack,style:{margin:"0 0 0 12px"}},"取消"))));return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(h.Tabs,{defaultActiveKey:"2",onTabClick:this.goBack,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(v,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(v,{tab:"上传工资单文件",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},r.default.createElement("div",{style:{padding:"8px",height:"100%",overflowY:"auto"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"600px"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-salary-log/upload"]}),o))))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=h.Form.Item,g=(h.Select.Option,a(189)),v=a(148),y=r.default.createClass({displayName:"CreateTripCityPage",getInitialState:function(){return{tripCitySet:{operation:"",errMsg:""},loading:!1,modal:!1,tripCity:{},hints:{},validRules:[]}},mixins:[p.listenTo(g,"onServiceComplete"),(0,c.default)("tripCity")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tripCitySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"cityType",desc:"城市类型",required:!0,max:"32"},{id:"cityList",desc:"城市列表",required:!0,max:"512"},{id:"cityDesc",desc:"说明",required:!1,max:"256"}]},clear:function(e){this.state.hints={},this.state.tripCity.uuid="",this.state.tripCity.corpUuid=e,this.state.tripCity.cityType="",this.state.tripCity.cityList="",this.state.tripCity.cityDesc="",this.state.loading=!1,this.state.tripCitySet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.tripCity)&&(this.state.tripCitySet.operation="",this.setState({loading:!0}),v.createHrTripCity(this.state.tripCity))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,
width:"540px",title:"增加城市",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_trip_city/create"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(f,i({},a,{label:"城市类型",required:!0,colon:!0,className:t,help:l.cityTypeHint,validateStatus:l.cityTypeStatus}),r.default.createElement(h.Input,{type:"text",name:"cityType",id:"cityType",value:this.state.tripCity.cityType,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"城市列表",required:!0,colon:!0,className:t,help:l.cityListHint,validateStatus:l.cityListStatus}),r.default.createElement(h.Input,{type:"text",name:"cityList",id:"cityList",value:this.state.tripCity.cityList,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"城市说明",colon:!0,className:t,help:l.cityDescHint,validateStatus:l.cityDescStatus}),r.default.createElement(h.Input,{type:"text",name:"cityDesc",id:"cityDesc",value:this.state.tripCity.cityDesc,onChange:this.handleOnChange}))))}});t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.Form.Item,v=(h.Select.Option,a(189)),y=a(148),S=r.default.createClass({displayName:"UpdateTripCityPage",getInitialState:function(){return{tripCitySet:{operation:"",errMsg:""},loading:!1,modal:!1,tripCity:{},hints:{},validRules:[]}},mixins:[p.listenTo(v,"onServiceComplete"),(0,c.default)("tripCity")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tripCitySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"cityType",desc:"城市类型",required:!0,max:"32"},{id:"cityList",desc:"城市列表",required:!0,max:"512"},{id:"cityDesc",desc:"说明",required:!1,max:"256"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.tripCity),this.state.loading=!1,this.state.tripCitySet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.tripCity)&&(this.state.tripCitySet.operation="",this.setState({loading:!0}),y.updateHrTripCity(this.state.tripCity))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改城市信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_trip_city/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(g,i({},a,{label:"城市类型",required:!0,colon:!0,className:t,help:l.cityTypeHint,validateStatus:l.cityTypeStatus}),r.default.createElement(h.Input,{type:"text",name:"cityType",id:"cityType",value:this.state.tripCity.cityType,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"城市列表",required:!0,colon:!0,className:t,help:l.cityListHint,validateStatus:l.cityListStatus}),r.default.createElement(h.Input,{type:"text",name:"cityList",id:"cityList",value:this.state.tripCity.cityList,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"城市说明",colon:!0,className:t,help:l.cityDescHint,validateStatus:l.cityDescStatus}),r.default.createElement(h.Input,{type:"text",name:"cityDesc",id:"cityDesc",value:this.state.tripCity.cityDesc,onChange:this.handleOnChange}))))}});t.default=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1299),h=l(c),p=a(1300),m=l(p),f=a(1),g=u.Input.Search,v=a(6),y=(a(3),a(189)),S=a(148),C="",E=n.default.createClass({displayName:"TripCityPage",getInitialState:function(){return{tripCitySet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,tripCitySet:e})},handleQueryClick:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),this.state.tripCitySet.operation="",S.retrieveHrTripCity(t)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),S.initHrTripCity(t)},handleOpenCreateWindow:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的城市 【"+e.cityList+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.tripCitySet.operation="",S.deleteHrTripCity(e.uuid)},onFilterRecord:function(e){C=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=v.filter(this.state.tripCitySet.recordSet,C),a=[{title:"城市类型",dataIndex:"cityType",key:"cityType",width:140},{title:"城市列表",dataIndex:"cityList",key:"cityList",width:140},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"移除"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}],l=v.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},n.default.createElement("div",{style:{margin:l.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_trip_city/retrieve","hr_trip_city/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加城市",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:C,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),n.default.createElement(h.default,{ref:"createWindow"}),n.default.createElement(m.default,{ref:"updateWindow"}))}});e.exports=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1),c=(a(6),a(3),a(264)),h=a(220),p=n.default.createClass({displayName:"BatchWorkFactorPage",getInitialState:function(){return{factorSet:{errMsg:""},workUuid:"",factorList:[],len:0,index:0,modal:!1,stop:!1}},mixins:[u.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){if(this.state.modal)if(""===e.errMsg){var t=this.state.len,a=this.state.index,l=this.state.stop;if(l)return;a+1===t?this.setState({index:a+1}):(this.setState({index:a+1}),this.doBatchCreate(this.state.factorList))}else this.setState({loading:!1,stop:!0,factorSet:e})},componentDidMount:function(){},clear:function(e,t){this.state.workUuid=t,this.state.factorList=e,this.state.index=0,this.state.len=e.length,this.state.stop=!1,this.doBatchCreate(e)},doBatchCreate:function(e){var t=this.state.index,a=e[t];a.uuid="",a.workUuid=this.state.workUuid,a.corpUuid=window.loginData.compUser.corpUuid,h.createHrWorkFactor(a)},onStop:function(){this.state.stop=!0},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this.state.index,t=this.state.factorList[e],a=t?t.kpiName:"",l=Math.floor(e/this.state.len*100),i=null,r=null;return this.state.stop?(i=n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=n.default.createElement("span",null,"已终止！")):(i=a?n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.onStop},"终止"):n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=a?n.default.createElement("span",null,"正在生成 ",a," ……"):n.default.createElement("span",null,"已完成！")),n.default.createElement(o.Modal,{visible:this.state.modal,width:"540px",closable:!1,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-work-factor/create"]}),i)]},n.default.createElement("div",{style:{padding:"24px 0px"}},n.default.createElement(o.Progress,{percent:l,status:"active"}),n.default.createElement("p",{style:{padding:"12px 0 0 0"}},r)))}});t.default=p},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=h.Form.Item,g=(h.Select.Option,a(264)),v=a(220),y=r.default.createClass({displayName:"CreateWorkFactorPage",getInitialState:function(){return{workFactorSet:{operation:"",errMsg:""},loading:!1,modal:!1,workFactor:{},hints:{},validRules:[]}},mixins:[p.listenTo(g,"onServiceComplete"),(0,c.default)("workFactor")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,workFactorSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"kpiName",desc:"指标名称",required:!1,max:"64"},{id:"kpiWeight",desc:"指标权重",required:!1,max:"64"},{id:"kpiValues",desc:"指标选值",required:!1,max:"1024"},{id:"kpiDesc",desc:"指标说明",required:!1,max:"1024"}]},clear:function(e,t){this.state.hints={},this.state.workFactor.uuid="",this.state.workFactor.workUuid=t,this.state.workFactor.corpUuid=e,this.state.workFactor.kpiName="",this.state.workFactor.kpiWeight="",this.state.workFactor.kpiValues="",this.state.workFactor.kpiDesc="",this.state.loading=!1,this.state.workFactorSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.workFactor)&&(this.state.workFactorSet.operation="",this.setState({loading:!0}),v.createHrWorkFactor(this.state.workFactor))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"增加管理",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-work-factor/create"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(f,i({},a,{label:"指标名称",colon:!0,className:t,help:l.kpiNameHint,validateStatus:l.kpiNameStatus}),r.default.createElement(h.Input,{type:"text",name:"kpiName",id:"kpiName",value:this.state.workFactor.kpiName,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"指标权重",colon:!0,className:t,help:l.kpiWeightHint,validateStatus:l.kpiWeightStatus}),r.default.createElement(h.Input,{type:"text",name:"kpiWeight",id:"kpiWeight",value:this.state.workFactor.kpiWeight,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"指标选值",colon:!0,className:t,help:l.kpiValuesHint,validateStatus:l.kpiValuesStatus}),r.default.createElement(h.Input,{type:"text",name:"kpiValues",id:"kpiValues",value:this.state.workFactor.kpiValues,onChange:this.handleOnChange})),r.default.createElement(f,i({},a,{label:"指标说明",colon:!0,className:t,help:l.kpiDescHint,validateStatus:l.kpiDescStatus}),r.default.createElement(h.Input,{type:"textarea",name:"kpiDesc",id:"kpiDesc",value:this.state.workFactor.kpiDesc,onChange:this.handleOnChange}))))}});t.default=y},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(4),p=a(1),m=a(6),f=a(3),g=h.Form.Item,v=(h.Select.Option,a(264)),y=a(220),S=r.default.createClass({displayName:"UpdateWorkFactorPage",getInitialState:function(){return{workFactorSet:{operation:"",errMsg:""},loading:!1,modal:!1,workFactor:{},hints:{},validRules:[]}},mixins:[p.listenTo(v,"onServiceComplete"),(0,c.default)("workFactor")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,workFactorSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"kpiName",desc:"指标名称",required:!1,max:"64"},{id:"kpiWeight",desc:"指标权重",required:!1,max:"64"},{id:"kpiValues",desc:"指标选值",required:!1,max:"1024"},{id:"kpiDesc",desc:"指标说明",required:!1,max:"1024"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.workFactor),this.state.loading=!1,this.state.workFactorSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.workFactor)&&(this.state.workFactorSet.operation="",this.setState({loading:!0}),y.updateHrWorkFactor(this.state.workFactor))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改管理信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-work-factor/update"]}),r.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(h.Form,{layout:e},r.default.createElement(g,i({},a,{label:"指标名称",colon:!0,className:t,help:l.kpiNameHint,validateStatus:l.kpiNameStatus}),r.default.createElement(h.Input,{type:"text",name:"kpiName",id:"kpiName",value:this.state.workFactor.kpiName,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"指标权重",colon:!0,className:t,help:l.kpiWeightHint,validateStatus:l.kpiWeightStatus}),r.default.createElement(h.Input,{type:"text",name:"kpiWeight",id:"kpiWeight",value:this.state.workFactor.kpiWeight,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"指标选值",colon:!0,className:t,help:l.kpiValuesHint,validateStatus:l.kpiValuesStatus}),r.default.createElement(h.Input,{type:"text",name:"kpiValues",id:"kpiValues",value:this.state.workFactor.kpiValues,onChange:this.handleOnChange})),r.default.createElement(g,i({},a,{label:"指标说明",colon:!0,className:t,help:l.kpiDescHint,validateStatus:l.kpiDescStatus}),r.default.createElement(h.Input,{type:"textarea",name:"kpiDesc",id:"kpiDesc",value:this.state.workFactor.kpiDesc,onChange:this.handleOnChange}))))}});t.default=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(12),u=l(d),c=a(104),h=l(c),p=(a(1),s.Form.Item),m=(s.Select.Option,a(6),r.default.createClass({displayName:"CloseAccountPage",getInitialState:function(){return{hints:{},validRules:[]}},componentDidMount:function(){this.state.validRules=[]},clear:function(e,t){this.state.hints={}},onClickSave:function(){return!0},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=(this.state.hints,window.loginData.compUser.corpUuid),n=this.props.compUser,o=n.userGroup?n.userGroup.split(","):[];return r.default.createElement(s.Form,{layout:e},r.default.createElement(p,i({},a,{label:"用户名",colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"userName",id:"userName",readOnly:"true",value:n.userName})),r.default.createElement(p,i({},a,{label:"用户姓名",colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",readOnly:"true",value:n.perName})),r.default.createElement(p,i({},a,{label:"用户类型",colon:!0,className:t}),r.default.createElement(u.default,{name:"userType",id:"userType",appName:"用户管理",optName:"用户类型",value:n.userType})),r.default.createElement(p,i({},a,{label:"员工编号",colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"userCode",id:"userCode",value:n.userCode})),r.default.createElement(p,i({},a,{label:"职务",colon:!0,className:t}),r.default.createElement(s.Input,{type:"text",name:"userTitle",id:"userTitle",value:n.userTitle})),r.default.createElement(p,i({},a,{label:"用户组",colon:!0,className:t}),r.default.createElement(h.default,{corpUuid:l,name:"userGroup",id:"userGroup",value:o})))}}));t.default=m},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(13),a(12)),d=l(s),u=a(77),c=l(u),h=a(9),p=l(h),m=a(7),f=l(m),g=a(70),v=l(g),y=a(4),S=a(25),C=l(S),E=a(1),b=a(6),w=y.Form.Item,x=(y.Select.Option,y.Tabs.TabPane),k=a(477),N=a(166),D=r.default.createClass({displayName:"CreateWorkLogPage",getInitialState:function(){return{loading:!1,workLog:{},user:{},hints:{},validRules:[]}},mixins:[E.listenTo(k,"onServiceComplete"),(0,p.default)("workLog")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack(this.state.workLog):this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"applyName",desc:"申请人",required:!1,max:"24"},{id:"applyDate",desc:"申请日期",required:!1,max:"16"},{id:"befMemo",desc:"调前说明",required:!1,max:"512"},{id:"aftMemo",desc:"调后说明",required:!1,max:"512"},{id:"chgReason",desc:"原因",required:!1,max:"1024"},{id:"manager",desc:"直接主管",required:!1,max:"24"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"hrName",desc:"HR人员",required:!1,max:"24"},{id:"deptName",desc:"部门名称",required:!1,max:"128"},{id:"staffCode",desc:"员工编号",required:!1,max:"128"}],this.clear()},componentWillReceiveProps:function(e){},clear:function(){this.state.hints={},this.state.workLog.uuid="",this.state.workLog.corpUuid=window.loginData.compUser.corpUuid,this.state.workLog.userUuid="",this.state.workLog.staffCode="",this.state.workLog.applyName="",this.state.workLog.chgType="转正",this.state.workLog.applyDate=""+b.getToday(),this.state.workLog.befMemo="",this.state.workLog.aftMemo="",this.state.workLog.manager="",this.state.workLog.hrName="",this.state.workLog.approver="",this.state.workLog.effectDate="",this.state.workLog.chgReason="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),this.setState({loading:!1})},onSelectWorkLog:function(e){this.state.workLog.userUuid=e.uuid,this.state.workLog.staffCode=e.staffCode,this.state.workLog.perName=e.perName,this.state.workLog.deptName=e.deptName,this.state.workLog.deptUuid=e.deptUuid,this.state.workLog.applyName||(this.state.workLog.applyName=e.perName),this.setState({user:e})},showError:function(e){console.log(e)},onClickSave:function(){var e=this.state.workLog.chgType;if("转部门"===e){this.state.workLog.aftMemo="";var t=this.refs.aftMemoBox,a=t.state.deptMap[this.state.workLog.newDeptUuid];void 0!==a&&""!==a&&(this.state.workLog.aftMemo=a,this.state.workLog.deptName=a,this.state.workLog.deptUuid=this.state.workLog.newDeptUuid)}b.formValidator(this,this.state.workLog)&&(this.setState({loading:!0}),N.createHrWorkLog(this.state.workLog))},goBack:function(e){this.props.onBack(e)},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.workLog.userUuid,s=window.loginData.compUser.corpUuid,u=this.state.user,h=[],p=this.state.workLog.chgType,m="变更原因";"转部门"===p?(this.state.workLog.befMemo=u.deptName,h.push(r.default.createElement(w,i({},a,{label:"原部门",required:!1,colon:!0,className:t,help:n.befMemoHint,validateStatus:n.befMemoStatus}),r.default.createElement(y.Input,{type:"text",name:"befMemo",id:"befMemo",disabled:!0,value:this.state.workLog.befMemo,onChange:this.handleOnChange}))),h.push(r.default.createElement(w,i({},a,{label:"新部门",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(v.default,{ref:"aftMemoBox",name:"newDeptUuid",id:"newDeptUuid",value:this.state.workLog.newDeptUuid,onSelect:this.handleOnSelected.bind(this,"newDeptUuid")})))):"调属地"===p?(this.state.workLog.befMemo=u.baseCity,h.push(r.default.createElement(w,i({},a,{label:"原归属地",required:!1,colon:!0,className:t,help:n.befMemoHint,validateStatus:n.befMemoStatus}),r.default.createElement(y.Input,{type:"text",name:"befMemo",id:"befMemo",disabled:!0,value:this.state.workLog.befMemo,onChange:this.handleOnChange}))),h.push(r.default.createElement(w,i({},a,{label:"新归属地",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(c.default,{name:"aftMemo",id:"aftMemo",paramName:"城市",value:this.state.workLog.aftMemo,onChange:this.handleOnSelected.bind(this,"aftMemo")})))):"转正"===p?(m="转正申请",this.state.workLog.aftMemo=""+b.getToday(),h.push(r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"转正日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(y.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:b.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,b.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",b.dateFormat)})))))):"离职"===p?(m="离职原因",h.push(r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"离职日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(y.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:b.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,b.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",b.dateFormat)})))))):"辞退"===p?(m="辞退原因",h.push(r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"辞退日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(y.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:b.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,b.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",b.dateFormat)})))))):"开除"===p?(m="开除原因",h.push(r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"开除日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(y.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:b.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,b.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",b.dateFormat)})))))):"入职"===p?(m="入职说明",h.push(r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"入职日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(y.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:b.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,b.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",b.dateFormat)})))))):(h.push(r.default.createElement(w,i({},a,{label:"调前说明",required:!1,colon:!0,className:t,help:n.befMemoHint,validateStatus:n.befMemoStatus}),r.default.createElement(y.Input,{type:"textarea",name:"befMemo",id:"befMemo",value:this.state.workLog.befMemo,onChange:this.handleOnChange}))),h.push(r.default.createElement(w,i({},a,{label:"调后说明",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(y.Input,{type:"textarea",name:"aftMemo",id:"aftMemo",value:this.state.workLog.aftMemo,onChange:this.handleOnChange}))));for(var g="转部门"===p||"调属地"===p,S=this.state.validRules.length,E=0;E<S;E++){var k=this.state.validRules[E];"aftMemo"===k.id&&(k.required=g)}return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(y.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(x,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(x,{tab:"增加工作变更信息",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},r.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(f.default,{ref:"mxgBox",svcList:["hr_work_log/create"]}),r.default.createElement(C.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:s,showError:this.showError,onSelectEmpLoyee:this.onSelectWorkLog}),r.default.createElement(y.Form,{layout:e,style:{width:"600px"}},r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(y.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(y.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})))),r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"部门名称",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(y.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.user.deptName,disabled:!0}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"变更类型",required:!1,colon:!0,className:t,help:n.chgTypeHint,validateStatus:n.chgTypeStatus}),r.default.createElement(d.default,{name:"chgType",id:"chgType",appName:"HR系统",optName:"工作变更类型",required:!0,value:this.state.workLog.chgType,onSelect:this.handleOnSelected.bind(this,"chgType")})))),r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"申请人",required:!1,colon:!0,className:t,help:n.applyNameHint,validateStatus:n.applyNameStatus}),r.default.createElement(y.Input,{type:"text",name:"applyName",id:"applyName",value:this.state.workLog.applyName,onChange:this.handleOnChange}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"申请日期",required:!1,colon:!0,className:t,help:n.applyDateHint,validateStatus:n.applyDateStatus}),r.default.createElement(y.DatePicker,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:b.dateFormat,value:this.formatDate(this.state.workLog.applyDate,b.dateFormat),onChange:this.handleOnSelDate.bind(this,"applyDate",b.dateFormat)})))),h,r.default.createElement(w,i({},a,{label:m,required:!1,colon:!0,className:t,help:n.chgReasonHint,validateStatus:n.chgReasonStatus}),r.default.createElement(y.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.workLog.chgReason,onChange:this.handleOnChange,style:{height:"100px"}})),r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"直接主管",required:!1,colon:!0,className:t,help:n.managerHint,validateStatus:n.managerStatus}),r.default.createElement(y.Input,{type:"text",name:"manager",id:"manager",value:this.state.workLog.manager,onChange:this.handleOnChange}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:n.approverHint,validateStatus:n.approverStatus}),r.default.createElement(y.Input,{type:"text",name:"approver",id:"approver",value:this.state.workLog.approver,onChange:this.handleOnChange})))),r.default.createElement(y.Row,null,r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"生效日期",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),r.default.createElement(y.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",format:b.dateFormat,value:this.formatDate(this.state.workLog.effectDate,b.dateFormat),onChange:this.handleOnSelDate.bind(this,"effectDate",b.dateFormat)}))),r.default.createElement(y.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"HR人员",required:!1,colon:!0,className:t,help:n.hrNameHint,validateStatus:n.hrNameStatus}),r.default.createElement(y.Input,{type:"text",name:"hrName",id:"hrName",value:this.state.workLog.hrName,onChange:this.handleOnChange})))),r.default.createElement(w,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(y.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(y.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=D},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=(l(s),a(9)),u=l(d),c=a(12),h=l(c),p=a(4),m=(a(1),a(6)),f=(a(3),p.Form.Item),g=(p.Select.Option,r.default.createClass({displayName:"DetailPage",getInitialState:function(){return{workLog:{}}},mixins:[(0,u.default)("")],componentDidMount:function(){},initPage:function(e){this.setState({workLog:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=[],o=this.state.workLog.chgType,s="变更原因";return"转部门"===o?(n.push(r.default.createElement(f,i({},a,{label:"原部门",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"text",name:"befMemo",id:"befMemo",disabled:!0,value:this.state.workLog.befMemo,onChange:this.handleOnChange}))),n.push(r.default.createElement(f,i({},a,{label:"新部门",required:!0,colon:!0,className:t}),r.default.createElement(DeptTreeSelect,{ref:"aftMemoBox",name:"newDeptUuid",id:"newDeptUuid",value:this.state.workLog.newDeptUuid,onSelect:this.handleOnSelected.bind(this,"newDeptUuid")})))):"调属地"===o?(n.push(r.default.createElement(f,i({},a,{label:"原归属地",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"text",name:"befMemo",id:"befMemo",disabled:!0,value:this.state.workLog.befMemo,onChange:this.handleOnChange}))),n.push(r.default.createElement(f,i({},a,{label:"新归属地",required:!0,colon:!0,className:t}),r.default.createElement(AutoInput,{name:"aftMemo",id:"aftMemo",paramName:"城市",value:this.state.workLog.aftMemo,onChange:this.handleOnSelected.bind(this,"aftMemo")})))):"转正"===o?(s="转正申请",n.push(r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"转正日期",required:!0,colon:!0,className:t}),r.default.createElement(p.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:m.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,m.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",m.dateFormat)})))))):"离职"===o?(s="离职原因",n.push(r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"离职日期",required:!0,colon:!0,className:t}),r.default.createElement(p.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:m.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,m.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",m.dateFormat)})))))):"辞退"===o?(s="辞退原因",n.push(r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"辞退日期",required:!0,colon:!0,className:t}),r.default.createElement(p.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:m.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,m.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",m.dateFormat)})))))):"开除"===o?(s="开除原因",n.push(r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"开除日期",required:!0,colon:!0,className:t}),r.default.createElement(p.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:m.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,m.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",m.dateFormat)})))))):"入职"===o?(s="入职说明",n.push(r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"入职日期",required:!0,colon:!0,className:t}),r.default.createElement(p.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:m.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,m.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",m.dateFormat)})))))):(n.push(r.default.createElement(f,i({},a,{label:"调前说明",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"textarea",name:"befMemo",id:"befMemo",value:this.state.workLog.befMemo,onChange:this.handleOnChange}))),n.push(r.default.createElement(f,i({},a,{label:"调后说明",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"textarea",name:"aftMemo",id:"aftMemo",value:this.state.workLog.aftMemo,onChange:this.handleOnChange})))),r.default.createElement("div",null,r.default.createElement(p.Form,{layout:e},r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"部门名称",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.workLog.deptName,disabled:!0}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"变更类型",required:!1,colon:!0,className:t}),r.default.createElement(h.default,{name:"chgType",id:"chgType",appName:"HR系统",optName:"员工状态",value:this.state.workLog.chgType})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"申请人",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"text",name:"applyName",id:"applyName",value:this.state.workLog.applyName}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"申请日期",required:!1,colon:!0,className:t}),r.default.createElement(p.DatePicker,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:m.dateFormat,value:this.formatDate(this.state.workLog.applyDate,m.dateFormat)})))),n,r.default.createElement(f,i({},a,{label:s,required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.workLog.chgReason,style:{height:"100px"}})),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"直接主管",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"text",name:"manager",id:"manager",value:this.state.workLog.manager}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"审批人",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"text",name:"approver",id:"approver",value:this.state.workLog.approver})))),r.default.createElement(p.Row,null,r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"生效日期",required:!1,colon:!0,className:t}),r.default.createElement(p.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",format:m.dateFormat,value:this.formatDate(this.state.workLog.effectDate,m.dateFormat)}))),r.default.createElement(p.Col,{span:"12"},r.default.createElement(f,i({},l,{label:"HR人员",required:!1,colon:!0,className:t}),r.default.createElement(p.Input,{type:"text",name:"hrName",id:"hrName",value:this.state.workLog.hrName}))))))}}));t.default=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(7)),d=l(s),u=a(4),c=a(1307),h=l(c),p=a(1),m=(u.Input.Search,u.Form.Item,u.Tabs.TabPane),f=a(6),g=a(3),v=a(1314),y=a(166),S=n.default.createClass({displayName:"DetailsWorkLogPage",getInitialState:function(){return{workLogSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[p.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,workLogSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={userUuid:this.props.userUuid};y.retrieveEmpWorkLog(e)},onClickDetails:function(e,t){null!=e&&this.refs.DetailPage.initPage(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(e){var t=this,a=[{title:"变更类型",dataIndex:"chgType",key:"chgType",width:100,render:function(e,a){return g.getOptionName("HR系统","薪资调整类型",a.chgType,!1,t)}},{title:"申请日期",dataIndex:"applyDate",key:"applyDate",width:100},{title:"调后说明",dataIndex:"aftMemo",key:"aftMemo",width:300},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:100,render:function(e,t){return f.formatDate(e,f.dateFormat)}},{title:"更多操作",key:"action",width:70,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickDetails.bind(t,a),title:"查看"},n.default.createElement(u.Icon,{type:"bars"})))}}],l=this.state.workLogSet.recordSet;return n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(u.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(m,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(m,{tab:"工作日志详情",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},n.default.createElement("div",{style:{padding:"12px",height:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["emp_work_log/retrieve"]}),n.default.createElement(u.Table,{columns:a,dataSource:l,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:f.tableBorder}),n.default.createElement("div",{style:{width:"640px",padding:"20px 0 12px 0"}},n.default.createElement(h.default,{ref:"DetailPage"})))))))}});e.exports=S},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1305),c=l(u),h=a(1310),p=l(h),m=a(1),f=o.Steps.Step,g=(a(3),a(1315)),v=a(166),y=a(66),S=a(32),C=[{title:"关停账号",content:"删除企业账号"},{title:"删除邮箱",content:"手工删除公司邮箱"}],E=n.default.createClass({displayName:"DimissTodoPage",getInitialState:function(){return{compUserSet:{recordSet:[],errMsg:""},modal:!1,loading:!1,current:0,staffCode:"",compUser:{},userUuid:"",email:""}},mixins:[m.listenTo(g,"onEmployeeComplete"),m.listenTo(y,"onCompUserComplete")],onEmployeeComplete:function(e){this.setState({loading:!1,current:1,email:e.recordSet.email})},onCompUserComplete:function(e){if("remove"===e.operation){if(""===e.errMsg)return void v.retrieveEmpLoyee(this.state.userUuid)}else e.recordSet&&1===e.recordSet.length?this.state.compUser=e.recordSet[0]:(this.state.current=1,e.recordSet.length>1&&alert("员工编号["+this.state.staffCode+"]多于一个企业账号")),this.state.compUserSet=e;this.setState({loading:!1})},componentDidMount:function(){},initStaff:function(e){this.state.userUuid=e.userUuid,this.state.staffCode=e.staffCode,this.setState({loading:!0});var t={userCode:e.staffCode};t.corpUuid=window.loginData.compUser.corpUuid,S.retrieveCompUserPage(t,0,0)},onClickSave:function(){0===this.state.current?this.state.compUser.uuid?(this.setState({loading:!0}),S.deleteCompUser(this.state.compUser.uuid)):v.retrieveEmpLoyee(this.state.userUuid):this.toggle()},toggle:function(){this.setState({current:0,modal:!this.state.modal})},render:function(){var e=this.state.current,t=0===e?"删除企业账号":"处理完成";return n.default.createElement(o.Modal,{visible:this.state.modal,width:"560px",title:"离职后续操作",maskClosable:!1,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{width:"100%"}},n.default.createElement(o.Steps,{current:e},C.map(function(e){return n.default.createElement(f,{key:e.title,title:e.title})})),n.default.createElement("div",{style:{paddingTop:"20px"}},0===e?n.default.createElement(c.default,{ref:"accountPage",compUser:this.state.compUser}):n.default.createElement(p.default,{ref:"HMDelEmailPage",email:this.state.email})),n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right",padding:"8px 0 0 0"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["comp-user/retrieve","hr-employee/retrieve"]}),n.default.createElement(o.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},t)," ")))}});t.default=E},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(12),u=(l(d),a(104)),c=(l(u),a(1),s.Form.Item),h=(s.Select.Option,a(6),r.default.createClass({displayName:"HMDelEmailPage",getInitialState:function(){return{authUserSet:{operation:"",errMsg:""},hints:{},validRules:[]}},componentDidMount:function(){this.state.validRules=[]},onClickSave:function(){return!0},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(s.Form,{layout:e},r.default.createElement("p",{style:{marginLeft:"25px",fontSize:"16px",color:"red",height:"34px"}},"请即时手工删除企业邮箱"),r.default.createElement(c,i({},a,{label:"企业邮箱",colon:!0,className:t,help:l.emailHint,validateStatus:l.emailStatus}),r.default.createElement(s.Input,{type:"text",name:"email",id:"email",readOnly:"true",value:this.props.email})))}}));t.default=h},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(25),p=(l(h),a(12)),m=l(p),f=a(77),g=l(f),v=a(70),y=l(v),S=a(4),C=a(1),E=a(6),b=a(3),w=S.Form.Item,x=(S.Select.Option,S.Tabs.TabPane),k=a(477),N=a(166),D=r.default.createClass({displayName:"UpdateWorkLogPage",getInitialState:function(){return{workLogSet:{operation:"",errMsg:""},loading:!1,workLog:{},hints:{},validRules:[]}},mixins:[C.listenTo(k,"onServiceComplete"),(0,c.default)("workLog")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack(this.state.workLog):this.setState({loading:!1,workLogSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"applyName",desc:"申请人",required:!1,max:"24"},{id:"applyDate",desc:"申请日期",required:!1,max:"16"},{id:"befMemo",desc:"调前说明",required:!1,max:"512"},{id:"aftMemo",desc:"调后说明",required:!1,max:"512"},{id:"chgReason",desc:"原因",required:!1,max:"1024"},{id:"manager",desc:"直接主管",required:!1,max:"24"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"},{id:"hrName",desc:"HR人员",required:!1,max:"24"},{id:"deptName",desc:"部门名称",required:!1,max:"128"},{id:"staffCode",desc:"员工编号",required:!1,max:"128"}],this.initPage(this.props.workLog)},componentWillReceiveProps:function(e){},initPage:function(e){b.copyValue(e,this.state.workLog),this.state.workLog.newDeptUuid=this.state.workLog.deptUuid,this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){var e=this.state.workLog.chgType;if("转部门"===e){this.state.workLog.aftMemo="";var t=this.refs.aftMemoBox,a=t.state.deptMap[this.state.workLog.newDeptUuid];void 0!==a&&""!==a&&(this.state.workLog.aftMemo=a,this.state.workLog.deptName=a,this.state.workLog.deptUuid=this.state.workLog.newDeptUuid)}E.formValidator(this,this.state.workLog)&&(this.setState({loading:!0}),N.updateHrWorkLog(this.state.workLog))},goBack:function(e){this.props.onBack(e)},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=[],s=this.state.workLog.chgType,u="变更原因";"转部门"===s?(o.push(r.default.createElement(w,i({},a,{label:"原部门",required:!1,colon:!0,className:t,help:n.befMemoHint,validateStatus:n.befMemoStatus}),r.default.createElement(S.Input,{type:"text",name:"befMemo",id:"befMemo",disabled:!0,value:this.state.workLog.befMemo,onChange:this.handleOnChange}))),o.push(r.default.createElement(w,i({},a,{label:"新部门",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(y.default,{ref:"aftMemoBox",name:"newDeptUuid",id:"newDeptUuid",value:this.state.workLog.newDeptUuid,onSelect:this.handleOnSelected.bind(this,"newDeptUuid")})))):"调属地"===s?(o.push(r.default.createElement(w,i({},a,{label:"原归属地",required:!1,colon:!0,className:t,help:n.befMemoHint,validateStatus:n.befMemoStatus}),r.default.createElement(S.Input,{type:"text",name:"befMemo",id:"befMemo",disabled:!0,value:this.state.workLog.befMemo,onChange:this.handleOnChange}))),o.push(r.default.createElement(w,i({},a,{label:"新归属地",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(g.default,{name:"aftMemo",id:"aftMemo",paramName:"城市",value:this.state.workLog.aftMemo,onChange:this.handleOnSelected.bind(this,"aftMemo")})))):"转正"===s?(u="转正申请",o.push(r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"转正日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(S.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:E.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,E.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",E.dateFormat)})))))):"离职"===s?(u="离职原因",o.push(r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"离职日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(S.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:E.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,E.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",E.dateFormat)})))))):"辞退"===s?(u="辞退原因",o.push(r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"辞退日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(S.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:E.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,E.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",E.dateFormat)})))))):"开除"===s?(u="开除原因",o.push(r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"开除日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(S.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:E.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,E.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",E.dateFormat)})))))):"入职"===s?(u="入职说明",o.push(r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"入职日期",required:!0,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(S.DatePicker,{style:{width:"100%"},name:"aftMemo",id:"aftMemo",format:E.dateFormat,value:this.formatDate(this.state.workLog.aftMemo,E.dateFormat),onChange:this.handleOnSelDate.bind(this,"aftMemo",E.dateFormat)})))))):(o.push(r.default.createElement(w,i({},a,{label:"调前说明",required:!1,colon:!0,className:t,help:n.befMemoHint,validateStatus:n.befMemoStatus}),r.default.createElement(S.Input,{type:"textarea",name:"befMemo",id:"befMemo",value:this.state.workLog.befMemo,onChange:this.handleOnChange}))),o.push(r.default.createElement(w,i({},a,{label:"调后说明",required:!1,colon:!0,className:t,help:n.aftMemoHint,validateStatus:n.aftMemoStatus}),r.default.createElement(S.Input,{type:"textarea",name:"aftMemo",id:"aftMemo",value:this.state.workLog.aftMemo,onChange:this.handleOnChange}))));for(var c="转部门"===s||"调属地"===s,h=this.state.validRules.length,p=0;p<h;p++){var f=this.state.validRules[p];"aftMemo"===f.id&&(f.required=c)}return r.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},r.default.createElement(S.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},r.default.createElement(x,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),r.default.createElement(x,{tab:"修改工作变更日志",key:"2",style:{width:"100%",height:"100%"}},r.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_work_log/update"]}),r.default.createElement(S.Form,{layout:e,style:{width:"640px"}},r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(S.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.workLog.staffCode,disabled:!0}))),r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(S.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.workLog.perName,disabled:!0})))),r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"部门名称",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),r.default.createElement(S.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.workLog.deptName,disabled:!0}))),r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"变更类型",required:!1,colon:!0,className:t,help:n.chgTypeHint,validateStatus:n.chgTypeStatus}),r.default.createElement(m.default,{name:"chgType",id:"chgType",appName:"HR系统",optName:"工作变更类型",value:this.state.workLog.chgType,onSelect:this.handleOnSelected.bind(this,"chgType")})))),r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"申请人",required:!1,colon:!0,className:t,help:n.applyNameHint,validateStatus:n.applyNameStatus}),r.default.createElement(S.Input,{type:"text",name:"applyName",id:"applyName",value:this.state.workLog.applyName,onChange:this.handleOnChange}))),r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"申请日期",required:!1,colon:!0,className:t,help:n.applyDateHint,validateStatus:n.applyDateStatus}),r.default.createElement(S.DatePicker,{style:{width:"100%"},name:"applyDate",id:"applyDate",format:E.dateFormat,value:this.formatDate(this.state.workLog.applyDate,E.dateFormat),onChange:this.handleOnSelDate.bind(this,"applyDate",E.dateFormat)})))),o,r.default.createElement(w,i({},a,{label:u,required:!1,colon:!0,className:t,help:n.chgReasonHint,validateStatus:n.chgReasonStatus}),r.default.createElement(S.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.workLog.chgReason,onChange:this.handleOnChange,style:{height:"100px"}})),r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"直接主管",required:!1,colon:!0,className:t,help:n.managerHint,validateStatus:n.managerStatus}),r.default.createElement(S.Input,{type:"text",name:"manager",id:"manager",value:this.state.workLog.manager,onChange:this.handleOnChange}))),r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"审批人",required:!1,colon:!0,className:t,help:n.approverHint,validateStatus:n.approverStatus}),r.default.createElement(S.Input,{type:"text",name:"approver",id:"approver",value:this.state.workLog.approver,onChange:this.handleOnChange})))),r.default.createElement(S.Row,null,r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"生效日期",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),r.default.createElement(S.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",format:E.dateFormat,value:this.formatDate(this.state.workLog.effectDate,E.dateFormat),onChange:this.handleOnSelDate.bind(this,"effectDate",E.dateFormat)}))),r.default.createElement(S.Col,{span:"12"},r.default.createElement(w,i({},l,{label:"HR人员",required:!1,colon:!0,className:t,help:n.hrNameHint,validateStatus:n.hrNameStatus}),r.default.createElement(S.Input,{type:"text",name:"hrName",id:"hrName",value:this.state.workLog.hrName,onChange:this.handleOnChange})))),r.default.createElement(w,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},r.default.createElement(S.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(S.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=D},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(4)),d=a(12),u=l(d),c=a(9),h=l(c),p=(a(1),s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),m=a(6),f={moreFilter:r.default.PropTypes.bool},g=r.default.createClass({displayName:"WorkLogFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],workLog:{date1:"",date2:"",baseCity:"",chgType:"",staffCode:"",perName:"",deptName:""}}},mixins:[(0,h.default)("workLog")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"date1",desc:"生效日期开始",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"date2",desc:"生效日期结束",required:!1,max:"0"},{id:"chgType",desc:"变更类型",required:!1,max:"0"},{id:"staffCode",desc:"员工编号",required:!1,max:"0"},{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"deptName",desc:"部门名称",required:!1,max:"128"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},l={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=this.state.hints;return r.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},r.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},r.default.createElement(s.Form,{layout:e,style:{width:"900px",padding:"20px 0px"}},r.default.createElement(s.Row,{gutter:18},r.default.createElement(s.Col,{className:"gutter-row",span:8},r.default.createElement(p,i({},l,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),r.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.workLog.perName,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{className:"gutter-row",span:8},r.default.createElement(p,i({},l,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),r.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.workLog.staffCode,onChange:this.handleOnChange}))),r.default.createElement(s.Col,{className:"gutter-row",span:8},r.default.createElement(p,i({},l,{label:"归属地",required:!1,colon:!0,className:t,help:n.baseCityHint,validateStatus:n.baseCityStatus}),r.default.createElement(s.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.workLog.baseCity,onChange:this.handleOnChange})))),r.default.createElement(s.Row,{gutter:18},r.default.createElement(s.Col,{className:"gutter-row",span:8},r.default.createElement(p,i({},l,{label:"变更类型",required:!1,colon:!0,className:t,help:n.chgTypeHint,validateStatus:n.chgTypeStatus}),r.default.createElement(u.default,{name:"chgType",id:"chgType",appName:"HR系统",optName:"薪资调整类型",value:this.state.workLog.chgType,onSelect:this.handleOnSelected.bind(this,"chgType")}))),r.default.createElement(s.Col,{className:"gutter-row",span:15},r.default.createElement(p,i({},a,{label:"入职日期",required:!1,colon:!0,className:t}),r.default.createElement(s.Col,{span:"6"},r.default.createElement(p,{help:n.date1Hint,validateStatus:n.entryDate1Status},r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"date1",id:"date1",value:this.formatDate(this.state.workLog.date1,m.dateFormat),format:m.dateFormat,onChange:this.handleOnSelDate.bind(this,"date1",m.dateFormat)}))),r.default.createElement(s.Col,{span:"2",style:{textAlign:"center"}},"到"),r.default.createElement(s.Col,{span:"6"},r.default.createElement(p,{help:n.date2Hint,validateStatus:n.date2Status},r.default.createElement(s.DatePicker,{style:{width:"100%"},name:"date2",id:"date2",value:this.formatDate(this.state.workLog.date1,m.dateFormat),format:m.dateFormat,onChange:this.handleOnSelDate.bind(this,"date1",m.dateFormat)})))))))))}});g.propTypes=f,e.exports=g},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(8),o=(l(r),a(5)),s=(l(o),a(4)),d=a(7),u=l(d),c=a(1309),h=l(c),p=a(1312),m=l(p),f=a(1306),g=l(f),v=a(1311),y=l(v),S=a(1308),C=l(S),E=a(1),b=s.Input.Search,w=a(6),x=a(3),k=a(477),N=a(166),D=10,R=n.default.createClass({displayName:"WorkLogPage",getInitialState:function(){return{workLogSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",workLog:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[E.listenTo(k,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.WorkLogFilter;null!==a&&"undefined"!=typeof a&&(a.state.workLog=this.state.filter)}}this.setState({loading:!1,workLogSet:e})},componentDidMount:function(){N.getCacheData()},handleQueryClick:function(){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",N.retrieveHrWorkLogPage(this.state.filter,this.state.workLogSet.startPage,D)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.workLogSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){D=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;w.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){this.state.filter=this.refs.WorkLogFilter.state.workLog,this.handleQueryClick()},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的工作日志",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.workLogSet.operation="",N.deleteHrWorkLog(e.uuid)},handleCreate:function(e){this.setState({action:"create"})},onClickDetails:function(e,t){this.setState({workLog:e,action:"detail"})},onClickUpdate:function(e,t){this.setState({workLog:e,action:"update"})},onGoBack:function(e){if(this.setState({action:"query"}),e){var t=e.chgType;"离职"!==t&&"辞退"!==t&&"开除"!==t||(this.refs.nextWindow.toggle(),this.refs.nextWindow.initStaff(e))}},render:function(){var e=this,t=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"变更类型",dataIndex:"chgType",key:"chgType",width:140,render:function(t,a){return x.getOptionName("HR系统","工作变更类型",a.chgType,!1,e)}},{title:"部门名称",
dataIndex:"deptName",key:"deptName",width:140},{title:"调前说明",dataIndex:"befMemo",key:"befMemo",width:140},{title:"调后说明",dataIndex:"aftMemo",key:"aftMemo",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return w.formatDate(e,w.dateFormat)}},{title:"更多操作",key:"action",width:70,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickDetails.bind(e,a),title:"详情"},n.default.createElement(s.Icon,{type:"bars"})))}}],a=this.state.workLogSet.recordSet,l=this.state.moreFilter,i="query"===this.state.action?"":"none",r={showQuickJumper:!0,total:this.state.workLogSet.totalRow,pageSize:this.state.workLogSet.pageRow,current:this.state.workLogSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{overflow:"hidden",display:i}},n.default.createElement("div",{style:{padding:"8px 0 0 0",height:"100%",width:"100%",overflowY:"auto"}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["hr_work_log/retrieve","hr_work_log/remove"]}),n.default.createElement(m.default,{ref:"WorkLogFilter",moreFilter:l}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:w.iconAdd,type:"primary",title:"增加工作变更信息",onClick:this.handleCreate}),n.default.createElement(s.Button,{icon:w.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),l?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(s.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(s.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(b,{placeholder:"查询(员工编号/员工姓名)",style:{width:w.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(s.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(s.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:w.tableBorder})))),d=null;return"create"===this.state.action?d=n.default.createElement(g.default,{ref:"createPage",onBack:this.onGoBack}):"detail"===this.state.action?d=n.default.createElement(C.default,{onBack:this.onGoBack,userUuid:this.state.workLog.userUuid}):"update"===this.state.action&&(d=n.default.createElement(y.default,{onBack:this.onGoBack,workLog:this.state.workLog})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,d,n.default.createElement(h.default,{ref:"nextWindow"}))}});e.exports=R},function(e,t,a){"use strict";var l=a(1),i=a(166),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),r.showError("emp_work_log",e,t)},onRetrieveEmpWorkLog:function(e){var t=this,a=this.getServiceUrl("hr_work_log/get-by-user_uuid");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(e){console.log("result",e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.list,t.startPage=e.object.startPage,t.pageRow=e.object.pageRow,t.totalRow=e.object.totalRow,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";var l=a(1),i=a(166),n=a(3),r=a(11),o=l.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,operation:e,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,errMsg:t}),r.showError("hr-employee",e,t)},onRetrieveEmpLoyee:function(e){var t=this,a=this.getServiceUrl("hr-employee/get-by-uuid");n.doCreateService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=l(s),u=a(1),c=(a(6),a(3),a(132)),h=a(108),p=n.default.createClass({displayName:"BatchWorkTypePage",getInitialState:function(){return{recordSet:{errMsg:""},recordList:[],len:0,index:0,modal:!1,stop:!1}},mixins:[u.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){if(this.state.modal)if(""===e.errMsg){var t=this.state.len,a=this.state.index,l=this.state.stop;if(l)return;a+1===t?this.setState({index:a+1}):(this.setState({index:a+1}),this.doBatchCreate(this.state.recordList))}else this.setState({loading:!1,stop:!0,recordSet:e})},componentDidMount:function(){},clear:function(e){this.state.recordList=e,this.state.index=0,this.state.len=e.length,this.state.stop=!1,this.doBatchCreate(e)},doBatchCreate:function(e){var t=this.state.index,a=e[t];a.uuid="",a.corpUuid=window.loginData.compUser.corpUuid,h.createHrWorkType(a)},onStop:function(){this.state.stop=!0},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this.state.index,t=this.state.recordList[e],a=t?t.workName:"",l=Math.floor(e/this.state.len*100),i=null,r=null;return this.state.stop?(i=n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=n.default.createElement("span",null,"已终止！")):(i=a?n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.onStop},"终止"):n.default.createElement(o.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),r=a?n.default.createElement("span",null,"正在生成 ",a," ……"):n.default.createElement("span",null,"已完成！")),n.default.createElement(o.Modal,{visible:this.state.modal,width:"540px",closable:!1,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-work-type/create"]}),i)]},n.default.createElement("div",{style:{padding:"24px 0px"}},n.default.createElement(o.Progress,{percent:l,status:"active"}),n.default.createElement("p",{style:{padding:"12px 0 0 0"}},r)))}});t.default=p},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=m.Form.Item,y=(m.Select.Option,a(132)),S=a(108),C=r.default.createClass({displayName:"CreateWorkTypePage",getInitialState:function(){return{workTypeSet:{operation:"",errMsg:""},loading:!1,modal:!1,workType:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("workType")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,workTypeSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"workType",desc:"职业类型",required:!0,max:32},{id:"workDomain",desc:"条线名称",required:!1,max:64},{id:"workName",desc:"工种名称",required:!0,max:64},{id:"workDesc",desc:"工种说明",required:!1,max:1024}]},clear:function(e){this.state.hints={},this.state.workType.uuid="",this.state.workType.corpUuid=e,this.state.workType.workType="",this.state.workType.workDomain="",this.state.workType.workName="",this.state.workType.workDesc="",this.state.loading=!1,this.state.workTypeSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.workType)&&(this.state.workTypeSet.operation="",this.setState({loading:!0}),S.createHrWorkType(this.state.workType))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加管理",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-work-type/create"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(v,i({},a,{label:"职业类型",required:!0,colon:!0,className:t,help:l.workTypeHint,validateStatus:l.workTypeStatus}),r.default.createElement(p.default,{name:"workType",id:"workType",value:this.state.workType.workType,appName:"HR系统",optName:"职业类型",onSelect:this.handleOnSelected.bind(this,"workType")})),r.default.createElement(v,i({},a,{label:"条线名称",colon:!0,className:t,help:l.workDomainHint,validateStatus:l.workDomainStatus}),r.default.createElement(p.default,{name:"workDomain",id:"workDomain",value:this.state.workType.workDomain,appName:"HR系统",optName:"条线名称",onSelect:this.handleOnSelected.bind(this,"workDomain")})),r.default.createElement(v,i({},a,{label:"工种名称",required:!0,colon:!0,className:t,help:l.workNameHint,validateStatus:l.workNameStatus}),r.default.createElement(m.Input,{type:"text",name:"workName",id:"workName",value:this.state.workType.workName,onChange:this.handleOnChange})),r.default.createElement(v,i({},a,{label:"工种说明",colon:!0,className:t,help:l.workDescHint,validateStatus:l.workDescStatus}),r.default.createElement(m.Input,{type:"textarea",name:"workDesc",id:"workDesc",value:this.state.workType.workDesc,onChange:this.handleOnChange}))))}});t.default=C},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(2),r=l(n),o=a(5),s=(l(o),a(7)),d=l(s),u=a(9),c=l(u),h=a(12),p=l(h),m=a(4),f=a(1),g=a(6),v=a(3),y=m.Form.Item,S=(m.Select.Option,a(132)),C=a(108),E=r.default.createClass({displayName:"UpdateWorkTypePage",getInitialState:function(){return{workTypeSet:{operation:"",errMsg:""},loading:!1,modal:!1,workType:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("workType")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,workTypeSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"workType",desc:"职业类型",required:!0,max:32},{id:"workDomain",desc:"条线名称",required:!1,max:64},{id:"workName",desc:"工种名称",required:!0,max:64},{id:"workDesc",desc:"工种说明",required:!1,max:1024}]},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.workType),this.state.loading=!1,this.state.workTypeSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.workType)&&(this.state.workTypeSet.operation="",this.setState({loading:!0}),C.updateHrWorkType(this.state.workType))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints;return r.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"修改管理信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-work-type/update"]}),r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement(m.Form,{layout:e},r.default.createElement(y,i({},a,{label:"职业类型",required:!0,colon:!0,className:t,help:l.workTypeHint,validateStatus:l.workTypeStatus}),r.default.createElement(p.default,{name:"workType",id:"workType",value:this.state.workType.workType,appName:"HR系统",optName:"职业类型",onSelect:this.handleOnSelected.bind(this,"workType")})),r.default.createElement(y,i({},a,{label:"条线名称",colon:!0,className:t,help:l.workDomainHint,validateStatus:l.workDomainStatus}),r.default.createElement(p.default,{name:"workDomain",id:"workDomain",value:this.state.workType.workDomain,appName:"HR系统",optName:"条线名称",onSelect:this.handleOnSelected.bind(this,"workDomain")})),r.default.createElement(y,i({},a,{label:"工种名称",required:!0,colon:!0,className:t,help:l.workNameHint,validateStatus:l.workNameStatus}),r.default.createElement(m.Input,{type:"text",name:"workName",id:"workName",value:this.state.workType.workName,onChange:this.handleOnChange})),r.default.createElement(y,i({},a,{label:"工种说明",colon:!0,className:t,help:l.workDescHint,validateStatus:l.workDescStatus}),r.default.createElement(m.Input,{type:"textarea",name:"workDesc",id:"workDesc",value:this.state.workType.workDesc,onChange:this.handleOnChange}))))}});t.default=E},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(8),_reactDom2=_interopRequireDefault(_reactDom),_reactMixin=__webpack_require__(5),_reactMixin2=_interopRequireDefault(_reactMixin),_antd=__webpack_require__(4),_ServiceMsg=__webpack_require__(7),_ServiceMsg2=_interopRequireDefault(_ServiceMsg),_XlsTempFile=__webpack_require__(26),_XlsTempFile2=_interopRequireDefault(_XlsTempFile),_CreateWorkTypePage=__webpack_require__(1317),_CreateWorkTypePage2=_interopRequireDefault(_CreateWorkTypePage),_UpdateWorkTypePage=__webpack_require__(1318),_UpdateWorkTypePage2=_interopRequireDefault(_UpdateWorkTypePage),_BatchWorkTypePage=__webpack_require__(1316),_BatchWorkTypePage2=_interopRequireDefault(_BatchWorkTypePage),Reflux=__webpack_require__(1),Search=_antd.Input.Search,Common=__webpack_require__(6),Utils=__webpack_require__(3),WorkTypeStore=__webpack_require__(132),WorkTypeActions=__webpack_require__(108),workTypeFields=[{id:"A",name:"workType",title:"职业类型",opts:"#HR系统.职业类型"},{id:"B",name:"workDomain",title:"条线名称",opts:"#HR系统.条线名称"},{id:"C",name:"workName",title:"工种名称"},{id:"D",name:"workDesc",title:"工种说明"}],filterValue="",WorkTablePage=_react2.default.createClass({displayName:"WorkTablePage",getInitialState:function(){return{workTypeSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[Reflux.listenTo(WorkTypeStore,"onServiceComplete"),(0,_XlsTempFile2.default)()],onServiceComplete:function(e){this.setState({loading:!1,workTypeSet:e})},handleQueryClick:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),this.state.workTypeSet.operation="",WorkTypeActions.retrieveHrWorkType(t)},componentDidMount:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.setState({loading:!0}),WorkTypeActions.initHrWorkType(t)},handleOpenCreateWindow:function(){var e=window.loginData.compUser,t=null===e?"":e.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){_antd.Modal.confirm({title:"删除确认",content:"是否删除选中的管理 【"+e.workType+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.workTypeSet.operation="",WorkTypeActions.deleteHrWorkType(e.uuid)},handleSelectClick:function(e){this.props.selectsRole(e)},onFilterRecord:function(e){filterValue=e.target.value,this.setState({loading:this.state.loading})},handleTempDown:function(e){this.downXlsTempFile(workTypeFields)},beforeBatchLoad:function(e){this.setState({loading:!0});var t=Utils.paramUrl+"read-xlsx/read",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,workTypeFields,e,this.uploadComplete),!1},uploadComplete:function uploadComplete(errMsg,result){if(this.setState({loading:!1}),""!==errMsg)Common.errMsg(errMsg);else{result=result.replace(/}{/g,"},{");var list=eval("("+result+")");list&&(this.refs.batchWindow.clear(list),this.refs.batchWindow.toggle())}},render:function(){var e=this,t=Common.filter(this.state.workTypeSet.recordSet,filterValue),a=[{title:"职业类型",dataIndex:"workType",key:"workType",width:140},{title:"条线名称",dataIndex:"workDomain",key:"workDomain",width:140},{title:"工种名称",dataIndex:"workName",key:"workName",width:140},{title:"工种说明",dataIndex:"workDesc",key:"workDesc",width:140},{title:"",key:"action",width:100,render:function(t,a){return _react2.default.createElement("span",null,_react2.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},_react2.default.createElement(_antd.Icon,{type:Common.iconUpdate})),_react2.default.createElement("span",{className:"ant-divider"}),_react2.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"移除"},_react2.default.createElement(_antd.Icon,{type:Common.iconRemove})),_react2.default.createElement("span",{className:"ant-divider"}),_react2.default.createElement("a",{href:"#",onClick:e.handleSelectClick.bind(e,a),title:"指标维护"},_react2.default.createElement(_antd.Icon,{type:"setting"})))}}],l=Common.getGridMargin(this);return _react2.default.createElement("div",{className:"grid-page",style:{padding:l.padding}},_react2.default.createElement("div",{style:{margin:l.margin}},_react2.default.createElement(_ServiceMsg2.default,{ref:"mxgBox",svcList:["hr-work-type/retrieve","hr-work-type/remove"]}),_react2.default.createElement("div",{className:"toolbar-table"},_react2.default.createElement("div",{style:{float:"left"}},_react2.default.createElement(_antd.Button,{icon:Common.iconAdd,type:"primary",title:"增加管理",onClick:this.handleOpenCreateWindow}),_react2.default.createElement(_antd.Button,{icon:Common.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),_react2.default.createElement(_antd.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeBatchLoad,style:{marginLeft:"4px"}},_react2.default.createElement(_antd.Button,{icon:"upload",title:"批量增加数据"}))),_react2.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},_react2.default.createElement(Search,{placeholder:"查找记录",style:{width:Common.searchWidth},value:filterValue,onChange:this.onFilterRecord})))),_react2.default.createElement("div",{className:"grid-body"},_react2.default.createElement(_antd.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:Common.tableBorder})),_react2.default.createElement(_CreateWorkTypePage2.default,{ref:"createWindow"}),_react2.default.createElement(_UpdateWorkTypePage2.default,{ref:"updateWindow"}),_react2.default.createElement(_BatchWorkTypePage2.default,{ref:"batchWindow"}))}});module.exports=WorkTablePage},function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=l(i),r=a(5),o=(l(r),a(4)),s=a(7),d=(l(s),a(1319)),u=l(d),c=a(711),h=l(c),p=(a(1),a(6),o.Tabs.TabPane),m=n.default.createClass({displayName:"WorkTypePage",getInitialState:function(){return{isSelect:!0,selectKey:"1",work:{}}},componentDidMount:function(){},selectsRole:function(e){this.state.work=e,this.setState({isSelect:!1,selectKey:"2"})},onTabClick:function(){this.setState({isSelect:!0,selectKey:"1"})},render:function(){this.state.selectKey;return n.default.createElement("div",{className:"tab-page",style:{paddingLeft:"4px"}},n.default.createElement(o.Tabs,{activeKey:this.state.selectKey,onTabClick:this.onTabClick,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(p,{tab:"工种管理",key:"1",style:{width:"100%",height:"100%"}},n.default.createElement(u.default,{selectsRole:this.selectsRole.bind(this),style:{width:"100%",height:"100%"}})),n.default.createElement(p,{tab:"指标项",key:"2",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},n.default.createElement(h.default,{workUuid:this.state.work.uuid,style:{width:"100%",height:"100%"}}))))}});e.exports=m}]);