!function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}({0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a(51),a(50);var i=a(2),r=n(i),s=a(8),l=n(s),o=a(42),c=n(o),d=a(13),u=a(1610),h=n(u),f=a(28),p=n(f);if("undefined"!=typeof document){var m=document.getElementById("app"),g=void 0;window.addEventListener("DOMContentLoaded",function(){g=a(52)}),l.default.render(r.default.createElement(d.Router,{onUpdate:function(){window.scrollTo(0,0),g&&g.run()},history:d.browserHistory,routes:h.default}),m)}t.default=function(e,t){var a=(0,d.createMemoryHistory)(),n=a.createLocation(e.path);(0,d.match)({routes:h.default,location:n},function(e,a,n){var i=c.default.renderToString(r.default.createElement(d.RouterContext,n)),s=p.default.rewind(),l='<!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset="utf-8">\n          <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n          '+s.title.toString()+"\n          "+s.meta.toString()+'\n          <link rel=icon href=/assets/favicon.ico>\n          <link rel="stylesheet" href="/react_lz.css"/>\n          <link rel="stylesheet" href="/assets/docs.css"/>\n        </head>\n        <body style="width:100%; margin:0;padding:0; background-color:#fefefe">\n          <div id="app" style="width:100%; height:100%">'+i+'</div>\n          <script src="/react_lz.js"></script>\n          <script src="/assets/prism.js" data-manual></script>\n          <script src="/common.js"></script>\n          <script src="/tcase.js"></script>\n        </body>\n      </html>';t(null,l)})}},1:function(e,t,a){e.exports=a(10)(1160)},2:function(e,t,a){e.exports=a(10)(1)},3:function(e,t,a){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(17),r=a(53),s=a(24);e.exports={initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}console.log(this)},actionFlowNo:1,lzOptions:{},lzOptionsWait:{},loadOptions:function(e,t,a){var n=this.lzOptions[e];if(null!==n&&"undefined"!=typeof n){var r=n[t];return null!==a&&a(null===r||"undefined"==typeof r?[]:r),r}var s=this.lzOptionsWait[e];if(null!==s&&"undefined"!=typeof s)return void s.push({name:t,func:a});s=[{name:t,func:a}],this.lzOptionsWait[e]=s;var l=this,o="";o=this.localDict?"/dict/"+e+".js":this.paramUrl+"app-info/dict?appName="+encodeURI(e),i.getScript(o,function(){var t={};null!==dict&&dict.map(function(e,a){t[e.indexName]=e}),l.lzOptions[appName]=t,s=l.lzOptionsWait[e],s.map(function(e,a){var n=t[e.name];null!==e.func&&e.func(null===n||"undefined"==typeof n?[]:n,e.name)}),l.lzOptionsWait[e]=null})},getOptionName:function(e,t,a,n,i){var r=this.lzOptions[e];if(null===r||"undefined"==typeof r){var s=null,l=this.lzOptionsWait[e];return null!==l&&"undefined"!=typeof l||(s=function(){i.setState({loading:i.state.loading})}),this.loadOptions(e,t,s),a}var o=r[t];if(null!==o&&"undefined"!=typeof o)for(var c=o.codeData.length,d=0;d<c;d++){var u=o.codeData[d];if(u.codeValue===a)return n&&a!==u.codeDesc?a+"-"+u.codeDesc:u.codeDesc}return a},getOptionName2:function(e,t,a){var n="",e=e.split(";");return e.map(function(e,t){var i=e.indexOf("=");if(i>0){var r=e.substr(0,i),s=e.substr(1+i);n=a&&r!==s?r+"-"+s:r}else n=r}),n},findRecordName:function(e,t,a,n){for(var i=t.length,r=0;r<i;r++){var l=t[r];if(l.uuid===e)return void s.findName(n,e,l[a])}s.findName(n,e,e)},sessionID:"",saveSessionID:function(e,t){null!=e.errCode&&""!=e.errCode&&"000000"!=e.errCode||(t.sessionID=e.object.sessionId,window.sessionStorage.setItem("sessionID",t.sessionID))},getSessionID:function(){return""===this.sessionID&&(this.sessionID=window.sessionStorage.getItem("sessionID")),this.sessionID},fz_setCookie:function(e,t,a){var n="";if(a){var i=new Date;i.setTime(i.getTime()+864e5*a),n=";expires="+i.toGMTString()}document.cookie=e+"="+(null==t?"":escape(t))+n+";path=/"},fmtGetUrl:function(e){var t=e.indexOf("corp");if(t>=0)return e;if(void 0===window.loginData)return e;var a=window.loginData.compUser;return null===a||""===a.corpUuid||void 0===a.corpUuid?e:(t=e.indexOf("?"),e=t>=0?e+"&corp="+a.corpUuid:e+"?corp="+a.corpUuid)},ajaxBody:function(e,t,a){if(t.term="web","undefined"!=typeof window.loginData){var n=window.loginData.compUser;t.corp=null===n?"":n.corpUuid}else t.corp="";return{type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}},loginService:function(e,t){var a=this,n=new r(function(n,r){var s={flowNo:"0",term:"web",object:t};i.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(s),dataType:"json",success:function(e,t,n){a.saveSessionID(e,a)},xhrFields:{withCredentials:!0},crossDomain:!0}).done(n).fail(r)});return n},doDeployService:function(e,t){var a=new r(function(a,n){i.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done(a).fail(n)});return a},fetch:function(e){var t=new r(function(t,a){i.get(e).done(t).fail(a)});return t},doJsonService:function(e,t){var a=this.ajaxBody(e,t),n=new r(function(e,t){i.ajax(a).done(e).fail(t)});return n},doGetService:function(e){e=this.fmtGetUrl(e);var t=new r(function(t,a){i.get(e).done(t).fail(a)});return t},doRetrieveService:function(e,t,a,n,s){var l={pageRow:n,startPage:a,totalRow:s,object:t},o={flowNo:"0",object:l},c=this.ajaxBody(e,o),d=new r(function(e,t){i.ajax(c).done(e).fail(t)});return d},doTextService:function(e,t,a,n,s){var l={flowNo:"111111",object:"1"},o=this.ajaxBody(e,l),c=new r(function(e,t){i.ajax(o).done(e).fail(t)});return c},doGetRecordService:function(e,t){var a={flowNo:"0",object:t},n=this.ajaxBody(e,a),s=new r(function(e,t){i.ajax(n).done(e).fail(t)});return s},doCreateService:function(e,t){var a={flowNo:"0",object:t},n=this.ajaxBody(e,a),s=new r(function(e,t){i.ajax(n).done(e).fail(t)});return s},doUpdateService:function(e,t){var a={flowNo:"0",object:t},n=this.ajaxBody(e,a),s=new r(function(e,t){i.ajax(n).done(e).fail(t)});return s},doRemoveService:function(e,t){var a={flowNo:"0",object:t},n=this.ajaxBody(e,a),s=new r(function(e,t){i.ajax(n).done(e).fail(t)});return s},doUploadService:function(e,t,a){var n=new FormData,s={flowNo:"0",object:t};if(s.term="web","undefined"!=typeof window.loginData){var l=window.loginData.compUser;s.corp=null===l?"":l.corpUuid}else s.corp="";n.append("reqObject",JSON.stringify(s));var o=0,c=!0,d=!1,u=void 0;try{for(var h,f=a[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value;n.append("file_"+o,p),o++}}catch(e){d=!0,u=e}finally{try{!c&&f.return&&f.return()}finally{if(d)throw u}}var m={type:"post",url:this.fmtGetUrl(e),data:n,dataType:"json",cache:!1,contentType:!1,processData:!1,xhrFields:{withCredentials:!0},crossDomain:!0};return new r(function(e,t){i.ajax(m).done(e).fail(t)})},copyValue:function(e,t){for(var a in e)try{t[a]=e[a]}catch(e){}},deepCopyValue:function(e){var t=e instanceof Array?[]:{};for(var a in e)null!==e[a]?t[a]="object"===n(e[a])?this.deepCopyValue(e[a]):e[a]:t[a]=e[a]=null;return t},compareTo:function(e,t){for(var a in e)try{if(t[a]!==e[a])return!1}catch(e){return!1}for(var a in t)try{if(t[a]!==e[a])return!1}catch(e){return!1}return!0},findRecord:function(e,t){for(var a=e.recordSet.length-1;a>=0;a--)if(e.recordSet[a].uuid===t)return a;return-1},getResErrMsg:function(e){if(void 0!==e&&null!==e){var t=e.responseJSON;if(void 0!==t&&null!==t){var a=t.message;if(void 0!==a&&null!==a)return a}}return"调用服务错误"},recordCreate:function(e,t,a,i){var r=this,s=e;this.doCreateService(a,t).then(function(e){if(null==e.errCode||""==e.errCode||"000000"==e.errCode){if(void 0===i||null===i){var t=n(e.object.list);if("object"===t&&e.object.list.constructor===Array)for(var a=e.object.list.length,r=0;r<a;r++)s.recordSet.push(e.object.list[r]);else s.recordSet.push(e.object)}else i(s,e.object);s.totalRow=s.totalRow+1,s.fireEvent("create","",s)}else s.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",s)},function(e){s.fireEvent("create",r.getResErrMsg(e),s)})},recordUpdate:function(e,t,a,n){var i=this,r=e,s=this.findRecord(e,t.uuid);if(s<0)return void r.fireEvent("update","没有找到记录["+t.uuid+"]",r);if(this.compareTo(r.recordSet[s],t))return console.log("数据没有变更"),void r.fireEvent("update","",r);var i=this;this.doUpdateService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(void 0===n||null===n?i.copyValue(e.object,r.recordSet[s]):n(r,r.recordSet[s],e.object),r.fireEvent("update","",r)):r.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("update",i.getResErrMsg(e),r)})},recordDelete:function(e,t,a){console.log(e,t,a);var n=e,i=this.findRecord(e,t);if(i<0)return void n.fireEvent("remove","没有找到记录["+t+"]",n);var r=this;this.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(n.recordSet.splice(i,1),n.totalRow=n.totalRow-1,n.fireEvent("remove","",n)):n.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",n)},function(e){n.fireEvent("remove",r.getResErrMsg(e),n)})},recordDeleteMore:function(e,t,a){var n=e,i=this.findRecord(e,t);if(i<0)return void n.fireEvent("remove","没有找到记录["+t+"]",n);var r=this;this.doRemoveService(a,t).then(function(e){console.log(e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(n.recordSet.splice(i,1),n.fireEvent("remove","",n)):n.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",n)},function(e){n.fireEvent("remove",r.getResErrMsg(e),n)})},recordRetrieve:function(e,t,a,n,i){var s=this,l=new r(function(r,l){s.doRetrieveService(e,t,a,n,i).then(function(e){record?null==e.errCode||""==e.errCode||"000000"==e.errCode?r(e.object):l("处理错误["+e.errCode+"]["+e.errDesc+"]"):l("查询数据时错误")},function(e){l(JSON.stringify(e))})});return l},selModName:"",selectedApp:null,menuMap:{},getAppMenu:function(e){var t=window.sessionStorage.getItem("loadedMenu");if(null===t||void 0===t||""===t)return null;for(var a=!1,n=t.split(","),i=n.length-1;i>=0;i--)if(e===n[i]){a=!0;break}if(!a)return null;var r=this.menuMap[e];if(void 0!==r&&null!==r)return r;var s=window.sessionStorage.getItem("menu."+e);return void 0!==s&&null!==s?(r=JSON.parse(s),this.menuMap[e]=r,this.selModName=e,window.sessionStorage.setItem("activeMenu",e),r):null},setSelectedApp:function(e){if(this.selectedApp=null,"undefined"!=typeof window.loginData){var t=null,a=window.loginData.compUser;if(null===a){var n=window.loginData.authUser;if("admin"!==n.userName)return;t=[{appCode:"MA"}]}else t=a.appAuthList;if(null!==t){"*"===e.charAt(0)&&(e=e.substr(1));for(var i=t.length,r=0;r<i;r++){var s=t[r];if(s.appCode===e){this.selectedApp=s,window.sessionStorage.setItem("activeApp",e);break}}}}},saveAppMenu:function(e,t){void 0!==t&&null!==t||(t=[]);var a={};t.map(function(e,t){a[e.menuPath]=e.roleName}),this.menuMap[e]=a,window.sessionStorage.setItem("menu."+e,JSON.stringify(a));var n=window.sessionStorage.getItem("loadedMenu");n=null===n||void 0===n||""===n?e:n+","+e,window.sessionStorage.setItem("loadedMenu",n)},setActiveMenuName:function(e){this.selModName=e,window.sessionStorage.setItem("activeMenu",e)},checkMenuPriv:function(e){if(null===this.selectedApp){var t=window.sessionStorage.getItem("activeApp");null!==t&&void 0!==t&&this.setSelectedApp(t);var a=window.sessionStorage.getItem("activeMenu");null!==a&&void 0!==a&&this.getAppMenu(a)}if(""===this.selModName)return 1;var n=this.menuMap[this.selModName];if(void 0===n||null===n)return this.checkRole?0:2;var i=n[e];if(void 0===i||null===i)return this.checkRole?0:2;if(i.indexOf("*")>=0)return 1;if(null===this.selectedApp)return this.checkRole?0:2;var r=window.loginData.compUser;if(null===r&&"MA"===this.selectedApp.appCode){var s=window.loginData.authUser;if("admin"===s.userName)return 1}var l=this.selectedApp.roleList;if(null===l||void 0===l)return this.checkRole?0:2;for(var o=l.split(","),c=o.length-1;c>=0;c--){var d=","+o[c]+",";if(i.indexOf(d)>=0)return 1}return this.checkRole?0:2},checkAppPriv:function(e){if("undefined"==typeof window.loginData)return this.checkRole?0:2;var t=window.loginData.compUser;if(null===t){if("MA"===e){var a=window.loginData.authUser;if("admin"===a.userName)return 1}return this.checkRole?0:2}if("*"===e.charAt(0))return 1;if(null!==t.appAuthList)for(var n=t.appAuthList.length,i=0;i<n;i++){var r=t.appAuthList[i];if(r.appCode===e)return 1}return this.checkRole?0:2},downAppMenu:function(e,t){var a=this,n=new r(function(n,i){var r=a.getAppMenu(e);if(r)return a.setSelectedApp(t),a.setActiveMenuName(e),void n(r);var s=a.authUrl+"fnt-app-menu/appName";a.doCreateService(s,e).then(function(r){null==r.errCode||""==r.errCode||"000000"==r.errCode?(a.saveAppMenu(e,r.object),a.setSelectedApp(t),a.setActiveMenuName(e),n(r.object)):i("下载菜单错误["+r.errCode+"]["+r.errDesc+"]")},function(e){i("下载菜单错误")})});return n}}},4:function(e,t,a){e.exports=a(10)(541)},5:function(e,t,a){e.exports=a(10)(1032)},6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,a="",n="0123456789ABCDEF";for(t=0;t<=3;t++)a+=n.charAt(e>>8*t+4&15)+n.charAt(e>>8*t&15);return a}function r(e){var t,a=(e.length+8>>6)+1,n=new Array(16*a);for(t=0;t<16*a;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<t%4*8;return n[t>>2]|=128<<t%4*8,n[16*a-2]=8*e.length,n}function s(e,t){var a=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(a>>16);return n<<16|65535&a}function l(e,t){return e<<t|e>>>32-t}function o(e,t,a,n,i,r){return s(l(s(s(t,e),s(n,r)),i),a)}function c(e,t,a,n,i,r,s){return o(t&a|~t&n,e,t,i,r,s)}function d(e,t,a,n,i,r,s){return o(t&n|a&~n,e,t,i,r,s)}function u(e,t,a,n,i,r,s){return o(t^a^n,e,t,i,r,s)}function h(e,t,a,n,i,r,s){return o(a^(t|~n),e,t,i,r,s)}function f(){this.regDate3=/^[1-2]\d{6,7}$/,this.regEmail=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,this.regPhone=/^((\(\d{1,5}\))|(\d{1,5}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?$/,this.regPhones=/^(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?([,|;](\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?)*$/,this.regMobile=/^((\(\d{3}\))|(\d{3}\-))?1[34578]\d{9}$/,this.regUrl=/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,this.className=/^([_a-z0-9]+\.)*[A-Z][_A-Za-z0-9]+$/,this.regIdCard15=/^\d{15}(\d{2}[A-Za-z0-9])?$/,this.regIdCard18=/^\d{17}(?:\d|x|X)$/,this.regMoney=/^[-\+]?\d+(\.\d{0,2})?$/,this.regNumber=/^\d+$/,this.regZip=/^[0-9]\d{5}$/,this.regQQ=/^[1-9]\d{3,9}$/,this.regInteger=/^[-\+]?\d+$/,this.regDouble=/^[-\+]?\d+(\.\d+)?$/,this.regEnglish=/^[A-Za-z]+$/,this.regEnglish2=/^[A-Za-z\s]+$/,this.regChinese=/^[\u0391-\uFFE5]+$/,this.regUnSafe=/^(([A-Z]*|[a-z]*|\d*|[-_\~!@#\$%\^&\*\.\(\)\[\]\{\}<>\?\\\/\'\"]*)|.{0,5})$|\s/,this.regNotChar=/^[^`~!@#$%^&*()+=|\\\][\]\{\}:;'\,.<>\/?]{1}[^`~!@$%^&()+=|\\\][\]\{\}:;'\,.<>?]{0,19}$/,this.regChar=/[(\/)(\\)(')(")(<)(>)]/g}function p(e,t,a){var n=/^\d+$/;if(4!=e.length||0==e)return!1;if(!n.test(e))return!1;var i=parseInt(e)%4==0&&parseInt(e)%100!=0||parseInt(e)%400==0;if(!t||0==t)return!1;if(!n.test(t))return!1;var r=parseInt(t,10);if(r>12)return!1;if(!a||0==a)return!1;if(!n.test(a))return!1;var s=[29,31,28,31,30,31,30,31,31,30,31,30,31];return 2==r&&i&&(r=0),!(a>s[r])}function m(e,t){if(e.length!=t.length)return"请按格式【"+t+"】输入日期";for(var a="",n="",i="",r=e.split(""),s=t.split(""),l=r.length,o=0;o<l;o++)if("y"===s[o])a+=r[o];else if("m"===s[o])n+=r[o];else if("d"===s[o])i+=r[o];else if(s[o]!==r[o])return"请按格式【"+t+"】输入日期";return 0==p(a,n,i)?"请输入正确的日期!":""}function g(e){var t=18==e.length?f.regIdCard18:f.regIdCard15;if(0==t.test(e))return"请输入有效的身份证号码!";var a="",n="",i="";if(18==e.length?(a=e.substr(6,4),n=e.substr(10,2),i=e.substr(12,2)):15==e.length&&(a="19"+e.substr(6,2),n=e.substr(8,2),i=e.substr(10,2)),0==p(a,n,i))return"日期的取值范围不正确!";var r=v(e);return null!=r?"请输入有效的身份证号码!":void 0}function v(e){if(18!=e.length)return null;var t=S(e),a=e.substring(17).toUpperCase();return t!=a?t:null}function S(e){for(var t="1,0,X,9,8,7,6,5,4,3,2".split(","),a="7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2".split(","),n=0,i=0;i<17;i++)n+=parseInt(e.substring(i,i+1))*a[i];var r=n%11,s=t[r];return s}function y(e,t){if(t.length>6){var a=t.substr(0,5);if("date:"===a||"date："===a){var n=t.substr(5);return m(e,n)}}if("idcard18"===t){if(18!==e.length)return"请输入18位身份证号码"}else if("idcard"===t&&18!==e.length&&15!==e.length)return"请输入身份证号码";for(var i=I.length-1;i>=0;i--){var r=I[i];if(r.type==t)return r.isValid(e)}return"未知的数据类型["+t+"]"}function C(e){var t,a=348;for(t=32768;t>8;t>>=1)a+=O[e-1900]&t?1:0;return a+w(e)}function w(e){return E(e)?65536&O[e-1900]?30:29:0}function E(e){return 15&O[e-1900]}function x(e,t){return O[e-1900]&65536>>t?30:29}function b(e,t,a){var n,i=0,r=0,s=(Date.UTC(e,t,a)-Date.UTC(1900,0,31))/864e5;for(this.dayCyl=s+40,this.monCyl=14,n=1900;n<2050&&s>0;n++)r=C(n),s-=r,this.monCyl+=12;for(s<0&&(s+=r,n--,this.monCyl-=12),this.year=n,this.yearCyl=n-1864,i=E(n),this.isLeap=!1,n=1;n<13&&s>0;n++)i>0&&n==i+1&&0==this.isLeap?(--n,this.isLeap=!0,r=w(this.year)):r=x(this.year,n),1==this.isLeap&&n==i+1&&(this.isLeap=!1),s-=r,0==this.isLeap&&this.monCyl++;0==s&&i>0&&n==i+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--n,--this.monCyl)),s<0&&(s+=r,--n,--this.monCyl),this.month=n,this.day=s+1}var k=a(2),N=n(k),P=a(4),D=P.Tree.TreeNode,R=(a(17),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);e.exports={eMailList:["icerno.com","opssino.com","gmail.com","163.com","qq.com","sina.com","sina.com.cn"],initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}},check:function(e,t,a){var n=""===t||null===t||"undefined"==typeof t;if(e.required===!0&&n)return"请输入【"+e.desc+"】";if(n)return"";if(e.max>0&&t.length>e.max)return"【"+e.desc+"】最多输入【"+e.max+"】个字符";if(e.min>0&&t.length<e.min)return"【"+e.desc+"】至少输入【"+e.max+"】个字符";if(""!==e.dataType&&null!==e.dataType&&"undefined"!=typeof e.dataType){var i=y(t,e.dataType);if(""!==i&&null!==i&&"undefined"!=typeof i)return i}if(null!==e.pattern&&"undefined"!=typeof e.pattern&&0==e.pattern.test(t))return""===e.patternPrompt||null===e.patternPrompt||"undefined"==typeof e.patternPrompt?"请输入正确的内容!":e.patternPrompt;if(""!==e.validator&&null!==e.validator&&"undefined"!=typeof e.validator){var i=e.validator(t,e,a);if(""!==i&&null!==i&&"undefined"!=typeof i)return i}return""},checkDataType:function(e,t){return y(e,t)},setError:function(e,t,a){""===a||null===a||"undefined"==typeof a?(e.state.hints[t+"Status"]="",e.state.hints[t+"Hint"]=""):(e.state.hints[t+"Status"]="error",e.state.hints[t+"Hint"]=N.default.createElement("span",{className:"errorHint"},a))},validator:function(e,t,a){var n=this,i=e.state.validRules;if(0===i.length)return!0;var r=!0;if(""===a||null===a||"undefined"==typeof a)e.state.hints={},i.map(function(a,i){var s=t[a.id];a.whitespace||null==s||(s=s.replace(/(^\s*)|(\s*$)/g,""),t[a.id]=s);var l=n.check(a,s,e);""!==l&&(n.setError(e,a.id,l),r=!1)});else for(var s=i.length-1;s>=0;s--){var l=i[s];if(l.id===a){var o=t[a],c=this.check(l,o,e);this.setError(e,a,c),""!==c?r=!1:"number"===l.dataType&&""!==o&&(t[a]=""+parseInt(o));break}}return r},formValidator:function(e,t){var a=this.validator(e,t);if(!a){var n=e.state.hints;e.setState({hints:n})}return a},formatDate:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{6,7}$/;if(!a.test(e))return e;var n=e.substr(0,4),i=e.substr(4,2),r=e.substr(6,2);1==r.length&&(r="0"+r);var s=R[parseInt("1"+i)-101],l=t;return l=l.replace(/YYYY/g,n),l=l.replace(/YY/g,n.substring(2)),l=l.replace(/MM/g,i),l=l.replace(/MON/g,s),l=l.replace(/DD/g,r)},formatMonth:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{5}$/;if(!a.test(e))return e;var n=e.substr(0,4),i=e.substr(4,2),r=R[parseInt("1"+i)-101],s=t;return s=s.replace(/YYYY/g,n),s=s.replace(/YY/g,n.substring(2)),s=s.replace(/MM/g,i),s=s.replace(/MON/g,r)},getToday:function(){var e=new Date;return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()},getMonth:function(){var e=new Date;return 100*e.getFullYear()+(e.getMonth()+1)},getLunar:function(e,t,a){var n=new b(e,t-1,a),a=""+(100*n.month+n.day);return n.month<10&&(a="0"+a),a},timeDiff:function(e,t){var a=e.substr(0,2)+":"+e.substr(2,2),n=t.substr(0,2)+":"+t.substr(2,2),a=new Date("2017/6/16 "+a).getTime(),n=new Date("2017/6/16 "+n).getTime(),i=n-a,r=i/1e3/60;return{h:Math.floor(r/60),m:r%60,dm:r}},timeDiff2:function(e,t){var a=new Date("2017/6/16 "+e).getTime(),n=new Date("2017/6/16 "+t).getTime(),i=n-a,r=i/1e3/60;return{h:Math.floor(r/60),m:r%60,dm:r}},initTreeNodes:function(e,t){var a=this,n=[],i={};e.map(function(r,s){var l=t(r,e);n.push(l),i[l.key]=l,l.children=[],a.initTreeNode(l,r)}),n.map(function(e,t){""!==e.pid&&(e.pNode=i[e.pid],"undefined"==typeof e.pNode&&(e.pNode=null),null!==e.pNode&&e.pNode.children.push(e))});var r=[],s=[];if(n.map(function(e,t){null===e.pNode&&(""!==e.pid?s.push(e):r.push(e))}),s.length>0){var l={key:"__unknow",pid:"",title:"未关联节点",disableCheckbox:!0,disabled:!1,pNode:null,children:s,object:null};r.push(l),s.map(function(e,t){e.pNode=l})}return n.map(function(e,t){e.isLeaf=0===e.children.length,e.isLeaf&&(e.children=null)}),r},initTreeNodes2:function(e,t,a,n){var i=this;if(0===e.length)return[];var r=[],s={};e.map(function(e,a){var n=t(e);r.push(n),s[n.key]=n,n.children=[],i.initTreeNode(n,e)});var l=[];return a.map(function(e,t){var a=n(e);l.push(a),a.children=null,i.initTreeNode(a,e),a.pNode=s[a.pid],"undefined"==typeof a.pNode&&(a.pNode=null),null!==a.pNode&&a.pNode.children.push(a)}),r},initTreeNodes3:function(e,t,a){var n=this;if(0===e.length)return[];var i=[],r={};return e.map(function(s,l){var o=a(s,e),c=r[o.pid];null!==c&&"undefined"!=typeof c||(c=t(s,e),c.children=[],n.initTreeNode(c,null),i.push(c),r[c.key]=c),n.initTreeNode(o,s),o.pNode=c,o.children=null,c.children.push(o)}),i},initTreeNode:function(e,t){e.object=t,e.pNode=null,null!==e.pid&&"undefined"!=typeof e.pid||(e.pid=""),null!==e.disabled&&"undefined"!=typeof e.disabled||(e.disabled=!1),null!==e.disableCheckbox&&"undefined"!=typeof e.disableCheckbox||(e.disableCheckbox=!1)},prepareTreeNodes:function(e){var t=this;return e.isLeaf||null==e.children?N.default.createElement(D,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf}):N.default.createElement(D,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf},e.children.map(function(e,a){return t.prepareTreeNodes(e)}))},getCardMargin:function(e,t){var a=0===t?0:t>1?t:58,n=e.refs.mxgBox;if(null!==n&&"undefined"!=typeof n)for(var i=n.state.hints,r=i.length,s=0;s<r;s++)if(""!==i[s]){a+=26;break}var l={};return l.padding=a+"px 0 0 0",l.margin="-"+a+"px 0 0 0",l},getGridMargin:function(e,t){var a=0===t?0:t>1?t:58,n=e.refs.mxgBox;if(null!==n&&"undefined"!=typeof n)for(var i=n.state.hints,r=i.length,s=0;s<r;s++)if(""!==i[s]){a+=26;break}var l={};return l.padding=a+"px 0 0 0",l.margin="-"+a+"px 0 0 0",l},calcMD5:function(e){var t,a=r(e),n=1732584193,l=-271733879,o=-1732584194,f=271733878;for(t=0;t<a.length;t+=16){var p=n,m=l,g=o,v=f;n=c(n,l,o,f,a[t+0],7,-680876936),f=c(f,n,l,o,a[t+1],12,-389564586),o=c(o,f,n,l,a[t+2],17,606105819),l=c(l,o,f,n,a[t+3],22,-1044525330),n=c(n,l,o,f,a[t+4],7,-176418897),f=c(f,n,l,o,a[t+5],12,1200080426),o=c(o,f,n,l,a[t+6],17,-1473231341),l=c(l,o,f,n,a[t+7],22,-45705983),n=c(n,l,o,f,a[t+8],7,1770035416),f=c(f,n,l,o,a[t+9],12,-1958414417),o=c(o,f,n,l,a[t+10],17,-42063),l=c(l,o,f,n,a[t+11],22,-1990404162),n=c(n,l,o,f,a[t+12],7,1804603682),f=c(f,n,l,o,a[t+13],12,-40341101),o=c(o,f,n,l,a[t+14],17,-1502002290),l=c(l,o,f,n,a[t+15],22,1236535329),n=d(n,l,o,f,a[t+1],5,-165796510),f=d(f,n,l,o,a[t+6],9,-1069501632),o=d(o,f,n,l,a[t+11],14,643717713),l=d(l,o,f,n,a[t+0],20,-373897302),n=d(n,l,o,f,a[t+5],5,-701558691),f=d(f,n,l,o,a[t+10],9,38016083),o=d(o,f,n,l,a[t+15],14,-660478335),l=d(l,o,f,n,a[t+4],20,-405537848),n=d(n,l,o,f,a[t+9],5,568446438),f=d(f,n,l,o,a[t+14],9,-1019803690),o=d(o,f,n,l,a[t+3],14,-187363961),l=d(l,o,f,n,a[t+8],20,1163531501),n=d(n,l,o,f,a[t+13],5,-1444681467),f=d(f,n,l,o,a[t+2],9,-51403784),o=d(o,f,n,l,a[t+7],14,1735328473),l=d(l,o,f,n,a[t+12],20,-1926607734),n=u(n,l,o,f,a[t+5],4,-378558),f=u(f,n,l,o,a[t+8],11,-2022574463),o=u(o,f,n,l,a[t+11],16,1839030562),l=u(l,o,f,n,a[t+14],23,-35309556),n=u(n,l,o,f,a[t+1],4,-1530992060),f=u(f,n,l,o,a[t+4],11,1272893353),o=u(o,f,n,l,a[t+7],16,-155497632),l=u(l,o,f,n,a[t+10],23,-1094730640),n=u(n,l,o,f,a[t+13],4,681279174),f=u(f,n,l,o,a[t+0],11,-358537222),o=u(o,f,n,l,a[t+3],16,-722521979),l=u(l,o,f,n,a[t+6],23,76029189),n=u(n,l,o,f,a[t+9],4,-640364487),f=u(f,n,l,o,a[t+12],11,-421815835),o=u(o,f,n,l,a[t+15],16,530742520),l=u(l,o,f,n,a[t+2],23,-995338651),n=h(n,l,o,f,a[t+0],6,-198630844),f=h(f,n,l,o,a[t+7],10,1126891415),o=h(o,f,n,l,a[t+14],15,-1416354905),l=h(l,o,f,n,a[t+5],21,-57434055),n=h(n,l,o,f,a[t+12],6,1700485571),f=h(f,n,l,o,a[t+3],10,-1894986606),o=h(o,f,n,l,a[t+10],15,-1051523),l=h(l,o,f,n,a[t+1],21,-2054922799),n=h(n,l,o,f,a[t+8],6,1873313359),f=h(f,n,l,o,a[t+15],10,-30611744),o=h(o,f,n,l,a[t+6],15,-1560198380),l=h(l,o,f,n,a[t+13],21,1309151649),n=h(n,l,o,f,a[t+4],6,-145523070),f=h(f,n,l,o,a[t+11],10,-1120210379),o=h(o,f,n,l,a[t+2],15,718787259),l=h(l,o,f,n,a[t+9],21,-343485551),n=s(n,p),l=s(l,m),o=s(o,g),f=s(f,v)}return i(n)+i(l)+i(o)+i(f)},strSort:function(e,t){return e.localeCompare(t)},isMatched:function(e,t){for(var a in e)try{var n=e[a];if(null!==n&&"string"==typeof n&&n.indexOf(t)>=0)return!0}catch(e){}return!1},filter:function(e,t){var a=this;if(null===t||"undefined"==typeof t||""===t)return e;var n=[];return e.map(function(e,i){a.isMatched(e,t)&&n.push(e)}),n},sortTable:function(e,t,a){var n=null;return n=a?function(e,a){var n=e[t],i=a[t];return i.localeCompare(n)}:function(e,a){var n=e[t],i=a[t];return n.localeCompare(i)},e.sort(n)},isIncNumber:function(e){if(null===e||""===e)return!1;for(var t=e.length-1;t>=0;t--){var a=e.charAt(t);if(a>="0"&&a<="9")return!0}return!1},infoMsg:function(e){P.Modal.info({title:"提示",content:e})},succMsg:function(e){P.Modal.success({title:"成功",content:e})},errMsg:function(e){P.Modal.error({title:"错误",content:e})},warnMsg:function(e){P.Modal.warning({title:"警告",content:e})}};var f=new f,I=[{type:"int",isValid:function(e){if(0==f.regInteger.test(e))return"请输入整数!"}},{type:"double",isValid:function(e){if(0==f.regDouble.test(e))return"请输入Double数据，比如：55.069!"}},{type:"money",isValid:function(e){if(0==f.regMoney.test(e))return"请输入金额，比如：2355.00!"}},{type:"email",isValid:function(e){if(0==f.regEmail.test(e))return"请输入电子邮件地址!"}},{type:"idcard",isValid:g},{type:"idcard18",isValid:g},{type:"phone",isValid:function(e){if(0==f.regPhone.test(e))return"请输入电话号码!"}},{type:"phones",isValid:function(e){if(0==f.regPhones.test(e))return"请输入电话号码，[,]分割!"}},{type:"mobile",isValid:function(e){if(0==f.regMobile.test(e))return"请输入手机号码!"}},{type:"zip",isValid:function(e){if(0==f.regZip.test(e))return"请输入六位数字的邮政编码!"}},{type:"url",isValid:function(e){if(0==f.regUrl.test(e.toLowerCase()))return"请输入HTTP地址!"}},{type:"classname",isValid:function(e){if(0==f.className.test(e))return"请输入有效的类名称!"}},{type:"qq",isValid:function(e){if(0==f.regQQ.test(e))return"请输入QQ号!"}},{type:"number",isValid:function(e){if(0==f.regNumber.test(e))return"请输入数字!"}},{type:"汉字",isValid:function(e){if(0==f.regChinese.test(e))return"请输入汉字!"}},{type:"字母",isValid:function(e){if(0==f.regEnglish2.test(e))return"请输入字母或空格!"}}],O=new Array(19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835)},7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=n(i),s=a(5),l=(n(s),a(1)),o=(a(11),a(34)),c={svcList:r.default.PropTypes.array},d=r.default.createClass({displayName:"ServiceMsg",getInitialState:function(){return{svcMsg:{resName:"",operation:"",errMsg:""},hints:[]}},mixins:[l.listenTo(o,"onServiceComplete")],onServiceComplete:function(e){e.errMsg.indexOf("[AUTH09]")>=0&&window.sessionStorage.removeItem("loginData"),this.setState({svcMsg:e})},componentDidMount:function(){this.clear()},clear:function(){this.state.hints=[];for(var e=this.props.svcList.length,t=0;t<e;t++)this.state.hints.push("")},showError:function(e){var t=this.state.hints,a=t.length;a>0&&(t[0]=e),this.setState({hints:t})},onClose:function(){for(var e=this.state.hints,t=e.length,a=0;a<t;a++)e[a]="";this.setState({hints:e})},render:function(){var e=this.state.svcMsg;if(null!=e&&null!==e.operation&&""!==e.operation){for(var t=e.resName+"/"+e.operation,a=this.props.svcList.length,n=0;n<a;n++)if(this.props.svcList[n]===t){this.state.hints[n]=e.errMsg;break}this.state.svcMsg=null}for(var i="",a=this.state.hints.length,n=0;n<a&&(i=this.state.hints[n],null===i||""===i);n++);return""===i?null:r.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},r.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),r.default.createElement("span",{className:"ant-alert-message"},i),r.default.createElement("span",{className:"ant-alert-description"}),r.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},r.default.createElement("i",{className:"anticon anticon-cross"})))}});d.propTypes=c,e.exports=d},8:function(e,t,a){e.exports=a(10)(12)},9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=(n(i),a(65)),s=n(r),l=a(6);e.exports=function(e,t){return{toggle:function(){this.beforeClose&&this.state.modal&&this.beforeClose(),this.setState({modal:!this.state.modal})},formatDate:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,s.default)(e,"YYYYMMDD"):""},formatMonth:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,s.default)(e,"YYYYMM"):""},handleOnChange:function(a){var n=this.state[e];n[a.target.id]=a.target.value;var i=!0;t!==!0&&(i=l.validator(this,n,a.target.id)),i&&this.state.afterChange&&this.state.afterChange(a.target.id,a.target.value),this.setState({loading:this.state.loading})},onRadioChange:function(a){var n=this.state[e],i=""+a.target.value;n[a.target.id]=i;var r=!0;t!==!0&&(r=l.validator(this,n,a.target.id)),r&&this.state.afterChange&&this.state.afterChange(a.target.id,i),this.setState({loading:this.state.loading})},handleCheckBox:function(a){var n=this.state[e],i=a.target.checked?"1":"0";n[a.target.id]=i;var r=!0;t!==!0&&(r=l.validator(this,n,a.target.id)),r&&this.state.afterChange&&this.state.afterChange(a.target.id,i),this.setState({loading:this.state.loading})},handleOnSelected:function(a,n){var i=this.state[e];i[a]=n;var r=!0;t!==!0&&(r=l.validator(this,i,a)),r&&this.state.afterChange&&this.state.afterChange(a,n),this.setState({loading:this.state.loading})},handleOnSelDate:function(a,n,i,r){if(null==r||0==r.length)r="";else{
if(r.length!=n.length)return;for(var s="",o="",c="",d=r.split(""),u=n.split(""),h=d.length,f=0;f<h;f++)if("Y"===u[f])s+=d[f];else if("M"===u[f])o+=d[f];else if("D"===u[f])c+=d[f];else if(u[f]!==d[f])return void console.log("日期错误",a,monthFormat,monthString);r=s+o+c}var p=this.state[e];p[a]=r;var m=!0;t!==!0&&(m=l.validator(this,p,a)),m&&this.state.afterChange&&this.state.afterChange(a,r),this.setState({loading:this.state.loading})},handleOnSelMonth:function(a,n,i,r){if(null==r||0==r.length)r="";else{if(r.length!=n.length)return;for(var s="",o="",c=r.split(""),d=n.split(""),u=c.length,h=0;h<u;h++)if("Y"===d[h])s+=c[h];else if("M"===d[h])o+=c[h];else if(d[h]!==c[h])return void console.log("日期错误",a,n,r);r=s+o}var f=this.state[e];f[a]=r;var p=!0;t!==!0&&(p=l.validator(this,f,a)),p&&this.state.afterChange&&this.state.afterChange(a,r),this.setState({loading:this.state.loading})}}}},10:function(e,t){e.exports=react_lz},11:function(e,t,a){"use strict";var n=a(1),i=n.createActions(["showError"]);e.exports=i},12:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),l=n(s),o=a(4),c=a(3),d=o.Select.Option,u=l.default.createClass({displayName:"DictSelect",getInitialState:function(){return{opts:[],loading:!1}},showOptions:function(e){var t=e.codeData;null!==t&&"undefined"!=typeof t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props,t=e.appName,a=e.optName;this.state.loading=!0,c.loadOptions(t,a,this.showOptions)},selectMultiValue:function(e){if(this.props.onSelect){var t=this.props.value,a=t?t.split(","):[];a.push(e),t=a.join(","),this.props.onSelect(t)}},deselectMultiValue:function(e){if(this.props.onSelect){for(var t=this.props.value,a=t?t.split(","):[],n=0;n<a.length;n++)if(a[n]===e){a.splice(n,1);break}t=a.join(","),this.props.onSelect(t)}},render:function(){var e,t=this.props,a=(t.appName,t.optName,t.showCode),n=t.required,s=t.mode,c=t.onSelect,u=t.value,h=i(t,["appName","optName","showCode","required","mode","onSelect","value"]);e=a?this.state.opts.map(function(e,t){return l.default.createElement(d,{key:e.codeValue,value:e.codeValue},e.codeValue,"-",e.codeDesc)}):this.state.opts.map(function(e,t){return l.default.createElement(d,{key:e.codeValue,value:e.codeValue},e.codeDesc)});var f;if("multiple"===s){var p=u?u.split(","):[];f=l.default.createElement(o.Select,r({mode:"multiple",value:p,onSelect:this.selectMultiValue,onDeselect:this.deselectMultiValue},h),e)}else f=n?l.default.createElement(o.Select,r({value:u,onSelect:c},h),e):l.default.createElement(o.Select,r({value:u,onSelect:c},h),l.default.createElement(d,{value:""},"--"),e);return this.state.loading?l.default.createElement(o.Spin,null,f):f}});t.default=u},13:function(e,t,a){e.exports=a(10)(1049)},17:function(e,t,a){e.exports=a(10)(785)},18:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=n(i),s={toggle:r.default.PropTypes.func,message:r.default.PropTypes.string},l=r.default.createClass({displayName:"ErrorMsg",getInitialState:function(){return{}},onClose:function(e){this.props.toggle()},render:function(){return""===this.props.message?null:r.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},r.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),r.default.createElement("span",{className:"ant-alert-message"},this.props.message),r.default.createElement("span",{className:"ant-alert-description"}),"undefined"!=typeof this.props.toggle?r.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},r.default.createElement("i",{className:"anticon anticon-cross"})):"")}});l.propTypes=s,e.exports=l},19:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),l=n(s),o=a(4),c=a(3),d=o.Radio.Group,u=o.Radio.Button,h={display:"block",height:"30px",lineHeight:"30px"},f=l.default.createClass({displayName:"DictRadio",getInitialState:function(){return{opts:[],loading:!1}},showOptions:function(e){var t=e.codeData;null!==t&&"undefined"!=typeof t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props,t=e.appName,a=e.optName;this.state.loading=!0,c.loadOptions(t,a,this.showOptions)},render:function(){var e=this.props,t=(e.appName,e.optName,e.showCode),a=e.layout,n=e.radioStyle,s=e.type,c=e.id,f=i(e,["appName","optName","showCode","layout","radioStyle","type","id"]),p=n;"vertical"===a&&(null!==p&&"undefined"!=typeof p||(p=h));var m;m=t?this.state.opts.map(function(e,t){return"button"===s?l.default.createElement(u,{id:c,key:e.codeValue,style:p,value:e.codeValue},e.codeValue,"-",e.codeDesc):l.default.createElement(o.Radio,{id:c,key:e.codeValue,style:p,value:e.codeValue},e.codeValue,"-",e.codeDesc)}):this.state.opts.map(function(e,t){return"button"===s?l.default.createElement(u,{id:c,key:e.codeValue,style:p,value:e.codeValue},e.codeDesc):l.default.createElement(o.Radio,{id:c,key:e.codeValue,style:p,value:e.codeValue},e.codeDesc)});var g=l.default.createElement(d,r({id:c},f),m);return this.state.loading?l.default.createElement(o.Spin,null,g):g}});t.default=f},22:function(e,t,a){"use strict";var n=a(17),i=a(6),r=a(3);e.exports={loadContext:function(){var e=window.sessionStorage.getItem("loginData");if(null!==e&&"undefined"!=typeof e){var t=window.sessionStorage.getItem("utilConf"),a=window.sessionStorage.getItem("commonConf");if(null!==t&&"undefined"!=typeof t&&null!==a&&"undefined"!=typeof a){var n=JSON.parse(t),s=JSON.parse(a);return r.initConf(n),i.initConf(s),window.loginData=JSON.parse(e),!0}}return!1},downConfig:function(e){var t=e,a="/config.js",s=window.location.href;s.startsWith("https:")&&(a="/config-s.js"),t.setState({loading:!0}),n.getScript(a,function(){r.initConf(utilConf),i.initConf(commonConf),window.sessionStorage.setItem("utilConf",JSON.stringify(utilConf)),window.sessionStorage.setItem("commonConf",JSON.stringify(commonConf)),"单公司"!==i.corpStruct&&t.onConfigLoaded(),t.setState({loading:!1})})},saveLoginData:function(e,t){try{for(var a=null,n=e.compUser.length,i=0;i<n;i++)if(e.compUser[i].corpUuid===t){a=e.compUser[i];break}e.compUser=a,console.log(e),window.loginData=e,window.sessionStorage.setItem("loginData",JSON.stringify(e))}catch(e){console.log(e)}try{window.sessionStorage.setItem("loadedMenu","")}catch(e){console.log(e)}}}},23:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=n(i),s=a(13),l=a(4),o=(l.Layout.Header,l.Layout.Content,l.Layout.Footer,l.Layout.Sider),c=l.Menu.SubMenu,d=a(3),u={children:r.default.PropTypes.node,navItems:r.default.PropTypes.array,activeNode:r.default.PropTypes.string},h=r.default.createClass({displayName:"LeftMenu",getInitialState:function(){return{collapsed:!1,mode:"inline"}},onCollapse:function(e){this.setState({collapsed:e,mode:e?"vertical":"inline"})},handleClick:function(e){var t=e.key,a="",n=t.indexOf("?");n>0&&(a=t.substring(1+n),t=t.substring(0,n));var i={fromDashboard:!0};if(""!==a){var r=a.split("&");r.map(function(e,t){if(n=e.indexOf("="),n>0){var a=e.substring(0,n),r=e.substring(1+n);i[a]=r}})}s.browserHistory.push({pathname:t,query:i})},render:function(){var e=[],t=this.props.activeNode;return"undefined"!=typeof t&&this.props.navItems.map(function(a,n){"undefined"!=typeof a.childItems&&a.childItems.map(function(n,i){t===n.to&&e.push(a.to)})}),r.default.createElement(l.Layout,{style:{backgroundColor:"#fefefe",height:"100%"}},r.default.createElement(o,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,className:"left-side"},r.default.createElement(l.Menu,{theme:"light",mode:this.state.mode,defaultOpenKeys:e,defaultSelectedKeys:[t],onClick:this.handleClick,className:"left-side"},this.props.navItems.map(function(e,t){var a="rgba(0,0,0,.65)",n=d.checkMenuPriv(e.to);if(2===n)a="red";else if(0===n)return null;if("undefined"==typeof e.childItems){var i="file";return"undefined"!=typeof e.icon&&(i=e.icon),r.default.createElement(l.Menu.Item,{key:e.to},r.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},r.default.createElement(l.Icon,{type:i}),r.default.createElement("span",null,e.name)))}var i="setting";"undefined"!=typeof e.icon&&(i=e.icon);var s=[];return e.childItems.map(function(e,t){var a="rgba(0,0,0,.65)",n=d.checkMenuPriv(e.to);2===n&&(a="red");var i="file";"undefined"!=typeof e.icon&&(i=e.icon),s.push(r.default.createElement(l.Menu.Item,{key:e.to},r.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},r.default.createElement(l.Icon,{type:i}),r.default.createElement("span",null,e.name))))}),0===s.length?null:r.default.createElement(c,{key:e.to,title:r.default.createElement("span",{style:{color:a}},r.default.createElement(l.Icon,{type:i}),r.default.createElement("span",null,e.name))},s)}))),r.default.createElement("div",{style:{height:"100%",width:"100%",overflowX:"hidden"}},this.props.children))}});h.propTypes=u,e.exports=h},24:function(e,t,a){"use strict";var n=a(1),i=n.createActions([{findName:{sync:!0}}]);e.exports=i},26:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=(n(i),a(17),a(3));e.exports=function(){return{getInitialState:function(){return{__actionName:"",__upUrl:"",__xlsFields:[],__xlsOptList:[],__xlsData:{},__xlsFile:null,__callback:null}},downXlsTempFile:function(e){var t=this;this.state.__actionName="down",this.state.__upUrl="",this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData={},this.state.__xlsFile=null,this.state.__callback=null,e.map(function(e,a){var n=e.opts;if(void 0===n){var i={};r.copyValue(e,i),t.state.__xlsFields.push(i)}else t._addXlsField(e,t)}),this._doDownTempFile()},downXlsTempFile2:function(e,t,a){var n=this;this.state.__actionName="down2",this.state.__upUrl="",this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData=JSON.stringify(t),this.state.__xlsFile=null,this.state.__callback=a,e.map(function(e,t){var a=e.opts;if(void 0===a){var i={};r.copyValue(e,i),n.state.__xlsFields.push(i)}else n._addXlsField(e,n)}),this._doDownTempFile()},uploadXlsFile:function(e,t,a,n,i){var s=this;this.state.__actionName="up",this.state.__upUrl=e,this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData=t,this.state.__xlsFile=n,this.state.__callback=i,a.map(function(e,t){var a=e.opts;if(void 0===a){var n={};r.copyValue(e,n),s.state.__xlsFields.push(n)}else s._addXlsField(e,s)}),this._doUploadFile()},_addXlsField:function(e,t){var a={};a.id=e.id,a.name=e.name,a.title=e.title;var n=e.opts;if("#"!==n.charAt(0))return a.opts=n,void t.state.__xlsFields.push(a);n=n.substr(1);var i=n.indexOf(".");if(i<=0)return void t.state.__xlsFields.push(a);var s=n.substr(0,i),l=n.substr(1+i),o=r.loadOptions(s,l,t._onGetOptions);if(void 0!==o){var c=[];return o.codeData.map(function(e,t){c.push(e.codeValue+"="+e.codeDesc)}),a.opts=c.join(","),void t.state.__xlsFields.push(a)}t.state.__xlsFields.push(a);var d={name:l,field:a};t.state.__xlsOptList.push(d)},_onGetOptions:function(e,t){if(void 0!==t){var a=[];"down"===this.state.__actionName?e.codeData.map(function(e,t){a.push(e.codeDesc)}):"up"===this.state.__actionName&&e.codeData.map(function(e,t){a.push(e.codeValue+"="+e.codeDesc)});var n=!1,i=this.state.__xlsOptList;if(i.map(function(e,i){e.name===t&&null!==e.field&&(n=!0,e.field.opts=a.join(","),e.field=null)}),n){var r=this.state.__actionName;"down"===r||"down2"===r?this._doDownTempFile():"up"===r&&this._doUploadFile()}}},_doDownTempFile:function(){for(var e=this.state.__xlsOptList,t=e.length,a=0;a<t;a++)if(null!==e[a].field)return;var n=JSON.stringify(this.state.__xlsFields);if("down2"===this.state.__actionName)this.state.__callback.downFile(n,this.state.__xlsData);else{var i=r.paramUrl+"xlsx-file/down-temp?param="+encodeURI(n);if(void 0!==window.loginData){var s=window.loginData.compUser;null!==s&&""!==s.corpUuid&&void 0!==s.corpUuid&&(i=i+"&corp="+s.corpUuid)}window.location.href=i}},_doUploadFile:function(){for(var e=this.state.__xlsOptList,t=e.length,a=0;a<t;a++)if(null!==e[a].field)return void console.log("optList[i].field",e[a].field);var n={data:this.state.__xlsData,fields:this.state.__xlsFields},i=this.state.__upUrl,s=[this.state.__xlsFile],l=this.state.__callback;r.doUploadService(i,n,s).then(function(e){var t="",a=null;null==e.errCode||""==e.errCode||"000000"==e.errCode?a=e.object:t="导入数据错误["+e.errCode+"]["+e.errDesc+"]",void 0!==l&&null!==l&&l(t,a)},function(e){var t="上传文件错误";void 0!==l&&null!==l&&l(t,null)})}}}},27:function(e,t,a){"use strict";var n=a(1),i=n.createActions(["retrieveCompUser","initCompUser"]);e.exports=i},28:function(e,t,a){e.exports=a(10)(1025)},29:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),l=n(s),o=a(5),c=(n(o),a(4)),d=a(1),u=c.Select.Option,h=a(35),f=a(27),p=l.default.createClass({displayName:"CompSelect",getInitialState:function(){return{compSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[d.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){this.state.compSet=e,this.setState({loading:!1});var t=this.props.value,a=e.recordSet;if("retrieve"===e.operation&&""===e.errMsg&&a.length>0){var n=window.localStorage.corpUuid;t=void 0===n||""===n?a[0].corpUuid:n,this.props.onLoaded(t)}},loadCorps:function(){void 0!==localStorage.corpUuid&&""!==localStorage.corpUuid&&void 0!==localStorage.userName&&""!==localStorage.userName&&"retrieve"!==this.state.compSet.operation&&(this.setState({loading:!0}),f.initCompUser(localStorage.userName))},loadData:function(e){this.setState({compSet:{recordSet:[],operation:"",errMsg:""},loading:!0}),f.initCompUser(e)},render:function(){var e=this.props,t=e.value,a=i(e,["value"]),n=t,s=this.state.compSet.recordSet,o=(window.localStorage,s.map(function(e,t){return l.default.createElement(u,{key:e.corpUuid,value:e.corpUuid},e.compName)}));o.push(l.default.createElement(u,{key:"#",value:"#"},"个人用户"));var d=null===n||""===n?l.default.createElement(c.Select,r({},a,{placeholder:"选择用户登入的身份"}),o):l.default.createElement(c.Select,r({},a,{value:n}),o);return this.state.loading?l.default.createElement(c.Spin,null,d):d}});e.exports=p},33:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=n(i),s=a(28),l=n(s),o=a(13),c=a(4),d=c.Layout.Header,u=c.Layout.Content,h=(c.Layout.Footer,a(22)),f=a(3),p={children:r.default.PropTypes.node,navItems:r.default.PropTypes.array,activeNode:r.default.PropTypes.string,offsetLeft:r.default.PropTypes.string,home:r.default.PropTypes.string},m=r.default.createClass({displayName:"TopBar",getInitialState:function(){return null},goHome:function(e){var t=this.props.home;null!==t&&"undefined"!=typeof t||(t="/main/DeskPage/"),f.setActiveMenuName(""),"@"===t.charAt(0)?document.location.href=t.substr(1):o.browserHistory.push({pathname:t})},handleMenuClick:function(e){"1"===e.key?o.browserHistory.push({pathname:"/main/passwd/"}):"2"===e.key?document.location.href="/index.html":console.log("handleMenuClick",e)},handleClick:function(e){var t=e.key,a="",n=t.indexOf("?");n>0&&(a=t.substring(1+n),t=t.substring(0,n));var i={fromDashboard:!0};if(""!==a){var r=a.split("&");r.map(function(e,t){if(n=e.indexOf("="),n>0){var a=e.substring(0,n),r=e.substring(1+n);i[a]=r}})}o.browserHistory.push({pathname:t,query:i})},render:function(){if((null===window.loginData||"undefined"==typeof window.loginData)&&!h.loadContext())return o.browserHistory.push({pathname:"/index.html"}),null;var e=r.default.createElement(c.Menu,{onClick:this.handleMenuClick},r.default.createElement(c.Menu.Item,{key:"1"},"修改密码"),r.default.createElement(c.Menu.Item,{key:"2"},"用户签退")),t=this.props.offsetLeft;null!==t&&"undefined"!=typeof t||(t="200px");var a=[this.props.activeNode];return r.default.createElement("div",{style:{width:"100%",height:"100%",padding:"38px 0 0"}},r.default.createElement(l.default,{titleTemplate:"隆正互联 - %s",title:"管理软件",defaultTitle:"管理软件",meta:[{name:"隆正互联"}]}),r.default.createElement(d,{style:{margin:"-38px 0 0",height:"38px",lineHeight:"38px",paddingLeft:"36px",paddingRight:"24px"}},r.default.createElement("div",{style:{float:"left",color:"#EFEFEF"}},"隆正软件"),r.default.createElement(c.Menu,{theme:"dark",mode:"horizontal",defaultSelectedKeys:a,onClick:this.handleClick,style:{lineHeight:"38px",float:"left",paddingLeft:t}},this.props.navItems.map(function(e,t){var a="hsla(0, 0%, 100%, .67)",n=f.checkMenuPriv(e.to);if(2===n)a="red";else if(0===n)return null;var i="file";return"undefined"!=typeof e.icon&&(i=e.icon),r.default.createElement(c.Menu.Item,{key:e.to},r.default.createElement("span",null,r.default.createElement(c.Icon,{type:i}),r.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},e.name)))})),r.default.createElement("div",{style:{float:"right",color:"#EFEFEF"}},r.default.createElement(c.Icon,{type:"home",onClick:this.goHome,title:"返回主页",style:{padding:"0 8px 0 0",cursor:"pointer"}}),r.default.createElement(c.Dropdown,{overlay:e},r.default.createElement(c.Icon,{type:"setting",style:{cursor:"pointer"}})))),r.default.createElement(u,{style:{width:"100%",height:"100%",padding:"0 0px"}},this.props.children))}});m.propTypes=p,e.exports=m},34:function(e,t,a){"use strict";var n=a(1),i=a(11),r=n.createStore({listenables:[i],init:function(){},onShowError:function(e,t,a){this.trigger({resName:e,operation:t,errMsg:a})}});e.exports=r},35:function(e,t,a){"use strict";var n=a(1),i=a(27),r=a(3),s=a(11),l=n.createStore({listenables:[i],username:"",recordSet:[],init:function(){},getServiceUrl:function(e){return r.authUrl+e},fireEvent:function(e,t,a){a.trigger({username:a.username,recordSet:a.recordSet,operation:e,errMsg:t}),s.showError("comp-user",e,t)},onRetrieveCompUser:function(e){var t=this,a={};a.username=e;var n=this.getServiceUrl("comp-user/get-by-username");r.doGetRecordService(n,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.username=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitCompUser:function(e){return this.recordSet.length>0&&this.username===e?void this.fireEvent("retrieve","",this):void this.onRetrieveCompUser(e)}});e.exports=l},36:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),l=n(s),o=a(8),c=(n(o),a(5)),d=(n(c),a(13)),u=a(4),h=a(18),f=n(h),p=a(29),m=n(p),g=a(63),v=n(g),S=a(64),y=n(S),C=a(62),w=n(C),E=(a(17),a(1),u.Form.Item),x=a(6),b=a(3),k=a(22),N=(0,d.withRouter)(l.default.createClass({displayName:"LoginPage2",getInitialState:function(){var e=window.localStorage,t="1"===e.isRemember,a=t?e.userName:"",n="";"单公司"===x.corpStruct?n=x.corpUuid:t&&(n=e.corpUuid);var i=window.sessionStorage.getItem("loginData");if(null!==i&&"undefined"!=typeof i){var r=!1,s=this.props.location;if(null!==s&&"undefined"!=typeof s){var l=s.pathname;""!==l&&(""!==s.search?r=!0:"/"!==l&&"/index.html"!==l&&"/test.html"!==l&&(r=!0))}r&&k.loadContext()?this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}}):window.sessionStorage.removeItem("loginData")}return{user:{userName:a,passwd:"",corpUuid:n},loading:!1,isRemember:t,errMsg:"",hints:{},action:"login",validRules:[]}},componentDidMount:function(){k.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",x.formValidator(this,this.state.user)){var a=b.authUrl+"auth-user/login",n=x.calcMD5(t),i={};i.password=n,i.username=this.state.user.userName;var r=this;this.setState({loading:!0}),b.loginService(a,i).then(function(e,a,n){r.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?"11111111"==t||"12345678"==t?r.setState({action:"modify"}):r.loginSuccess(e.object):r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){r.state.loading=!1,r.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=x.corpUuid;var t=b.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var n=this;this.setState({loading:!0}),b.loginService(t,a).then(function(e,t,a){n.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?n.loginSuccess(e.object):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.state.loading=!1,n.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;k.saveLoginData(e,t);var a=window.localStorage;a.isRemember=this.state.isRemember?"1":"0",a.userName=this.state.isRemember?this.state.user.userName:"",a.corpUuid=this.state.isRemember?this.state.user.corpUuid:"",this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,x.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var n=this.state.user;n[e]=t,this.setState({user:n})},onUserNameFinished:function(e){"单公司"!==x.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},onGoBack:function(){this.setState({action:"login"})},reqPsd:function(){this.setState({action:"request"})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,n={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},s=this.state.user.userName,o=this.state.hints,c="login"===this.state.action?"":"none",d={imageSize:"5",zoom:"4",title:"icerno"};d.data="http://124.202.135.197:18580/apk/icerno.apk";var h=JSON.stringify(d);h=encodeURI(h),h=h.replace(/&/g,"%26");var p="/param_s/QRCode/create?data="+h,g="单公司"===x.corpStruct?null:l.default.createElement(E,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:o.compUuidHint,validateStatus:o.compUuidStatus},l.default.createElement(m.default,{style:{opacity:".9"},name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp})),S=l.default.createElement("div",i({style:{width:"100%"}},"style",{display:c}),l.default.createElement("div",{style:{width:"300px",height:"300px",position:"fixed",margin:"-150px -150px",top:"50%",left:"50%"}},l.default.createElement(u.Form,{layout:t},l.default.createElement(E,r({},n,{label:"",colon:!0,style:{marginBottom:"20px"},help:o.userNameHint,validateStatus:o.userNameStatus}),l.default.createElement(u.Input,{prefix:l.default.createElement(u.Icon,{type:"user",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),l.default.createElement(E,r({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:o.passwdHint,validateStatus:o.passwdStatus}),l.default.createElement(u.Input,{prefix:l.default.createElement(u.Icon,{type:"lock",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),g,l.default.createElement(E,null,l.default.createElement(f.default,{message:e,toggle:this.onDismiss}),l.default.createElement(u.Checkbox,{id:"remember",style:{color:"#fff",opacity:".9"},checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),l.default.createElement("a",{onClick:this.reqPsd,style:{float:"right",marginTop:"1px",color:"#fff"}},"忘记密码？"),l.default.createElement(u.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%",opacity:".9"},loading:this.state.loading},"登录"),x.resMode?null:l.default.createElement(u.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px",opacity:".9"},loading:this.state.loading},"快速登录")))),l.default.createElement("div",{style:{padding:"15px 0 0 15px"}},l.default.createElement("img",{src:p,style:{width:80,height:80}}),l.default.createElement("p",{style:{color:"#FFFFFF",paddingTop:"6px"}},"android 客户端"))),C=null;return"modify"===this.state.action?C=l.default.createElement(v.default,{onBack:this.onGoBack}):"request"===this.state.action&&(C=l.default.createElement(y.default,{userName:s,onBack:this.onGoBack})),l.default.createElement("div",{style:{width:"100%",height:"100%",background:"#0e1a53",opacity:".92"}},l.default.createElement(w.default,null),S,C)}}));e.exports=N},37:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=n(i),s=a(8),l=(n(s),a(5)),o=(n(l),a(7)),c=(n(o),a(4),a(3),r.default.createClass({displayName:"LogoutPage",getInitialState:function(){return{loading:!1}},componentDidMount:function(){},render:function(){return r.default.createElement("div",{className:"grid-page"},"用户签退")}}));e.exports=c},38:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=n(r),l=a(8),o=(n(l),a(5)),c=(n(o),a(4)),d=a(18),u=n(d),h=c.Form.Item,f=a(6),p=a(3),m=s.default.createClass({displayName:"PasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,f.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",f.formValidator(this,this.state.passwd)){var t=p.authUrl+"auth-user/update-pwd",a={},n=this.state.passwd.oldPasswd,i=this.state.passwd.newPasswd,r=this.state.passwd.confirmPad;i!=r?f.warnMsg("两次输入需要一致！"):(a.oldPasswd=n,a.newPasswd=i);var s=this;p.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?f.succMsg("密码修改成功！"):s.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){s.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",n="form-item-"+a,r={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return s.default.createElement("div",{style:{width:"100%"}},s.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},s.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px"}},"修改密码"),s.default.createElement(c.Form,{layout:a},s.default.createElement(h,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),s.default.createElement(h,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:n,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"text",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),s.default.createElement(h,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:n,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"text",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),s.default.createElement(h,null,s.default.createElement(u.default,{message:e,toggle:this.onDismiss}),s.default.createElement(c.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=m},39:function(e,t,a){"use strict";var n=a(57),i=a(41),r=a(60);n.inject();var s={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:r};e.exports=s},40:function(e,t){"use strict";var a={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=a},41:function(e,t,a){"use strict";function n(e,t){var a;try{return p.injection.injectBatchingStrategy(h),a=f.getPooled(t),v++,a.perform(function(){var n=g(e,!0),i=u.mountComponent(n,a,null,o(),m,0);return t||(i=d.addChecksumToMarkup(i)),i},null)}finally{v--,f.release(a),v||p.injection.injectBatchingStrategy(c)}}function i(e){return l.isValidElement(e)?void 0:s("46"),n(e,!1)}function r(e){return l.isValidElement(e)?void 0:s("47"),n(e,!0)}var s=a(44),l=a(49),o=a(55),c=a(56),d=(a(45),a(58)),u=a(54),h=a(40),f=a(59),p=a(46),m=a(48),g=a(47),v=(a(43),0);e.exports={renderToString:i,renderToStaticMarkup:r}},42:function(e,t,a){"use strict";e.exports=a(39)},43:function(e,t,a){e.exports=a(10)(13)},44:function(e,t,a){e.exports=a(10)(14)},45:function(e,t,a){e.exports=a(10)(36)},46:function(e,t,a){e.exports=a(10)(40)},47:function(e,t,a){e.exports=a(10)(468)},48:function(e,t,a){e.exports=a(10)(473)},49:function(e,t,a){e.exports=a(10)(48)},50:function(e,t,a){e.exports=a(10)(761)},51:function(e,t,a){e.exports=a(10)(762)},52:function(e,t,a){e.exports=a(10)(784)},53:function(e,t,a){e.exports=a(10)(799)},54:function(e,t,a){e.exports=a(10)(82)},55:function(e,t,a){e.exports=a(10)(966)},56:function(e,t,a){e.exports=a(10)(976)},57:function(e,t,a){e.exports=a(10)(977)},58:function(e,t,a){e.exports=a(10)(982)},59:function(e,t,a){e.exports=a(10)(988)},60:function(e,t,a){e.exports=a(10)(990)},61:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=n(i),s=(a(13),r.default.createClass({displayName:"IndexPage",getInitialState:function(){return null},render:function(){return console.log(this.props.location),r.default.createElement("div",null,r.default.createElement("h1",null,"404 - Not Found"))}}));e.exports=s},62:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.vx=-.5+Math.random(),
this.vy=-.5+Math.random(),this.radius=2*Math.random(),this.color=new r}function r(e){e=e||0,this.colorValue=function(e){return Math.floor(255*Math.random()+e)},this.createColorStyle=function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},this.r=this.colorValue(e),this.g=this.colorValue(e),this.b=this.colorValue(e),this.style=this.createColorStyle(this.r,this.g,this.b)}var s=a(2),l=n(s),o=a(8),c=(n(o),a(5));n(c);i.prototype={draw:function(e){e.beginPath(),e.fillStyle=this.color.style,e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()}};var d=l.default.createClass({displayName:"CanvasDotePage",getInitialState:function(){return{mousePosition:{x:30*window.innerWidth/100,y:30*window.innerHeight/100},dots:{nb:190,distance:100,d_radius:80,array:[]},canvas:{},ctx:{}}},componentDidMount:function(){var e=this.state.canvas,t=this.state.ctx,a=this.state.dots;e=this.refs.canvasDote,t=e.getContext("2d"),e.width=window.innerWidth,e.height=window.innerHeight,t.lineWidth=.3,t.strokeStyle=new r(150).style;var n=190;e.width<700?n=80:e.width<1e3&&(n=110),a.nb=n,this.state.canvas=e,this.state.ctx=t,this.state.dots=a,this.createDots(),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},createColorStyle:function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},mixComponents:function(e,t,a,n){return(e*t+a*n)/(t+n)},averageColorStyles:function(e,t){var a=e.color,n=t.color,i=this.mixComponents(a.r,e.radius,n.r,t.radius),r=this.mixComponents(a.g,e.radius,n.g,t.radius),s=this.mixComponents(a.b,e.radius,n.b,t.radius);return this.createColorStyle(Math.floor(i),Math.floor(r),Math.floor(s))},createDots:function(){for(var e=this.state.dots,t=this.state.canvas,a=0;a<e.nb;a++)e.array.push(new i(t))},moveDots:function(){for(var e=this.state.canvas,t=this.state.dots,a=0;a<t.nb;a++){var n=t.array[a];n.y<0||n.y>e.height?(n.vx=n.vx,n.vy=-n.vy):(n.x<0||n.x>e.width)&&(n.vx=-n.vx,n.vy=n.vy),n.x+=n.vx,n.y+=n.vy}this.setState({canvas:e})},connectDots:function(){for(var e=this.state.dots,t=this.state.mousePosition,a=this.state.ctx,n=0;n<e.nb;n++)for(var i=0;i<e.nb;i++){var r=e.array[n],s=e.array[i];r.x-s.x<e.distance&&r.y-s.y<e.distance&&r.x-s.x>-e.distance&&r.y-s.y>-e.distance&&r.x-t.x<e.d_radius&&r.y-t.y<e.d_radius&&r.x-t.x>-e.d_radius&&r.y-t.y>-e.d_radius&&(a.beginPath(),a.strokeStyle=this.averageColorStyles(r,s),a.moveTo(r.x,r.y),a.lineTo(s.x,s.y),a.stroke(),a.closePath())}this.setState({dots:e})},drawDots:function(e,t){for(var a=0;a<t.nb;a++){var n=t.array[a];n.draw(e)}this.setState({ctx:e})},animateDots:function(e,t,a){t.clearRect(0,0,e.width,e.height),this.moveDots(),this.connectDots(),this.drawDots(t,a),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},onMouseMove:function(e){this.state.mousePosition.x=e.pageX,this.state.mousePosition.y=e.pageY,this.setState({mousePosition:this.state.mousePosition})},onMouseLeave:function(e){var t=this.state.canvas;this.state.mousePosition.x=t.width/3,this.state.mousePosition.y=t.height/3,this.setState({mousePosition:this.state.mousePosition})},render:function(){return l.default.createElement("div",null,l.default.createElement("canvas",{ref:"canvasDote",width:"1000px",height:"700px",style:{position:"absolute"},onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave}))}});e.exports=d},63:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=n(r),l=a(8),o=(n(l),a(5)),c=(n(o),a(4)),d=a(18),u=n(d),h=a(6),f=c.Form.Item,p=a(6),m=a(3),g=s.default.createClass({displayName:"ModPasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",p.formValidator(this,this.state.passwd)){var t=m.authUrl+"auth-user/update-pwd",a={},n=this.state.passwd.oldPasswd,i=this.state.passwd.newPasswd,r=this.state.passwd.confirmPad;i!=r?h.warnMsg("两次输入需要一致！"):(a.oldPasswd=n,a.newPasswd=i);var s=this;m.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(h.succMsg("密码修改成功！"),s.props.onBack()):s.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){s.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",n="form-item-"+a,r={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return s.default.createElement("div",{style:{width:"100%"}},s.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},s.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px",color:"#fff",opacity:".9"}},"修改密码"),s.default.createElement(c.Form,{layout:a},s.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),s.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:n,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"password",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),s.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:n,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),s.default.createElement(f,null,s.default.createElement(u.default,{message:e,toggle:this.onDismiss}),s.default.createElement(c.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=g},64:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=n(r),l=a(8),o=(n(l),a(5)),c=(n(o),a(4)),d=a(18),u=n(d),h=(a(1),a(6)),f=c.Form.Item,p=a(6),m=a(3),g=s.default.createClass({displayName:"ResetPasswdPage",getInitialState:function(){return{resetPasswd:{newEmail:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[],count:60,liked:!0}},componentDidMount:function(){this.state.validRules=[{id:"username",desc:"用户名",required:!0,max:"0"},{id:"email",desc:"电子邮箱",required:!0,max:"0"},{id:"resetCode",desc:"验证码",required:!1,max:"0"},{id:"passwd",desc:"密码",required:!1,max:"0"}]},handleOnChange:function(e){var t=this.state.resetPasswd;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({resetPasswd:t})},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},goBack:function(){this.props.onBack()},times:function(){this.state.liked&&(this.timer=setInterval(function(){var e=this.state.count;this.state.liked=!1,e-=1,e<1&&(this.setState({liked:!0}),e=60,clearInterval(this.timer)),this.setState({count:e})}.bind(this),1e3))},clickGetEmail:function(){var e=this.state.resetPasswd.email,t=this.state.resetPasswd.username;null!==e&&""!==e&&null!==t&&""!==t||h.errMsg("用户名和邮箱不能为空");var a=m.authUrl+"auth-user/reset-req",n={};n.username=t,n.email=e;var i=this;m.doUpdateService(a,n).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(h.succMsg("邮件已发送！"),i.times()):i.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){i.showError("未知错误")})},clickRequestPwd:function(e){var t=m.authUrl+"auth-user/reset-passwd",a={},n=this.state.resetPasswd.passwd,i=this.state.resetPasswd.confirmPad;a.username=this.props.userName,a.passwd=n,a.resetCode=this.state.resetPasswd.resetCode;var r=this;m.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?n!=i?p.warnMsg("两次输入需要一致！"):(h.succMsg("密码修改成功！"),r.goBack()):r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){r.showError("未知错误")})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",n="form-item-"+a,r={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}},l=this.state.liked?"获取验证码":this.state.count+" s";return s.default.createElement("div",{style:{width:"100%"}},s.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},s.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"30px",fontSize:"16px",textAlign:"center",marginBottom:"10px",letterSpacing:3,color:"#fff",opacity:".9"}},"重置密码"),s.default.createElement(c.Form,{layout:a},s.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:n,help:t.usernameHint,validateStatus:t.usernameStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"user"}),placeholder:"用户名",type:"text",name:"username",id:"username",value:this.state.resetPasswd.username,onChange:this.handleOnChange})),s.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"10px"},help:t.emailHint,validateStatus:t.emailStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"mail"}),placeholder:"注册的邮箱",type:"text",name:"email",id:"email",value:this.state.resetPasswd.email,onChange:this.handleOnChange}),s.default.createElement(c.Button,{style:{position:"absolute",right:"1px",top:"2px",height:"28px",zIndex:2,fontSize:12},key:"btnEamil",size:"large",onClick:this.clickGetEmail},l),s.default.createElement("p",{style:{width:"100%",fontSize:12,textAlign:"right",color:"#fff",opacity:".9"}},"验证码将会发送至您的注册邮箱")),s.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:n,help:t.resetCodeHint,validateStatus:t.resetCodeStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"safety"}),placeholder:"验证码",type:"text",name:"resetCode",id:"resetCode",value:this.state.resetPasswd.resetCode,onChange:this.handleOnChange})),s.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:n,help:t.passwdHint,validateStatus:t.passwdStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.resetPasswd.passwd,onChange:this.handleOnChange})),s.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:n,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),s.default.createElement(c.Input,{prefix:s.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.resetPasswd.confirmPad,onChange:this.handleOnChange})),s.default.createElement(f,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:n},s.default.createElement(u.default,{message:e,toggle:this.onDismiss}),s.default.createElement(c.Button,{type:"primary",size:"middle",onClick:this.clickRequestPwd,style:{marginRight:"6px"},loading:this.state.loading},"修改密码"),s.default.createElement(c.Button,{size:"middle",onClick:this.goBack},"取消")))))}});e.exports=g},65:function(e,t,a){e.exports=a(10)(3)},69:function(e,t,a){"use strict";var n=a(1),i=n.createActions(["createHrDept","deleteHrDept","updateHrDept","retrieveHrDept","retrieveHrDeptPage","initHrDept"]);e.exports=i},70:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),l=n(s),o=a(5),c=(n(o),a(4)),d=a(1),u=a(83),h=a(69),f=a(6),p=l.default.createClass({displayName:"DeptTreeSelect",getInitialState:function(){return{deptSet:{recordSet:[],errMsg:"",operation:""},nodeList:[],deptMap:{},loading:!1}},mixins:[d.listenTo(u,"onDeptComplete")],onDeptComplete:function(e){if("retrieve"===e.operation){this.state.deptMap={};var t=e.recordSet;this.state.nodeSet=f.initTreeNodes(t,this.preCrtNode),this.state.deptSet=e,this.setState({loading:!1})}},getHrExeNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.deptSet.recordSet,a=t.length,n=0;n<a;n++)if(t[n].uuid===e)return t[n];return{}},preCrtNode:function(e,t){var a={};return a.label=l.default.createElement("span",{style:{cursor:"pointer"}},e.deptName),a.value=e.uuid,a.key=e.uuid,a.pid=e.puuid,a.selectable=!0,""===e.deptDesc||e.deptDesc==e.deptName?a.title=e.deptName:a.title=e.deptName+"("+e.deptDesc+")",this.state.deptMap[e.uuid]=e.deptName,a},componentDidMount:function(){this.state.deptSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;h.initHrDept(t)},render:function(){var e=this.props,t=e.onSelect,a=i(e,["onSelect"]),n=l.default.createElement(c.TreeSelect,r({},a,{allowClear:!0,onChange:t,showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeNodeFilterProp:"title",treeData:this.state.nodeSet}));return this.state.loading?l.default.createElement(c.Spin,null,n):n}});t.default=p},76:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),r=n(i),s=a(8),l=(n(s),a(3)),o=r.default.createClass({displayName:"XlsDown",getInitialState:function(){return{fields:"",data:"",isLoading:!1,timer:null}},downFile:function(e,t){this.setState({isLoading:!0,fields:e,data:t})},downClick:function(){this.refs.fileForm.submit()},render:function(){var e=this,t=l.paramUrl+"xlsx-file/create-excel";return this.state.isLoading&&(this.state.isLoading=!1,this.state.timer=setTimeout(function(){e.downClick(),clearInterval(e.state.timer)},100)),r.default.createElement("form",{ref:"fileForm",action:t,method:"post",style:{display:"none"},target:"downloadFrame"},r.default.createElement("iframe",{name:"downloadFrame",style:{display:"none"},frameborder:"0"}),r.default.createElement("input",{type:"hidden",name:"fields",id:"fields",value:this.state.fields}),r.default.createElement("input",{type:"hidden",name:"data",id:"data",value:this.state.data}))}});t.default=o},83:function(e,t,a){"use strict";var n=a(1),i=a(69),r=a(3),s=a(11),l=n.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return r.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),s.showError("hr_dept",e,t)},onRetrieveHrDept:function(e){var t=this,a={};a.corpUuid=e;var n=this.getServiceUrl("hr_dept/get-by-corp_uuid");r.doRetrieveService(n,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrDeptPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrDept(e)},onInitHrDept:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrDept(e)},onCreateHrDept:function(e){var t=this.getServiceUrl("hr_dept/create");r.recordCreate(this,e,t)},onUpdateHrDept:function(e){var t=this.getServiceUrl("hr_dept/update");r.recordUpdate(this,e,t)},onDeleteHrDept:function(e){var t=this.getServiceUrl("hr_dept/remove");r.recordDelete(this,e,t)}});e.exports=l},152:function(e,t,a){"use strict";var n=a(1),i=n.createActions(["createTmCase","deleteTmCase","updateTmCase","retrieveTmCase","retrieveTmCasePage","initTmCase","search","bugList","deleteMore"]);e.exports=i},175:function(e,t,a){"use strict";var n=a(1),i=a(152),r=a(3),s=a(11),l=n.createStore({listenables:[i],uuid:"",casecode:"",recordSet:[],startPage:0,pageRow:10,totalRow:0,tmBugList:[],init:function(){},getServiceUrl:function(e){return r.tcaseUrl+e},fireEvent:function(e,t,a){a.trigger({uuid:a.uuid,recordSet:a.recordSet,tmBugList:a.tmBugList,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),s.showError("tm-case",e,t)},onRetrieveRecruit:function(e){var t=this,a=this.getServiceUrl("recruit/retrieve");r.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveTmCase:function(e){var t=this,a={};a.uuid=e;var n=this.getServiceUrl("tm-case/caselist");r.doRetrieveService(n,a,t.startPage,t.pageRow,t.totalRow).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.list[0].tmcaseList,t.startPage=e.object.startPage,t.pageRow=e.object.pageRow,t.totalRow=e.object.totalRow,t.uuid=e.object.list[0].pid,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onBugList:function(e,t){var a=this,n={};n.uuid=e,n.casecode=t;var i=this.getServiceUrl("tm-case/get-by-bugcode");r.doRetrieveService(i,n,a.startPage,a.pageRow,a.totalRow).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(a.tmBugList=e.object,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onDeleteMore:function(e,t){var a=this,n=this.getServiceUrl("tm-case/removeMore");r.doRetrieveService(n,e,a.startPage,a.pageRow,a.totalRow).then(function(e){console.log(e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(a.totalRow=e.object.totalRow,a.fireEvent("retrieve","",a),a.onRetrieveTmCase(t)):a.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onSearch:function(e,t){var a=this;e.uuid=t;var n=this.getServiceUrl("tm-case/caselist");r.doRetrieveService(n,e,a.startPage,a.pageRow,a.totalRow).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(a.recordSet=t.object.list[0].tmcaseList,a.startPage=t.object.startPage,a.pageRow=t.object.pageRow,a.totalRow=t.object.totalRow,a.filter=e,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+t.errCode+"]["+t.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveTmCasePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveTmCase(e)},onInitTmCase:function(e){return this.recordSet.length>0&&this.uuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveTmCase(e)},onCreateTmCase:function(e){var t=this,a=this.getServiceUrl("tm-case/add"),n={pid:t.uuid,tmcase:e};r.doCreateService(a,n).then(function(e){t.onRetrieveTmCase(e.object.pid)},function(e){t.fireEvent("createResource","调用服务错误",t)})},onUpdateTmCase:function(e,t,a,n){var i=this,s=this.getServiceUrl("tm-case/update"),l=e;r.doCreateService(s,l).then(function(e){i.onRetrieveTmCasePage(t,a,n)},function(e){i.fireEvent("createResource","调用服务错误",i)})},onDeleteTmCase:function(e){var t=this.getServiceUrl("tm-case/remove");r.recordDelete(this,e,t)}});e.exports=l},289:function(e,t,a){e.exports=a(10)(236)},382:function(e,t,a){"use strict";var n=a(1),i=n.createActions(["createTmCase","deleteTmCase","updateTmCase","retrieveTmCase","retrieveTmCasePage","initTmCase"]);e.exports=i},596:function(e,t,a){"use strict";var n=a(1),i=a(382),r=a(3),s=a(11),l=n.createStore({listenables:[i],pid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return r.tcaseUrl+e},fireEvent:function(e,t,a){a.trigger({pid:a.pid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),s.showError("tm-case",e,t)},onRetrieveTmCase:function(e){var t=this,a={};a.pid=e;var n=this.getServiceUrl("tm-case/tmcaseCatelist");r.doRetrieveService(n,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.pid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveTmCasePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveTmCase(e)},onInitTmCase:function(e){return this.recordSet.length>0&&this.pid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveTmCase(e)},onCreateTmCase:function(e){var t=this.getServiceUrl("tm-case/addTmcaseCate");r.recordCreate(this,e,t)},onUpdateTmCase:function(e){var t=this.getServiceUrl("tm-case/updateCaseCate");r.recordUpdate(this,e,t)},onDeleteTmCase:function(e){var t=this.getServiceUrl("tm-case/removeTmcaseCate");r.recordDelete(this,e,t)}});e.exports=l},597:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),s=n(r),l=a(4),o=s.default.createClass({displayName:"EditableCell",getInitialState:function(){return{value:this.props.value,editable:!1}},handleChange:function(e){var t=e.target.value;this.setState({value:t})},check:function(){this.setState({editable:!1}),this.props.onChange&&this.props.onChange(this.state.value)},edit:function(){this.setState({editable:!0})},render:function(){var e,t=this.state.value;this.state.editable;return s.default.createElement("div",{style:{position:"relative"}},this.state.editable?s.default.createElement("div",{style:{paddingRight:"24px"}},s.default.createElement(l.Input,{value:this.state.value,onChange:this.handleChange,onPressEnter:this.check,style:{width:"90%"}}),s.default.createElement(l.Icon,{style:{cursor:"pointer",right:"0",width:"20px",position:"absolute",lineHeight:"2"},type:"check",onClick:this.check})):s.default.createElement("div",{style:{paddingRight:"24px",padding:" 5px 24px 5px 5px"}},t||" ",s.default.createElement(l.Icon,(e={style:{cursor:"pointer"},type:"edit"},i(e,"style",{cursor:"pointer",right:"0",width:"20px",position:"absolute",lineHeight:"18px"}),i(e,"onClick",this.edit),e))))}});t.default=o},786:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=n(i),s=a(33),l=n(s),o=a(6),c=r.default.createClass({displayName:"UsecaseLayout",getInitialState:function(){return{navItems:[{name:"用例管理",to:"/tcase/path/PathPage/"}]}},render:function(){return r.default.createElement(l.default,{navItems:this.state.navItems,activeNode:o.tcaseHome,home:"@/index.html?from=tcase",children:this.props.children})}});e.exports=c},787:function(e,t){"use strict";e.exports={usecaseFields:[{id:"A",name:"caseName",title:"用例名称"},{id:"B",name:"mdlId",title:"模块"},{id:"C",name:"rsvStr1",title:"用例描述"},{id:"D",name:"caseRisk",title:"风险级别"},{id:"E",name:"casePriority",title:"优先级"},{id:"F",name:"casePrecondition",title:"前置条件"},{id:"G",name:"caseType",title:"用例类型"},{id:"H",name:"caseDirection",title:"正反例"},{id:"I",name:"bugCode",title:"缺陷编号"},{id:"J",name:"regUser",title:"创建人"},{id:"K",name:"regDate",title:"创建时间"},{id:"L",name:"caseStat",title:"用例状态"}]}},788:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,s=a(2),l=n(s),o=a(8),c=(n(o),a(5)),d=(n(c),a(4)),u=a(7),h=n(u),f=a(789),p=n(f),m=a(794),g=n(m),v=a(790),S=n(v),y=a(793),C=n(y),w=a(792),E=n(w),x=a(791),b=n(x),k=a(76),N=n(k),P=a(26),D=n(P),R=a(787),I=n(R),O=a(1),T=d.Input.Search,M=(d.Radio.Button,d.Radio.Group,a(6)),U=a(3),_=a(175),B=a(152),q=10,L=l.default.createClass((r={displayName:"UsecaseListPage",getInitialState:function(){return{recruitSet:{recordSet:[],errMsg:"",startPage:1,pageRow:10,totalRow:0},loading:!1,recruit:null,selectedRowKeys:[],moreFilter:!1,filterValue:"",filter:{},arr:[],obj:{},uuid:"",thisTmBug:[]}},mixins:[O.listenTo(_,"onServiceComplete"),(0,D.default)()],onServiceComplete:function(e){console.log(e),this.setState({loading:!1,recruitSet:e})},changeThisTmBug:function(e){this.setState({thisTmBug:e})},componentDidMount:function(){this.state.validRules=[{id:"caseCode",desc:"用例编码",required:!0,max:"80"},{id:"reqCode",desc:"需求编码",required:!1,max:"255"},{id:"caseName",desc:"用例名称",required:!0,max:"1000"},{id:"mdlId",desc:"所属模块",required:!1,max:"255"},{id:"rsvStr1",desc:"标配字段",required:!0,max:"255"},{id:"caseRisk",desc:"风险级别",required:!0,max:"255"},{id:"casePriority",desc:"优先级",required:!0,max:"255"},{id:"casePrecondition",desc:"前置条件",required:!1,max:"255"},{id:"caseSteps",desc:"操作步骤",required:!1,max:"255"},{id:"caseExpect",desc:"预期结果",required:!1,max:"255"},{id:"caseType",desc:"用例类型",required:!1,max:"255"},{id:"caseDirection",desc:"正反例",required:!1,max:"255"},{id:"bugCode",desc:"缺陷编码",required:!1,max:"255"},{id:"regUser",desc:"创建人",required:!0,max:"255"},{id:"regDate",desc:"创建时间",required:!1,max:"255"},{id:"caseStat",desc:"用例状态",required:!1,max:"255"}];var e=this.state.recruitSet.uuid;B.retrieveTmCase(e)},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.recruitSet.uuid;console.log(t),B.retrieveTmCasePage(t,this.state.recruitSet.startPage,q)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()},onClickUpdate:function(e){this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle()},onClickSee:function(e){console.log(e),this.refs.SeeTmCaseWindow.initPage(e),this.refs.SeeTmCaseWindow.toggle()},onClickEnclosure:function(e){this.refs.EnclosureWindow.initPage(e),this.refs.EnclosureWindow.toggle()},onClickBugcode:function(e,t){var a=e.bugCode.split(",");console.log(t),console.log(a[t]),this.refs.BugCodeWindow.initPage(a[t],e.caseCode),this.refs.BugCodeWindow.toggle()},onClickDelete:function(e,t){d.Modal.confirm({title:"删除确认",content:"是否删除选中的用例 【"+e.caseName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),B.deleteTmCase(e.uuid)},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onSelectChange:function(e){this.setState({selectedRowKeys:e})},onShowSizeChange:function(e,t){q=t,this.handleQueryClick()},onChangePage:function(e){this.state.recruitSet.startPage=e,this.handleQueryClick()},onSearch:function(e,t){if(null===t||"undefined"==typeof t||""===t)return e;var a=[];return e.map(function(e){(e.caseName.indexOf(t)>=0||e.caseCode.indexOf(t)>=0)&&a.push(e)}),a},handleTempDown:function(e){this.downXlsTempFile(I.default.usecaseFields)},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&M.infoMsg(e),this.handleQueryClick()},beforeUpload:function(e){console.log(e),this.setState({loading:!0});var t=U.tcaseUrl+"tm-case/importtcase",a={uuid:this.state.recruitSet.uuid};return this.uploadXlsFile(t,a,I.default.usecaseFields,e,this.uploadComplete),!1},onSearch3:function(){var e=this.refs.RecruitFilter.state.recruit;console.log(e),B.search(e,this.state.recruitSet.uuid)},xlsExport:function(){console.log(this.state.arr);var e=M.filter(this.state.arr,this.state.filterValue),t=[{id:"A",name:"caseCode",title:"用例编码"},{id:"B",name:"reqCode",title:"需求编码"},{id:"C",name:"caseName",title:"用例名称"},{id:"D",name:"mdlId",title:"模块"},{id:"E",name:"rsvStr1",title:"用例描述"},{id:"F",name:"caseRisk",title:"风险级别"},{id:"G",name:"casePriority",title:"优先级"},{id:"H",name:"casePrecondition",title:"前置条件"},{id:"I",name:"caseSteps",title:"操作步骤"},{id:"J",name:"caseExpect",title:"预期结果"},{id:"K",name:"caseType",title:"用例类型"},{id:"L",name:"caseDirection",title:"正反例"},{id:"M",name:"bugCode",title:"缺陷编号"},{id:"N",name:"regUser",title:"创建人"},{id:"O",name:"regDate",title:"创建时间"},{id:"P",name:"caseStat",title:"用例状态"}];this.downXlsTempFile2(t,e,this.refs.xls)},expandedRowRender:function(e,t){var a=[{title:"操作步骤",dataIndex:"rsvStr2",key:"rsvStr2",width:140,render:function(e,t){return M.formatDate(e,M.dateFormat)}},{title:"预期结果",dataIndex:"caseExpect",key:"caseExpect",width:140}],n=this.state.recruitSet.recordSet[t].caseSteps;return l.default.createElement(d.Table,{columns:a,dataSource:n,pagination:!1})},deleteMore:function(){var e=this.state.selectedRowKeys;console.log(e),e.length?B.deleteMore(e,this.state.recruitSet.uuid):M.infoMsg("请选择一些数据！")}},i(r,"onSelectChange",function(e){this.setState({selectedRowKeys:e})}),i(r,"render",function(){var e=this,t=this.onSearch(this.state.recruitSet.recordSet,this.state.filterValue),a=this.state.moreFilter,n=(window.loginData.compUser.corpUuid,{title:"操作",key:"action",width:90,fixed:"right",render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"更新"},l.default.createElement(d.Icon,{type:M.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(d.Icon,{type:M.iconRemove})))}}),i=[];i=[{title:"附件",dataIndex:"",key:"1111",width:50,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickEnclosure.bind(e,a)},l.default.createElement(d.Icon,{type:"file"})))}},{title:"用例编码",dataIndex:"caseCode",key:"caseCode",width:140,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickSee.bind(e,a)},t))}},{title:"需求编码",dataIndex:"reqCode",key:"reqCode",width:140},{title:"用例名称",dataIndex:"caseName",key:"caseName",width:140},{title:"所属模块",dataIndex:"mdlId",key:"mdlId",width:140},{title:"用例描述",dataIndex:"rsvStr1",key:"rsvStr1",width:140},{title:"风险级别",dataIndex:"caseRisk",key:"caseRisk",width:140},{title:"优先级",dataIndex:"casePriority",key:"casePriority",width:140},{title:"前置条件",dataIndex:"casePrecondition",key:"casePrecondition",width:140},{title:"用例类型",dataIndex:"caseType",key:"caseType",width:140},{title:"正反例",dataIndex:"caseDirection",key:"caseDirection",width:140},{title:"缺陷编码",dataIndex:"bugCode",key:"bugCode",width:140,render:function(t,a,n){var i=e;(e.state.recruitSet.recordSet[n].bugCode="")&&(e.state.recruitSet.recordSet[n].bugCode=",");var r=e.state.recruitSet.recordSet[n].bugCode.split(",").map(function(e,t){return l.default.createElement("li",{onClick:i.onClickBugcode.bind(this,a,t)},e)});return l.default.createElement("ul",null,r)}},{title:"创建人",dataIndex:"regUser",key:"regUser",width:140},{title:"创建时间",dataIndex:"regDate",key:"regDate",width:140},{title:"用例状态",dataIndex:"caseStat",key:"caseStat",width:140},n],
this.state.arr=[];var r=this.state.recruitSet.recordSet;if(null!==r&&r.length>0)for(var s=0;s<r.length;s++){for(var o={},c=r[s],u=0;u<c.caseSteps.length;u++)void 0!=o.caseExpect&&void 0!=o.caseSteps||(o.caseExpect="",o.caseSteps=""),o.caseExpect+=u+1+":"+c.caseSteps[u].caseExpect+",",o.caseSteps+=u+1+":"+c.caseSteps[u].rsvStr2+",";o.caseCode=c.caseCode,o.caseName=c.caseName,o.bugName=c.bugName,o.casePrecondition=c.casePrecondition,o.casePriority=c.casePriority,o.regUser=c.regUser,o.regDate=c.regDate,o.caseStat=c.caseStat,o.reqCode=c.reqCode,o.mdlId=c.mdlId,o.rsvStr1=c.rsvStr1,o.caseRisk=c.caseRisk,o.caseType=c.caseType,o.caseDirection=c.caseDirection,o.bugCode=c.bugCode,this.state.arr.push(o)}var f=M.getGridMargin(this),m={showQuickJumper:!0,total:this.state.recruitSet.totalRow,pageSize:this.state.recruitSet.pageRow,current:this.state.recruitSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},v=this.state.selectedRowKeys,y={selectedRowKeys:v,onChange:this.onSelectChange},w=l.default.createElement("div",{className:"grid-page",style:{padding:f.padding}},l.default.createElement("div",{style:{margin:f.margin}},l.default.createElement(h.default,{ref:"mxgBox",svcList:["recruit/retrieve","recruit/remove"]}),l.default.createElement(b.default,{ref:"RecruitFilter",moreFilter:a}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(d.Button,{icon:M.iconAdd,type:"primary",title:"增加用例",onClick:this.handleOpenCreateWindow}),l.default.createElement(d.Button,{icon:M.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),l.default.createElement(d.Button,{icon:"cloud-download-o",title:"下载模板",style:{marginLeft:"4px"},onClick:this.handleTempDown}),l.default.createElement(d.Button,{icon:"arrow-down",title:"导出数据",onClick:this.xlsExport,style:{marginLeft:"4px"}}),l.default.createElement(d.Button,{icon:"delete",title:"删除数据",onClick:this.deleteMore,style:{marginLeft:"4px"}}),l.default.createElement(d.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},l.default.createElement(d.Button,{icon:"upload",title:"上传数据"}))),a?l.default.createElement("div",{style:{textAlign:"right",width:"100%"}},l.default.createElement(d.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading,style:{marginRight:"8px"}},"查询"),l.default.createElement(d.Button,{title:"快速条件",onClick:this.filterToggle},"快速条件")):l.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},l.default.createElement(T,{placeholder:"编号/名称",style:{width:M.searchWidth},onChange:this.onFilterRecord,onSearch:this.onSearch}),l.default.createElement(d.Button,{title:"更多条件",onClick:this.filterToggle,style:{marginLeft:"8px"}},"更多条件")))),l.default.createElement("div",{className:"grid-body"},l.default.createElement(d.Table,{scroll:{x:1500,y:800},columns:i,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:m,size:"middle",bordered:M.tableBorder,expandedRowRender:this.expandedRowRender,rowSelection:y})),l.default.createElement(p.default,{ref:"createWindow"}),l.default.createElement(g.default,{ref:"updateWindow",text:this.state.recruitSet.uuid}),l.default.createElement(S.default,{ref:"EnclosureWindow"}),l.default.createElement(C.default,{ref:"BugCodeWindow"}),l.default.createElement(E.default,{ref:"SeeTmCaseWindow"}),l.default.createElement(N.default,{ref:"xls"}));return l.default.createElement("div",{style:{width:"100%",height:"100%"}},w)}),r));e.exports=L},789:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),l=n(s),o=a(5),c=(n(o),a(7)),d=n(c),u=a(12),h=n(u),f=a(4),p=a(597),m=n(p),g=a(1),v=a(6),S=(a(3),f.Form.Item),y=(f.Select.Option,f.AutoComplete.Option),C=a(175),w=a(152),E=l.default.createClass({displayName:"CreateTmCasePage",getInitialState:function(){return{caselistSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1,caselist:{caseSteps:[]},hints:{},validRules:[],result:[],pid:"",table:"",columns2:[],hehe:"",dataSource:[{rsvStr2:"",caseExpect:""}],count:""}},mixins:[g.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){console.log(e),this.setState({pid:e.uuid,caselistSet:e,hehe:e})},componentDidMount:function(){this.state.validRules=[{id:"caseName",desc:"用例名称",required:!0,max:"1000"},{id:"caseStat",desc:"用例状态",required:!0,max:"255"},{id:"caseType",desc:"用例类型",required:!1,max:"255"},{id:"reqCode",desc:"需求编码",required:!1,max:"255"},{id:"caseRisk",desc:"风险级别",required:!1,max:"255"},{id:"casePriority",desc:"优先级",required:!1,max:"255"},{id:"caseExecType",desc:"执行类型",required:!1,max:"65535"},{id:"caseDirection",desc:"正反例",required:!1,max:"255"},{id:"casePrecondition",desc:"前置条件",required:!1,max:"255"},{id:"caseDataneeds",desc:"测试数据",required:!1,max:"255"},{id:"caseCode",desc:"用例编码",required:!1,max:"255"},{id:"caseExpect",desc:"预期结果",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"255"},{id:"rsvStr1",desc:"用例描述",required:!1,max:"255"},{id:"rsvStr2",desc:"",required:!1,max:"80"}]},clear:function(e){if(this.state.hints={},this.state.caselist.caseName="",this.state.caselist.caseStat="",this.state.caselist.caseType="",this.state.caselist.reqCode="",this.state.caselist.caseRisk="",this.state.caselist.casePriority="",this.state.caselist.caseDirection="",this.state.caselist.caseExecType="",this.state.caselist.casePrecondition="",this.state.caselist.caseDataneeds="",this.state.caselist.caseSteps=[],this.state.caselist.caseExpect="",this.state.caselist.remark="",this.state.caselist.caseCode="",this.state.caselist.rsvStr1="",this.state.caselist.rsvStr2="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid,w.retrieveTmCase(t)}},handleOnChange:function(e){var t=this.state.caselist;t[e.target.id]=e.target.value,v.validator(this,t,e.target.id),this.setState({caselist:t})},onClickSave:function(){v.validator(this,this.state.caselist)?(console.log(),w.createTmCase(this.state.caselist,this.props.text,this.state.caselistSet.startPage,this.state.caselistSet.pageRow),this.setState({modal:!this.state.modal})):(this.setState({hint:this.state.hint}),f.message.error("发生了错误！"))},handleOnSelected:function(e,t){console.log(e);var a=this.state.caselist;a[e]=t,v.validator(this,a,e),this.setState({caselist:a})},toggle:function(){this.setState({modal:!this.state.modal})},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:v.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},onDelete:function(e){console.log(e),console.log(this.state.caselist);this.state.caselist.caseSteps.splice(e,1);console.log(this.state.caselist),this.onServiceComplete(this.state.caselist)},handleAdd:function(){var e=this;this.state.caselist.caseSteps.dataSource;""==this.state.caselist.caseSteps&&(this.state.caselist.caseSteps=[]),console.log(this.state.caselist.caseSteps.length);var t={key:this.state.caselist.caseSteps.length,rsvStr2:"",caseExpect:""},a=this.state;console.log(a),a.caselist.caseSteps.push(t),this.setState(a);var n=[];n=[{title:"",dataIndex:"hehe",width:"5%",render:function(e,t,a){return l.default.createElement("p",null,a+1)}},{title:"操作步骤",dataIndex:"rsvStr2",width:"40%",render:function(t,a,n){return l.default.createElement(m.default,{value:e.state.caselist.caseSteps[n].rsvStr2,onChange:e.handleOnChangeCell(n,"rsvStr2")})}},{title:"预期结果",dataIndex:"caseExpect",width:"40%",render:function(t,a,n){return l.default.createElement(m.default,{value:e.state.caselist.caseSteps[n].caseExpect,onChange:e.handleOnChangeCell(n,"caseExpect")})}},{title:"操作",dataIndex:"operation",width:"15%",render:function(t,a,n){return l.default.createElement("div",null,l.default.createElement(f.Popconfirm,{title:"确定删除此条信息?",onConfirm:function(){return e.onDelete(n)}},l.default.createElement(f.Icon,{type:"delete",style:{cursor:"pointer"}})),l.default.createElement(f.Icon,{type:"arrow-up",onClick:e.onUp.bind(e,n),style:{marginLeft:"18px",cursor:"pointer"}}),l.default.createElement(f.Icon,{type:"arrow-down",onClick:e.onDown.bind(e,n),style:{marginLeft:"18px",cursor:"pointer"}}))}}];var i=this.state.caselist.caseSteps,r=l.default.createElement(f.Table,{bordered:!0,dataSource:i,columns:n});this.setState({table:r})},handleOnChangeCell:function(e,t){var a=this;return function(n){var s=[].concat(i(a.state.caselist.caseSteps));s[e][t]=n,a.setState(r({},a.state,{caselist:r({},a.state.caselist.caseSteps,{caseSteps:s})}));var l=a.state.caselist;a.setState({caselist:l})}},onUp:function(e){var t=this,a=[].concat(i(this.state.caselist.caseSteps));if(0==e)f.message.error("已经是第一条数据！");else{e--;var n=a[e];a[e]=a[e+1],a[e+1]=n,console.log(a);var r=this.state;r.caselist.caseSteps=a,this.setState({State:r}),console.log(this.state);var s=[];s=[{title:"",dataIndex:"hehe",width:"5%",render:function(e,t,a){return l.default.createElement("p",null,a+1)}},{title:"操作步骤",dataIndex:"rsvStr2",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].rsvStr2,onChange:t.handleOnChangeCell(n,"rsvStr2")})}},{title:"预期结果",dataIndex:"caseExpect",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].caseExpect,onChange:t.handleOnChangeCell(n,"caseExpect")})}},{title:"操作",dataIndex:"operation",width:"15%",render:function(e,a,n){return l.default.createElement("div",null,l.default.createElement(f.Popconfirm,{title:"确定删除此条信息?",onConfirm:function(){return t.onDelete(n)}},l.default.createElement(f.Icon,{type:"delete",style:{cursor:"pointer"}})),l.default.createElement(f.Icon,{type:"arrow-up",onClick:t.onUp.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}),l.default.createElement(f.Icon,{type:"arrow-down",onClick:t.onDown.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}))}}];var o=this.state.caselist.caseSteps,c=l.default.createElement(f.Table,{bordered:!0,dataSource:o,columns:s});this.setState({table:c}),this.onServiceComplete(this.state.caselist)}},onDown:function(e){var t=this,a=[].concat(i(this.state.caselist.caseSteps));if(console.log(e),e==this.state.caselist.caseSteps.length-1)f.message.error("已经是最后一条数据！");else{e++;var n=a[e];a[e]=a[e-1],a[e-1]=n;var r=this.state;r.caselist.caseSteps=a,this.setState({State:r}),console.log(this.state);var s=[];s=[{title:"",dataIndex:"hehe",width:"5%",render:function(e,t,a){return l.default.createElement("p",null,a+1)}},{title:"操作步骤",dataIndex:"rsvStr2",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].rsvStr2,onChange:t.handleOnChangeCell(n,"rsvStr2")})}},{title:"预期结果",dataIndex:"caseExpect",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].caseExpect,onChange:t.handleOnChangeCell(n,"caseExpect")})}},{title:"操作",dataIndex:"operation",width:"15%",render:function(e,a,n){return l.default.createElement("div",null,l.default.createElement(f.Popconfirm,{title:"确定删除此条信息?",onConfirm:function(){return t.onDelete(n)}},l.default.createElement(f.Icon,{type:"delete",style:{cursor:"pointer"}})),l.default.createElement(f.Icon,{type:"arrow-up",onClick:t.onUp.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}),l.default.createElement(f.Icon,{type:"arrow-down",onClick:t.onDown.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}))}}];var o=this.state.caselist.caseSteps,c=l.default.createElement(f.Table,{bordered:!0,dataSource:o,columns:s});this.setState({table:c}),this.onServiceComplete(this.state.caselist)}},emailOnChange:function(e){var t=this.state.caselist;t.email=e,v.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},n={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},i={labelCol:"vertical"==e?null:{span:9},wrapperCol:"vertical"==e?null:{span:15}},s=this.state.result,o=(s.map(function(e){return l.default.createElement(y,{key:e},e)}),this.state.hints),c=l.default.createElement(f.Form,{layout:e},l.default.createElement(f.Row,{gutter:24},l.default.createElement(f.Col,{className:"gutter-row",span:8},l.default.createElement(S,r({},i,{label:"用例名称",required:!0,colon:!0,className:t,help:o.caseNameHint,validateStatus:o.caseNameStatus}),l.default.createElement(f.Input,{type:"text",name:"caseName",id:"caseName",value:this.state.caselist.caseName,onChange:this.handleOnChange}))),l.default.createElement(f.Col,{className:"gutter-row",span:8},l.default.createElement(S,r({},i,{label:"用例状态",required:!0,colon:!0,className:t,help:o.caseStatHint,validateStatus:o.caseStatStatus}),l.default.createElement(h.default,{name:"caseStat",id:"caseStat",value:this.state.caselist.caseStat,appName:"用例管理",optName:"执行状态",onSelect:this.handleOnSelected.bind(this,"caseStat")}))),l.default.createElement(f.Col,{className:"gutter-row",span:8},l.default.createElement(S,r({},i,{label:"用例编码",required:!0,colon:!0,className:t,help:o.caseCodeHint,validateStatus:o.caseCodeStatus}),l.default.createElement(f.Input,{type:"text",name:"caseCode",id:"caseCode",value:this.state.caselist.caseCode,onChange:this.handleOnChange})))),l.default.createElement(S,r({},a,{label:"用例描述",required:!1,colon:!0,className:t,help:o.rsvStr1Hint,validateStatus:o.rsvStr1Status}),l.default.createElement(f.Input,{type:"text",name:"rsvStr1",id:"rsvStr1",value:this.state.caselist.rsvStr1,onChange:this.handleOnChange})),l.default.createElement(f.Row,{gutter:24},l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(S,r({},n,{label:"执行类型",required:!0,colon:!0,className:t,help:o.caseExecTypeHint,validateStatus:o.caseExecTypeStatus}),l.default.createElement(h.default,{name:"caseExecType",id:"caseExecType",value:this.state.caselist.caseExecType,appName:"用例管理",optName:"执行类型",onSelect:this.handleOnSelected.bind(this,"caseExecType")}))),l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(S,r({},n,{label:"需求编码",required:!1,colon:!0,className:t,help:o.reqCodeHint,validateStatus:o.reqCodeStatus}),l.default.createElement(f.Input,{type:"text",name:"reqCode",id:"reqCode",value:this.state.caselist.reqCode,onChange:this.handleOnChange})))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(S,r({},n,{label:"风险级别",required:!0,colon:!0,className:t,help:o.caseRiskHint,validateStatus:o.caseRiskStatus}),l.default.createElement(h.default,{name:"caseRisk",id:"caseRisk",value:this.state.caselist.caseRisk,appName:"用例管理",optName:"风险级别",onSelect:this.handleOnSelected.bind(this,"caseRisk")}))),l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(S,r({},n,{label:"优先级",required:!0,colon:!0,className:t,help:o.casePriorityHint,validateStatus:o.casePriorityStatus}),l.default.createElement(h.default,{name:"casePriority",id:"casePriority",value:this.state.caselist.casePriority,appName:"用例管理",optName:"优先级",onSelect:this.handleOnSelected.bind(this,"casePriority")})))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(S,r({},n,{label:"用例类型",required:!0,colon:!0,className:t,help:o.caseTypeHint,validateStatus:o.caseTypeStatus}),l.default.createElement(h.default,{name:"caseType",id:"caseType",value:this.state.caselist.caseType,appName:"用例管理",optName:"用例类型",onSelect:this.handleOnSelected.bind(this,"caseType")}))),l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(S,r({},n,{label:"正反例",required:!0,colon:!0,className:t,help:o.caseDirectionHint,validateStatus:o.caseDirectionStatus}),l.default.createElement(h.default,{name:"caseDirection",id:"caseDirection",value:this.state.caselist.caseDirection,appName:"用例管理",optName:"正反例",onSelect:this.handleOnSelected.bind(this,"caseDirection")})))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(S,r({},a,{label:"前置条件",required:!1,colon:!0,className:t,help:o.casePreconditionHint,validateStatus:o.casePreconditionStatus}),l.default.createElement(f.Input,{type:"text",name:"casePrecondition",id:"casePrecondition",value:this.state.caselist.casePrecondition,onChange:this.handleOnChange}))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(S,r({},a,{label:"测试数据",required:!1,colon:!0,className:t,help:o.caseDataneedsHint,validateStatus:o.caseDataneedsStatus}),l.default.createElement(f.Input,{type:"text",name:"caseDataneeds",id:"caseDataneeds",value:this.state.caselist.caseDataneeds,onChange:this.handleOnChange}))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(S,r({},a,{label:"步骤",required:!1,colon:!0,className:t,help:o.caseStepsHint,validateStatus:o.caseStepsStatus}),l.default.createElement(f.Icon,{type:"plus-square-o",onClick:this.handleAdd,style:{cursor:"pointer"}}),this.state.table?this.state.table:"")),l.default.createElement(f.Row,{gutter:24},l.default.createElement(S,r({},a,{label:"备注",required:!1,colon:!0,className:t,help:o.remarkHint,validateStatus:o.remarkStatus}),l.default.createElement(f.Input,{type:"text",name:"remark",id:"remark",value:this.state.caselist.remark,onChange:this.handleOnChange}))));return l.default.createElement(f.Modal,{visible:this.state.modal,width:"880px",title:"修改用例信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["rescaselist/create"]}),l.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?l.default.createElement(f.Spin,null,c):c)}});t.default=E},790:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),l=n(s),o=a(5),c=(n(o),a(7)),d=(n(c),a(9)),u=n(d),h=a(4),f=a(289),p=(n(f),a(1)),m=a(17),g=(a(3),a(6)),v=h.Input.Search,S=(h.Form.Item,h.Select.Option,a(175)),y=(a(152),l.default.createClass({displayName:"EnclosurePage",getInitialState:function(){return{tmBugSet:{operation:"",errMsg:""},loading:!1,modal:!1,visible:!1,tmBug:{},InTmBug:"",isHTML:"",hints:{},tmBugPice:[],tmBugPiceList:[],BigpriceUrl:"",Bigprice:"预览失败",BigpriceName:{},validRules:[],AllDownLoad:[]}},mixins:[p.listenTo(S,"onServiceComplete"),(0,u.default)("tmBug")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tmBugSet:e}))},initPage:function(e){this.setState({Bigprice:"",tmBug:"",BigpriceName:""}),this.state.InTmBug=e;var t=this;this.state.hints={},this.state.loading=!1,this.state.tmBugSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear();var a="http://10.10.10.201:8082/defect_s/bug-attach-upload/findpicbyid3?uuid="+e.uuid;m.get(a).done(function(e){var a=e.list;if(0!=a.length){var n="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",i=a[0].name,r=a[0].length,s=i.lastIndexOf("."),o=i.slice(s+1,r);if("jpeg"==o||"jpg"==o)var c=l.default.createElement("a",{title:"点击下载"},l.default.createElement("img",{name:a[0].name,"data-uid":a[0].uid,"data-downloadUrl":a[0].downloadUrl,id:"Pice","data-index":"0","data-fullPath":a[0].fullPath,src:a[0].url,style:{height:"100%"},onClick:t.fileDwonLoad}));else var c=l.default.createElement("a",{title:"点击下载"},l.default.createElement("img",{name:a[0].name,"data-uid":a[0].uid,"data-downloadUrl":a[0].downloadUrl,id:"Pice","data-index":"0","data-fullPath":a[0].fullPath,src:n,style:{height:"100%"},onClick:t.fileDwonLoad}));var i=a[0].name;t.setState({tmBug:a,Bigprice:c,BigpriceName:i});for(var d=[],u=0;u<a.length;u++){var i=a[u].name,r=a[u].length,s=i.lastIndexOf("."),o=i.slice(s+1,r);"jpeg"==o||"jpg"==o?d.push({url:a[u].url,load:a[u].url,name:a[u].name,uid:a[u].uid,fullPath:a[u].fullPath,downloadUrl:a[u].downloadUrl}):d.push({url:n,load:a[u].url,name:a[u].name,uid:a[u].uid,fullPath:a[u].fullPath,downloadUrl:a[u].downloadUrl})}t.setState({tmBugPiceList:d,tmBugPiceList2:d})}else 0==a.length&&t.setState({tmBugPiceList:[],tmBugPiceList2:null})})},fileDwonLoad:function(e){var t=e.target.getAttribute("data-downloadurl"),a=document.createElement("a");a.href=t,a.click()},showImage:function(e){var t=e.target,a=t.name,n=t.getAttribute("data-load"),i=t.getAttribute("data-fullpath"),r=t.getAttribute("data-downloadUrl"),s=t.getAttribute("data-index"),o=l.default.createElement("a",{title:"点击下载"},l.default.createElement("img",{id:"Pice",name:a,"data-fullPath":i,"data-downloadUrl":r,"data-load":n,"data-index":s,src:t.src,style:{height:"100%"},onClick:this.fileDwonLoad}));this.setState({Bigprice:o,BigpriceName:a})},deleImage:function(e){var t=this,a=e.target,n=a.previousSibling.getAttribute("data-uid"),i="http://10.10.10.201:8082/defect_s/bug-attach-upload/delpicbyid?uuid="+n;m.get(i,"").done(function(){h.message.success("删除成功"),t.initPage(t.state.InTmBug)})},UpPice:function e(t){var a=document.querySelector("#Pice"),n=a.getAttribute("data-index"),i=a.getAttribute("data-fullpath"),r=parseInt(n-1),e=0;if(e=this.state.tmBug.length!=this.state.tmBugPiceList.length?this.state.tmBugPiceList[r]:this.state.tmBug[r],void 0==e)h.message.warning("已经是第一张了");else{var s="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",o=e.name.length,n=e.name.lastIndexOf("."),c=e.name.slice(n+1,o),d="";d="jpeg"==c||"jpg"==c?l.default.createElement("a",{title:"点击下载"},l.default.createElement("img",{id:"Pice",name:e.name,"data-fullPath":i,"data-downloadUrl":e.downloadUrl,"data-load":e.url,"data-index":r,src:e.url,style:{height:"100%"},onClick:this.fileDwonLoad})):l.default.createElement("a",{title:"点击下载"},l.default.createElement("img",{id:"Pice",name:e.name,"data-fullPath":i,"data-downloadUrl":e.downloadUrl,"data-load":e.url,"data-index":r,src:s,style:{height:"100%"},onClick:this.fileDwonLoad})),this.setState({Bigprice:d,BigpriceName:e.name})}},DownPice:function(e){var t=document.querySelector("#Pice"),a=t.getAttribute("data-index"),n=parseInt(a)+1,i=0;if(i=this.state.tmBug.length!=this.state.tmBugPiceList.length?this.state.tmBugPiceList[n]:this.state.tmBug[n],void 0==i)h.message.warning("已经是最后一张了");else{var r=i.fullPath,s="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",o=i.name.length,a=i.name.lastIndexOf("."),c=i.name.slice(a+1,o),d="";d="jpeg"==c||"jpg"==c?l.default.createElement("a",{title:"点击下载"},l.default.createElement("img",{id:"Pice",name:i.name,"data-fullPath":r,"data-downloadUrl":i.downloadUrl,"data-load":i.url,"data-index":n,src:i.url,style:{height:"100%"},onClick:this.fileDwonLoad})):l.default.createElement("a",{title:"点击下载"},l.default.createElement("img",{id:"Pice",name:i.name,"data-fullPath":r,"data-downloadUrl":i.downloadUrl,"data-load":i.url,"data-index":n,src:s,style:{height:"100%"},onClick:this.fileDwonLoad})),this.setState({Bigprice:d,BigpriceName:i.name})}},Enlarge:function(){var e=document.querySelector("#Pice"),t=e.src,a=e.name.length,n=e.name.lastIndexOf("."),i=e.name.slice(n+1,a);"jpeg"==i||"jpg"==i?this.setState({visible:!0,BigpriceUrl:t}):h.message.error("暂不支持此类行文件预览")},isActive:function(e,t){e.preventDefault();var a=e.target,t=a.getAttribute("data-index")||t,n=(a.getAttribute("data-fullpath"),a.getAttribute("data-checked"));"I"!=a.nodeName&&(n?(m(".checkDownLoad")[t].style.display="block",this.state.AllDownLoad.push(this.state.tmBug[t].fullPath)):(m(".checkDownLoad")[t].style.display="none",this.state.AllDownLoad.splice(this.state.tmBug[t].fullPath,1)))},isAllDownLoad:function(e){var t=this;e.stopPropagation();var a=e.target.checked,n=m(".checkDownLoad");if(a){for(var i=0;i<n.length;i++)m(".checkDownLoad")[i].style.display="block";this.state.tmBug.forEach(function(e,a){t.state.AllDownLoad.push(e.fullPath)})}else{for(var r=0;r<n.length;r++)m(".checkDownLoad")[r].style.display="none";this.state.AllDownLoad=[]}},AllDownLoad:function e(){var t=this,a="http://10.10.10.201:8082/defect_s/bug-attach-upload/batchdownloadfile",e=this.state.AllDownLoad;if(e.length<1)h.message.info("最少选中一个附件");else{var n={flowNo:"1",object:e};m.ajax({type:"POST",url:a,data:JSON.stringify(n),crossDomain:!0,contentType:"application/json"}).done(function(e){t.loadZip(e)})}},loadZip:function(e){var t="http://10.10.10.201:8082/defect_s/bug-attach-upload/dowanloadmore?filepath="+e,a=document.createElement("a"),n=t.toString();a.href=n,a.click()},handleCancel:function(){this.setState({visible:!1})},Search:function(e){var t=e||e.target,a=this.state.tmBugPiceList;if(t){var n=[];if(a.forEach(function(e,a){e.name.indexOf(t)!=-1&&n.push(e)}),n.length>0){var i=n[0].name,r=n[0].fullPath,s=n[0].downloadUrl,o=(n[0].downloadUrl.load,n[0].url),c=l.default.createElement("a",{title:"点击下载"},l.default.createElement("img",{id:"Pice",name:i,"data-fullPath":r,"data-downloadUrl":s,"data-load":o,"data-index":"0",src:o,style:{height:"100%"},onClick:this.fileDwonLoad}));this.state.tmBugPiceList=n,this.setState({Bigprice:c,BigpriceName:i})}}else this.setState({tmBugPiceList:this.state.tmBugPiceList2})},render:function(){var e,t,a=(e={position:"absolute",border:"1px solid rgb(153, 153, 153)",top:"50%",width:"36px",left:"10px",marginTop:"-18px",height:"36px",borderRadius:"50%",outline:"none"},i(e,"borderRadius","50%"),i(e,"background","rgb(255, 255, 255)"),i(e,"cursor","pointer"),e),n=(t={position:"absolute",border:"1px solid rgb(153, 153, 153)",top:"50%",width:"36px",right:"10px",marginTop:"-18px",height:"36px",borderRadius:"50%",outline:"none"},i(t,"borderRadius","50%"),i(t,"background","rgb(255, 255, 255)"),i(t,"cursor","pointer"),t),s=this,o=this.state.tmBugPiceList;this.state.tmBugPice=o.map(function(e,t){return l.default.createElement("li",{"data-index":t,"data-checked":"true",onClick:s.isActive,style:{overflow:"hidden",position:"relative",padding:"0",margin:"10px",textAlign:"center"}},l.default.createElement("img",{src:e.url,name:e.name,"data-checked":"true","data-downloadUrl":e.downloadUrl,"data-load":e.load,"data-uid":e.uid,"data-index":t,"data-fullPath":e.fullPath,style:{paddingTop:"8px",width:"80%",display:"inline-block"},onClick:s.showImage}),l.default.createElement(h.Icon,{style:{position:"absolute",color:"red",right:"4px",top:"2px",fontSize:"16px"},type:"minus-circle",onClick:s.deleImage}),l.default.createElement("p",{style:{position:"relative",textAlign:"center"}},l.default.createElement("span",{style:{paddingLeft:"10px"}},e.name)),l.default.createElement("div",{className:"checkDownLoad","data-index":t,style:{position:"absolute",display:"none",left:"0",right:"0",top:"0",bottom:"0"}},l.default.createElement("span",{style:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0",margin:"auto",width:"32px",height:"32px",display:"block"}},l.default.createElement(h.Icon,{type:"check-circle",style:{fontSize:"32px",color:"green"}}))))});var c=(this.state.hints,{name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.InTmBug.uuid,onChange:function(e){if("uploading"!==e.file.status){var t=document.querySelector(".ant-upload-list.ant-upload-list-text");m(t).remove(),s.initPage(s.state.InTmBug)}"done"===e.file.status?h.message.success(e.file.name+" file uploaded successfully"):"error"===e.file.status&&h.message.error(e.file.name+" file upload failed.")}});return l.default.createElement(h.Modal,{visible:this.state.modal,width:"840px",title:"附件预览",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",marign:"0",padding:"0"}},l.default.createElement("div",{style:{flex:"1",height:"380px",overflow:"auto",position:"relative"}},l.default.createElement("div",{style:{overflow:"hidden",background:"#fff",zIndex:"999",position:"absolute"}},l.default.createElement("span",{style:{lineHeight:"30px"}},"缩略图"),l.default.createElement("span",{style:{float:"right"}},l.default.createElement(h.Checkbox,{onChange:this.isAllDownLoad,style:{marginLeft:"6px"}}),l.default.createElement(h.Button,{icon:"download",onClick:this.AllDownLoad,title:"多附件下载"})),l.default.createElement("span",{style:{float:"right"}},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(h.Upload,r({},c,{style:{marginLeft:"4px",float:"right"}}),l.default.createElement(h.Button,{icon:g.iconAdd,type:"primary",shape:"circle",title:"上传附件",style:{float:"right"}})))),l.default.createElement(v,{placeholder:"input search text",onSearch:this.Search,onChange:this.Search,style:{width:"100%",paddingTop:"2px"}})),l.default.createElement("ul",{className:"am-pre-scrollable",style:{height:"380px",overflow:"auto",paddingTop:"80px"}},this.state.tmBugPice?this.state.tmBugPice:"暂无附件")),l.default.createElement("div",{style:{flex:"4",overflow:"hidden",textAlign:"center",height:"380px",display:"flex",flexDirection:"column"}},l.default.createElement("div",{style:{flexBasis:"38px",margin:"4px 2px",position:"relative",textAlign:"left",paddingLeft:"20px"}},l.default.createElement("span",{style:{lineHeight:"30px",width:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},"文件名:",this.state.BigpriceName),l.default.createElement("div",{style:{position:"absolute",right:"40%",top:"0"}},l.default.createElement(h.Button,{icon:"eye",onClick:this.Enlarge,title:"查看大图",style:{fontSize:"18px"}}))),l.default.createElement("div",{style:{flex:1,overflow:"hidden",position:"relative"}},l.default.createElement("button",{title:"上一张",style:a,onClick:this.UpPice},l.default.createElement(h.Icon,{type:"left"})),this.state.Bigprice?this.state.Bigprice:"",l.default.createElement("button",{title:"下一张",style:n,onClick:this.DownPice},l.default.createElement(h.Icon,{type:"right"})),l.default.createElement(h.Modal,{title:null,visible:this.state.visible,width:"860px",footer:null,onCancel:this.handleCancel},l.default.createElement("div",{style:{width:"100%",height:"100%"}},l.default.createElement("img",{src:this.state.BigpriceUrl,style:{width:"100%",height:"100%"}})))))))}}));t.default=y},791:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=n(r),l=a(5),o=(n(l),a(7)),c=(n(o),a(9)),d=n(c),u=a(70),h=(n(u),a(12)),f=n(h),p=a(19),m=(n(p),a(4)),g=(a(1),a(6),m.DatePicker.MonthPicker,m.DatePicker.RangePicker),v=m.Form.Item,S=(m.Select.Option,s.default.createClass({displayName:"RecruitFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],recruit:{caseCode:"",caseName:"",caseType:"",caseStat:"",caseDate:""}}},onChange:function(e,t){var a,n;a=t[0],n=t[1],console.log(a,n),this.state.recruit.caseDate=a+n;
},mixins:[(0,d.default)("recruit")],componentDidMount:function(){this.state.validRules=[{id:"caseCode",desc:"用例编码",required:!1,max:"80"},{id:"caseName",desc:"用例名称",required:!1,max:"1000"},{id:"caseType",desc:"用例类型",required:!1,max:"255"},{id:"caseStat",desc:"用例状态",required:!1,max:"255"},{id:"caseDate",desc:"编写日期",required:!1,max:"65535"}],this.clear()},clear:function(){},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return s.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 150px"}},s.default.createElement("div",{style:{width:"100%",height:"100%",float:"right"}},s.default.createElement(m.Form,{layout:e,style:{width:"100%"}},s.default.createElement(m.Row,{gutter:18},s.default.createElement(m.Col,{className:"gutter-row",span:8},s.default.createElement(v,i({},a,{label:"显示编码",required:!1,colon:!0,className:t,help:n.caseCodeHint,validateStatus:n.caseCodeStatus}),s.default.createElement(m.Input,{type:"text",name:"caseCode",id:"caseCode",value:this.state.recruit.caseCode,onChange:this.handleOnChange}))),s.default.createElement(m.Col,{className:"gutter-row",span:8},s.default.createElement(v,i({},a,{label:"用例名称",required:!1,colon:!0,className:t,help:n.caseNameHint,validateStatus:n.caseNameStatus}),s.default.createElement(m.Input,{type:"text",name:"caseName",id:"caseName",value:this.state.recruit.caseName,onChange:this.handleOnChange}))),s.default.createElement(m.Col,{className:"gutter-row",span:8},s.default.createElement(v,i({},a,{label:"用例类型",required:!1,colon:!0,className:t,help:n.caseTypeHint,validateStatus:n.caseTypeStatus}),s.default.createElement(f.default,{name:"caseType",id:"caseType",value:this.state.recruit.caseType,appName:"用例管理",optName:"用例类型",onSelect:this.handleOnSelected.bind(this,"caseType")})))),s.default.createElement(m.Row,{gutter:18},s.default.createElement(m.Col,{className:"gutter-row",span:8},s.default.createElement(v,i({},a,{label:"用例状态",required:!1,colon:!0,className:t,help:n.caseStatHint,validateStatus:n.caseStatStatus}),s.default.createElement(f.default,{name:"caseStat",id:"caseStat",value:this.state.recruit.caseStat,appName:"用例管理",optName:"执行状态",onSelect:this.handleOnSelected.bind(this,"caseStat")}))),s.default.createElement(m.Col,{className:"gutter-row",span:8},s.default.createElement(v,i({},a,{label:"开始日期",required:!1,colon:!0,className:t,help:n.caseDateHint,validateStatus:n.caseDateStatus}),s.default.createElement(g,{onChange:this.onChange})))))))}}));e.exports=S},792:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),l=n(s),o=a(5),c=(n(o),a(7)),d=n(c),u=a(12),h=(n(u),a(4)),f=a(597),p=(n(f),a(1)),m=a(6),g=a(3),v=h.Form.Item,S=(h.Select.Option,h.AutoComplete.Option),y=a(175),C=a(152),w=l.default.createClass({displayName:"SeeTmCase",getInitialState:function(){return{caselistSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1,caselist:{caseSteps:[]},hints:{},validRules:[],result:[],pid:"",dataSource:[{key:0,rsvStr2:"",caseExpect:""}],count:""}},mixins:[p.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({pid:e.uuid}),console.log(this.state.pid),this.state.modal&&"create"===e.operation?""===e.errMsg?(this.setState({modal:!1}),ResumeActions.getResumeByIdCode(e.recordSet[0].idCode)):this.setState({loading:!1,caselistSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.caselist.caseRisk=e.employee[0].caseRisk,this.state.caselist.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,caselistSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"caseName",desc:"用例名称",required:!0,max:"1000"},{id:"caseStat",desc:"用例状态",required:!0,max:"255"},{id:"caseType",desc:"用例类型",required:!1,max:"255"},{id:"reqCode",desc:"需求编码",required:!1,max:"255"},{id:"caseRisk",desc:"风险级别",required:!1,max:"255"},{id:"casePriority",desc:"优先级",required:!1,max:"255"},{id:"caseExecType",desc:"执行类型",required:!1,max:"65535"},{id:"caseDirection",desc:"正反例",required:!1,max:"255"},{id:"casePrecondition",desc:"前置条件",required:!1,max:"255"},{id:"caseDataneeds",desc:"测试数据",required:!1,max:"255"},{id:"caseExpect",desc:"预期结果",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"255"},{id:"rsvStr1",desc:"用例描述",required:!1,max:"255"},{id:"rsvStr2",desc:"",required:!1,max:"80"}]},initPage:function(e){this.state.hints={},g.copyValue(e,this.state.caselist),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},handleOnChange:function(e){var t=this.state.caselist;t[e.target.id]=e.target.value,m.validator(this,t,e.target.id),this.setState({caselist:t})},onClickSave:function(){m.validator(this,this.state.caselist)?(C.updateTmCase(this.state.caselist,this.state.pid),this.setState({modal:!this.state.modal}),h.message.success("修改数据成功！")):(this.setState({hint:this.state.hint}),h.message.error("发生了错误！"))},handleOnSelected:function(e,t){console.log(e);var a=this.state.caselist;a[e]=t,m.validator(this,a,e),this.setState({caselist:a})},toggle:function(){this.setState({modal:!this.state.modal})},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:m.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},onDelete:function(e){var t=[].concat(i(this.state.caselist.caseSteps));t.splice(e,1),this.setState(r({},this.state,{caselist:r({},this.state.caselist,{caseSteps:t})}))},handleAdd:function(){this.state.caselist.caseSteps.dataSource;""==this.state.caselist.caseSteps&&(this.state.caselist.caseSteps=[]),console.log(this.state.caselist.caseSteps);var e={rsvStr2:"",caseExpect:""},t=this.state;console.log(t),t.caselist.caseSteps.push(e),this.setState(t)},handleOnChangeCell:function(e,t){var a=this;return function(n){console.log(a.state);var s=[].concat(i(a.state.caselist.caseSteps));s[e][t]=n,a.setState(r({},a.state,{caselist:r({},a.state.caselist.caseSteps,{caseSteps:s})}));var l=a.state.caselist;a.setState({caselist:l})}},onUp:function(e){console.log(e)},onDown:function(e){console.log(e)},emailOnChange:function(e){var t=this.state.caselist;t.email=e,m.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e=this,t="horizontal",a="form-item-"+t,n={labelCol:"vertical"==t?null:{span:3},wrapperCol:"vertical"==t?null:{span:21}},i={labelCol:"vertical"==t?null:{span:6},wrapperCol:"vertical"==t?null:{span:18}},s=this.state.result,o=(s.map(function(e){return l.default.createElement(S,{key:e},e)}),this.state.hints),c=[];c=[{title:"操作步骤",dataIndex:"rsvStr2",width:"40%",render:function(t,a,n){return l.default.createElement(h.Input,{readOnly:!0,style:{border:"none"},value:e.state.caselist.caseSteps[n].rsvStr2,onChange:e.handleOnChangeCell(n,"rsvStr2")})}},{title:"预期结果",dataIndex:"caseExpect",width:"40%",render:function(t,a,n){return l.default.createElement(h.Input,{readOnly:!0,style:{border:"none"},value:e.state.caselist.caseSteps[n].caseExpect,onChange:e.handleOnChangeCell(n,"caseExpect")})}}];var u=l.default.createElement(h.Form,{layout:t},l.default.createElement(h.Row,{gutter:24},l.default.createElement(h.Col,{className:"gutter-row",span:12},l.default.createElement(v,r({},i,{label:"用例名称",required:!0,colon:!0,className:a,help:o.caseNameHint,validateStatus:o.caseNameStatus}),l.default.createElement(h.Input,{readOnly:!0,type:"text",name:"caseName",id:"caseName",value:this.state.caselist.caseName,onChange:this.handleOnChange}))),l.default.createElement(h.Col,{className:"gutter-row",span:12},l.default.createElement(v,r({},i,{label:"用例状态",required:!0,colon:!0,className:a,help:o.caseStatHint,validateStatus:o.caseStatStatus}),l.default.createElement(h.Input,{readOnly:!0,name:"caseStat",id:"caseStat",value:this.state.caselist.caseStat,onChange:this.handleOnChange})))),l.default.createElement(v,r({},n,{label:"用例描述",required:!1,colon:!0,className:a,help:o.rsvStr1Hint,validateStatus:o.rsvStr1Status}),l.default.createElement(h.Input,{readOnly:!0,type:"text",name:"rsvStr1",id:"rsvStr1",value:this.state.caselist.rsvStr1,onChange:this.handleOnChange})),l.default.createElement(h.Row,{gutter:24},l.default.createElement(h.Col,{className:"gutter-row",span:12},l.default.createElement(v,r({},i,{label:"执行类型",required:!0,colon:!0,className:a,help:o.caseExecTypeHint,validateStatus:o.caseExecTypeStatus}),l.default.createElement(h.Input,{readOnly:!0,name:"caseExecType",id:"caseExecType",value:this.state.caselist.caseExecType,onChange:this.handleOnChange}))),l.default.createElement(h.Col,{className:"gutter-row",span:12},l.default.createElement(v,r({},i,{label:"需求编码",required:!1,colon:!0,className:a,help:o.reqCodeHint,validateStatus:o.reqCodeStatus}),l.default.createElement(h.Input,{readOnly:!0,type:"text",name:"reqCode",id:"reqCode",value:this.state.caselist.reqCode,onChange:this.handleOnChange})))),l.default.createElement(h.Row,{gutter:24},l.default.createElement(h.Col,{className:"gutter-row",span:12},l.default.createElement(v,r({},i,{label:"风险级别",required:!0,colon:!0,className:a,help:o.caseRiskHint,validateStatus:o.caseRiskStatus}),l.default.createElement(h.Input,{readOnly:!0,name:"caseRisk",id:"caseRisk",value:this.state.caselist.caseRisk,onChange:this.handleOnChange}))),l.default.createElement(h.Col,{className:"gutter-row",span:12},l.default.createElement(v,r({},i,{label:"优先级",required:!0,colon:!0,className:a,help:o.casePriorityHint,validateStatus:o.casePriorityStatus}),l.default.createElement(h.Input,{readOnly:!0,name:"casePriority",id:"casePriority",value:this.state.caselist.casePriority,onChange:this.handleOnChange})))),l.default.createElement(h.Row,{gutter:24},l.default.createElement(h.Col,{className:"gutter-row",span:12},l.default.createElement(v,r({},i,{label:"用例类型",required:!0,colon:!0,className:a,help:o.caseTypeHint,validateStatus:o.caseTypeStatus}),l.default.createElement(h.Input,{readOnly:!0,name:"caseType",id:"caseType",value:this.state.caselist.caseType,onChange:this.handleOnChange}))),l.default.createElement(h.Col,{className:"gutter-row",span:12},l.default.createElement(v,r({},i,{label:"正反例",required:!0,colon:!0,className:a,help:o.caseDirectionHint,validateStatus:o.caseDirectionStatus}),l.default.createElement(h.Input,{readOnly:!0,name:"caseDirection",id:"caseDirection",value:this.state.caselist.caseDirection,onChange:this.handleOnChange})))),l.default.createElement(h.Row,{gutter:24},l.default.createElement(v,r({},n,{label:"前置条件",required:!1,colon:!0,className:a,help:o.casePreconditionHint,validateStatus:o.casePreconditionStatus}),l.default.createElement(h.Input,{readOnly:!0,type:"text",name:"casePrecondition",id:"casePrecondition",value:this.state.caselist.casePrecondition,onChange:this.handleOnChange}))),l.default.createElement(h.Row,{gutter:24},l.default.createElement(v,r({},n,{label:"测试数据",required:!1,colon:!0,className:a,help:o.caseDataneedsHint,validateStatus:o.caseDataneedsStatus}),l.default.createElement(h.Input,{readOnly:!0,type:"text",name:"caseDataneeds",id:"caseDataneeds",value:this.state.caselist.caseDataneeds,onChange:this.handleOnChange}))),l.default.createElement(h.Row,{gutter:24},l.default.createElement(v,r({},n,{label:"步骤",required:!1,colon:!0,className:a,help:o.caseStepsHint,validateStatus:o.caseStepsStatus}),l.default.createElement(h.Table,{bordered:!0,dataSource:this.state.caselist.caseSteps,columns:c}))),l.default.createElement(h.Row,{gutter:24},l.default.createElement(v,r({},n,{label:"备注",required:!1,colon:!0,className:a,help:o.remarkHint,validateStatus:o.remarkStatus}),l.default.createElement(h.Input,{readOnly:!0,type:"text",name:"remark",id:"remark",value:this.state.caselist.remark,onChange:this.handleOnChange}))));return l.default.createElement(h.Modal,{visible:this.state.modal,width:"880px",title:"查看用例信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["rescaselist/create"]}),l.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?l.default.createElement(h.Spin,null,u):u)}});t.default=w},793:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=n(r),l=a(5),o=(n(l),a(7)),c=n(o),d=a(9),u=n(d),h=a(4),f=a(1),p=a(6),m=a(3),g=h.Form.Item,v=(h.Upload.Dragger,h.Select.Option,a(175)),S=a(152),y=s.default.createClass({displayName:"TmBugPage",getInitialState:function(){return{tmBugSet:{operation:"",errMsg:""},loading:!1,modal:!1,tmBug:{},hints:{},validRules:[],thisTmBug:"",casecode:""}},mixins:[f.listenTo(v,"onServiceComplete"),(0,u.default)("tmBug")],onServiceComplete:function(e){this.setState({thisTmBug:e.tmBugList}),this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tmBugSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"bugName",desc:"缺陷名称",required:!0,max:"255"},{id:"sysId",desc:"所属系统",required:!0,max:"255"},{id:"caseCode",desc:"案例编码",required:!1,max:"255"},{id:"bugType",desc:"缺陷类型",required:!1,max:"255"},{id:"bugSeverity",desc:"严重程度",required:!1,max:"255"},{id:"bugPriorty",desc:"优先级",required:!0,max:"255"},{id:"bugChance",desc:"重现概率",required:!1,max:"255"},{id:"prjId",desc:"所属项目",required:!1,max:"255"},{id:"bugResponsible",desc:"当前处理人",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"512"},{id:"bugDesp",desc:"缺陷描述",required:!1,max:"512"}]},initPage:function(e,t){console.log(e,t),S.bugList(e,t),this.state.hints={},m.copyValue(e,this.state.tmBug),this.state.loading=!1,this.state.tmBugSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){p.formValidator(this,this.state.tmBug)&&(this.state.tmBugSet.operation="",this.setState({loading:!0}),S.updateTmBug(this.state.tmBug))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints;return s.default.createElement(h.Modal,{visible:this.state.modal,width:"640px",title:"缺陷管理信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[s.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},s.default.createElement(c.default,{ref:"mxgBox",svcList:["tm-bug/update"]}),s.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存"),s.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},s.default.createElement(h.Form,{layout:e},s.default.createElement(h.Row,null,s.default.createElement(h.Col,{span:"11"},s.default.createElement(g,i({},a,{label:"缺陷名称",required:!0,colon:!0,className:t,help:r.bugNameHint,validateStatus:r.bugNameStatus}),s.default.createElement(h.Input,{type:"text",name:"bugName",id:"bugName",value:this.state.thisTmBug.bugName,onChange:this.handleOnChange}))),s.default.createElement(h.Col,{span:"13"},s.default.createElement(g,i({},a,{label:"所属系统",required:!0,colon:!0,className:t,help:r.sysIdHint,validateStatus:r.sysIdStatus}),s.default.createElement(h.Input,{type:"text",name:"sysId",id:"sysId",value:this.state.thisTmBug.sysId,onChange:this.handleOnChange})))),s.default.createElement(h.Row,null,s.default.createElement(h.Col,{span:"11"},s.default.createElement(g,i({},a,{label:"案例编码",required:!0,colon:!0,className:t,help:r.caseCodeHint,validateStatus:r.caseCodeStatus}),s.default.createElement(h.Input,{type:"text",readOnly:!0,name:"caseCode",id:"caseCode",value:this.state.thisTmBug.caseCode,onChange:this.handleOnChange}))),s.default.createElement(h.Col,{span:"13"},s.default.createElement(g,i({},a,{label:"缺陷类型",required:!0,colon:!0,className:t,help:r.bugTypeHint,validateStatus:r.bugTypeStatus}),s.default.createElement(h.Input,{type:"text",name:"bugType",id:"bugType",value:this.state.thisTmBug.bugType,onChange:this.handleOnChange})))),s.default.createElement(h.Row,null,s.default.createElement(h.Col,{span:"11"},s.default.createElement(g,i({},a,{label:"严重程度",required:!0,colon:!0,className:t,help:r.bugSeverityHint,validateStatus:r.bugSeverityStatus}),s.default.createElement(h.Input,{type:"text",name:"bugSeverity",id:"bugSeverity",value:this.state.thisTmBug.bugSeverity,onChange:this.handleOnChange}))),s.default.createElement(h.Col,{span:"13"},s.default.createElement(g,i({},a,{label:"优先级",required:!0,colon:!0,className:t,help:r.bugPriortyHint,validateStatus:r.bugPriortyStatus}),s.default.createElement(h.Input,{type:"text",name:"bugPriorty",id:"bugPriorty",value:this.state.thisTmBug.bugPriorty,onChange:this.handleOnChange})))),s.default.createElement(h.Row,null,s.default.createElement(h.Col,{span:"11"},s.default.createElement(g,i({},a,{label:"重现概率",required:!0,colon:!0,className:t,help:r.bugChanceHint,validateStatus:r.bugChanceStatus}),s.default.createElement(h.Input,{type:"text",name:"bugChance",id:"bugChance",value:this.state.thisTmBug.bugChance,onChange:this.handleOnChange}))),s.default.createElement(h.Col,{span:"13"},s.default.createElement(g,i({},a,{label:"所属项目",required:!0,colon:!0,className:t,help:r.prjIdHint,validateStatus:r.prjIdStatus}),s.default.createElement(h.Input,{type:"text",name:"prjId",id:"prjId",value:this.state.thisTmBug.prjId,onChange:this.handleOnChange})))),s.default.createElement(h.Row,null,s.default.createElement(h.Col,{span:"11"},s.default.createElement(g,i({},a,{label:"当前处理人",required:!0,colon:!0,className:t,help:r.bugResponsibleHint,validateStatus:r.bugResponsibleStatus}),s.default.createElement(h.Input,{type:"text",name:"bugResponsible",id:"bugResponsible",value:this.state.thisTmBug.bugResponsible,onChange:this.handleOnChange}))),s.default.createElement(h.Col,{span:"13"},s.default.createElement(g,i({},a,{label:"备注",required:!0,colon:!0,className:t,help:r.remarkHint,validateStatus:r.remarkStatus}),s.default.createElement(h.Input,{type:"text",name:"remark",id:"remark",value:this.state.thisTmBug.remark,onChange:this.handleOnChange})))),s.default.createElement(g,i({},n,{label:"缺陷描述",required:!0,colon:!0,className:t,help:r.bugDespHint,validateStatus:r.bugDespStatus}),s.default.createElement(h.Input,{type:"textarea",name:"bugDesp",id:"bugDesp",value:this.state.thisTmBug.bugDesp,onChange:this.handleOnChange,style:{height:"100px"},placeholder:"请输入描述信息"}))))}});t.default=y},794:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),l=n(s),o=a(5),c=(n(o),a(7)),d=n(c),u=a(12),h=n(u),f=a(4),p=a(597),m=n(p),g=a(1),v=a(6),S=a(3),y=f.Form.Item,C=(f.Select.Option,f.AutoComplete.Option),w=f.Upload.Dragger,E=a(175),x=a(152),b=l.default.createClass({displayName:"UpdateTmCasePage",getInitialState:function(){return{caselistSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1,caselist:{caseSteps:[]},hints:{},validRules:[],result:[],pid:"",table:"",columns2:[],hehe:"",dataSource:[{rsvStr2:"",caseExpect:""}],count:""}},mixins:[g.listenTo(E,"onServiceComplete")],onServiceComplete:function(e){console.log(e),this.setState({pid:e.uuid,caselistSet:e,hehe:e})},componentDidMount:function(){this.state.validRules=[{id:"caseName",desc:"用例名称",required:!0,max:"1000"},{id:"caseStat",desc:"用例状态",required:!0,max:"255"},{id:"caseType",desc:"用例类型",required:!1,max:"255"},{id:"reqCode",desc:"需求编码",required:!1,max:"255"},{id:"caseRisk",desc:"风险级别",required:!1,max:"255"},{id:"casePriority",desc:"优先级",required:!1,max:"255"},{id:"caseExecType",desc:"执行类型",required:!1,max:"65535"},{id:"caseDirection",desc:"正反例",required:!1,max:"255"},{id:"casePrecondition",desc:"前置条件",required:!1,max:"255"},{id:"caseDataneeds",desc:"测试数据",required:!1,max:"255"},{id:"caseCode",desc:"用例编码",required:!0,max:"255"},{id:"caseExpect",desc:"预期结果",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"255"},{id:"rsvStr1",desc:"用例描述",required:!1,max:"255"},{id:"rsvStr2",desc:"",required:!1,max:"80"}]},initPage:function(e){var t=this;console.log(e),this.state.hints={},S.copyValue(e,this.state.caselist);var a=[];a=[{title:"",dataIndex:"hehe",width:"5%",render:function(e,t,a){return l.default.createElement("p",null,a+1)}},{title:"操作步骤",dataIndex:"rsvStr2",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].rsvStr2,onChange:t.handleOnChangeCell(n,"rsvStr2")})}},{title:"预期结果",dataIndex:"caseExpect",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].caseExpect,onChange:t.handleOnChangeCell(n,"caseExpect")})}},{title:"操作",dataIndex:"operation",width:"15%",render:function(e,a,n){return l.default.createElement("div",null,l.default.createElement(f.Popconfirm,{title:"确定删除此条信息?",onConfirm:function(){return t.onDelete(n)}},l.default.createElement(f.Icon,{type:"delete",style:{cursor:"pointer"}})),l.default.createElement(f.Icon,{type:"arrow-up",onClick:t.onUp.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}),l.default.createElement(f.Icon,{type:"arrow-down",onClick:t.onDown.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}))}}];var n=l.default.createElement(f.Table,{bordered:!0,dataSource:this.state.caselist.caseSteps,columns:a});this.setState({table:n}),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},handleOnChange:function(e){var t=this.state.caselist;t[e.target.id]=e.target.value,v.validator(this,t,e.target.id),this.setState({caselist:t})},onClickSave:function(){v.validator(this,this.state.caselist)?(console.log(),x.updateTmCase(this.state.caselist,this.props.text,this.state.caselistSet.startPage,this.state.caselistSet.pageRow),this.setState({modal:!this.state.modal}),f.message.success("修改数据成功！")):(this.setState({hint:this.state.hint}),f.message.error("发生了错误！"))},handleOnSelected:function(e,t){console.log(e);var a=this.state.caselist;a[e]=t,v.validator(this,a,e),this.setState({caselist:a})},toggle:function(){this.setState({modal:!this.state.modal})},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:v.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},onDelete:function(e){this.state.caselist.caseSteps.splice(e,1);this.onServiceComplete(this.state.caselist)},handleAdd:function(){var e=this;console.log(this.state.caselist.caseSteps),null==this.state.caselist.caseSteps&&(this.state.caselist.caseSteps=[]),""==this.state.caselist.caseSteps&&(this.state.caselist.caseSteps=[]),console.log(this.state.caselist.caseSteps.length);var t={key:this.state.caselist.caseSteps.length,rsvStr2:"",caseExpect:""},a=this.state;console.log(a),a.caselist.caseSteps.push(t),this.setState(a);var n=[];n=[{title:"",dataIndex:"hehe",width:"5%",render:function(e,t,a){return l.default.createElement("p",null,a+1)}},{title:"操作步骤",dataIndex:"rsvStr2",width:"40%",render:function(t,a,n){return l.default.createElement(m.default,{value:e.state.caselist.caseSteps[n].rsvStr2,onChange:e.handleOnChangeCell(n,"rsvStr2")})}},{title:"预期结果",dataIndex:"caseExpect",width:"40%",render:function(t,a,n){return l.default.createElement(m.default,{value:e.state.caselist.caseSteps[n].caseExpect,onChange:e.handleOnChangeCell(n,"caseExpect")})}},{title:"操作",dataIndex:"operation",width:"15%",render:function(t,a,n){return l.default.createElement("div",null,l.default.createElement(f.Popconfirm,{title:"确定删除此条信息?",onConfirm:function(){return e.onDelete(n)}},l.default.createElement(f.Icon,{type:"delete",style:{cursor:"pointer"}})),l.default.createElement(f.Icon,{type:"arrow-up",onClick:e.onUp.bind(e,n),style:{marginLeft:"18px",cursor:"pointer"}}),l.default.createElement(f.Icon,{type:"arrow-down",onClick:e.onDown.bind(e,n),style:{marginLeft:"18px",cursor:"pointer"}}))}}];var i=this.state.caselist.caseSteps,r=l.default.createElement(f.Table,{bordered:!0,dataSource:i,columns:n});this.setState({table:r})},handleOnChangeCell:function(e,t){var a=this;return function(n){var s=[].concat(i(a.state.caselist.caseSteps));s[e][t]=n,a.setState(r({},a.state,{caselist:r({},a.state.caselist.caseSteps,{caseSteps:s})}));var l=a.state.caselist;a.setState({caselist:l})}},onUp:function(e){var t=this,a=[].concat(i(this.state.caselist.caseSteps));if(0==e)f.message.error("已经是第一条数据！");else{e--;var n=a[e];a[e]=a[e+1],a[e+1]=n,console.log(a);var r=this.state;r.caselist.caseSteps=a,this.setState({State:r}),console.log(this.state);var s=[];s=[{title:"",dataIndex:"hehe",width:"5%",render:function(e,t,a){return l.default.createElement("p",null,a+1)}},{title:"操作步骤",dataIndex:"rsvStr2",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].rsvStr2,onChange:t.handleOnChangeCell(n,"rsvStr2")})}},{title:"预期结果",dataIndex:"caseExpect",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].caseExpect,onChange:t.handleOnChangeCell(n,"caseExpect")})}},{title:"操作",dataIndex:"operation",width:"15%",render:function(e,a,n){return l.default.createElement("div",null,l.default.createElement(f.Popconfirm,{title:"确定删除此条信息?",onConfirm:function(){return t.onDelete(n)}},l.default.createElement(f.Icon,{type:"delete",style:{cursor:"pointer"}})),l.default.createElement(f.Icon,{type:"arrow-up",onClick:t.onUp.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}),l.default.createElement(f.Icon,{type:"arrow-down",onClick:t.onDown.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}))}}];var o=this.state.caselist.caseSteps,c=l.default.createElement(f.Table,{bordered:!0,dataSource:o,columns:s});this.setState({table:c}),this.onServiceComplete(this.state.caselist)}},onDown:function(e){var t=this,a=[].concat(i(this.state.caselist.caseSteps));if(console.log(e),e==this.state.caselist.caseSteps.length-1)f.message.error("已经是最后一条数据！");else{e++;var n=a[e];a[e]=a[e-1],a[e-1]=n;var r=this.state;r.caselist.caseSteps=a,this.setState({State:r}),console.log(this.state);var s=[];s=[{title:"",dataIndex:"hehe",width:"5%",render:function(e,t,a){return l.default.createElement("p",null,a+1)}},{title:"操作步骤",dataIndex:"rsvStr2",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].rsvStr2,onChange:t.handleOnChangeCell(n,"rsvStr2")})}},{title:"预期结果",dataIndex:"caseExpect",width:"40%",render:function(e,a,n){return l.default.createElement(m.default,{value:t.state.caselist.caseSteps[n].caseExpect,onChange:t.handleOnChangeCell(n,"caseExpect")})}},{title:"操作",dataIndex:"operation",width:"15%",render:function(e,a,n){return l.default.createElement("div",null,l.default.createElement(f.Popconfirm,{title:"确定删除此条信息?",onConfirm:function(){return t.onDelete(n)}},l.default.createElement(f.Icon,{type:"delete",style:{cursor:"pointer"}})),l.default.createElement(f.Icon,{type:"arrow-up",onClick:t.onUp.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}),l.default.createElement(f.Icon,{type:"arrow-down",onClick:t.onDown.bind(t,n),style:{marginLeft:"18px",cursor:"pointer"}}))}}];var o=this.state.caselist.caseSteps,c=l.default.createElement(f.Table,{bordered:!0,dataSource:o,columns:s});this.setState({table:c}),this.onServiceComplete(this.state.caselist)}},emailOnChange:function(e){var t=this.state.caselist;t.email=e,v.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},n={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},i={labelCol:"vertical"==e?null:{span:9},wrapperCol:"vertical"==e?null:{span:15}},s=this.state.result;s.map(function(e){return l.default.createElement(C,{key:e},e)});console.log(this.state.caselist);var o={name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.caselist.uuid,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?f.message.success(e.file.name+" 文件上传成功!."):"error"===t&&f.message.error(e.file.name+" 文件上传失败!.")}},c=this.state.hints,u=l.default.createElement(f.Form,{layout:e},l.default.createElement(f.Row,{gutter:24},l.default.createElement(f.Col,{className:"gutter-row",span:8},l.default.createElement(y,r({},i,{label:"用例名称",required:!0,colon:!0,className:t,help:c.caseNameHint,validateStatus:c.caseNameStatus}),l.default.createElement(f.Input,{type:"text",name:"caseName",id:"caseName",value:this.state.caselist.caseName,onChange:this.handleOnChange}))),l.default.createElement(f.Col,{className:"gutter-row",span:8},l.default.createElement(y,r({},i,{label:"用例状态",required:!0,colon:!0,className:t,help:c.caseStatHint,validateStatus:c.caseStatStatus}),l.default.createElement(h.default,{name:"caseStat",id:"caseStat",value:this.state.caselist.caseStat,appName:"用例管理",optName:"执行状态",onSelect:this.handleOnSelected.bind(this,"caseStat")}))),l.default.createElement(f.Col,{className:"gutter-row",span:8},l.default.createElement(y,r({},i,{label:"用例编码",required:!0,colon:!0,className:t,help:c.caseCodeHint,validateStatus:c.caseCodeStatus}),l.default.createElement(f.Input,{type:"text",name:"caseCode",id:"caseCode",value:this.state.caselist.caseCode,onChange:this.handleOnChange})))),l.default.createElement(y,r({},a,{label:"用例描述",required:!1,colon:!0,className:t,help:c.rsvStr1Hint,validateStatus:c.rsvStr1Status}),l.default.createElement(f.Input,{type:"text",name:"rsvStr1",id:"rsvStr1",value:this.state.caselist.rsvStr1,onChange:this.handleOnChange})),l.default.createElement(f.Row,{gutter:24},l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(y,r({},n,{label:"执行类型",required:!0,colon:!0,className:t,help:c.caseExecTypeHint,validateStatus:c.caseExecTypeStatus}),l.default.createElement(h.default,{name:"caseExecType",id:"caseExecType",value:this.state.caselist.caseExecType,appName:"用例管理",optName:"执行类型",onSelect:this.handleOnSelected.bind(this,"caseExecType")}))),l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(y,r({},n,{label:"需求编码",required:!1,colon:!0,className:t,help:c.reqCodeHint,validateStatus:c.reqCodeStatus}),l.default.createElement(f.Input,{type:"text",name:"reqCode",id:"reqCode",value:this.state.caselist.reqCode,onChange:this.handleOnChange})))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(y,r({},n,{label:"风险级别",required:!0,colon:!0,className:t,help:c.caseRiskHint,validateStatus:c.caseRiskStatus}),l.default.createElement(h.default,{name:"caseRisk",id:"caseRisk",value:this.state.caselist.caseRisk,appName:"用例管理",optName:"风险级别",onSelect:this.handleOnSelected.bind(this,"caseRisk")}))),l.default.createElement(f.Col,{
className:"gutter-row",span:12},l.default.createElement(y,r({},n,{label:"优先级",required:!0,colon:!0,className:t,help:c.casePriorityHint,validateStatus:c.casePriorityStatus}),l.default.createElement(h.default,{name:"casePriority",id:"casePriority",value:this.state.caselist.casePriority,appName:"用例管理",optName:"优先级",onSelect:this.handleOnSelected.bind(this,"casePriority")})))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(y,r({},n,{label:"用例类型",required:!0,colon:!0,className:t,help:c.caseTypeHint,validateStatus:c.caseTypeStatus}),l.default.createElement(h.default,{name:"caseType",id:"caseType",value:this.state.caselist.caseType,appName:"用例管理",optName:"用例类型",onSelect:this.handleOnSelected.bind(this,"caseType")}))),l.default.createElement(f.Col,{className:"gutter-row",span:12},l.default.createElement(y,r({},n,{label:"正反例",required:!0,colon:!0,className:t,help:c.caseDirectionHint,validateStatus:c.caseDirectionStatus}),l.default.createElement(h.default,{name:"caseDirection",id:"caseDirection",value:this.state.caselist.caseDirection,appName:"用例管理",optName:"正反例",onSelect:this.handleOnSelected.bind(this,"caseDirection")})))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(y,r({},a,{label:"前置条件",required:!1,colon:!0,className:t,help:c.casePreconditionHint,validateStatus:c.casePreconditionStatus}),l.default.createElement(f.Input,{type:"text",name:"casePrecondition",id:"casePrecondition",value:this.state.caselist.casePrecondition,onChange:this.handleOnChange}))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(y,r({},a,{label:"测试数据",required:!1,colon:!0,className:t,help:c.caseDataneedsHint,validateStatus:c.caseDataneedsStatus}),l.default.createElement(f.Input,{type:"text",name:"caseDataneeds",id:"caseDataneeds",value:this.state.caselist.caseDataneeds,onChange:this.handleOnChange}))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(y,r({},a,{label:"步骤",required:!1,colon:!0,className:t,help:c.caseStepsHint,validateStatus:c.caseStepsStatus}),l.default.createElement(f.Icon,{type:"plus-square-o",onClick:this.handleAdd,style:{cursor:"pointer"}}),this.state.table?this.state.table:"")),l.default.createElement(f.Row,{gutter:24},l.default.createElement(y,r({},a,{label:"备注",required:!1,colon:!0,className:t,help:c.remarkHint,validateStatus:c.remarkStatus}),l.default.createElement(f.Input,{type:"text",name:"remark",id:"remark",value:this.state.caselist.remark,onChange:this.handleOnChange}))),l.default.createElement(f.Row,{gutter:24},l.default.createElement(y,null,l.default.createElement(w,o,l.default.createElement("p",{className:"ant-upload-drag-icon"},l.default.createElement(f.Icon,{type:"inbox"})),l.default.createElement("p",{className:"ant-upload-text"},"点击或拖拽文件到这个地方来上传(支持单个或多个文件上传)")))));return l.default.createElement(f.Modal,{visible:this.state.modal,width:"880px",title:"修改用例信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["rescaselist/create"]}),l.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?l.default.createElement(f.Spin,null,u):u)}});t.default=b},795:function(e,t,a){"use strict";var n=a(1),i=n.createActions(["createAppRes","deleteAppRes","updateAppRes","retrieveAppRes","retrieveAppResPage","initAppRes","findAppRes"]);e.exports=i},1608:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=n(r),l=a(8),o=(n(l),a(5)),c=(n(o),a(13)),d=a(4),u=a(18),h=n(u),f=a(29),p=n(f),m=(a(17),a(1),d.Form.Item),g=a(6),v=a(3),S=a(22),y=(0,c.withRouter)(s.default.createClass({displayName:"LoginPage2",getInitialState:function(){S.loadContext()&&this.props.router.push({pathname:g.tcaseHome,state:{from:"login"}});var e="";return"单公司"===g.corpStruct&&(e=g.corpUuid),{user:{userName:"",passwd:"",corpUuid:e},loading:!1,isRemember:!0,errMsg:"",hints:{},validRules:[]}},componentDidMount:function(){S.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",g.formValidator(this,this.state.user)){var a=v.authUrl+"auth-user/login",n=g.calcMD5(t),i={};i.password=n,i.username=this.state.user.userName;var r=this;this.setState({loading:!0}),v.loginService(a,i).then(function(e,t,a){r.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?r.loginSuccess(e.object):r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){r.state.loading=!1,r.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=g.corpUuid;var t=v.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var n=this;this.setState({loading:!0}),v.loginService(t,a).then(function(e,t,a){n.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?n.loginSuccess(e.object):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.state.loading=!1,n.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;S.saveLoginData(e,t);var a=this;v.downAppMenu("报销管理","OA").then(function(e){a.state.loading=!1,a.props.router.push({pathname:g.tcaseHome,state:{from:"login"}})},function(e){a.state.loading=!1,a.showError(e)})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,g.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var n=this.state.user;n[e]=t,this.setState({user:n})},onUserNameFinished:function(e){"单公司"!==g.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,n={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},r=this.state.hints,l="单公司"===g.corpStruct?null:s.default.createElement(m,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:r.compUuidHint,validateStatus:r.compUuidStatus},s.default.createElement(p.default,{name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp}));return s.default.createElement("div",{style:{width:"100%"}},s.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},s.default.createElement(d.Form,{layout:t},s.default.createElement(m,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},help:r.userNameHint,validateStatus:r.userNameStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"user",style:{fontSize:13}}),placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),s.default.createElement(m,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:r.passwdHint,validateStatus:r.passwdStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),l,s.default.createElement(m,null,s.default.createElement(h.default,{message:e,toggle:this.onDismiss}),s.default.createElement(d.Checkbox,{id:"remember",checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),s.default.createElement(d.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%"},loading:this.state.loading},"登录"),g.resMode?null:s.default.createElement(d.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px"},loading:this.state.loading},"快速登录")))))}}));e.exports=y},1609:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=n(i),s=a(23),l=n(s),o={children:r.default.PropTypes.node},c=r.default.createClass({displayName:"ParamMenuIndex",getInitialState:function(){return{navItems:[{name:"用例管理",icon:"home",to:"man_org",childItems:[{name:"用例列表",to:"/tcase/path/PathPage/"}]}]}},render:function(){return r.default.createElement(l.default,{navItems:this.state.navItems,activeNode:"/tcase/resume/UsecaseListPage/",children:this.props.children})}});c.propTypes=o,e.exports=c},1610:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),r=(n(i),a(13),a(1608)),s=n(r),l=a(786),o=n(l),c=a(61),d=n(c),u=[{path:"/",component:s.default},{path:"/tcase.html",component:s.default},{path:"/main/",component:o.default,childRoutes:[{path:"passwd/",component:a(38)},{path:"logout/",component:a(37)}]},a(1616),{path:"*",component:d.default}];t.default=u},1611:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=n(r),l=a(5),o=(n(l),a(7)),c=n(o),d=a(19),u=(n(d),a(9)),h=n(u),f=a(12),p=n(f),m=a(4),g=a(1),v=a(6),S=m.Form.Item,y=(m.Select.Option,a(596)),C=a(382),w=s.default.createClass({displayName:"CreatePathPage",getInitialState:function(){return{pathSet:{errMsg:""},loading:!1,modal:!1,path2:{},hints:{},validRules:[]}},mixins:[g.listenTo(y,"onServiceComplete"),(0,h.default)("path2")],onServiceComplete:function(e){!this.state.modal||"create"!==e.operation&&"createResource"!==e.operation||(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,pathSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"cateName",desc:"目录名称",required:!0,max:64},{id:"pathDesc",desc:"目录说明",max:128}]},clear:function(e,t){this.state.hints={},this.state.path2.cateName="",this.state.path2.pid=e,this.state.path2.ord=t,this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){v.formValidator(this,this.state.path2)&&(this.setState({loading:!0}),console.log(this.state.path2),C.createTmCase(this.state.path2))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints;return s.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"新增用例模块",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[s.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},s.default.createElement(c.default,{ref:"mxgBox",svcList:["page-path/create"]}),s.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",s.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},s.default.createElement(m.Form,{layout:e},s.default.createElement(S,i({},a,{label:"所属系统",colon:!0,className:t,help:n.pathDescHint,validateStatus:n.pathDescStatus}),s.default.createElement(p.default,{name:"rsvStr1",id:"rsvStr1",value:this.state.path2.rsvStr1,appName:"用例管理",optName:"所属系统",onSelect:this.handleOnSelected.bind(this,"rsvStr1")})),s.default.createElement(S,i({},a,{label:"模块名称",colon:!0,className:t,help:n.cateNameHint,validateStatus:n.cateNameStatus}),s.default.createElement(m.Input,{type:"text",name:"cateName",id:"cateName",value:this.state.path2.cateName,onChange:this.handleOnChange}))))}});t.default=w},1612:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=n(r),l=a(5),o=(n(l),a(7)),c=n(o),d=a(19),u=(n(d),a(9)),h=n(u),f=a(4),p=a(1),m=a(6),g=a(3),v=f.Form.Item,S=(f.Select.Option,a(596)),y=a(382),C=s.default.createClass({displayName:"UpdatePathPage",getInitialState:function(){return{pathSet:{errMsg:""},loading:!1,modal:!1,path:{},hints:{},validRules:[]}},mixins:[p.listenTo(S,"onServiceComplete"),(0,h.default)("path")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,pathSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"cateName",desc:"目录名称",required:!0,max:64},{id:"pathDesc",desc:"目录说明",max:128},{id:"isPage",desc:"是否页面",required:!1}]},initPage:function(e){this.state.hints={},g.copyValue(e,this.state.path),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){m.formValidator(this,this.state.path)&&(this.setState({loading:!0}),console.log(this.state.path),y.updateTmCase(this.state.path))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints;return s.default.createElement(f.Modal,{visible:this.state.modal,width:"540px",title:"修改路径信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[s.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},s.default.createElement(c.default,{ref:"mxgBox",svcList:["page-path/update"]}),s.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",s.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},s.default.createElement(f.Form,{layout:e},s.default.createElement(v,i({},a,{label:"目录名称",colon:!0,className:t,help:n.cateNameHint,validateStatus:n.cateNameStatus}),s.default.createElement(f.Input,{type:"text",name:"cateName",id:"cateName",value:this.state.path.cateName,onChange:this.handleOnChange})),s.default.createElement(v,i({},a,{label:"目录说明",colon:!0,className:t,help:n.pathDescHint,validateStatus:n.pathDescStatus}),s.default.createElement(f.Input,{type:"text",name:"pathDesc",id:"pathDesc",value:this.state.path.pathDesc,onChange:this.handleOnChange}))))}});t.default=C},1613:function(e,t,a){"use strict";a(13);e.exports={selRow:[],selectedRes:{},pageRes:{}}},1614:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),r=n(i),s=a(8),l=(n(s),a(5)),o=(n(l),a(4)),c=a(1613),d=n(c),u=a(1611),h=n(u),f=a(1612),p=n(f),m=a(1615),g=n(m),v=a(1),S=(o.Tree.TreeNode,o.Tabs.TabPane,a(6)),y=(a(3),a(596)),C=a(382),w=a(152),E=a(175),x=a(1617),b=(a(795),[]),k=[],N=r.default.createClass({displayName:"PathPage",getInitialState:function(){return{pathSet:{recordSet:[]},resSet:{pageInfo:{resList:[]}},resNode:{},loading:!1,pageLoading:!1,rootNodes:[],activeKey:"1",viewType:"path",pathType:"0",findRes:{}}},mixins:[v.listenTo(y,"onServiceComplete"),v.listenTo(E,"onServiceComplete2"),v.listenTo(x,"onResServiceComplete")],onServiceComplete:function(e){var t=S.initTreeNodes(e.recordSet,this.preCrtNode);this.setState({loading:!1,pathSet:e,rootNodes:t})},onServiceComplete2:function(e){this.setState({pageLoading:!1,resSet:e})},onResServiceComplete:function(e){"find"===e.operation&&(this.setState({pageLoading:!1}),""===e.errMsg&&(void 0===e.selectedRes||null===e.selectedRes?S.infoMsg("没有找到资源【"+resNode.resName+"】"):(d.default.selectedRes=e.selectedRes,this.setState({findRes:e.selectedRes,viewType:"resource",activeKey:"1"}))))},componentDidMount:function(){this.setState({loading:!0}),C.initTmCase("12")},showError:function(e){this.refs.mxgBox.showError(e)},handleQueryClick:function(){this.setState({loading:!0}),C.retrieveTmCase("12")},onSelect:function(e,t){console.log(e[0]),k=e,w.retrieveTmCase(e[0]);for(var a=null,n=this.state.pathSet.recordSet,i=n.length,r=0;r<i;r++)if(n[r].uuid===e[0]){a=n[r];break}if(null!==a){var s=a.isPage;"1"===s?(this.setState({pageLoading:!0,pathType:s}),w.retrieveTmCase(e[0])):this.setState({pathType:s})}},onExpand:function(e,t){b=e},getSelectedNode:function(){if(1!==k.length)return null;for(var e=this.state.pathSet.recordSet,t=e.length,a=0;a<t;a++)if(e[a].uuid===k[0])return e[a];return null},handleOpenCreateWindow:function(e){this.refs.createWindow.clear("12",""),this.refs.createWindow.toggle()},handleAddChild:function(e){var t=this.getSelectedNode();return null===t?void this.showError("请选择一个父目录"):(this.refs.createWindow.clear("12",k[0]),void this.refs.createWindow.toggle())},onClickUpdate:function(e){var t=this.getSelectedNode();return null===t?void this.showError("请选择一个目录"):(this.refs.updateWindow.initPage(t),void this.refs.updateWindow.toggle())},onClickDelete:function(e){var t=this.getSelectedNode();return null===t?void this.showError("请选择一个目录"):void o.Modal.confirm({title:"删除确认",content:"是否删除选中的路径 【"+t.cateName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,t)})},onClickDelete2:function(e){this.setState({loading:!0}),C.deleteTmCase(e.uuid)},preCrtNode:function(e,t){var a={};return a.key=e.uuid,a.pid=e.ord,a.title=e.cateName,a},render:function(){var e=0===k.length,t="path"===this.state.viewType?"":"none",a=r.default.createElement(o.Tree,{defaultExpandedKeys:b,defaultSelectedKeys:k,onSelect:this.onSelect,onExpand:this.onExpand},this.state.rootNodes.map(function(e,t){return S.prepareTreeNodes(e)}));return r.default.createElement("div",{style:{width:"100%",height:"100%"}},r.default.createElement("div",{className:"grid-page",style:{display:t}},r.default.createElement("div",{style:{display:"flex",height:"100%"}},r.default.createElement("div",{className:"left-tree",style:{flex:"0 0 230px",width:"230px",overflowY:"auto",overflowX:"hidden"}},r.default.createElement("div",{style:{margin:"8px 8px 0"}},r.default.createElement(o.Button,{icon:"plus",title:"增加目录",type:"primary",onClick:this.handleOpenCreateWindow}),r.default.createElement(o.Button,{icon:"folder-add",title:"增加子目录",onClick:this.handleAddChild,disabled:e,style:{marginLeft:"4px"}}),r.default.createElement(o.Button,{icon:"edit",title:"修改目录",onClick:this.onClickUpdate,disabled:e,style:{marginLeft:"4px"}}),r.default.createElement(o.Button,{icon:"delete",title:"删除目录",onClick:this.onClickDelete,disabled:e,style:{marginLeft:"4px"}}),r.default.createElement(o.Button,{icon:"sync",title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),this.state.loading?r.default.createElement(o.Spin,{tip:"正在努力加载数据..."},a):a),r.default.createElement("div",{style:{overflow:"hidden",width:"100%"}},r.default.createElement(g.default,null))),r.default.createElement(h.default,{ref:"createWindow",onCreateCallback:this.onCreateCallback}),r.default.createElement(p.default,{ref:"updateWindow",onSaveCallback:this.onSaveCallback})))}});e.exports=N},1615:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,s=a(2),l=n(s),o=a(8),c=(n(o),a(5)),d=(n(c),a(4)),u=a(7),h=n(u),f=a(789),p=n(f),m=a(794),g=n(m),v=a(790),S=n(v),y=a(793),C=n(y),w=a(792),E=n(w),x=a(791),b=n(x),k=a(76),N=n(k),P=a(26),D=n(P),R=a(787),I=n(R),O=a(1),T=d.Input.Search,M=(d.Radio.Button,d.Radio.Group,a(6)),U=a(3),_=a(175),B=a(152),q=10,L=l.default.createClass((r={displayName:"UsecaseListPage",getInitialState:function(){return{recruitSet:{recordSet:[],errMsg:"",startPage:1,pageRow:10,totalRow:0},loading:!1,recruit:null,selectedRowKeys:[],moreFilter:!1,filterValue:"",filter:{},arr:[],obj:{},uuid:"",thisTmBug:[]}},mixins:[O.listenTo(_,"onServiceComplete"),(0,D.default)()],onServiceComplete:function(e){console.log(e),this.setState({loading:!1,recruitSet:e})},changeThisTmBug:function(e){this.setState({thisTmBug:e})},componentDidMount:function(){this.state.validRules=[{id:"caseCode",desc:"用例编码",required:!0,max:"80"},{id:"reqCode",desc:"需求编码",required:!1,max:"255"},{id:"caseName",desc:"用例名称",required:!0,max:"1000"},{id:"mdlId",desc:"所属模块",required:!1,max:"255"},{id:"rsvStr1",desc:"标配字段",required:!0,max:"255"},{id:"caseRisk",desc:"风险级别",required:!0,max:"255"},{id:"casePriority",desc:"优先级",required:!0,max:"255"},{id:"casePrecondition",desc:"前置条件",required:!1,max:"255"},{id:"caseSteps",desc:"操作步骤",required:!1,max:"255"},{id:"caseExpect",desc:"预期结果",required:!1,max:"255"},{id:"caseType",desc:"用例类型",required:!1,max:"255"},{id:"caseDirection",desc:"正反例",required:!1,max:"255"},{id:"bugCode",desc:"缺陷编码",required:!1,max:"255"},{id:"regUser",desc:"创建人",required:!0,max:"255"},{id:"regDate",desc:"创建时间",required:!1,max:"255"},{id:"caseStat",desc:"用例状态",required:!1,max:"255"}];var e=this.state.recruitSet.uuid;B.retrieveTmCase(e)},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.recruitSet.uuid;console.log(t),B.retrieveTmCasePage(t,this.state.recruitSet.startPage,q)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()},onClickUpdate:function(e){this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle()},onClickSee:function(e){console.log(e),this.refs.SeeTmCaseWindow.initPage(e),this.refs.SeeTmCaseWindow.toggle()},onClickEnclosure:function(e){this.refs.EnclosureWindow.initPage(e),this.refs.EnclosureWindow.toggle()},onClickBugcode:function(e,t){var a=e.bugCode.split(",");console.log(t),console.log(a[t]),this.refs.BugCodeWindow.initPage(a[t],e.caseCode),this.refs.BugCodeWindow.toggle()},onClickDelete:function(e,t){d.Modal.confirm({title:"删除确认",content:"是否删除选中的用例 【"+e.caseName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),B.deleteTmCase(e.uuid)},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onSelectChange:function(e){this.setState({selectedRowKeys:e})},onShowSizeChange:function(e,t){q=t,this.handleQueryClick()},onChangePage:function(e){this.state.recruitSet.startPage=e,this.handleQueryClick()},onSearch:function(e,t){if(null===t||"undefined"==typeof t||""===t)return e;var a=[];return e.map(function(e){(e.caseName.indexOf(t)>=0||e.caseCode.indexOf(t)>=0)&&a.push(e)}),a},handleTempDown:function(e){this.downXlsTempFile(I.default.usecaseFields)},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&M.infoMsg(e),this.handleQueryClick()},beforeUpload:function(e){console.log(e),this.setState({loading:!0});var t=U.tcaseUrl+"tm-case/importtcase",a={uuid:this.state.recruitSet.uuid};return this.uploadXlsFile(t,a,I.default.usecaseFields,e,this.uploadComplete),!1},onSearch3:function(){var e=this.refs.RecruitFilter.state.recruit;console.log(e),B.search(e,this.state.recruitSet.uuid)},xlsExport:function(){console.log(this.state.arr);var e=M.filter(this.state.arr,this.state.filterValue),t=[{id:"A",name:"caseCode",title:"用例编码"},{id:"B",name:"reqCode",title:"需求编码"},{id:"C",name:"caseName",title:"用例名称"},{id:"D",name:"mdlId",title:"模块"},{id:"E",name:"rsvStr1",title:"用例描述"},{id:"F",name:"caseRisk",title:"风险级别"},{id:"G",name:"casePriority",title:"优先级"},{id:"H",name:"casePrecondition",title:"前置条件"},{id:"I",name:"caseSteps",title:"操作步骤"},{id:"J",name:"caseExpect",title:"预期结果"},{id:"K",name:"caseType",title:"用例类型"},{id:"L",name:"caseDirection",title:"正反例"},{id:"M",name:"bugCode",title:"缺陷编号"},{id:"N",name:"regUser",title:"创建人"},{id:"O",name:"regDate",title:"创建时间"},{id:"P",name:"caseStat",title:"用例状态"}];this.downXlsTempFile2(t,e,this.refs.xls)},expandedRowRender:function(e,t){var a=[{title:"操作步骤",dataIndex:"rsvStr2",key:"rsvStr2",width:140,render:function(e,t){return M.formatDate(e,M.dateFormat)}},{title:"预期结果",dataIndex:"caseExpect",key:"caseExpect",width:140}],n=this.state.recruitSet.recordSet[t].caseSteps;return l.default.createElement(d.Table,{columns:a,dataSource:n,pagination:!1})},deleteMore:function(){var e=this.state.selectedRowKeys;console.log(e),e.length?B.deleteMore(e,this.state.recruitSet.uuid):M.infoMsg("请选择一些数据！")}},i(r,"onSelectChange",function(e){this.setState({selectedRowKeys:e})}),i(r,"render",function(){var e=this,t=this.onSearch(this.state.recruitSet.recordSet,this.state.filterValue),a=this.state.moreFilter,n=(window.loginData.compUser.corpUuid,{title:"操作",key:"action",width:90,fixed:"right",render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"更新"},l.default.createElement(d.Icon,{type:M.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(d.Icon,{type:M.iconRemove})))}}),i=[];i=[{title:"附件",dataIndex:"",key:"1111",width:50,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickEnclosure.bind(e,a)},l.default.createElement(d.Icon,{type:"file"})))}},{title:"用例编码",dataIndex:"caseCode",key:"caseCode",width:140,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickSee.bind(e,a)},t))}},{title:"需求编码",dataIndex:"reqCode",key:"reqCode",width:140},{title:"用例名称",dataIndex:"caseName",key:"caseName",width:140},{title:"所属模块",dataIndex:"mdlId",key:"mdlId",width:140},{title:"用例描述",dataIndex:"rsvStr1",key:"rsvStr1",width:140},{title:"风险级别",dataIndex:"caseRisk",key:"caseRisk",width:140},{title:"优先级",dataIndex:"casePriority",key:"casePriority",width:140},{title:"前置条件",dataIndex:"casePrecondition",key:"casePrecondition",width:140},{title:"用例类型",dataIndex:"caseType",key:"caseType",width:140},{title:"正反例",dataIndex:"caseDirection",key:"caseDirection",width:140},{title:"缺陷编码",dataIndex:"bugCode",key:"bugCode",width:140,render:function(t,a,n){var i=e;(e.state.recruitSet.recordSet[n].bugCode="")&&(e.state.recruitSet.recordSet[n].bugCode=",");var r=e.state.recruitSet.recordSet[n].bugCode.split(",").map(function(e,t){return l.default.createElement("li",{onClick:i.onClickBugcode.bind(this,a,t)},e)});return l.default.createElement("ul",null,r)}},{title:"创建人",dataIndex:"regUser",key:"regUser",width:140},{title:"创建时间",dataIndex:"regDate",key:"regDate",width:140},{title:"用例状态",dataIndex:"caseStat",key:"caseStat",width:140},n],this.state.arr=[];var r=this.state.recruitSet.recordSet;if(null!==r&&r.length>0)for(var s=0;s<r.length;s++){for(var o={},c=r[s],u=0;u<c.caseSteps.length;u++)void 0!=o.caseExpect&&void 0!=o.caseSteps||(o.caseExpect="",o.caseSteps=""),o.caseExpect+=u+1+":"+c.caseSteps[u].caseExpect+",",o.caseSteps+=u+1+":"+c.caseSteps[u].rsvStr2+",";o.caseCode=c.caseCode,o.caseName=c.caseName,o.bugName=c.bugName,o.casePrecondition=c.casePrecondition,o.casePriority=c.casePriority,o.regUser=c.regUser,o.regDate=c.regDate,o.caseStat=c.caseStat,o.reqCode=c.reqCode,o.mdlId=c.mdlId,o.rsvStr1=c.rsvStr1,o.caseRisk=c.caseRisk,o.caseType=c.caseType,o.caseDirection=c.caseDirection,o.bugCode=c.bugCode,this.state.arr.push(o)}var f=M.getGridMargin(this),m={showQuickJumper:!0,total:this.state.recruitSet.totalRow,pageSize:this.state.recruitSet.pageRow,current:this.state.recruitSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},v=this.state.selectedRowKeys,y={selectedRowKeys:v,onChange:this.onSelectChange},w=l.default.createElement("div",{className:"grid-page",style:{padding:f.padding}},l.default.createElement("div",{style:{margin:f.margin}},l.default.createElement(h.default,{ref:"mxgBox",svcList:["recruit/retrieve","recruit/remove"]}),l.default.createElement(b.default,{ref:"RecruitFilter",moreFilter:a}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(d.Button,{icon:M.iconAdd,type:"primary",title:"增加用例",onClick:this.handleOpenCreateWindow}),l.default.createElement(d.Button,{icon:M.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),l.default.createElement(d.Button,{icon:"cloud-download-o",title:"下载模板",style:{marginLeft:"4px"},onClick:this.handleTempDown}),l.default.createElement(d.Button,{icon:"arrow-down",title:"导出数据",onClick:this.xlsExport,style:{marginLeft:"4px"}}),l.default.createElement(d.Button,{icon:"delete",title:"删除数据",onClick:this.deleteMore,style:{marginLeft:"4px"}}),l.default.createElement(d.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},l.default.createElement(d.Button,{icon:"upload",title:"上传数据"}))),a?l.default.createElement("div",{style:{textAlign:"right",width:"100%"}},l.default.createElement(d.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading,style:{marginRight:"8px"}},"查询"),l.default.createElement(d.Button,{title:"快速条件",onClick:this.filterToggle},"快速条件")):l.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},l.default.createElement(T,{placeholder:"编号/名称",style:{width:M.searchWidth},onChange:this.onFilterRecord,onSearch:this.onSearch}),l.default.createElement(d.Button,{title:"更多条件",onClick:this.filterToggle,style:{marginLeft:"8px"}},"更多条件")))),l.default.createElement("div",{className:"grid-body"},l.default.createElement(d.Table,{scroll:{x:1500,y:800},columns:i,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:m,size:"middle",bordered:M.tableBorder,expandedRowRender:this.expandedRowRender,rowSelection:y})),l.default.createElement(p.default,{ref:"createWindow"}),l.default.createElement(g.default,{ref:"updateWindow",text:this.state.recruitSet.uuid}),l.default.createElement(S.default,{ref:"EnclosureWindow"}),l.default.createElement(C.default,{ref:"BugCodeWindow"}),l.default.createElement(E.default,{ref:"SeeTmCaseWindow"}),l.default.createElement(N.default,{ref:"xls"}));return l.default.createElement("div",{style:{width:"100%",height:"100%"}},w)}),r));e.exports=L},1616:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(786),r=n(i),s=a(36),l=n(s),o=a(788),c=n(o);e.exports={path:"/tcase",component:r.default,indexRoute:{component:l.default},childRoutes:[{path:"/tcase/",component:a(1609),indexRoute:{component:c.default},childRoutes:[{path:"resume/UsecaseListPage/",component:a(788)},{path:"path/PathPage/",component:a(1614)}]}]}},1617:function(e,t,a){"use strict";var n=a(1),i=a(795),r=a(3),s=a(11),l=n.createStore({listenables:[i],appUuid:"",selectedRes:null,recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return r.devUrl+e},fireEvent:function(e,t,a){a.trigger({appUuid:a.appUuid,selectedRes:a.selectedRes,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),s.showError("app-res",e,t)},onRetrieveAppRes:function(e){var t=this,a={};a.appUuid=e;var n=this.getServiceUrl("app-res/get-by-appUuidAndModUuid");r.doRetrieveService(n,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.appUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveAppResPage:function(e,t,a){var n=this;n.startPage=t,n.pageRow=a;var i={};i.appUuid=e;var s=this.getServiceUrl("app-res/get-by-appUuidAndModUuid");
r.doRetrieveService(s,i,n.startPage,n.pageRow,n.totalRow).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(n.recordSet=t.object.list,n.startPage=t.object.startPage,n.pageRow=t.object.pageRow,n.totalRow=t.object.totalRow,n.appUuid=e,n.fireEvent("retrieve","",n)):n.fireEvent("retrieve","处理错误["+t.errCode+"]["+t.errDesc+"]",n)},function(e){n.fireEvent("retrieve","调用服务错误",n)})},onInitAppRes:function(e){return this.recordSet.length>0&&this.appUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveAppRes(e)},onCreateAppRes:function(e){var t=this.getServiceUrl("app-res/create");r.recordCreate(this,e,t)},onUpdateAppRes:function(e){var t=this.getServiceUrl("app-res/update");r.recordUpdate(this,e,t)},onDeleteAppRes:function(e){var t=this.getServiceUrl("app-res/remove");r.recordDelete(this,e,t)},onFindAppRes:function(e,t){var a=this;if(a.selectedRes=null,a.appUuid===e){for(var n=a.recordSet.length-1;n>=0;n--)if(a.recordSet[n].resName===t)return a.selectedRes=a.recordSet[n],void a.fireEvent("find","",a);return void a.fireEvent("find","没有找到资源信息",a)}var i={};i.appUuid=e;var s=this.getServiceUrl("app-res/get-by-appUuidAndModUuid");r.doRetrieveService(s,i,a.startPage,a.pageRow,a.totalRow).then(function(n){if(null==n.errCode||""==n.errCode||"000000"==n.errCode){a.recordSet=n.object.list,a.startPage=n.object.startPage,a.pageRow=n.object.pageRow,a.totalRow=n.object.totalRow,a.appUuid=e;for(var i=a.recordSet.length-1;i>=0;i--)if(a.recordSet[i].resName===t){a.selectedRes=a.recordSet[i];break}null===a.selectedRes?a.fireEvent("find","没有找到资源信息",a):a.fireEvent("find","",a)}else a.fireEvent("find","处理错误["+n.errCode+"]["+n.errDesc+"]",a)},function(e){a.fireEvent("find","调用服务错误",a)})}});e.exports=l}});