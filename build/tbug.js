!function(e){function t(i){if(a[i])return a[i].exports;var n=a[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}({0:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a(51),a(50);var n=a(2),l=i(n),s=a(8),r=i(s),o=a(42),d=i(o),u=a(13),c=a(1606),m=i(c),h=a(28),p=i(h);if("undefined"!=typeof document){var f=document.getElementById("app"),g=void 0;window.addEventListener("DOMContentLoaded",function(){g=a(52)}),r.default.render(l.default.createElement(u.Router,{onUpdate:function(){window.scrollTo(0,0),g&&g.run()},history:u.browserHistory,routes:m.default}),f)}t.default=function(e,t){var a=(0,u.createMemoryHistory)(),i=a.createLocation(e.path);(0,u.match)({routes:m.default,location:i},function(e,a,i){var n=d.default.renderToString(l.default.createElement(u.RouterContext,i)),s=p.default.rewind(),r='<!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset="utf-8">\n          <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n          '+s.title.toString()+"\n          "+s.meta.toString()+'\n          <link rel=icon href=/assets/favicon.ico>\n          <link rel="stylesheet" href="/react_lz.css"/>\n          <link rel="stylesheet" href="/assets/docs.css"/>\n        </head>\n        <body style="width:100%; margin:0;padding:0; background-color:#fefefe">\n          <div id="app" style="width:100%; height:100%">'+n+'</div>\n          <script src="/react_lz.js"></script>\n          <script src="/assets/prism.js" data-manual></script>\n          <script src="/common.js"></script>\n          <script src="/tbug.js"></script>\n        </body>\n      </html>';t(null,r)})}},1:function(e,t,a){e.exports=a(10)(1160)},2:function(e,t,a){e.exports=a(10)(1)},3:function(e,t,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=a(17),l=a(53),s=a(24);e.exports={initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}console.log(this)},actionFlowNo:1,lzOptions:{},lzOptionsWait:{},loadOptions:function(e,t,a){var i=this.lzOptions[e];if(null!==i&&"undefined"!=typeof i){var l=i[t];return null!==a&&a(null===l||"undefined"==typeof l?[]:l),l}var s=this.lzOptionsWait[e];if(null!==s&&"undefined"!=typeof s)return void s.push({name:t,func:a});s=[{name:t,func:a}],this.lzOptionsWait[e]=s;var r=this,o="";o=this.localDict?"/dict/"+e+".js":this.paramUrl+"app-info/dict?appName="+encodeURI(e),n.getScript(o,function(){var t={};null!==dict&&dict.map(function(e,a){t[e.indexName]=e}),r.lzOptions[appName]=t,s=r.lzOptionsWait[e],s.map(function(e,a){var i=t[e.name];null!==e.func&&e.func(null===i||"undefined"==typeof i?[]:i,e.name)}),r.lzOptionsWait[e]=null})},getOptionName:function(e,t,a,i,n){var l=this.lzOptions[e];if(null===l||"undefined"==typeof l){var s=null,r=this.lzOptionsWait[e];return null!==r&&"undefined"!=typeof r||(s=function(){n.setState({loading:n.state.loading})}),this.loadOptions(e,t,s),a}var o=l[t];if(null!==o&&"undefined"!=typeof o)for(var d=o.codeData.length,u=0;u<d;u++){var c=o.codeData[u];if(c.codeValue===a)return i&&a!==c.codeDesc?a+"-"+c.codeDesc:c.codeDesc}return a},getOptionName2:function(e,t,a){var i="",e=e.split(";");return e.map(function(e,t){var n=e.indexOf("=");if(n>0){var l=e.substr(0,n),s=e.substr(1+n);i=a&&l!==s?l+"-"+s:l}else i=l}),i},findRecordName:function(e,t,a,i){for(var n=t.length,l=0;l<n;l++){var r=t[l];if(r.uuid===e)return void s.findName(i,e,r[a])}s.findName(i,e,e)},sessionID:"",saveSessionID:function(e,t){null!=e.errCode&&""!=e.errCode&&"000000"!=e.errCode||(t.sessionID=e.object.sessionId,window.sessionStorage.setItem("sessionID",t.sessionID))},getSessionID:function(){return""===this.sessionID&&(this.sessionID=window.sessionStorage.getItem("sessionID")),this.sessionID},fz_setCookie:function(e,t,a){var i="";if(a){var n=new Date;n.setTime(n.getTime()+864e5*a),i=";expires="+n.toGMTString()}document.cookie=e+"="+(null==t?"":escape(t))+i+";path=/"},fmtGetUrl:function(e){var t=e.indexOf("corp");if(t>=0)return e;if(void 0===window.loginData)return e;var a=window.loginData.compUser;return null===a||""===a.corpUuid||void 0===a.corpUuid?e:(t=e.indexOf("?"),e=t>=0?e+"&corp="+a.corpUuid:e+"?corp="+a.corpUuid)},ajaxBody:function(e,t,a){if(t.term="web","undefined"!=typeof window.loginData){var i=window.loginData.compUser;t.corp=null===i?"":i.corpUuid}else t.corp="";return{type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}},loginService:function(e,t){var a=this,i=new l(function(i,l){var s={flowNo:"0",term:"web",object:t};n.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(s),dataType:"json",success:function(e,t,i){a.saveSessionID(e,a)},xhrFields:{withCredentials:!0},crossDomain:!0}).done(i).fail(l)});return i},doDeployService:function(e,t){var a=new l(function(a,i){n.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done(a).fail(i)});return a},fetch:function(e){var t=new l(function(t,a){n.get(e).done(t).fail(a)});return t},doJsonService:function(e,t){var a=this.ajaxBody(e,t),i=new l(function(e,t){n.ajax(a).done(e).fail(t)});return i},doGetService:function(e){e=this.fmtGetUrl(e);var t=new l(function(t,a){n.get(e).done(t).fail(a)});return t},doRetrieveService:function(e,t,a,i,s){var r={pageRow:i,startPage:a,totalRow:s,object:t},o={flowNo:"0",object:r},d=this.ajaxBody(e,o),u=new l(function(e,t){n.ajax(d).done(e).fail(t)});return u},doTextService:function(e,t,a,i,s){var r={flowNo:"111111",object:"1"},o=this.ajaxBody(e,r),d=new l(function(e,t){n.ajax(o).done(e).fail(t)});return d},doGetRecordService:function(e,t){var a={flowNo:"0",object:t},i=this.ajaxBody(e,a),s=new l(function(e,t){n.ajax(i).done(e).fail(t)});return s},doCreateService:function(e,t){var a={flowNo:"0",object:t},i=this.ajaxBody(e,a),s=new l(function(e,t){n.ajax(i).done(e).fail(t)});return s},doUpdateService:function(e,t){var a={flowNo:"0",object:t},i=this.ajaxBody(e,a),s=new l(function(e,t){n.ajax(i).done(e).fail(t)});return s},doRemoveService:function(e,t){var a={flowNo:"0",object:t},i=this.ajaxBody(e,a),s=new l(function(e,t){n.ajax(i).done(e).fail(t)});return s},doUploadService:function(e,t,a){var i=new FormData,s={flowNo:"0",object:t};if(s.term="web","undefined"!=typeof window.loginData){var r=window.loginData.compUser;s.corp=null===r?"":r.corpUuid}else s.corp="";i.append("reqObject",JSON.stringify(s));var o=0,d=!0,u=!1,c=void 0;try{for(var m,h=a[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var p=m.value;i.append("file_"+o,p),o++}}catch(e){u=!0,c=e}finally{try{!d&&h.return&&h.return()}finally{if(u)throw c}}var f={type:"post",url:this.fmtGetUrl(e),data:i,dataType:"json",cache:!1,contentType:!1,processData:!1,xhrFields:{withCredentials:!0},crossDomain:!0};return new l(function(e,t){n.ajax(f).done(e).fail(t)})},copyValue:function(e,t){for(var a in e)try{t[a]=e[a]}catch(e){}},deepCopyValue:function(e){var t=e instanceof Array?[]:{};for(var a in e)null!==e[a]?t[a]="object"===i(e[a])?this.deepCopyValue(e[a]):e[a]:t[a]=e[a]=null;return t},compareTo:function(e,t){for(var a in e)try{if(t[a]!==e[a])return!1}catch(e){return!1}for(var a in t)try{if(t[a]!==e[a])return!1}catch(e){return!1}return!0},findRecord:function(e,t){for(var a=e.recordSet.length-1;a>=0;a--)if(e.recordSet[a].uuid===t)return a;return-1},getResErrMsg:function(e){if(void 0!==e&&null!==e){var t=e.responseJSON;if(void 0!==t&&null!==t){var a=t.message;if(void 0!==a&&null!==a)return a}}return"调用服务错误"},recordCreate:function(e,t,a,n){var l=this,s=e;this.doCreateService(a,t).then(function(e){if(null==e.errCode||""==e.errCode||"000000"==e.errCode){if(void 0===n||null===n){var t=i(e.object.list);if("object"===t&&e.object.list.constructor===Array)for(var a=e.object.list.length,l=0;l<a;l++)s.recordSet.push(e.object.list[l]);else s.recordSet.push(e.object)}else n(s,e.object);s.totalRow=s.totalRow+1,s.fireEvent("create","",s)}else s.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",s)},function(e){s.fireEvent("create",l.getResErrMsg(e),s)})},recordUpdate:function(e,t,a,i){var n=this,l=e,s=this.findRecord(e,t.uuid);if(s<0)return void l.fireEvent("update","没有找到记录["+t.uuid+"]",l);if(this.compareTo(l.recordSet[s],t))return console.log("数据没有变更"),void l.fireEvent("update","",l);var n=this;this.doUpdateService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(void 0===i||null===i?n.copyValue(e.object,l.recordSet[s]):i(l,l.recordSet[s],e.object),l.fireEvent("update","",l)):l.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",l)},function(e){l.fireEvent("update",n.getResErrMsg(e),l)})},recordDelete:function(e,t,a){console.log(e,t,a);var i=e,n=this.findRecord(e,t);if(n<0)return void i.fireEvent("remove","没有找到记录["+t+"]",i);var l=this;this.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(i.recordSet.splice(n,1),i.totalRow=i.totalRow-1,i.fireEvent("remove","",i)):i.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",i)},function(e){i.fireEvent("remove",l.getResErrMsg(e),i)})},recordDeleteMore:function(e,t,a){var i=e,n=this.findRecord(e,t);if(n<0)return void i.fireEvent("remove","没有找到记录["+t+"]",i);var l=this;this.doRemoveService(a,t).then(function(e){console.log(e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(i.recordSet.splice(n,1),i.fireEvent("remove","",i)):i.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",i)},function(e){i.fireEvent("remove",l.getResErrMsg(e),i)})},recordRetrieve:function(e,t,a,i,n){var s=this,r=new l(function(l,r){s.doRetrieveService(e,t,a,i,n).then(function(e){record?null==e.errCode||""==e.errCode||"000000"==e.errCode?l(e.object):r("处理错误["+e.errCode+"]["+e.errDesc+"]"):r("查询数据时错误")},function(e){r(JSON.stringify(e))})});return r},selModName:"",selectedApp:null,menuMap:{},getAppMenu:function(e){var t=window.sessionStorage.getItem("loadedMenu");if(null===t||void 0===t||""===t)return null;for(var a=!1,i=t.split(","),n=i.length-1;n>=0;n--)if(e===i[n]){a=!0;break}if(!a)return null;var l=this.menuMap[e];if(void 0!==l&&null!==l)return l;var s=window.sessionStorage.getItem("menu."+e);return void 0!==s&&null!==s?(l=JSON.parse(s),this.menuMap[e]=l,this.selModName=e,window.sessionStorage.setItem("activeMenu",e),l):null},setSelectedApp:function(e){if(this.selectedApp=null,"undefined"!=typeof window.loginData){var t=null,a=window.loginData.compUser;if(null===a){var i=window.loginData.authUser;if("admin"!==i.userName)return;t=[{appCode:"MA"}]}else t=a.appAuthList;if(null!==t){"*"===e.charAt(0)&&(e=e.substr(1));for(var n=t.length,l=0;l<n;l++){var s=t[l];if(s.appCode===e){this.selectedApp=s,window.sessionStorage.setItem("activeApp",e);break}}}}},saveAppMenu:function(e,t){void 0!==t&&null!==t||(t=[]);var a={};t.map(function(e,t){a[e.menuPath]=e.roleName}),this.menuMap[e]=a,window.sessionStorage.setItem("menu."+e,JSON.stringify(a));var i=window.sessionStorage.getItem("loadedMenu");i=null===i||void 0===i||""===i?e:i+","+e,window.sessionStorage.setItem("loadedMenu",i)},setActiveMenuName:function(e){this.selModName=e,window.sessionStorage.setItem("activeMenu",e)},checkMenuPriv:function(e){if(null===this.selectedApp){var t=window.sessionStorage.getItem("activeApp");null!==t&&void 0!==t&&this.setSelectedApp(t);var a=window.sessionStorage.getItem("activeMenu");null!==a&&void 0!==a&&this.getAppMenu(a)}if(""===this.selModName)return 1;var i=this.menuMap[this.selModName];if(void 0===i||null===i)return this.checkRole?0:2;var n=i[e];if(void 0===n||null===n)return this.checkRole?0:2;if(n.indexOf("*")>=0)return 1;if(null===this.selectedApp)return this.checkRole?0:2;var l=window.loginData.compUser;if(null===l&&"MA"===this.selectedApp.appCode){var s=window.loginData.authUser;if("admin"===s.userName)return 1}var r=this.selectedApp.roleList;if(null===r||void 0===r)return this.checkRole?0:2;for(var o=r.split(","),d=o.length-1;d>=0;d--){var u=","+o[d]+",";if(n.indexOf(u)>=0)return 1}return this.checkRole?0:2},checkAppPriv:function(e){if("undefined"==typeof window.loginData)return this.checkRole?0:2;var t=window.loginData.compUser;if(null===t){if("MA"===e){var a=window.loginData.authUser;if("admin"===a.userName)return 1}return this.checkRole?0:2}if("*"===e.charAt(0))return 1;if(null!==t.appAuthList)for(var i=t.appAuthList.length,n=0;n<i;n++){var l=t.appAuthList[n];if(l.appCode===e)return 1}return this.checkRole?0:2},downAppMenu:function(e,t){var a=this,i=new l(function(i,n){var l=a.getAppMenu(e);if(l)return a.setSelectedApp(t),a.setActiveMenuName(e),void i(l);var s=a.authUrl+"fnt-app-menu/appName";a.doCreateService(s,e).then(function(l){null==l.errCode||""==l.errCode||"000000"==l.errCode?(a.saveAppMenu(e,l.object),a.setSelectedApp(t),a.setActiveMenuName(e),i(l.object)):n("下载菜单错误["+l.errCode+"]["+l.errDesc+"]")},function(e){n("下载菜单错误")})});return i}}},4:function(e,t,a){e.exports=a(10)(541)},5:function(e,t,a){e.exports=a(10)(1032)},6:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e){var t,a="",i="0123456789ABCDEF";for(t=0;t<=3;t++)a+=i.charAt(e>>8*t+4&15)+i.charAt(e>>8*t&15);return a}function l(e){var t,a=(e.length+8>>6)+1,i=new Array(16*a);for(t=0;t<16*a;t++)i[t]=0;for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<t%4*8;return i[t>>2]|=128<<t%4*8,i[16*a-2]=8*e.length,i}function s(e,t){var a=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(a>>16);return i<<16|65535&a}function r(e,t){return e<<t|e>>>32-t}function o(e,t,a,i,n,l){return s(r(s(s(t,e),s(i,l)),n),a)}function d(e,t,a,i,n,l,s){return o(t&a|~t&i,e,t,n,l,s)}function u(e,t,a,i,n,l,s){return o(t&i|a&~i,e,t,n,l,s)}function c(e,t,a,i,n,l,s){return o(t^a^i,e,t,n,l,s)}function m(e,t,a,i,n,l,s){return o(a^(t|~i),e,t,n,l,s)}function h(){this.regDate3=/^[1-2]\d{6,7}$/,this.regEmail=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,this.regPhone=/^((\(\d{1,5}\))|(\d{1,5}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?$/,this.regPhones=/^(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?([,|;](\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?)*$/,this.regMobile=/^((\(\d{3}\))|(\d{3}\-))?1[34578]\d{9}$/,this.regUrl=/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,this.className=/^([_a-z0-9]+\.)*[A-Z][_A-Za-z0-9]+$/,this.regIdCard15=/^\d{15}(\d{2}[A-Za-z0-9])?$/,this.regIdCard18=/^\d{17}(?:\d|x|X)$/,this.regMoney=/^[-\+]?\d+(\.\d{0,2})?$/,this.regNumber=/^\d+$/,this.regZip=/^[0-9]\d{5}$/,this.regQQ=/^[1-9]\d{3,9}$/,this.regInteger=/^[-\+]?\d+$/,this.regDouble=/^[-\+]?\d+(\.\d+)?$/,this.regEnglish=/^[A-Za-z]+$/,this.regEnglish2=/^[A-Za-z\s]+$/,this.regChinese=/^[\u0391-\uFFE5]+$/,this.regUnSafe=/^(([A-Z]*|[a-z]*|\d*|[-_\~!@#\$%\^&\*\.\(\)\[\]\{\}<>\?\\\/\'\"]*)|.{0,5})$|\s/,this.regNotChar=/^[^`~!@#$%^&*()+=|\\\][\]\{\}:;'\,.<>\/?]{1}[^`~!@$%^&()+=|\\\][\]\{\}:;'\,.<>?]{0,19}$/,this.regChar=/[(\/)(\\)(')(")(<)(>)]/g}function p(e,t,a){var i=/^\d+$/;if(4!=e.length||0==e)return!1;if(!i.test(e))return!1;var n=parseInt(e)%4==0&&parseInt(e)%100!=0||parseInt(e)%400==0;if(!t||0==t)return!1;if(!i.test(t))return!1;var l=parseInt(t,10);if(l>12)return!1;if(!a||0==a)return!1;if(!i.test(a))return!1;var s=[29,31,28,31,30,31,30,31,31,30,31,30,31];return 2==l&&n&&(l=0),!(a>s[l])}function f(e,t){if(e.length!=t.length)return"请按格式【"+t+"】输入日期";for(var a="",i="",n="",l=e.split(""),s=t.split(""),r=l.length,o=0;o<r;o++)if("y"===s[o])a+=l[o];else if("m"===s[o])i+=l[o];else if("d"===s[o])n+=l[o];else if(s[o]!==l[o])return"请按格式【"+t+"】输入日期";return 0==p(a,i,n)?"请输入正确的日期!":""}function g(e){var t=18==e.length?h.regIdCard18:h.regIdCard15;if(0==t.test(e))return"请输入有效的身份证号码!";var a="",i="",n="";if(18==e.length?(a=e.substr(6,4),i=e.substr(10,2),n=e.substr(12,2)):15==e.length&&(a="19"+e.substr(6,2),i=e.substr(8,2),n=e.substr(10,2)),0==p(a,i,n))return"日期的取值范围不正确!";var l=v(e);return null!=l?"请输入有效的身份证号码!":void 0}function v(e){if(18!=e.length)return null;var t=y(e),a=e.substring(17).toUpperCase();return t!=a?t:null}function y(e){for(var t="1,0,X,9,8,7,6,5,4,3,2".split(","),a="7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2".split(","),i=0,n=0;n<17;n++)i+=parseInt(e.substring(n,n+1))*a[n];var l=i%11,s=t[l];return s}function S(e,t){if(t.length>6){var a=t.substr(0,5);if("date:"===a||"date："===a){var i=t.substr(5);return f(e,i)}}if("idcard18"===t){if(18!==e.length)return"请输入18位身份证号码"}else if("idcard"===t&&18!==e.length&&15!==e.length)return"请输入身份证号码";for(var n=P.length-1;n>=0;n--){var l=P[n];if(l.type==t)return l.isValid(e)}return"未知的数据类型["+t+"]"}function b(e){var t,a=348;for(t=32768;t>8;t>>=1)a+=I[e-1900]&t?1:0;return a+C(e)}function C(e){return E(e)?65536&I[e-1900]?30:29:0}function E(e){return 15&I[e-1900]}function w(e,t){return I[e-1900]&65536>>t?30:29}function x(e,t,a){var i,n=0,l=0,s=(Date.UTC(e,t,a)-Date.UTC(1900,0,31))/864e5;for(this.dayCyl=s+40,this.monCyl=14,i=1900;i<2050&&s>0;i++)l=b(i),s-=l,this.monCyl+=12;for(s<0&&(s+=l,i--,this.monCyl-=12),this.year=i,this.yearCyl=i-1864,n=E(i),this.isLeap=!1,i=1;i<13&&s>0;i++)n>0&&i==n+1&&0==this.isLeap?(--i,this.isLeap=!0,l=C(this.year)):l=w(this.year,i),1==this.isLeap&&i==n+1&&(this.isLeap=!1),s-=l,0==this.isLeap&&this.monCyl++;0==s&&n>0&&i==n+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--i,--this.monCyl)),s<0&&(s+=l,--i,--this.monCyl),this.month=i,this.day=s+1}var k=a(2),L=i(k),N=a(4),B=N.Tree.TreeNode,D=(a(17),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);e.exports={eMailList:["icerno.com","opssino.com","gmail.com","163.com","qq.com","sina.com","sina.com.cn"],initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}},check:function(e,t,a){var i=""===t||null===t||"undefined"==typeof t;if(e.required===!0&&i)return"请输入【"+e.desc+"】";if(i)return"";if(e.max>0&&t.length>e.max)return"【"+e.desc+"】最多输入【"+e.max+"】个字符";if(e.min>0&&t.length<e.min)return"【"+e.desc+"】至少输入【"+e.max+"】个字符";if(""!==e.dataType&&null!==e.dataType&&"undefined"!=typeof e.dataType){var n=S(t,e.dataType);if(""!==n&&null!==n&&"undefined"!=typeof n)return n}if(null!==e.pattern&&"undefined"!=typeof e.pattern&&0==e.pattern.test(t))return""===e.patternPrompt||null===e.patternPrompt||"undefined"==typeof e.patternPrompt?"请输入正确的内容!":e.patternPrompt;if(""!==e.validator&&null!==e.validator&&"undefined"!=typeof e.validator){var n=e.validator(t,e,a);if(""!==n&&null!==n&&"undefined"!=typeof n)return n}return""},checkDataType:function(e,t){return S(e,t)},setError:function(e,t,a){""===a||null===a||"undefined"==typeof a?(e.state.hints[t+"Status"]="",e.state.hints[t+"Hint"]=""):(e.state.hints[t+"Status"]="error",e.state.hints[t+"Hint"]=L.default.createElement("span",{className:"errorHint"},a))},validator:function(e,t,a){var i=this,n=e.state.validRules;if(0===n.length)return!0;var l=!0;if(""===a||null===a||"undefined"==typeof a)e.state.hints={},n.map(function(a,n){var s=t[a.id];a.whitespace||null==s||(s=s.replace(/(^\s*)|(\s*$)/g,""),t[a.id]=s);var r=i.check(a,s,e);""!==r&&(i.setError(e,a.id,r),l=!1)});else for(var s=n.length-1;s>=0;s--){var r=n[s];if(r.id===a){var o=t[a],d=this.check(r,o,e);this.setError(e,a,d),""!==d?l=!1:"number"===r.dataType&&""!==o&&(t[a]=""+parseInt(o));break}}return l},formValidator:function(e,t){var a=this.validator(e,t);if(!a){var i=e.state.hints;e.setState({hints:i})}return a},formatDate:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{6,7}$/;if(!a.test(e))return e;var i=e.substr(0,4),n=e.substr(4,2),l=e.substr(6,2);1==l.length&&(l="0"+l);var s=D[parseInt("1"+n)-101],r=t;return r=r.replace(/YYYY/g,i),r=r.replace(/YY/g,i.substring(2)),r=r.replace(/MM/g,n),r=r.replace(/MON/g,s),r=r.replace(/DD/g,l)},formatMonth:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{5}$/;if(!a.test(e))return e;var i=e.substr(0,4),n=e.substr(4,2),l=D[parseInt("1"+n)-101],s=t;return s=s.replace(/YYYY/g,i),s=s.replace(/YY/g,i.substring(2)),s=s.replace(/MM/g,n),s=s.replace(/MON/g,l)},getToday:function(){var e=new Date;return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()},getMonth:function(){var e=new Date;return 100*e.getFullYear()+(e.getMonth()+1)},getLunar:function(e,t,a){var i=new x(e,t-1,a),a=""+(100*i.month+i.day);return i.month<10&&(a="0"+a),a},timeDiff:function(e,t){var a=e.substr(0,2)+":"+e.substr(2,2),i=t.substr(0,2)+":"+t.substr(2,2),a=new Date("2017/6/16 "+a).getTime(),i=new Date("2017/6/16 "+i).getTime(),n=i-a,l=n/1e3/60;return{h:Math.floor(l/60),m:l%60,dm:l}},timeDiff2:function(e,t){var a=new Date("2017/6/16 "+e).getTime(),i=new Date("2017/6/16 "+t).getTime(),n=i-a,l=n/1e3/60;return{h:Math.floor(l/60),m:l%60,dm:l}},initTreeNodes:function(e,t){var a=this,i=[],n={};e.map(function(l,s){var r=t(l,e);i.push(r),n[r.key]=r,r.children=[],a.initTreeNode(r,l)}),i.map(function(e,t){""!==e.pid&&(e.pNode=n[e.pid],"undefined"==typeof e.pNode&&(e.pNode=null),null!==e.pNode&&e.pNode.children.push(e))});var l=[],s=[];if(i.map(function(e,t){null===e.pNode&&(""!==e.pid?s.push(e):l.push(e))}),s.length>0){var r={key:"__unknow",pid:"",title:"未关联节点",disableCheckbox:!0,disabled:!1,pNode:null,children:s,object:null};l.push(r),s.map(function(e,t){e.pNode=r})}return i.map(function(e,t){e.isLeaf=0===e.children.length,e.isLeaf&&(e.children=null)}),l},initTreeNodes2:function(e,t,a,i){var n=this;if(0===e.length)return[];var l=[],s={};e.map(function(e,a){var i=t(e);l.push(i),s[i.key]=i,i.children=[],n.initTreeNode(i,e)});var r=[];return a.map(function(e,t){var a=i(e);r.push(a),a.children=null,n.initTreeNode(a,e),a.pNode=s[a.pid],"undefined"==typeof a.pNode&&(a.pNode=null),null!==a.pNode&&a.pNode.children.push(a)}),l},initTreeNodes3:function(e,t,a){var i=this;if(0===e.length)return[];var n=[],l={};return e.map(function(s,r){var o=a(s,e),d=l[o.pid];null!==d&&"undefined"!=typeof d||(d=t(s,e),d.children=[],i.initTreeNode(d,null),n.push(d),l[d.key]=d),i.initTreeNode(o,s),o.pNode=d,o.children=null,d.children.push(o)}),n},initTreeNode:function(e,t){e.object=t,e.pNode=null,null!==e.pid&&"undefined"!=typeof e.pid||(e.pid=""),null!==e.disabled&&"undefined"!=typeof e.disabled||(e.disabled=!1),null!==e.disableCheckbox&&"undefined"!=typeof e.disableCheckbox||(e.disableCheckbox=!1)},prepareTreeNodes:function(e){var t=this;return e.isLeaf||null==e.children?L.default.createElement(B,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf}):L.default.createElement(B,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf},e.children.map(function(e,a){return t.prepareTreeNodes(e)}))},getCardMargin:function(e,t){var a=0===t?0:t>1?t:58,i=e.refs.mxgBox;if(null!==i&&"undefined"!=typeof i)for(var n=i.state.hints,l=n.length,s=0;s<l;s++)if(""!==n[s]){a+=26;break}var r={};return r.padding=a+"px 0 0 0",r.margin="-"+a+"px 0 0 0",r},getGridMargin:function(e,t){var a=0===t?0:t>1?t:58,i=e.refs.mxgBox;if(null!==i&&"undefined"!=typeof i)for(var n=i.state.hints,l=n.length,s=0;s<l;s++)if(""!==n[s]){a+=26;break}var r={};return r.padding=a+"px 0 0 0",r.margin="-"+a+"px 0 0 0",r},calcMD5:function(e){var t,a=l(e),i=1732584193,r=-271733879,o=-1732584194,h=271733878;for(t=0;t<a.length;t+=16){var p=i,f=r,g=o,v=h;i=d(i,r,o,h,a[t+0],7,-680876936),h=d(h,i,r,o,a[t+1],12,-389564586),o=d(o,h,i,r,a[t+2],17,606105819),r=d(r,o,h,i,a[t+3],22,-1044525330),i=d(i,r,o,h,a[t+4],7,-176418897),h=d(h,i,r,o,a[t+5],12,1200080426),o=d(o,h,i,r,a[t+6],17,-1473231341),r=d(r,o,h,i,a[t+7],22,-45705983),i=d(i,r,o,h,a[t+8],7,1770035416),h=d(h,i,r,o,a[t+9],12,-1958414417),o=d(o,h,i,r,a[t+10],17,-42063),r=d(r,o,h,i,a[t+11],22,-1990404162),i=d(i,r,o,h,a[t+12],7,1804603682),h=d(h,i,r,o,a[t+13],12,-40341101),o=d(o,h,i,r,a[t+14],17,-1502002290),r=d(r,o,h,i,a[t+15],22,1236535329),i=u(i,r,o,h,a[t+1],5,-165796510),h=u(h,i,r,o,a[t+6],9,-1069501632),o=u(o,h,i,r,a[t+11],14,643717713),r=u(r,o,h,i,a[t+0],20,-373897302),i=u(i,r,o,h,a[t+5],5,-701558691),h=u(h,i,r,o,a[t+10],9,38016083),o=u(o,h,i,r,a[t+15],14,-660478335),r=u(r,o,h,i,a[t+4],20,-405537848),i=u(i,r,o,h,a[t+9],5,568446438),h=u(h,i,r,o,a[t+14],9,-1019803690),o=u(o,h,i,r,a[t+3],14,-187363961),r=u(r,o,h,i,a[t+8],20,1163531501),i=u(i,r,o,h,a[t+13],5,-1444681467),h=u(h,i,r,o,a[t+2],9,-51403784),o=u(o,h,i,r,a[t+7],14,1735328473),r=u(r,o,h,i,a[t+12],20,-1926607734),i=c(i,r,o,h,a[t+5],4,-378558),h=c(h,i,r,o,a[t+8],11,-2022574463),o=c(o,h,i,r,a[t+11],16,1839030562),r=c(r,o,h,i,a[t+14],23,-35309556),i=c(i,r,o,h,a[t+1],4,-1530992060),h=c(h,i,r,o,a[t+4],11,1272893353),o=c(o,h,i,r,a[t+7],16,-155497632),r=c(r,o,h,i,a[t+10],23,-1094730640),i=c(i,r,o,h,a[t+13],4,681279174),h=c(h,i,r,o,a[t+0],11,-358537222),o=c(o,h,i,r,a[t+3],16,-722521979),r=c(r,o,h,i,a[t+6],23,76029189),i=c(i,r,o,h,a[t+9],4,-640364487),h=c(h,i,r,o,a[t+12],11,-421815835),o=c(o,h,i,r,a[t+15],16,530742520),r=c(r,o,h,i,a[t+2],23,-995338651),i=m(i,r,o,h,a[t+0],6,-198630844),h=m(h,i,r,o,a[t+7],10,1126891415),o=m(o,h,i,r,a[t+14],15,-1416354905),r=m(r,o,h,i,a[t+5],21,-57434055),i=m(i,r,o,h,a[t+12],6,1700485571),h=m(h,i,r,o,a[t+3],10,-1894986606),o=m(o,h,i,r,a[t+10],15,-1051523),r=m(r,o,h,i,a[t+1],21,-2054922799),i=m(i,r,o,h,a[t+8],6,1873313359),h=m(h,i,r,o,a[t+15],10,-30611744),o=m(o,h,i,r,a[t+6],15,-1560198380),r=m(r,o,h,i,a[t+13],21,1309151649),i=m(i,r,o,h,a[t+4],6,-145523070),h=m(h,i,r,o,a[t+11],10,-1120210379),o=m(o,h,i,r,a[t+2],15,718787259),r=m(r,o,h,i,a[t+9],21,-343485551),i=s(i,p),r=s(r,f),o=s(o,g),h=s(h,v)}return n(i)+n(r)+n(o)+n(h)},strSort:function(e,t){return e.localeCompare(t)},isMatched:function(e,t){for(var a in e)try{var i=e[a];if(null!==i&&"string"==typeof i&&i.indexOf(t)>=0)return!0}catch(e){}return!1},filter:function(e,t){var a=this;if(null===t||"undefined"==typeof t||""===t)return e;var i=[];return e.map(function(e,n){a.isMatched(e,t)&&i.push(e)}),i},sortTable:function(e,t,a){var i=null;return i=a?function(e,a){var i=e[t],n=a[t];return n.localeCompare(i)}:function(e,a){var i=e[t],n=a[t];return i.localeCompare(n)},e.sort(i)},isIncNumber:function(e){if(null===e||""===e)return!1;for(var t=e.length-1;t>=0;t--){var a=e.charAt(t);if(a>="0"&&a<="9")return!0}return!1},infoMsg:function(e){N.Modal.info({title:"提示",content:e})},succMsg:function(e){N.Modal.success({title:"成功",content:e})},errMsg:function(e){N.Modal.error({title:"错误",content:e})},warnMsg:function(e){N.Modal.warning({title:"警告",content:e})}};var h=new h,P=[{type:"int",isValid:function(e){if(0==h.regInteger.test(e))return"请输入整数!"}},{type:"double",isValid:function(e){if(0==h.regDouble.test(e))return"请输入Double数据，比如：55.069!"}},{type:"money",isValid:function(e){if(0==h.regMoney.test(e))return"请输入金额，比如：2355.00!"}},{type:"email",isValid:function(e){if(0==h.regEmail.test(e))return"请输入电子邮件地址!"}},{type:"idcard",isValid:g},{type:"idcard18",isValid:g},{type:"phone",isValid:function(e){if(0==h.regPhone.test(e))return"请输入电话号码!"}},{type:"phones",isValid:function(e){if(0==h.regPhones.test(e))return"请输入电话号码，[,]分割!"}},{type:"mobile",isValid:function(e){if(0==h.regMobile.test(e))return"请输入手机号码!"}},{type:"zip",isValid:function(e){if(0==h.regZip.test(e))return"请输入六位数字的邮政编码!"}},{type:"url",isValid:function(e){if(0==h.regUrl.test(e.toLowerCase()))return"请输入HTTP地址!"}},{type:"classname",isValid:function(e){if(0==h.className.test(e))return"请输入有效的类名称!"}},{type:"qq",isValid:function(e){if(0==h.regQQ.test(e))return"请输入QQ号!"}},{type:"number",isValid:function(e){if(0==h.regNumber.test(e))return"请输入数字!"}},{type:"汉字",isValid:function(e){if(0==h.regChinese.test(e))return"请输入汉字!"}},{type:"字母",isValid:function(e){if(0==h.regEnglish2.test(e))return"请输入字母或空格!"}}],I=new Array(19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835)},7:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s=a(5),r=(i(s),a(1)),o=(a(11),a(34)),d={svcList:l.default.PropTypes.array},u=l.default.createClass({displayName:"ServiceMsg",getInitialState:function(){return{svcMsg:{resName:"",operation:"",errMsg:""},hints:[]}},mixins:[r.listenTo(o,"onServiceComplete")],onServiceComplete:function(e){e.errMsg.indexOf("[AUTH09]")>=0&&window.sessionStorage.removeItem("loginData"),this.setState({svcMsg:e})},componentDidMount:function(){this.clear()},clear:function(){this.state.hints=[];for(var e=this.props.svcList.length,t=0;t<e;t++)this.state.hints.push("")},showError:function(e){var t=this.state.hints,a=t.length;a>0&&(t[0]=e),this.setState({hints:t})},onClose:function(){for(var e=this.state.hints,t=e.length,a=0;a<t;a++)e[a]="";this.setState({hints:e})},render:function(){var e=this.state.svcMsg;if(null!=e&&null!==e.operation&&""!==e.operation){for(var t=e.resName+"/"+e.operation,a=this.props.svcList.length,i=0;i<a;i++)if(this.props.svcList[i]===t){this.state.hints[i]=e.errMsg;break}this.state.svcMsg=null}for(var n="",a=this.state.hints.length,i=0;i<a&&(n=this.state.hints[i],null===n||""===n);i++);return""===n?null:l.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},l.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),l.default.createElement("span",{className:"ant-alert-message"},n),l.default.createElement("span",{className:"ant-alert-description"}),l.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},l.default.createElement("i",{className:"anticon anticon-cross"})))}});u.propTypes=d,e.exports=u},8:function(e,t,a){e.exports=a(10)(12)},9:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=(i(n),a(65)),s=i(l),r=a(6);e.exports=function(e,t){return{toggle:function(){this.beforeClose&&this.state.modal&&this.beforeClose(),this.setState({modal:!this.state.modal})},formatDate:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,s.default)(e,"YYYYMMDD"):""},formatMonth:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,s.default)(e,"YYYYMM"):""},handleOnChange:function(a){var i=this.state[e];i[a.target.id]=a.target.value;var n=!0;t!==!0&&(n=r.validator(this,i,a.target.id)),n&&this.state.afterChange&&this.state.afterChange(a.target.id,a.target.value),this.setState({loading:this.state.loading})},onRadioChange:function(a){var i=this.state[e],n=""+a.target.value;i[a.target.id]=n;var l=!0;t!==!0&&(l=r.validator(this,i,a.target.id)),l&&this.state.afterChange&&this.state.afterChange(a.target.id,n),this.setState({loading:this.state.loading})},handleCheckBox:function(a){var i=this.state[e],n=a.target.checked?"1":"0";i[a.target.id]=n;var l=!0;t!==!0&&(l=r.validator(this,i,a.target.id)),l&&this.state.afterChange&&this.state.afterChange(a.target.id,n),this.setState({loading:this.state.loading})},handleOnSelected:function(a,i){var n=this.state[e];n[a]=i;var l=!0;t!==!0&&(l=r.validator(this,n,a)),l&&this.state.afterChange&&this.state.afterChange(a,i),this.setState({loading:this.state.loading})},handleOnSelDate:function(a,i,n,l){if(null==l||0==l.length)l="";else{
if(l.length!=i.length)return;for(var s="",o="",d="",u=l.split(""),c=i.split(""),m=u.length,h=0;h<m;h++)if("Y"===c[h])s+=u[h];else if("M"===c[h])o+=u[h];else if("D"===c[h])d+=u[h];else if(c[h]!==u[h])return void console.log("日期错误",a,monthFormat,monthString);l=s+o+d}var p=this.state[e];p[a]=l;var f=!0;t!==!0&&(f=r.validator(this,p,a)),f&&this.state.afterChange&&this.state.afterChange(a,l),this.setState({loading:this.state.loading})},handleOnSelMonth:function(a,i,n,l){if(null==l||0==l.length)l="";else{if(l.length!=i.length)return;for(var s="",o="",d=l.split(""),u=i.split(""),c=d.length,m=0;m<c;m++)if("Y"===u[m])s+=d[m];else if("M"===u[m])o+=d[m];else if(u[m]!==d[m])return void console.log("日期错误",a,i,l);l=s+o}var h=this.state[e];h[a]=l;var p=!0;t!==!0&&(p=r.validator(this,h,a)),p&&this.state.afterChange&&this.state.afterChange(a,l),this.setState({loading:this.state.loading})}}}},10:function(e,t){e.exports=react_lz},11:function(e,t,a){"use strict";var i=a(1),n=i.createActions(["showError"]);e.exports=n},12:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s=a(2),r=i(s),o=a(4),d=a(3),u=o.Select.Option,c=r.default.createClass({displayName:"DictSelect",getInitialState:function(){return{opts:[],loading:!1}},showOptions:function(e){var t=e.codeData;null!==t&&"undefined"!=typeof t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props,t=e.appName,a=e.optName;this.state.loading=!0,d.loadOptions(t,a,this.showOptions)},selectMultiValue:function(e){if(this.props.onSelect){var t=this.props.value,a=t?t.split(","):[];a.push(e),t=a.join(","),this.props.onSelect(t)}},deselectMultiValue:function(e){if(this.props.onSelect){for(var t=this.props.value,a=t?t.split(","):[],i=0;i<a.length;i++)if(a[i]===e){a.splice(i,1);break}t=a.join(","),this.props.onSelect(t)}},render:function(){var e,t=this.props,a=(t.appName,t.optName,t.showCode),i=t.required,s=t.mode,d=t.onSelect,c=t.value,m=n(t,["appName","optName","showCode","required","mode","onSelect","value"]);e=a?this.state.opts.map(function(e,t){return r.default.createElement(u,{key:e.codeValue,value:e.codeValue},e.codeValue,"-",e.codeDesc)}):this.state.opts.map(function(e,t){return r.default.createElement(u,{key:e.codeValue,value:e.codeValue},e.codeDesc)});var h;if("multiple"===s){var p=c?c.split(","):[];h=r.default.createElement(o.Select,l({mode:"multiple",value:p,onSelect:this.selectMultiValue,onDeselect:this.deselectMultiValue},m),e)}else h=i?r.default.createElement(o.Select,l({value:c,onSelect:d},m),e):r.default.createElement(o.Select,l({value:c,onSelect:d},m),r.default.createElement(u,{value:""},"--"),e);return this.state.loading?r.default.createElement(o.Spin,null,h):h}});t.default=c},13:function(e,t,a){e.exports=a(10)(1049)},17:function(e,t,a){e.exports=a(10)(785)},18:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s={toggle:l.default.PropTypes.func,message:l.default.PropTypes.string},r=l.default.createClass({displayName:"ErrorMsg",getInitialState:function(){return{}},onClose:function(e){this.props.toggle()},render:function(){return""===this.props.message?null:l.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},l.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),l.default.createElement("span",{className:"ant-alert-message"},this.props.message),l.default.createElement("span",{className:"ant-alert-description"}),"undefined"!=typeof this.props.toggle?l.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},l.default.createElement("i",{className:"anticon anticon-cross"})):"")}});r.propTypes=s,e.exports=r},22:function(e,t,a){"use strict";var i=a(17),n=a(6),l=a(3);e.exports={loadContext:function(){var e=window.sessionStorage.getItem("loginData");if(null!==e&&"undefined"!=typeof e){var t=window.sessionStorage.getItem("utilConf"),a=window.sessionStorage.getItem("commonConf");if(null!==t&&"undefined"!=typeof t&&null!==a&&"undefined"!=typeof a){var i=JSON.parse(t),s=JSON.parse(a);return l.initConf(i),n.initConf(s),window.loginData=JSON.parse(e),!0}}return!1},downConfig:function(e){var t=e,a="/config.js",s=window.location.href;s.startsWith("https:")&&(a="/config-s.js"),t.setState({loading:!0}),i.getScript(a,function(){l.initConf(utilConf),n.initConf(commonConf),window.sessionStorage.setItem("utilConf",JSON.stringify(utilConf)),window.sessionStorage.setItem("commonConf",JSON.stringify(commonConf)),"单公司"!==n.corpStruct&&t.onConfigLoaded(),t.setState({loading:!1})})},saveLoginData:function(e,t){try{for(var a=null,i=e.compUser.length,n=0;n<i;n++)if(e.compUser[n].corpUuid===t){a=e.compUser[n];break}e.compUser=a,console.log(e),window.loginData=e,window.sessionStorage.setItem("loginData",JSON.stringify(e))}catch(e){console.log(e)}try{window.sessionStorage.setItem("loadedMenu","")}catch(e){console.log(e)}}}},23:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s=a(13),r=a(4),o=(r.Layout.Header,r.Layout.Content,r.Layout.Footer,r.Layout.Sider),d=r.Menu.SubMenu,u=a(3),c={children:l.default.PropTypes.node,navItems:l.default.PropTypes.array,activeNode:l.default.PropTypes.string},m=l.default.createClass({displayName:"LeftMenu",getInitialState:function(){return{collapsed:!1,mode:"inline"}},onCollapse:function(e){this.setState({collapsed:e,mode:e?"vertical":"inline"})},handleClick:function(e){var t=e.key,a="",i=t.indexOf("?");i>0&&(a=t.substring(1+i),t=t.substring(0,i));var n={fromDashboard:!0};if(""!==a){var l=a.split("&");l.map(function(e,t){if(i=e.indexOf("="),i>0){var a=e.substring(0,i),l=e.substring(1+i);n[a]=l}})}s.browserHistory.push({pathname:t,query:n})},render:function(){var e=[],t=this.props.activeNode;return"undefined"!=typeof t&&this.props.navItems.map(function(a,i){"undefined"!=typeof a.childItems&&a.childItems.map(function(i,n){t===i.to&&e.push(a.to)})}),l.default.createElement(r.Layout,{style:{backgroundColor:"#fefefe",height:"100%"}},l.default.createElement(o,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,className:"left-side"},l.default.createElement(r.Menu,{theme:"light",mode:this.state.mode,defaultOpenKeys:e,defaultSelectedKeys:[t],onClick:this.handleClick,className:"left-side"},this.props.navItems.map(function(e,t){var a="rgba(0,0,0,.65)",i=u.checkMenuPriv(e.to);if(2===i)a="red";else if(0===i)return null;if("undefined"==typeof e.childItems){var n="file";return"undefined"!=typeof e.icon&&(n=e.icon),l.default.createElement(r.Menu.Item,{key:e.to},l.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},l.default.createElement(r.Icon,{type:n}),l.default.createElement("span",null,e.name)))}var n="setting";"undefined"!=typeof e.icon&&(n=e.icon);var s=[];return e.childItems.map(function(e,t){var a="rgba(0,0,0,.65)",i=u.checkMenuPriv(e.to);2===i&&(a="red");var n="file";"undefined"!=typeof e.icon&&(n=e.icon),s.push(l.default.createElement(r.Menu.Item,{key:e.to},l.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},l.default.createElement(r.Icon,{type:n}),l.default.createElement("span",null,e.name))))}),0===s.length?null:l.default.createElement(d,{key:e.to,title:l.default.createElement("span",{style:{color:a}},l.default.createElement(r.Icon,{type:n}),l.default.createElement("span",null,e.name))},s)}))),l.default.createElement("div",{style:{height:"100%",width:"100%",overflowX:"hidden"}},this.props.children))}});m.propTypes=c,e.exports=m},24:function(e,t,a){"use strict";var i=a(1),n=i.createActions([{findName:{sync:!0}}]);e.exports=n},26:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=(i(n),a(17),a(3));e.exports=function(){return{getInitialState:function(){return{__actionName:"",__upUrl:"",__xlsFields:[],__xlsOptList:[],__xlsData:{},__xlsFile:null,__callback:null}},downXlsTempFile:function(e){var t=this;this.state.__actionName="down",this.state.__upUrl="",this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData={},this.state.__xlsFile=null,this.state.__callback=null,e.map(function(e,a){var i=e.opts;if(void 0===i){var n={};l.copyValue(e,n),t.state.__xlsFields.push(n)}else t._addXlsField(e,t)}),this._doDownTempFile()},downXlsTempFile2:function(e,t,a){var i=this;this.state.__actionName="down2",this.state.__upUrl="",this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData=JSON.stringify(t),this.state.__xlsFile=null,this.state.__callback=a,e.map(function(e,t){var a=e.opts;if(void 0===a){var n={};l.copyValue(e,n),i.state.__xlsFields.push(n)}else i._addXlsField(e,i)}),this._doDownTempFile()},uploadXlsFile:function(e,t,a,i,n){var s=this;this.state.__actionName="up",this.state.__upUrl=e,this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData=t,this.state.__xlsFile=i,this.state.__callback=n,a.map(function(e,t){var a=e.opts;if(void 0===a){var i={};l.copyValue(e,i),s.state.__xlsFields.push(i)}else s._addXlsField(e,s)}),this._doUploadFile()},_addXlsField:function(e,t){var a={};a.id=e.id,a.name=e.name,a.title=e.title;var i=e.opts;if("#"!==i.charAt(0))return a.opts=i,void t.state.__xlsFields.push(a);i=i.substr(1);var n=i.indexOf(".");if(n<=0)return void t.state.__xlsFields.push(a);var s=i.substr(0,n),r=i.substr(1+n),o=l.loadOptions(s,r,t._onGetOptions);if(void 0!==o){var d=[];return o.codeData.map(function(e,t){d.push(e.codeValue+"="+e.codeDesc)}),a.opts=d.join(","),void t.state.__xlsFields.push(a)}t.state.__xlsFields.push(a);var u={name:r,field:a};t.state.__xlsOptList.push(u)},_onGetOptions:function(e,t){if(void 0!==t){var a=[];"down"===this.state.__actionName?e.codeData.map(function(e,t){a.push(e.codeDesc)}):"up"===this.state.__actionName&&e.codeData.map(function(e,t){a.push(e.codeValue+"="+e.codeDesc)});var i=!1,n=this.state.__xlsOptList;if(n.map(function(e,n){e.name===t&&null!==e.field&&(i=!0,e.field.opts=a.join(","),e.field=null)}),i){var l=this.state.__actionName;"down"===l||"down2"===l?this._doDownTempFile():"up"===l&&this._doUploadFile()}}},_doDownTempFile:function(){for(var e=this.state.__xlsOptList,t=e.length,a=0;a<t;a++)if(null!==e[a].field)return;var i=JSON.stringify(this.state.__xlsFields);if("down2"===this.state.__actionName)this.state.__callback.downFile(i,this.state.__xlsData);else{var n=l.paramUrl+"xlsx-file/down-temp?param="+encodeURI(i);if(void 0!==window.loginData){var s=window.loginData.compUser;null!==s&&""!==s.corpUuid&&void 0!==s.corpUuid&&(n=n+"&corp="+s.corpUuid)}window.location.href=n}},_doUploadFile:function(){for(var e=this.state.__xlsOptList,t=e.length,a=0;a<t;a++)if(null!==e[a].field)return void console.log("optList[i].field",e[a].field);var i={data:this.state.__xlsData,fields:this.state.__xlsFields},n=this.state.__upUrl,s=[this.state.__xlsFile],r=this.state.__callback;l.doUploadService(n,i,s).then(function(e){var t="",a=null;null==e.errCode||""==e.errCode||"000000"==e.errCode?a=e.object:t="导入数据错误["+e.errCode+"]["+e.errDesc+"]",void 0!==r&&null!==r&&r(t,a)},function(e){var t="上传文件错误";void 0!==r&&null!==r&&r(t,null)})}}}},27:function(e,t,a){"use strict";var i=a(1),n=i.createActions(["retrieveCompUser","initCompUser"]);e.exports=n},28:function(e,t,a){e.exports=a(10)(1025)},29:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);return a}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s=a(2),r=i(s),o=a(5),d=(i(o),a(4)),u=a(1),c=d.Select.Option,m=a(35),h=a(27),p=r.default.createClass({displayName:"CompSelect",getInitialState:function(){return{compSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[u.listenTo(m,"onServiceComplete")],onServiceComplete:function(e){this.state.compSet=e,this.setState({loading:!1});var t=this.props.value,a=e.recordSet;if("retrieve"===e.operation&&""===e.errMsg&&a.length>0){var i=window.localStorage.corpUuid;t=void 0===i||""===i?a[0].corpUuid:i,this.props.onLoaded(t)}},loadCorps:function(){void 0!==localStorage.corpUuid&&""!==localStorage.corpUuid&&void 0!==localStorage.userName&&""!==localStorage.userName&&"retrieve"!==this.state.compSet.operation&&(this.setState({loading:!0}),h.initCompUser(localStorage.userName))},loadData:function(e){this.setState({compSet:{recordSet:[],operation:"",errMsg:""},loading:!0}),h.initCompUser(e)},render:function(){var e=this.props,t=e.value,a=n(e,["value"]),i=t,s=this.state.compSet.recordSet,o=(window.localStorage,s.map(function(e,t){return r.default.createElement(c,{key:e.corpUuid,value:e.corpUuid},e.compName)}));o.push(r.default.createElement(c,{key:"#",value:"#"},"个人用户"));var u=null===i||""===i?r.default.createElement(d.Select,l({},a,{placeholder:"选择用户登入的身份"}),o):r.default.createElement(d.Select,l({},a,{value:i}),o);return this.state.loading?r.default.createElement(d.Spin,null,u):u}});e.exports=p},33:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s=a(28),r=i(s),o=a(13),d=a(4),u=d.Layout.Header,c=d.Layout.Content,m=(d.Layout.Footer,a(22)),h=a(3),p={children:l.default.PropTypes.node,navItems:l.default.PropTypes.array,activeNode:l.default.PropTypes.string,offsetLeft:l.default.PropTypes.string,home:l.default.PropTypes.string},f=l.default.createClass({displayName:"TopBar",getInitialState:function(){return null},goHome:function(e){var t=this.props.home;null!==t&&"undefined"!=typeof t||(t="/main/DeskPage/"),h.setActiveMenuName(""),"@"===t.charAt(0)?document.location.href=t.substr(1):o.browserHistory.push({pathname:t})},handleMenuClick:function(e){"1"===e.key?o.browserHistory.push({pathname:"/main/passwd/"}):"2"===e.key?document.location.href="/index.html":console.log("handleMenuClick",e)},handleClick:function(e){var t=e.key,a="",i=t.indexOf("?");i>0&&(a=t.substring(1+i),t=t.substring(0,i));var n={fromDashboard:!0};if(""!==a){var l=a.split("&");l.map(function(e,t){if(i=e.indexOf("="),i>0){var a=e.substring(0,i),l=e.substring(1+i);n[a]=l}})}o.browserHistory.push({pathname:t,query:n})},render:function(){if((null===window.loginData||"undefined"==typeof window.loginData)&&!m.loadContext())return o.browserHistory.push({pathname:"/index.html"}),null;var e=l.default.createElement(d.Menu,{onClick:this.handleMenuClick},l.default.createElement(d.Menu.Item,{key:"1"},"修改密码"),l.default.createElement(d.Menu.Item,{key:"2"},"用户签退")),t=this.props.offsetLeft;null!==t&&"undefined"!=typeof t||(t="200px");var a=[this.props.activeNode];return l.default.createElement("div",{style:{width:"100%",height:"100%",padding:"38px 0 0"}},l.default.createElement(r.default,{titleTemplate:"隆正互联 - %s",title:"管理软件",defaultTitle:"管理软件",meta:[{name:"隆正互联"}]}),l.default.createElement(u,{style:{margin:"-38px 0 0",height:"38px",lineHeight:"38px",paddingLeft:"36px",paddingRight:"24px"}},l.default.createElement("div",{style:{float:"left",color:"#EFEFEF"}},"隆正软件"),l.default.createElement(d.Menu,{theme:"dark",mode:"horizontal",defaultSelectedKeys:a,onClick:this.handleClick,style:{lineHeight:"38px",float:"left",paddingLeft:t}},this.props.navItems.map(function(e,t){var a="hsla(0, 0%, 100%, .67)",i=h.checkMenuPriv(e.to);if(2===i)a="red";else if(0===i)return null;var n="file";return"undefined"!=typeof e.icon&&(n=e.icon),l.default.createElement(d.Menu.Item,{key:e.to},l.default.createElement("span",null,l.default.createElement(d.Icon,{type:n}),l.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},e.name)))})),l.default.createElement("div",{style:{float:"right",color:"#EFEFEF"}},l.default.createElement(d.Icon,{type:"home",onClick:this.goHome,title:"返回主页",style:{padding:"0 8px 0 0",cursor:"pointer"}}),l.default.createElement(d.Dropdown,{overlay:e},l.default.createElement(d.Icon,{type:"setting",style:{cursor:"pointer"}})))),l.default.createElement(c,{style:{width:"100%",height:"100%",padding:"0 0px"}},this.props.children))}});f.propTypes=p,e.exports=f},34:function(e,t,a){"use strict";var i=a(1),n=a(11),l=i.createStore({listenables:[n],init:function(){},onShowError:function(e,t,a){this.trigger({resName:e,operation:t,errMsg:a})}});e.exports=l},35:function(e,t,a){"use strict";var i=a(1),n=a(27),l=a(3),s=a(11),r=i.createStore({listenables:[n],username:"",recordSet:[],init:function(){},getServiceUrl:function(e){return l.authUrl+e},fireEvent:function(e,t,a){a.trigger({username:a.username,recordSet:a.recordSet,operation:e,errMsg:t}),s.showError("comp-user",e,t)},onRetrieveCompUser:function(e){var t=this,a={};a.username=e;var i=this.getServiceUrl("comp-user/get-by-username");l.doGetRecordService(i,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.username=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitCompUser:function(e){return this.recordSet.length>0&&this.username===e?void this.fireEvent("retrieve","",this):void this.onRetrieveCompUser(e)}});e.exports=r},36:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s=a(2),r=i(s),o=a(8),d=(i(o),a(5)),u=(i(d),a(13)),c=a(4),m=a(18),h=i(m),p=a(29),f=i(p),g=a(63),v=i(g),y=a(64),S=i(y),b=a(62),C=i(b),E=(a(17),a(1),c.Form.Item),w=a(6),x=a(3),k=a(22),L=(0,u.withRouter)(r.default.createClass({displayName:"LoginPage2",getInitialState:function(){var e=window.localStorage,t="1"===e.isRemember,a=t?e.userName:"",i="";"单公司"===w.corpStruct?i=w.corpUuid:t&&(i=e.corpUuid);var n=window.sessionStorage.getItem("loginData");if(null!==n&&"undefined"!=typeof n){var l=!1,s=this.props.location;if(null!==s&&"undefined"!=typeof s){var r=s.pathname;""!==r&&(""!==s.search?l=!0:"/"!==r&&"/index.html"!==r&&"/test.html"!==r&&(l=!0))}l&&k.loadContext()?this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}}):window.sessionStorage.removeItem("loginData")}return{user:{userName:a,passwd:"",corpUuid:i},loading:!1,isRemember:t,errMsg:"",hints:{},action:"login",validRules:[]}},componentDidMount:function(){k.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",w.formValidator(this,this.state.user)){var a=x.authUrl+"auth-user/login",i=w.calcMD5(t),n={};n.password=i,n.username=this.state.user.userName;var l=this;this.setState({loading:!0}),x.loginService(a,n).then(function(e,a,i){l.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?"11111111"==t||"12345678"==t?l.setState({action:"modify"}):l.loginSuccess(e.object):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.state.loading=!1,l.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=w.corpUuid;var t=x.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var i=this;this.setState({loading:!0}),x.loginService(t,a).then(function(e,t,a){i.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?i.loginSuccess(e.object):i.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){i.state.loading=!1,i.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;k.saveLoginData(e,t);var a=window.localStorage;a.isRemember=this.state.isRemember?"1":"0",a.userName=this.state.isRemember?this.state.user.userName:"",a.corpUuid=this.state.isRemember?this.state.user.corpUuid:"",this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,w.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var i=this.state.user;i[e]=t,this.setState({user:i})},onUserNameFinished:function(e){"单公司"!==w.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},onGoBack:function(){this.setState({action:"login"})},reqPsd:function(){this.setState({action:"request"})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,i={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},s=this.state.user.userName,o=this.state.hints,d="login"===this.state.action?"":"none",u={imageSize:"5",zoom:"4",title:"icerno"};u.data="http://124.202.135.197:18580/apk/icerno.apk";var m=JSON.stringify(u);m=encodeURI(m),m=m.replace(/&/g,"%26");var p="/param_s/QRCode/create?data="+m,g="单公司"===w.corpStruct?null:r.default.createElement(E,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:o.compUuidHint,validateStatus:o.compUuidStatus},r.default.createElement(f.default,{style:{opacity:".9"},name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp})),y=r.default.createElement("div",n({style:{width:"100%"}},"style",{display:d}),r.default.createElement("div",{style:{width:"300px",height:"300px",position:"fixed",margin:"-150px -150px",top:"50%",left:"50%"}},r.default.createElement(c.Form,{layout:t},r.default.createElement(E,l({},i,{label:"",colon:!0,style:{marginBottom:"20px"},help:o.userNameHint,validateStatus:o.userNameStatus}),r.default.createElement(c.Input,{prefix:r.default.createElement(c.Icon,{type:"user",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),r.default.createElement(E,l({},i,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:o.passwdHint,validateStatus:o.passwdStatus}),r.default.createElement(c.Input,{prefix:r.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),g,r.default.createElement(E,null,r.default.createElement(h.default,{message:e,toggle:this.onDismiss}),r.default.createElement(c.Checkbox,{id:"remember",style:{color:"#fff",opacity:".9"},checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),r.default.createElement("a",{onClick:this.reqPsd,style:{float:"right",marginTop:"1px",color:"#fff"}},"忘记密码？"),r.default.createElement(c.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%",opacity:".9"},loading:this.state.loading},"登录"),w.resMode?null:r.default.createElement(c.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px",opacity:".9"},loading:this.state.loading},"快速登录")))),r.default.createElement("div",{style:{padding:"15px 0 0 15px"}},r.default.createElement("img",{src:p,style:{width:80,height:80}}),r.default.createElement("p",{style:{color:"#FFFFFF",paddingTop:"6px"}},"android 客户端"))),b=null;return"modify"===this.state.action?b=r.default.createElement(v.default,{onBack:this.onGoBack}):"request"===this.state.action&&(b=r.default.createElement(S.default,{userName:s,onBack:this.onGoBack})),r.default.createElement("div",{style:{width:"100%",height:"100%",background:"#0e1a53",opacity:".92"}},r.default.createElement(C.default,null),y,b)}}));e.exports=L},37:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s=a(8),r=(i(s),a(5)),o=(i(r),a(7)),d=(i(o),a(4),a(3),l.default.createClass({displayName:"LogoutPage",getInitialState:function(){return{loading:!1}},componentDidMount:function(){},render:function(){return l.default.createElement("div",{className:"grid-page"},"用户签退")}}));e.exports=d},38:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=a(2),s=i(l),r=a(8),o=(i(r),a(5)),d=(i(o),a(4)),u=a(18),c=i(u),m=d.Form.Item,h=a(6),p=a(3),f=s.default.createClass({displayName:"PasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,h.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",h.formValidator(this,this.state.passwd)){var t=p.authUrl+"auth-user/update-pwd",a={},i=this.state.passwd.oldPasswd,n=this.state.passwd.newPasswd,l=this.state.passwd.confirmPad;n!=l?h.warnMsg("两次输入需要一致！"):(a.oldPasswd=i,a.newPasswd=n);var s=this;p.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?h.succMsg("密码修改成功！"):s.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){s.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",i="form-item-"+a,l={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return s.default.createElement("div",{style:{width:"100%"}},s.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},s.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px"}},"修改密码"),s.default.createElement(d.Form,{layout:a},s.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),s.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:i,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"text",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),s.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:i,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"text",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),s.default.createElement(m,null,s.default.createElement(c.default,{message:e,toggle:this.onDismiss}),s.default.createElement(d.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=f},39:function(e,t,a){"use strict";var i=a(57),n=a(41),l=a(60);i.inject();var s={renderToString:n.renderToString,renderToStaticMarkup:n.renderToStaticMarkup,version:l};e.exports=s},40:function(e,t){"use strict";var a={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=a},41:function(e,t,a){"use strict";function i(e,t){var a;try{return p.injection.injectBatchingStrategy(m),a=h.getPooled(t),v++,a.perform(function(){var i=g(e,!0),n=c.mountComponent(i,a,null,o(),f,0);return t||(n=u.addChecksumToMarkup(n)),n},null)}finally{v--,h.release(a),v||p.injection.injectBatchingStrategy(d)}}function n(e){return r.isValidElement(e)?void 0:s("46"),i(e,!1)}function l(e){return r.isValidElement(e)?void 0:s("47"),i(e,!0)}var s=a(44),r=a(49),o=a(55),d=a(56),u=(a(45),a(58)),c=a(54),m=a(40),h=a(59),p=a(46),f=a(48),g=a(47),v=(a(43),0);e.exports={renderToString:n,renderToStaticMarkup:l}},42:function(e,t,a){"use strict";e.exports=a(39)},43:function(e,t,a){e.exports=a(10)(13)},44:function(e,t,a){e.exports=a(10)(14)},45:function(e,t,a){e.exports=a(10)(36)},46:function(e,t,a){e.exports=a(10)(40)},47:function(e,t,a){e.exports=a(10)(468)},48:function(e,t,a){e.exports=a(10)(473)},49:function(e,t,a){e.exports=a(10)(48)},50:function(e,t,a){e.exports=a(10)(761)},51:function(e,t,a){e.exports=a(10)(762)},52:function(e,t,a){e.exports=a(10)(784)},53:function(e,t,a){e.exports=a(10)(799)},54:function(e,t,a){e.exports=a(10)(82)},55:function(e,t,a){e.exports=a(10)(966)},56:function(e,t,a){e.exports=a(10)(976)},57:function(e,t,a){e.exports=a(10)(977)},58:function(e,t,a){e.exports=a(10)(982)},59:function(e,t,a){e.exports=a(10)(988)},60:function(e,t,a){e.exports=a(10)(990)},61:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s=(a(13),l.default.createClass({displayName:"IndexPage",getInitialState:function(){return null},render:function(){return console.log(this.props.location),l.default.createElement("div",null,l.default.createElement("h1",null,"404 - Not Found"))}}));e.exports=s},62:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.vx=-.5+Math.random(),this.vy=-.5+Math.random(),this.radius=2*Math.random(),this.color=new l}function l(e){e=e||0,this.colorValue=function(e){return Math.floor(255*Math.random()+e)},this.createColorStyle=function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},this.r=this.colorValue(e),this.g=this.colorValue(e),this.b=this.colorValue(e),this.style=this.createColorStyle(this.r,this.g,this.b)}var s=a(2),r=i(s),o=a(8),d=(i(o),a(5));i(d);n.prototype={draw:function(e){e.beginPath(),e.fillStyle=this.color.style,e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()}};var u=r.default.createClass({displayName:"CanvasDotePage",getInitialState:function(){return{mousePosition:{x:30*window.innerWidth/100,y:30*window.innerHeight/100},dots:{nb:190,distance:100,d_radius:80,array:[]},canvas:{},ctx:{}}},componentDidMount:function(){var e=this.state.canvas,t=this.state.ctx,a=this.state.dots;e=this.refs.canvasDote,t=e.getContext("2d"),e.width=window.innerWidth,e.height=window.innerHeight,t.lineWidth=.3,t.strokeStyle=new l(150).style;var i=190;e.width<700?i=80:e.width<1e3&&(i=110),a.nb=i,this.state.canvas=e,this.state.ctx=t,this.state.dots=a,this.createDots(),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},createColorStyle:function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},mixComponents:function(e,t,a,i){return(e*t+a*i)/(t+i)},averageColorStyles:function(e,t){var a=e.color,i=t.color,n=this.mixComponents(a.r,e.radius,i.r,t.radius),l=this.mixComponents(a.g,e.radius,i.g,t.radius),s=this.mixComponents(a.b,e.radius,i.b,t.radius);return this.createColorStyle(Math.floor(n),Math.floor(l),Math.floor(s))},createDots:function(){for(var e=this.state.dots,t=this.state.canvas,a=0;a<e.nb;a++)e.array.push(new n(t))},moveDots:function(){for(var e=this.state.canvas,t=this.state.dots,a=0;a<t.nb;a++){
var i=t.array[a];i.y<0||i.y>e.height?(i.vx=i.vx,i.vy=-i.vy):(i.x<0||i.x>e.width)&&(i.vx=-i.vx,i.vy=i.vy),i.x+=i.vx,i.y+=i.vy}this.setState({canvas:e})},connectDots:function(){for(var e=this.state.dots,t=this.state.mousePosition,a=this.state.ctx,i=0;i<e.nb;i++)for(var n=0;n<e.nb;n++){var l=e.array[i],s=e.array[n];l.x-s.x<e.distance&&l.y-s.y<e.distance&&l.x-s.x>-e.distance&&l.y-s.y>-e.distance&&l.x-t.x<e.d_radius&&l.y-t.y<e.d_radius&&l.x-t.x>-e.d_radius&&l.y-t.y>-e.d_radius&&(a.beginPath(),a.strokeStyle=this.averageColorStyles(l,s),a.moveTo(l.x,l.y),a.lineTo(s.x,s.y),a.stroke(),a.closePath())}this.setState({dots:e})},drawDots:function(e,t){for(var a=0;a<t.nb;a++){var i=t.array[a];i.draw(e)}this.setState({ctx:e})},animateDots:function(e,t,a){t.clearRect(0,0,e.width,e.height),this.moveDots(),this.connectDots(),this.drawDots(t,a),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},onMouseMove:function(e){this.state.mousePosition.x=e.pageX,this.state.mousePosition.y=e.pageY,this.setState({mousePosition:this.state.mousePosition})},onMouseLeave:function(e){var t=this.state.canvas;this.state.mousePosition.x=t.width/3,this.state.mousePosition.y=t.height/3,this.setState({mousePosition:this.state.mousePosition})},render:function(){return r.default.createElement("div",null,r.default.createElement("canvas",{ref:"canvasDote",width:"1000px",height:"700px",style:{position:"absolute"},onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave}))}});e.exports=u},63:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=a(2),s=i(l),r=a(8),o=(i(r),a(5)),d=(i(o),a(4)),u=a(18),c=i(u),m=a(6),h=d.Form.Item,p=a(6),f=a(3),g=s.default.createClass({displayName:"ModPasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",p.formValidator(this,this.state.passwd)){var t=f.authUrl+"auth-user/update-pwd",a={},i=this.state.passwd.oldPasswd,n=this.state.passwd.newPasswd,l=this.state.passwd.confirmPad;n!=l?m.warnMsg("两次输入需要一致！"):(a.oldPasswd=i,a.newPasswd=n);var s=this;f.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(m.succMsg("密码修改成功！"),s.props.onBack()):s.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){s.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",i="form-item-"+a,l={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return s.default.createElement("div",{style:{width:"100%"}},s.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},s.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px",color:"#fff",opacity:".9"}},"修改密码"),s.default.createElement(d.Form,{layout:a},s.default.createElement(h,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),s.default.createElement(h,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:i,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"password",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),s.default.createElement(h,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:i,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),s.default.createElement(h,null,s.default.createElement(c.default,{message:e,toggle:this.onDismiss}),s.default.createElement(d.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=g},64:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=a(2),s=i(l),r=a(8),o=(i(r),a(5)),d=(i(o),a(4)),u=a(18),c=i(u),m=(a(1),a(6)),h=d.Form.Item,p=a(6),f=a(3),g=s.default.createClass({displayName:"ResetPasswdPage",getInitialState:function(){return{resetPasswd:{newEmail:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[],count:60,liked:!0}},componentDidMount:function(){this.state.validRules=[{id:"username",desc:"用户名",required:!0,max:"0"},{id:"email",desc:"电子邮箱",required:!0,max:"0"},{id:"resetCode",desc:"验证码",required:!1,max:"0"},{id:"passwd",desc:"密码",required:!1,max:"0"}]},handleOnChange:function(e){var t=this.state.resetPasswd;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({resetPasswd:t})},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},goBack:function(){this.props.onBack()},times:function(){this.state.liked&&(this.timer=setInterval(function(){var e=this.state.count;this.state.liked=!1,e-=1,e<1&&(this.setState({liked:!0}),e=60,clearInterval(this.timer)),this.setState({count:e})}.bind(this),1e3))},clickGetEmail:function(){var e=this.state.resetPasswd.email,t=this.state.resetPasswd.username;null!==e&&""!==e&&null!==t&&""!==t||m.errMsg("用户名和邮箱不能为空");var a=f.authUrl+"auth-user/reset-req",i={};i.username=t,i.email=e;var n=this;f.doUpdateService(a,i).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(m.succMsg("邮件已发送！"),n.times()):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.showError("未知错误")})},clickRequestPwd:function(e){var t=f.authUrl+"auth-user/reset-passwd",a={},i=this.state.resetPasswd.passwd,n=this.state.resetPasswd.confirmPad;a.username=this.props.userName,a.passwd=i,a.resetCode=this.state.resetPasswd.resetCode;var l=this;f.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?i!=n?p.warnMsg("两次输入需要一致！"):(m.succMsg("密码修改成功！"),l.goBack()):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.showError("未知错误")})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",i="form-item-"+a,l={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}},r=this.state.liked?"获取验证码":this.state.count+" s";return s.default.createElement("div",{style:{width:"100%"}},s.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},s.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"30px",fontSize:"16px",textAlign:"center",marginBottom:"10px",letterSpacing:3,color:"#fff",opacity:".9"}},"重置密码"),s.default.createElement(d.Form,{layout:a},s.default.createElement(h,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:i,help:t.usernameHint,validateStatus:t.usernameStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"user"}),placeholder:"用户名",type:"text",name:"username",id:"username",value:this.state.resetPasswd.username,onChange:this.handleOnChange})),s.default.createElement(h,n({},l,{label:"",colon:!0,style:{marginBottom:"10px"},help:t.emailHint,validateStatus:t.emailStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"mail"}),placeholder:"注册的邮箱",type:"text",name:"email",id:"email",value:this.state.resetPasswd.email,onChange:this.handleOnChange}),s.default.createElement(d.Button,{style:{position:"absolute",right:"1px",top:"2px",height:"28px",zIndex:2,fontSize:12},key:"btnEamil",size:"large",onClick:this.clickGetEmail},r),s.default.createElement("p",{style:{width:"100%",fontSize:12,textAlign:"right",color:"#fff",opacity:".9"}},"验证码将会发送至您的注册邮箱")),s.default.createElement(h,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:i,help:t.resetCodeHint,validateStatus:t.resetCodeStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"safety"}),placeholder:"验证码",type:"text",name:"resetCode",id:"resetCode",value:this.state.resetPasswd.resetCode,onChange:this.handleOnChange})),s.default.createElement(h,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:i,help:t.passwdHint,validateStatus:t.passwdStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.resetPasswd.passwd,onChange:this.handleOnChange})),s.default.createElement(h,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:i,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),s.default.createElement(d.Input,{prefix:s.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.resetPasswd.confirmPad,onChange:this.handleOnChange})),s.default.createElement(h,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:i},s.default.createElement(c.default,{message:e,toggle:this.onDismiss}),s.default.createElement(d.Button,{type:"primary",size:"middle",onClick:this.clickRequestPwd,style:{marginRight:"6px"},loading:this.state.loading},"修改密码"),s.default.createElement(d.Button,{size:"middle",onClick:this.goBack},"取消")))))}});e.exports=g},65:function(e,t,a){e.exports=a(10)(3)},76:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=i(n),s=a(8),r=(i(s),a(3)),o=l.default.createClass({displayName:"XlsDown",getInitialState:function(){return{fields:"",data:"",isLoading:!1,timer:null}},downFile:function(e,t){this.setState({isLoading:!0,fields:e,data:t})},downClick:function(){this.refs.fileForm.submit()},render:function(){var e=this,t=r.paramUrl+"xlsx-file/create-excel";return this.state.isLoading&&(this.state.isLoading=!1,this.state.timer=setTimeout(function(){e.downClick(),clearInterval(e.state.timer)},100)),l.default.createElement("form",{ref:"fileForm",action:t,method:"post",style:{display:"none"},target:"downloadFrame"},l.default.createElement("iframe",{name:"downloadFrame",style:{display:"none"},frameborder:"0"}),l.default.createElement("input",{type:"hidden",name:"fields",id:"fields",value:this.state.fields}),l.default.createElement("input",{type:"hidden",name:"data",id:"data",value:this.state.data}))}});t.default=o},232:function(e,t,a){"use strict";var i=a(1),n=i.createActions(["createBmCompany","deleteBmCompany","updateBmCompany","retrieveBmCompany","retrieveBmCompanyPage","initBmCompany"]);e.exports=n},233:function(e,t,a){"use strict";var i=a(1),n=i.createActions(["createBmSystem","deleteBmSystem","updateBmSystem","retrieveBmSystem","retrieveBmSystemPage","initBmSystem","bmSystemMdl","addBmSystemMdl"]);e.exports=n},234:function(e,t,a){"use strict";var i=a(1),n=i.createActions(["createTmBug","deleteTmBug","updateTmBug","retrieveTmBug","retrieveTmBugPage","initTmBug","moreTmBug"]);e.exports=n},235:function(e,t,a){"use strict";var i=a(1),n=i.createActions(["createBmUser","deleteBmUser","updateBmUser","retrieveBmUser","retrieveBmUserPage","initBmUser","updateBmUserKey"]);e.exports=n},285:function(e,t,a){"use strict";var i=a(1),n=a(232),l=a(3),s=a(11),r=i.createStore({listenables:[n],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.tbugUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),s.showError("bm-company",e,t)},onRetrieveBmCompany:function(e){var t=this,a=this.getServiceUrl("bm-company/getCompanyList  ");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveBmCompanyPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveBmCompany(e)},onInitBmCompany:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveBmCompany(e)},onCreateBmCompany:function(e){var t=this.getServiceUrl("bm-company/create");l.recordCreate(this,e,t)},onUpdateBmCompany:function(e){var t=this.getServiceUrl("bm-company/update");l.recordUpdate(this,e,t)},onDeleteBmCompany:function(e){console.log(e);var t=this.getServiceUrl("bm-company/remove");l.recordDelete(this,e,t)}});e.exports=r},286:function(e,t,a){"use strict";var i=a(1),n=a(233),l=a(3),s=a(11),r=i.createStore({listenables:[n],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,systemmdl:[],init:function(){},getServiceUrl:function(e){return l.tbugUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,systemmdl:a.systemmdl,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),s.showError("bm_system",e,t)},onRetrieveBmSystem:function(e){var t=this,a=this.getServiceUrl("bm-system/getBmSystemList");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){console.log(a),null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onBmSystemMdl:function(e){var t=this,a={};a.sysId=e;var i=this.getServiceUrl("bm-system-mdl/getBmSystemMdlList");l.doRetrieveService(i,a,0,0,0).then(function(e){console.log(e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.systemmdl=e.object.list,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onAddBmSystemMdl:function(e){var t=this.getServiceUrl("bm-system-mdl/create");l.recordCreate(this,e,t)},onRetrieveBmSystemPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveBmSystem(e)},onInitBmSystem:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveBmSystem(e)},onCreateBmSystem:function(e){var t=this.getServiceUrl("bm-system/create");l.recordCreate(this,e,t)},onUpdateBmSystem:function(e){var t=this.getServiceUrl("bm-system/update");l.recordUpdate(this,e,t)},onDeleteBmSystem:function(e){var t=this.getServiceUrl("bm-system/remove");l.recordDelete(this,e,t)}});e.exports=r},287:function(e,t,a){"use strict";var i=a(1),n=a(234),l=a(3),s=a(11),r=i.createStore({listenables:[n],InTmBug:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.tbugUrl+e},fireEvent:function(e,t,a){a.trigger({InTmBug:a.InTmBug,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),s.showError("tm-bug",e,t)},onRetrieveTmBug:function(e){var t=this,a={};a.InTmBug=e,a.cmpId=window.loginData.compUser.corpUuid,a.procStatus=e.procStatus;var i=this.getServiceUrl("tm-bug/get-bugs");l.doRetrieveService(i,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.InTmBug=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onMoreTmBug:function(e,t){var a=this,i={};i=e,i.procStatus=t,i.cmpId=window.loginData.compUser.corpUuid;var n=this.getServiceUrl("tm-bug/get-more-bugs");l.doRetrieveService(n,i,a.startPage,a.pageRow,a.totalRow).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(a.recordSet=t.object.list,a.startPage=t.object.startPage,a.pageRow=t.object.pageRow,a.totalRow=t.object.totalRow,a.InTmBug=e,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+t.errCode+"]["+t.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveTmBugPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveTmBug(e)},onInitTmBug:function(e){return this.recordSet.length>0&&this.InTmBug===e?void this.fireEvent("retrieve","",this):void this.onRetrieveTmBug(e)},onCreateTmBug:function(e){var t=this.getServiceUrl("tm-bug/create");l.recordCreate(this,e,t)},onUpdateTmBug:function(e){var t=this.getServiceUrl("tm-bug/update");l.recordUpdate(this,e,t)},onDeleteTmBug:function(e){var t=this.getServiceUrl("tm-bug/remove");l.recordDelete(this,e,t)}});e.exports=r},288:function(e,t,a){"use strict";var i=a(1),n=a(235),l=a(3),s=a(11),r=i.createStore({listenables:[n],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.tbugUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),s.showError("bmUser",e,t)},onRetrieveBmUser:function(e){var t=this,a=this.getServiceUrl("bmUser/getBmuserList");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveBmUserPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveBmUser(e)},onInitBmUser:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveBmUser(e)},onCreateBmUser:function(e){var t=this.getServiceUrl("bmUser/create");l.recordCreate(this,e,t)},onUpdateBmUser:function(e){var t=this.getServiceUrl("bmUser/update");l.recordUpdate(this,e,t)},onUpdateBmUserKey:function(e){var t=this.getServiceUrl("bmUser/resetPassword");l.doRetrieveService(t,e,self.startPage,self.pageRow,self.totalRow).then(function(e){console.log(e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(self.recordSet=e.object.list,self.startPage=e.object.startPage,self.pageRow=e.object.pageRow,self.totalRow=e.object.totalRow,self.filter=filter,self.fireEvent("retrieve","",self)):self.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",self)},function(e){self.fireEvent("retrieve","调用服务错误",self)})},onDeleteBmUser:function(e){var t=this.getServiceUrl("bmUser/remove");l.recordDelete(this,e,t)}});e.exports=r},289:function(e,t,a){e.exports=a(10)(236)},381:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s=a(2),r=i(s),o=a(5),d=(i(o),a(7)),u=(i(d),a(9)),c=i(u),m=a(4),h=a(289),p=(i(h),a(1)),f=a(17),g=(a(3),a(6)),v=m.Input.Search,y=(m.Form.Item,m.Select.Option,a(287)),S=(a(234),r.default.createClass({displayName:"ShowEnclosurePage",getInitialState:function(){return{tmBugSet:{operation:"",errMsg:""},loading:!1,modal:!1,visible:!1,tmBug:{},InTmBug:"",isHTML:"",hints:{},tmBugPice:[],tmBugPiceList:[],BigpriceUrl:"",Bigprice:"预览失败",BigpriceName:{},validRules:[],AllDownLoad:[]}},mixins:[p.listenTo(y,"onServiceComplete"),(0,c.default)("tmBug")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tmBugSet:e}))},initPage:function(e){this.setState({Bigprice:"",tmBug:"",BigpriceName:""}),this.state.InTmBug=e;var t=this;this.state.hints={},this.state.loading=!1,this.state.tmBugSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear();var a="http://10.10.10.201:8082/defect_s/bug-attach-upload/findpicbyid3?uuid="+e.uuid;f.get(a).done(function(e){var a=e.list;if(0!=a.length){var i="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",n=a[0].name,l=a[0].length,s=n.lastIndexOf("."),o=n.slice(s+1,l);if("jpeg"==o||"jpg"==o)var d=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{name:a[0].name,"data-uid":a[0].uid,"data-downloadUrl":a[0].downloadUrl,id:"Pice","data-index":"0","data-fullPath":a[0].fullPath,src:a[0].url,style:{height:"100%"},onClick:t.fileDwonLoad}));else var d=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{name:a[0].name,"data-uid":a[0].uid,"data-downloadUrl":a[0].downloadUrl,id:"Pice","data-index":"0","data-fullPath":a[0].fullPath,src:i,style:{height:"100%"},onClick:t.fileDwonLoad}));var n=a[0].name;t.setState({tmBug:a,Bigprice:d,BigpriceName:n});for(var u=[],c=0;c<a.length;c++){var n=a[c].name,l=a[c].length,s=n.lastIndexOf("."),o=n.slice(s+1,l);"jpeg"==o||"jpg"==o?u.push({url:a[c].url,load:a[c].url,name:a[c].name,uid:a[c].uid,fullPath:a[c].fullPath,downloadUrl:a[c].downloadUrl}):u.push({url:i,load:a[c].url,name:a[c].name,uid:a[c].uid,fullPath:a[c].fullPath,downloadUrl:a[c].downloadUrl})}t.setState({tmBugPiceList:u,tmBugPiceList2:u})}else 0==a.length&&t.setState({tmBugPiceList:[],tmBugPiceList2:null})})},fileDwonLoad:function(e){var t=e.target.getAttribute("data-downloadurl"),a=document.createElement("a");a.href=t,a.click()},showImage:function(e){var t=e.target,a=t.name,i=t.getAttribute("data-load"),n=t.getAttribute("data-fullpath"),l=t.getAttribute("data-downloadUrl"),s=t.getAttribute("data-index"),o=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:a,"data-fullPath":n,"data-downloadUrl":l,"data-load":i,"data-index":s,src:t.src,style:{height:"100%"},onClick:this.fileDwonLoad}));this.setState({Bigprice:o,BigpriceName:a})},deleImage:function(e){var t=this,a=e.target,i=a.previousSibling.getAttribute("data-uid"),n="http://10.10.10.201:8082/defect_s/bug-attach-upload/delpicbyid?uuid="+i;f.get(n,"").done(function(){m.message.success("删除成功"),t.initPage(t.state.InTmBug)})},UpPice:function e(t){var a=document.querySelector("#Pice"),i=a.getAttribute("data-index"),n=a.getAttribute("data-fullpath"),l=parseInt(i-1),e=0;if(e=this.state.tmBug.length!=this.state.tmBugPiceList.length?this.state.tmBugPiceList[l]:this.state.tmBug[l],void 0==e)m.message.warning("已经是第一张了");else{var s="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",o=e.name.length,i=e.name.lastIndexOf("."),d=e.name.slice(i+1,o),u="";u="jpeg"==d||"jpg"==d?r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:e.name,"data-fullPath":n,"data-downloadUrl":e.downloadUrl,"data-load":e.url,"data-index":l,src:e.url,style:{height:"100%"},onClick:this.fileDwonLoad})):r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:e.name,"data-fullPath":n,"data-downloadUrl":e.downloadUrl,"data-load":e.url,"data-index":l,src:s,style:{height:"100%"},onClick:this.fileDwonLoad})),this.setState({Bigprice:u,BigpriceName:e.name})}},DownPice:function(e){var t=document.querySelector("#Pice"),a=t.getAttribute("data-index"),i=parseInt(a)+1,n=0;if(n=this.state.tmBug.length!=this.state.tmBugPiceList.length?this.state.tmBugPiceList[i]:this.state.tmBug[i],void 0==n)m.message.warning("已经是最后一张了");else{var l=n.fullPath,s="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",o=n.name.length,a=n.name.lastIndexOf("."),d=n.name.slice(a+1,o),u="";u="jpeg"==d||"jpg"==d?r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:n.name,"data-fullPath":l,"data-downloadUrl":n.downloadUrl,"data-load":n.url,"data-index":i,src:n.url,style:{height:"100%"},onClick:this.fileDwonLoad})):r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:n.name,"data-fullPath":l,"data-downloadUrl":n.downloadUrl,"data-load":n.url,"data-index":i,src:s,style:{height:"100%"},onClick:this.fileDwonLoad})),this.setState({Bigprice:u,BigpriceName:n.name})}},Enlarge:function(){var e=document.querySelector("#Pice"),t=e.src,a=e.name.length,i=e.name.lastIndexOf("."),n=e.name.slice(i+1,a);"jpeg"==n||"jpg"==n?this.setState({visible:!0,BigpriceUrl:t}):m.message.error("暂不支持此类行文件预览")},isActive:function(e,t){e.preventDefault();var a=e.target,t=a.getAttribute("data-index")||t,i=(a.getAttribute("data-fullpath"),a.getAttribute("data-checked"));"I"!=a.nodeName&&(i?(f(".checkDownLoad")[t].style.display="block",this.state.AllDownLoad.push(this.state.tmBug[t].fullPath)):(f(".checkDownLoad")[t].style.display="none",this.state.AllDownLoad.splice(this.state.tmBug[t].fullPath,1)))},isAllDownLoad:function(e){var t=this;e.stopPropagation();var a=e.target.checked,i=f(".checkDownLoad");if(a){for(var n=0;n<i.length;n++)f(".checkDownLoad")[n].style.display="block";this.state.tmBug.forEach(function(e,a){t.state.AllDownLoad.push(e.fullPath)})}else{for(var l=0;l<i.length;l++)f(".checkDownLoad")[l].style.display="none";this.state.AllDownLoad=[]}},AllDownLoad:function e(){var t=this,a="http://10.10.10.201:8082/defect_s/bug-attach-upload/batchdownloadfile",e=this.state.AllDownLoad;if(e.length<1)m.message.info("最少选中一个附件");else{var i={flowNo:"1",object:e};f.ajax({type:"POST",url:a,data:JSON.stringify(i),crossDomain:!0,contentType:"application/json"}).done(function(e){t.loadZip(e)})}},loadZip:function(e){var t="http://10.10.10.201:8082/defect_s/bug-attach-upload/dowanloadmore?filepath="+e,a=document.createElement("a"),i=t.toString();a.href=i,a.click()},handleCancel:function(){this.setState({visible:!1})},Search:function(e){var t=e||e.target,a=this.state.tmBugPiceList;if(t){var i=[];if(a.forEach(function(e,a){e.name.indexOf(t)!=-1&&i.push(e)}),i.length>0){var n=i[0].name,l=i[0].fullPath,s=i[0].downloadUrl,o=(i[0].downloadUrl.load,i[0].url),d=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:n,"data-fullPath":l,"data-downloadUrl":s,"data-load":o,"data-index":"0",src:o,style:{height:"100%"},onClick:this.fileDwonLoad}));this.state.tmBugPiceList=i,this.setState({Bigprice:d,BigpriceName:n})}}else this.setState({tmBugPiceList:this.state.tmBugPiceList2})},render:function(){var e,t,a=(e={position:"absolute",border:"1px solid rgb(153, 153, 153)",top:"50%",width:"36px",left:"10px",marginTop:"-18px",height:"36px",borderRadius:"50%",outline:"none"},n(e,"borderRadius","50%"),n(e,"background","rgb(255, 255, 255)"),n(e,"cursor","pointer"),e),i=(t={position:"absolute",border:"1px solid rgb(153, 153, 153)",top:"50%",width:"36px",right:"10px",marginTop:"-18px",height:"36px",borderRadius:"50%",outline:"none"},n(t,"borderRadius","50%"),n(t,"background","rgb(255, 255, 255)"),n(t,"cursor","pointer"),t),s=this,o=this.state.tmBugPiceList;this.state.tmBugPice=o.map(function(e,t){return r.default.createElement("li",{"data-index":t,"data-checked":"true",onClick:s.isActive,style:{overflow:"hidden",position:"relative",padding:"0",margin:"10px",textAlign:"center"}},r.default.createElement("img",{src:e.url,name:e.name,"data-checked":"true","data-downloadUrl":e.downloadUrl,"data-load":e.load,"data-uid":e.uid,"data-index":t,"data-fullPath":e.fullPath,style:{paddingTop:"8px",width:"80%",display:"inline-block"},onClick:s.showImage}),r.default.createElement(m.Icon,{style:{position:"absolute",color:"red",right:"4px",top:"2px",fontSize:"16px"},type:"minus-circle",onClick:s.deleImage}),r.default.createElement("p",{style:{position:"relative",textAlign:"center"}},r.default.createElement("span",{style:{paddingLeft:"10px"}},e.name)),r.default.createElement("div",{className:"checkDownLoad","data-index":t,style:{position:"absolute",display:"none",left:"0",right:"0",top:"0",bottom:"0"}},r.default.createElement("span",{style:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0",margin:"auto",width:"32px",height:"32px",display:"block"}},r.default.createElement(m.Icon,{type:"check-circle",style:{fontSize:"32px",color:"green"}}))))});var d=(this.state.hints,{name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.InTmBug.uuid,onChange:function(e){if("uploading"!==e.file.status){var t=document.querySelector(".ant-upload-list.ant-upload-list-text");f(t).remove(),s.initPage(s.state.InTmBug)}"done"===e.file.status?m.message.success(e.file.name+" file uploaded successfully"):"error"===e.file.status&&m.message.error(e.file.name+" file upload failed.")}});return r.default.createElement(m.Modal,{visible:this.state.modal,width:"840px",title:"附件预览",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",marign:"0",padding:"0"}},r.default.createElement("div",{style:{flex:"1",height:"380px",overflow:"auto",position:"relative"}},r.default.createElement("div",{style:{overflow:"hidden",background:"#fff",zIndex:"999",position:"absolute"}},r.default.createElement("span",{style:{lineHeight:"30px"}},"缩略图"),r.default.createElement("span",{style:{float:"right"}},r.default.createElement(m.Checkbox,{onChange:this.isAllDownLoad,style:{marginLeft:"6px"}}),r.default.createElement(m.Button,{icon:"download",onClick:this.AllDownLoad,title:"多附件下载"})),r.default.createElement("span",{style:{float:"right"}},r.default.createElement("div",{style:{float:"left"}},r.default.createElement(m.Upload,l({},d,{style:{marginLeft:"4px",float:"right"}}),r.default.createElement(m.Button,{icon:g.iconAdd,type:"primary",shape:"circle",title:"上传附件",style:{float:"right"}})))),r.default.createElement(v,{placeholder:"input search text",onSearch:this.Search,onChange:this.Search,style:{width:"100%",paddingTop:"2px"}})),r.default.createElement("ul",{className:"am-pre-scrollable",style:{height:"380px",overflow:"auto",paddingTop:"80px"}},this.state.tmBugPice?this.state.tmBugPice:"暂无附件")),r.default.createElement("div",{style:{flex:"4",overflow:"hidden",textAlign:"center",height:"380px",display:"flex",flexDirection:"column"}},r.default.createElement("div",{style:{flexBasis:"38px",margin:"4px 2px",position:"relative",textAlign:"left",paddingLeft:"20px"}},r.default.createElement("span",{style:{lineHeight:"30px",width:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},"文件名:",this.state.BigpriceName),r.default.createElement("div",{style:{position:"absolute",right:"40%",top:"0"}},r.default.createElement(m.Button,{icon:"eye",onClick:this.Enlarge,title:"查看大图",style:{fontSize:"18px"}}))),r.default.createElement("div",{style:{flex:1,overflow:"hidden",position:"relative"}},r.default.createElement("button",{title:"上一张",
style:a,onClick:this.UpPice},r.default.createElement(m.Icon,{type:"left"})),this.state.Bigprice?this.state.Bigprice:"",r.default.createElement("button",{title:"下一张",style:i,onClick:this.DownPice},r.default.createElement(m.Icon,{type:"right"})),r.default.createElement(m.Modal,{title:null,visible:this.state.visible,width:"860px",footer:null,onCancel:this.handleCancel},r.default.createElement("div",{style:{width:"100%",height:"100%"}},r.default.createElement("img",{src:this.state.BigpriceUrl,style:{width:"100%",height:"100%"}})))))))}}));t.default=S},784:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s=a(33),r=i(s),o=a(6),d=l.default.createClass({displayName:"TbugLayout",getInitialState:function(){return{navItems:[{name:"缺陷管理",to:"/tbug/components/TbugPage/"}]}},render:function(){return l.default.createElement(r.default,{navItems:this.state.navItems,activeNode:o.tbugHome,home:"@/index.html?from=tbug",children:this.props.children})}});e.exports=d},785:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=a(2),s=i(l),r=a(8),o=(i(r),a(5)),d=(i(o),a(7)),u=i(d),c=a(4),m=a(1593),h=i(m),p=a(381),f=i(p),g=a(1595),v=i(g),y=a(1596),S=i(y),b=a(1594),C=i(b),E=a(26),w=i(E),x=a(76),k=i(x),L=a(1),N=c.Input.Search,B=c.Radio.Button,D=c.Radio.Group,P=a(6),I=(a(3),a(287)),O=a(234),U=s.default.createClass({displayName:"TBugPage",getInitialState:function(){return{tmBugSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},selectedRows:[],moreFilter:!1,loading:!1,filterValue:"",filter:{}}},mixins:[L.listenTo(I,"onServiceComplete"),(0,w.default)()],onServiceComplete:function(e){if(this.setState({loading:!1,tmBugSet:e}),this.state.moreFilter=0,this.state.moreFilter){this.refs.RecruitFilter}},handleQueryClick:function(e){var t=this.state.filter;this.setState({loading:!0}),this.state.tmBugSet.operation="",O.retrieveTmBug(t)},componentDidMount:function(){var e=this.state.filter;e.more=this.state.moreFilter?"1":"0",this.setState({loading:!0}),e.procStatus="all",O.initTmBug(e)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()},handleOpenEnclosureWindow:function(e,t){null!=e&&(this.refs.showEnclosure.initPage(e),this.refs.showEnclosure.toggle())},handleOpenDetailWindow:function(e,t){null!=e&&(this.refs.showDetail.init(e),this.refs.showDetail.toggle())},onClickUpdate:function(){var e=this.state.selectedRows;null!=e&&1==e.length?(this.refs.updateWindow.initPage(e[0]),this.refs.updateWindow.toggle()):e.length>1?c.message.error("仅支持编辑单条删除"):c.message.error("请先选中要编辑的缺陷")},onClickDelete:function(){var e=this.state.selectedRows;null!=e&&1==e.length?c.Modal.confirm({title:"删除确认",content:"是否删除选中的缺陷管理信息 【"+e[0].uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e[0])}):e.length>1?c.message.error("仅支持单条缺陷删除"):c.message.error("请先选中要删除的缺陷")},xlsExport:function(){var e=[{id:"A",name:"bugCode",title:"缺陷编码"},{id:"B",name:"bugName",title:"缺陷名称"},{id:"C",name:"bugStat",title:"缺陷状态"},{id:"D",name:"bugResponsible",title:"当前处理人"},{id:"E",name:"deteUser",title:"发现人"},{id:"F",name:"deteDate",title:"发现日期"},{id:"G",name:"bugSeverity",title:"严重程度"},{id:"H",name:"bugChance",title:"重现概率"},{id:"I",name:"bugDesp",title:"缺陷描述"},{id:"J",name:"updateDate",title:"更新时间"}],t=[],a=this.state.tmBugSet.recordSet;a.map(function(e,a){var i={};i.bugCode=e.bugCode,i.bugName=e.bugName,i.bugStat=e.bugStat,i.bugResponsible=e.bugResponsible,i.deteUser=e.deteUser,i.deteDate=e.deteDate,i.bugSeverity=e.bugSeverity,i.bugChance=e.bugChance,i.bugDesp=e.bugDesp,i.updateDate=e.updateDate,t.push(i)}),this.downXlsTempFile2(e,t,this.refs.xls)},retweet:function(){c.message.warning("功能尚未开放")},rollback:function(){c.message.warning("功能尚未开放")},save:function(){c.message.warning("功能尚未开放")},onClickDelete2:function(e){this.setState({loading:!0}),this.state.tmBugSet.operation="",O.deleteTmBug(e.uuid)},onSearch:function(e){var t=e;void 0==t||null==t||""==t?this.setState({loading:this.state.loading}):(console.log(t,this.state.filterValue),this.setState({loading:this.state.loading,filterValue:t}))},onFilterRecord:function(e){this.setState({loading:this.state.loading,filterValue:e.target.value})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangeView:function(e){var t=e.target.value,a={};switch(t){case"1":a.procStatus="undo",this.state.filter.procStatus="undo",O.initTmBug(a);break;case"2":a.procStatus="self",this.state.filter.procStatus="self",O.initTmBug(a);break;default:a.procStatus="all",this.state.filter.procStatus="all",O.initTmBug(a)}},onSearch3:function(){this.setState({loading:!0});var e=this.state.filter.procStatus;O.moreTmBug(this.refs.RecruitFilter.state.recruit,e)},onClear:function(){var e={};e.procStatus=this.state.filter.procStatus,this.refs.RecruitFilter.setState({recruit:e})},render:function(){function e(e,t){console.log(e+""+t)}var t,a=this,i=P.filter(this.state.tmBugSet.recordSet,this.state.filterValue),l=(window.loginData.compUser.corpUuid,[]);l.push(s.default.createElement(D,{style:{marginLeft:"16px",display:"inline-block"},onChange:this.onChangeView},s.default.createElement(B,{value:"1"},"待处理"),s.default.createElement(B,{value:"2"},"我的全部"),s.default.createElement(B,{value:"3"},"所有缺陷")));var r=this.state.moreFilter,o=[{title:"附件",key:"Enclosure",width:100,render:function(e,t){return s.default.createElement("img",{style:{width:"30px"},src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",onClick:a.handleOpenEnclosureWindow.bind(a,t)})}},{title:"缺陷编码",dataIndex:"bugCode",key:"bugCode",width:140},{title:"缺陷名称",dataIndex:"bugName",key:"bugName",width:300,render:function(e,t){return s.default.createElement("a",{onClick:a.handleOpenDetailWindow.bind(a,t)},e,"-点击查看详情")}},{title:"缺陷描述",dataIndex:"bugDesp",key:"bugDesp",width:300},{title:"缺陷状态",dataIndex:"bugStat",key:"bugStat",width:140},{title:"严重程度",dataIndex:"bugSeverity",key:"bugSeverity",width:140},{title:"重现概率",dataIndex:"bugChance",key:"bugChance",width:140},{title:"所属系统",dataIndex:"sysId",key:"sysId",width:140},{title:"模块名称",dataIndex:"mdlId",key:"mdlId",width:200},{title:"发现人",dataIndex:"deteUser",key:"deteUser",width:100},{title:"发现日期",dataIndex:"deteDate",key:"deteDate",width:200},{title:"当前处理人",dataIndex:"bugResponsible",key:"bugResponsible",width:160},{title:"更新时间",dataIndex:"updateDate",key:"updateDate",width:200}],d={onChange:function(e,t){a.state.selectedRows=t}},m={showSizeChanger:!0,onShowSizeChange:e,showQuickJumper:!0},p=P.getGridMargin(this);return s.default.createElement("div",{className:"grid-page",style:{padding:p.padding}},s.default.createElement("div",{style:{margin:p.margin}},s.default.createElement(u.default,{ref:"mxgBox",svcList:["tm-bug/retrieve","tm-bug/remove"]}),s.default.createElement(C.default,{ref:"RecruitFilter",moreFilter:r}),s.default.createElement("div",{className:"toolbar-table",style:{display:"flex",justifyContent:"space-between"}},s.default.createElement("div",null,s.default.createElement(c.Button,{icon:P.iconAdd,type:"primary",title:"增加缺陷管理信息",onClick:this.handleOpenCreateWindow}),s.default.createElement(c.Button,{icon:P.iconUpdate,title:"修改缺陷管理信息",onClick:this.onClickUpdate,style:{marginLeft:"4px"}}),s.default.createElement(c.Button,{icon:P.iconRemove,title:"删除缺陷管理信息",onClick:this.onClickDelete,style:{marginLeft:"4px"}}),s.default.createElement(c.Button,{icon:"retweet",title:"扭转缺陷管理信息",onClick:this.retweet,style:{marginLeft:"4px"}}),s.default.createElement(c.Button,{icon:"rollback",title:"撤回缺陷管理信息",onClick:this.rollback,style:{marginLeft:"4px"}}),s.default.createElement(c.Button,{icon:P.iconRefresh,title:"刷新缺陷管理信息",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),s.default.createElement(c.Button,{icon:"save",title:"记录缺陷管理信息",onClick:this.save,style:{marginLeft:"4px"}}),s.default.createElement(c.Button,{icon:"download",title:"导出缺陷管理信息",onClick:this.xlsExport,style:{marginLeft:"4px"}})),s.default.createElement("div",null,l),s.default.createElement("div",null,r?s.default.createElement("div",{style:{textAlign:"right",width:"100%"}},s.default.createElement(c.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading,style:{marginRight:"4px"}},"查询"),s.default.createElement(c.Button,{title:"清空",onClick:this.onClear,style:{marginRight:"4px"}},"清空"),s.default.createElement(c.Button,{title:"快速条件",onClick:this.filterToggle},"快速条件")):s.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},s.default.createElement(N,(t={placeholder:"查询"},n(t,"placeholder","查询(编号/名称)"),n(t,"style",{width:P.searchWidth}),n(t,"value",this.state.filterValue),n(t,"onChange",this.onFilterRecord),n(t,"onSearch",this.onSearch),t)),s.default.createElement(c.Button,{title:"更多条件",onClick:this.filterToggle,style:{marginLeft:"8px"}},"更多条件"))))),s.default.createElement("div",{className:"grid-body"},s.default.createElement(c.Table,{rowSelection:d,columns:o,dataSource:i,rowKey:function(e){return e.uuid},loading:this.state.loading,bordered:P.tableBorder,pagination:m})),s.default.createElement(h.default,{ref:"createWindow"}),s.default.createElement(f.default,{ref:"showEnclosure"}),s.default.createElement(v.default,{ref:"showDetail"}),s.default.createElement(S.default,{ref:"updateWindow"}),s.default.createElement(k.default,{ref:"xls"}))}});e.exports=U},1580:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l,s=a(2),r=i(s),o=a(8),d=(i(o),a(5)),u=(i(d),a(4)),c=a(7),m=(i(c),a(1583)),h=i(m),p=a(1584),f=i(p),g=a(1581),v=i(g),y=a(1582),S=i(y),b=a(76),C=i(b),E=a(26),w=i(E),x=a(1585),k=i(x),L=a(1),N=u.Input.Search,B=(u.Radio.Button,u.Radio.Group,a(6)),D=a(3),P=a(232),I=a(285),O=10,U=r.default.createClass((l={displayName:"CompanyInfoPage",getInitialState:function(){return{recruitSet:{recordSet:[],errMsg:"",startPage:1,pageRow:10,totalRow:0},filter:{},loading:!1,filterValue:"",selectedRowKeys:[],modal:!1,arr:[]}},mixins:[L.listenTo(I,"onServiceComplete"),(0,w.default)()],onServiceComplete:function(e){console.log(e),this.setState({loading:!1,recruitSet:e})},componentDidMount:function(){this.state.validRules=[{id:"cmpCode",desc:"公司编码",required:!1,max:"32"},{id:"cmpAbbr",desc:"公司简称",required:!1,max:"255"},{id:"cmpName",desc:"公司名称",required:!1,max:"255"},{id:"cmpEnname",desc:"英文名称",required:!1,max:"255"},{id:"cmpDomain",desc:"行业",required:!1,max:"80"},{id:"cmpContacts",desc:"联系人",required:!1,max:"255"},{id:"cmpAddr",desc:"公司地址",required:!1,max:"255"}];this.state.filter;P.initBmCompany()},handleRefresh:function(e){this.setState({loading:!0});var t=this.state.filter;P.retrieveBmCompanyPage(t,this.state.recruitSet.startPage,O)},onClickDetail:function(e){this.refs.DetailWindow.initPage(e),this.refs.DetailWindow.toggle()},handleAdd:function(e){this.refs.AddWindow.clear(),this.refs.AddWindow.toggle()},handleUpdate:function(e){this.refs.UpdateWindow.initPage(e),this.refs.UpdateWindow.toggle()},onClickDelete:function(e,t){console.log(e),u.Modal.confirm({title:"删除确认",content:"是否删除选中的 公司【"+e.cmpName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){console.log(e),this.setState({loading:!0}),P.deleteBmCompany(e.uuid)},beforeUpload:function(e){this.setState({loading:!0});var t=D.tbugUrl+"bm-company/importFiles";console.log(this.state.recruitSet);var a={};return this.uploadXlsFile(t,a,k.default.bmCompanyFields,e,this.uploadComplete),!1},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&B.infoMsg(e),this.handleRefresh()},onSearch:function(e,t){if(null===t||"undefined"==typeof t||""===t)return e;var a=[];return e.map(function(e){(e.cmpCode.indexOf(t)>=0||e.cmpName.indexOf(t)>=0)&&a.push(e)}),a},onClickEnclosure:function(e){this.refs.EnclosureWindow.initPage(e),this.refs.EnclosureWindow.toggle()},onClickLook:function(e){this.refs.DetailWindow.initPage(e),this.refs.DetailWindow.toggle()}},n(l,"handleAdd",function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()}),n(l,"handleTempDown",function(){this.downXlsTempFile(k.default.bmCompanyFields)}),n(l,"onShowSizeChange",function(e,t){O=t,this.handleRefresh()}),n(l,"onChangePage",function(e){this.state.recruitSet.startPage=e,this.handleRefresh()}),n(l,"onFilterRecord",function(e){this.setState({filterValue:e.target.value})}),n(l,"handleArrowDown",function(){var e=B.filter(this.state.arr,this.state.filterValue),t=[{id:"A",name:"cmpCode",title:"公司编码"},{id:"B",name:"cmpAbbr",title:"公司简称"},{id:"C",name:"cmpName",title:"公司名称"},{id:"D",name:"cmpEnname",title:"英文名称"},{id:"E",name:"cmpDomain",title:"行业"},{id:"F",name:"cmpAddr",title:"地址"},{id:"G",name:"cmpContacts",title:"联系人"},{id:"H",name:"remark",title:"备注"}];this.downXlsTempFile2(t,e,this.refs.xls)}),n(l,"render",function(){var e=this,t=this.onSearch(this.state.recruitSet.recordSet,this.state.filterValue);console.log(this.state.recruitSet.recordSet);var a=(window.loginData.compUser.corpUuid,{title:"操作",key:"action",width:90,render:function(t,a){return r.default.createElement("span",null,r.default.createElement("a",{href:"#",title:"更新",onClick:e.handleUpdate.bind(e,a)},r.default.createElement(u.Icon,{type:B.iconUpdate})),r.default.createElement("span",{className:"ant-divider"}),r.default.createElement("a",{href:"#",title:"删除",onClick:e.onClickDelete.bind(e,a)},r.default.createElement(u.Icon,{type:B.iconRemove})))}}),i=[];i=[{title:"附件",dataIndex:"",key:"1111",width:50,render:function(t,a){return r.default.createElement("span",null,r.default.createElement("a",{href:"#",onClick:e.onClickEnclosure.bind(e,a)},r.default.createElement(u.Icon,{type:"file"})))}},{title:"公司编码",dataIndex:"cmpCode",key:"cmpCode",width:140,render:function(t,a){return r.default.createElement("a",{href:"#",onClick:e.onClickDetail.bind(e,a)},t)}},{title:"公司简称",dataIndex:"cmpAbbr",key:"cmpAbbr",width:140,render:function(t,a){return r.default.createElement("a",{href:"#",onClick:e.onClickDetail.bind(e,a)},t)}},{title:"公司名称",dataIndex:"cmpName",key:"cmpName",width:140,render:function(t,a){return r.default.createElement("a",{href:"#",onClick:e.onClickDetail.bind(e,a)},t)}},{title:"英文名称",dataIndex:"cmpEnname",key:"cmpEnname",width:140},{title:"行业",dataIndex:"cmpDomain",key:"cmpDomain",width:140},{title:"联系人",dataIndex:"cmpContacts",key:"cmpContacts",width:140},{title:"公司地址",dataIndex:"cmpAddr",key:"cmpAddr",width:140},a],this.state.arr=[];var n=this.state.recruitSet.recordSet;if(null!==n&&n.length>0)for(var l=0;l<n.length;l++){var s={},o=n[l];s.cmpCode=o.cmpCode,s.cmpAbbr=o.cmpAbbr,s.cmpName=o.cmpName,s.cmpEnname=o.cmpEnname,s.cmpDomain=o.cmpDomain,s.cmpContacts=o.cmpContacts,s.cmpAddr=o.cmpAddr,s.remark=o.remark,this.state.arr.push(s)}var d=B.getGridMargin(this),c={showQuickJumper:!0,total:this.state.recruitSet.totalRow,pageSize:this.state.recruitSet.pageRow,current:this.state.recruitSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},m=r.default.createElement("div",{className:"grid-page",style:{padding:d.padding}},r.default.createElement("div",{style:{margin:d.margin}},r.default.createElement("div",{className:"toolbar-table"},r.default.createElement("div",{style:{float:"left"}},r.default.createElement(u.Button,{icon:B.iconAdd,type:"primary",title:"添加公司",onClick:this.handleAdd}),r.default.createElement(u.Button,{icon:"cloud-download-o",title:"下载模板",style:{marginLeft:"4px"},onClick:this.handleTempDown}),r.default.createElement(u.Button,{icon:"arrow-down",title:"导出",onClick:this.handleArrowDown,style:{marginLeft:"4px"}}),r.default.createElement(u.Button,{icon:"sync",title:"刷新",onClick:this.handleRefresh,style:{marginLeft:"4px"}}),r.default.createElement(u.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},r.default.createElement(u.Button,{icon:"upload",title:"上传数据"}))),r.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},r.default.createElement(N,{placeholder:"公司编码/名称",style:{width:B.searchWidth},onChange:this.onFilterRecord,onSearch:this.onSearch})))),r.default.createElement("div",{className:"grid-body"},r.default.createElement(u.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},size:"middle",bordered:B.tableBorder,pagination:c})),r.default.createElement(h.default,{ref:"EnclosureWindow"}),r.default.createElement(f.default,{ref:"UpdateWindow"}),r.default.createElement(v.default,{ref:"createWindow"}),r.default.createElement(S.default,{ref:"DetailWindow"}),r.default.createElement(C.default,{ref:"xls"}));return r.default.createElement("div",{style:{width:"100%",height:"100%"}},m)}),l));e.exports=U},1581:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=a(2),o=i(r),d=a(5),u=(i(d),a(7)),c=(i(u),a(12)),m=(i(c),a(4)),h=a(1),p=a(6),f=(a(3),m.Form.Item),g=(m.Upload.Dragger,m.Select.Option,m.AutoComplete.Option,a(285)),v=a(232),y=o.default.createClass((l={displayName:"AddPage",getInitialState:function(){var e;return e={companyListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},n(e,"companyListSet",{}),n(e,"hints",{}),n(e,"validRules",[]),n(e,"result",[]),e},mixins:[h.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,companyListSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.companyListSet.caseRisk=e.employee[0].caseRisk,this.state.companyListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,companyListSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"cmpCode",desc:"公司编码",required:!0,max:"32"},{id:"cmpAbbr",desc:"公司简称",required:!0,max:"255"},{id:"cmpDomain",desc:"行业",required:!1,max:"80"},{id:"cmpContacts",desc:"联系人",required:!1,max:"255"},{id:"cmpName",desc:"公司名称",required:!0,max:"255"},{id:"cmpEnname",desc:"英文名称",required:!1,max:"255"},{id:"cmpAddr",desc:"公司地址",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"512"}]},clear:function(e){if(this.state.hints={},this.state.companyListSet.userCode="",this.state.companyListSet.userName="",this.state.companyListSet.nikeName="",this.state.companyListSet.empCode="",this.state.companyListSet.userRole="",this.state.companyListSet.mobileNo="",this.state.companyListSet.idNumber="",this.state.companyListSet.eMail="",this.state.companyListSet.disUse="",this.state.companyListSet.remark="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid}},handleOnChange:function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})},onClickSave:function(){p.validator(this,this.state.companyListSet)?(this.state.companyListSet.operation="",console.log(this.state.companyListSet),v.createBmCompany(this.state.companyListSet),this.setState({modal:!this.state.modal})):(this.setState({hint:this.state.hint}),m.message.error("发生了错误！"))},handleOnSelected:function(e,t){var a=this.state.companyListSet;a[e]=t,p.validator(this,a,e),this.setState({companyListSet:a})}},n(l,"handleOnChange",function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})}),n(l,"toggle",function(){this.setState({modal:!this.state.modal})}),n(l,"handleSearch",function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:p.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})}),n(l,"render",function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},i={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=({name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.companyListSet.uuid,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?m.message.success(e.file.name+" 文件上传成功!."):"error"===t&&m.message.error(e.file.name+" 文件上传失败!.")}},this.state.hints),l=o.default.createElement(m.Form,{layout:e},o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(f,s({},i,{label:"公司编码",required:!0,colon:!0,className:t,help:n.cmpCodeHint,validateStatus:n.cmpCodeStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpCode",id:"cmpCode",value:this.state.companyListSet.cmpCode,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(f,s({},i,{label:"公司简称",required:!0,colon:!0,className:t,help:n.cmpAbbrHint,validateStatus:n.cmpAbbrStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpAbbr",id:"cmpAbbr",value:this.state.companyListSet.cmpAbbr,onChange:this.handleOnChange})))),o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(f,s({},i,{label:"行业",required:!1,colon:!0,className:t,help:n.cmpDomainHint,validateStatus:n.cmpDomainStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpDomain",id:"cmpDomain",value:this.state.companyListSet.cmpDomain,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(f,s({},i,{label:"联系人",required:!1,colon:!0,className:t,help:n.cmpContactsHint,validateStatus:n.cmpContactsStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpContacts",id:"cmpContacts",value:this.state.companyListSet.cmpContacts,onChange:this.handleOnChange})))),o.default.createElement(f,s({},a,{label:"公司名称",required:!0,colon:!0,className:t,help:n.cmpNameHint,validateStatus:n.cmpNameStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpName",id:"cmpName",value:this.state.companyListSet.cmpName,onChange:this.handleOnChange})),o.default.createElement(f,s({},a,{label:"英文名称",required:!1,colon:!0,className:t,help:n.cmpEnnameHint,validateStatus:n.cmpEnnameStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpEnname",id:"cmpEnname",value:this.state.companyListSet.cmpEnname,onChange:this.handleOnChange})),o.default.createElement(f,s({},a,{label:"公司地址",required:!1,colon:!0,className:t,help:n.cmpAddrHint,validateStatus:n.cmpAddrStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpAddr",id:"cmpAddr",value:this.state.companyListSet.cmpAddr,onChange:this.handleOnChange})),o.default.createElement(f,s({},a,{label:"备注",required:!1,colon:!0,className:t,help:n.remarkHint,validateStatus:n.remarkStatus}),o.default.createElement(m.Input,{type:"text",name:"remark",id:"remark",value:this.state.companyListSet.remark,onChange:this.handleOnChange})));return o.default.createElement(m.Modal,{visible:this.state.modal,width:"700px",title:"增加用户信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?o.default.createElement(m.Spin,null,l):l)}),l));t.default=y},1582:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=a(2),o=i(r),d=a(5),u=(i(d),a(7)),c=(i(u),a(12)),m=(i(c),a(4)),h=a(1),p=a(6),f=a(3),g=m.Form.Item,v=(m.Upload.Dragger,m.Select.Option,m.AutoComplete.Option,a(285)),y=(a(232),o.default.createClass((l={displayName:"DetailPage",getInitialState:function(){var e;return e={companyListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},n(e,"companyListSet",{}),n(e,"hints",{}),n(e,"validRules",[]),n(e,"result",[]),e},mixins:[h.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,companyListSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.companyListSet.caseRisk=e.employee[0].caseRisk,this.state.companyListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,companyListSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"cmpCode",desc:"公司编码",required:!0,max:"32"},{id:"cmpAbbr",desc:"公司简称",required:!0,max:"255"},{id:"cmpDomain",desc:"行业",required:!1,max:"80"},{id:"cmpContacts",desc:"联系人",required:!1,max:"255"},{id:"cmpName",desc:"公司名称",required:!0,max:"255"},{id:"cmpEnname",desc:"英文名称",required:!1,max:"255"},{id:"cmpAddr",desc:"公司地址",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"512"}]},initPage:function(e){console.log(e),this.state.hints={},f.copyValue(e,this.state.companyListSet),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},clear:function(e){if(this.state.hints={},this.state.companyListSet.userCode="",this.state.companyListSet.userName="",this.state.companyListSet.nikeName="",this.state.companyListSet.empCode="",this.state.companyListSet.userRole="",this.state.companyListSet.mobileNo="",this.state.companyListSet.idNumber="",this.state.companyListSet.eMail="",this.state.companyListSet.disUse="",this.state.companyListSet.remark="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid}},handleOnChange:function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})},onClickSave:function(){p.validator(this,this.state.companyListSet)?(this.state.companyListSet.operation="",console.log(this.state.companyListSet),this.setState({modal:!this.state.modal}),m.message.success("修改数据成功！")):(this.setState({hint:this.state.hint}),m.message.error("发生了错误！"))},handleOnSelected:function(e,t){var a=this.state.companyListSet;a[e]=t,p.validator(this,a,e),this.setState({companyListSet:a})}},n(l,"handleOnChange",function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})}),n(l,"toggle",function(){this.setState({modal:!this.state.modal})}),n(l,"handleSearch",function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:p.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})}),n(l,"render",function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},i={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=({name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.companyListSet.uuid,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?m.message.success(e.file.name+" 文件上传成功!."):"error"===t&&m.message.error(e.file.name+" 文件上传失败!.")}},this.state.hints),l=o.default.createElement(m.Form,{layout:e},o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"公司编码",required:!0,colon:!0,className:t,help:n.cmpCodeHint,validateStatus:n.cmpCodeStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"cmpCode",id:"cmpCode",value:this.state.companyListSet.cmpCode,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"公司简称",required:!0,colon:!0,className:t,help:n.cmpAbbrHint,validateStatus:n.cmpAbbrStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"cmpAbbr",id:"cmpAbbr",value:this.state.companyListSet.cmpAbbr,onChange:this.handleOnChange})))),o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"行业",required:!1,colon:!0,className:t,help:n.cmpDomainHint,validateStatus:n.cmpDomainStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"cmpDomain",id:"cmpDomain",value:this.state.companyListSet.cmpDomain,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"联系人",required:!1,colon:!0,className:t,help:n.cmpContactsHint,validateStatus:n.cmpContactsStatus}),o.default.createElement(m.Input,{type:"text",readOnly:!0,name:"cmpContacts",id:"cmpContacts",value:this.state.companyListSet.cmpContacts,onChange:this.handleOnChange})))),o.default.createElement(g,s({},a,{label:"公司名称",required:!0,colon:!0,className:t,help:n.cmpNameHint,validateStatus:n.cmpNameStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpName",readOnly:!0,id:"cmpName",value:this.state.companyListSet.cmpName,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"英文名称",required:!1,colon:!0,className:t,help:n.cmpEnnameHint,validateStatus:n.cmpEnnameStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpEnname",readOnly:!0,id:"cmpEnname",value:this.state.companyListSet.cmpEnname,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"公司地址",required:!1,colon:!0,className:t,help:n.cmpAddrHint,validateStatus:n.cmpAddrStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpAddr",readOnly:!0,id:"cmpAddr",value:this.state.companyListSet.cmpAddr,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"备注",required:!1,colon:!0,className:t,help:n.remarkHint,validateStatus:n.remarkStatus}),o.default.createElement(m.Input,{type:"text",name:"remark",readOnly:!0,id:"remark",value:this.state.companyListSet.remark,onChange:this.handleOnChange})));return o.default.createElement(m.Modal,{visible:this.state.modal,width:"700px",title:"查看用户信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"确认")," ",o.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?o.default.createElement(m.Spin,null,l):l)}),l)));t.default=y},1583:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s=a(2),r=i(s),o=a(5),d=(i(o),a(7)),u=(i(d),a(9)),c=i(u),m=a(4),h=a(289),p=(i(h),a(1)),f=a(17),g=(a(3),a(6)),v=m.Input.Search,y=(m.Form.Item,m.Select.Option,a(285)),S=(a(232),r.default.createClass({displayName:"EnclosurePage",getInitialState:function(){return{tmBugSet:{operation:"",errMsg:""},loading:!1,modal:!1,visible:!1,tmBug:{},InTmBug:"",isHTML:"",hints:{},tmBugPice:[],tmBugPiceList:[],BigpriceUrl:"",
Bigprice:"预览失败",BigpriceName:{},validRules:[],AllDownLoad:[]}},mixins:[p.listenTo(y,"onServiceComplete"),(0,c.default)("tmBug")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tmBugSet:e}))},initPage:function(e){this.setState({Bigprice:"",tmBug:"",BigpriceName:""}),this.state.InTmBug=e;var t=this;this.state.hints={},this.state.loading=!1,this.state.tmBugSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear();var a="http://10.10.10.201:8082/defect_s/bug-attach-upload/findpicbyid3?uuid="+e.uuid;f.get(a).done(function(e){var a=e.list;if(0!=a.length){var i="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",n=a[0].name,l=a[0].length,s=n.lastIndexOf("."),o=n.slice(s+1,l);if("jpeg"==o||"jpg"==o)var d=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{name:a[0].name,"data-uid":a[0].uid,"data-downloadUrl":a[0].downloadUrl,id:"Pice","data-index":"0","data-fullPath":a[0].fullPath,src:a[0].url,style:{height:"100%"},onClick:t.fileDwonLoad}));else var d=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{name:a[0].name,"data-uid":a[0].uid,"data-downloadUrl":a[0].downloadUrl,id:"Pice","data-index":"0","data-fullPath":a[0].fullPath,src:i,style:{height:"100%"},onClick:t.fileDwonLoad}));var n=a[0].name;t.setState({tmBug:a,Bigprice:d,BigpriceName:n});for(var u=[],c=0;c<a.length;c++){var n=a[c].name,l=a[c].length,s=n.lastIndexOf("."),o=n.slice(s+1,l);"jpeg"==o||"jpg"==o?u.push({url:a[c].url,load:a[c].url,name:a[c].name,uid:a[c].uid,fullPath:a[c].fullPath,downloadUrl:a[c].downloadUrl}):u.push({url:i,load:a[c].url,name:a[c].name,uid:a[c].uid,fullPath:a[c].fullPath,downloadUrl:a[c].downloadUrl})}t.setState({tmBugPiceList:u,tmBugPiceList2:u})}else 0==a.length&&t.setState({tmBugPiceList:[],tmBugPiceList2:null})})},fileDwonLoad:function(e){var t=e.target.getAttribute("data-downloadurl"),a=document.createElement("a");a.href=t,a.click()},showImage:function(e){var t=e.target,a=t.name,i=t.getAttribute("data-load"),n=t.getAttribute("data-fullpath"),l=t.getAttribute("data-downloadUrl"),s=t.getAttribute("data-index"),o=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:a,"data-fullPath":n,"data-downloadUrl":l,"data-load":i,"data-index":s,src:t.src,style:{height:"100%"},onClick:this.fileDwonLoad}));this.setState({Bigprice:o,BigpriceName:a})},deleImage:function(e){var t=this,a=e.target,i=a.previousSibling.getAttribute("data-uid"),n="http://10.10.10.201:8082/defect_s/bug-attach-upload/delpicbyid?uuid="+i;f.get(n,"").done(function(){m.message.success("删除成功"),t.initPage(t.state.InTmBug)})},UpPice:function e(t){var a=document.querySelector("#Pice"),i=a.getAttribute("data-index"),n=a.getAttribute("data-fullpath"),l=parseInt(i-1),e=0;if(e=this.state.tmBug.length!=this.state.tmBugPiceList.length?this.state.tmBugPiceList[l]:this.state.tmBug[l],void 0==e)m.message.warning("已经是第一张了");else{var s="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",o=e.name.length,i=e.name.lastIndexOf("."),d=e.name.slice(i+1,o),u="";u="jpeg"==d||"jpg"==d?r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:e.name,"data-fullPath":n,"data-downloadUrl":e.downloadUrl,"data-load":e.url,"data-index":l,src:e.url,style:{height:"100%"},onClick:this.fileDwonLoad})):r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:e.name,"data-fullPath":n,"data-downloadUrl":e.downloadUrl,"data-load":e.url,"data-index":l,src:s,style:{height:"100%"},onClick:this.fileDwonLoad})),this.setState({Bigprice:u,BigpriceName:e.name})}},DownPice:function(e){var t=document.querySelector("#Pice"),a=t.getAttribute("data-index"),i=parseInt(a)+1,n=0;if(n=this.state.tmBug.length!=this.state.tmBugPiceList.length?this.state.tmBugPiceList[i]:this.state.tmBug[i],void 0==n)m.message.warning("已经是最后一张了");else{var l=n.fullPath,s="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",o=n.name.length,a=n.name.lastIndexOf("."),d=n.name.slice(a+1,o),u="";u="jpeg"==d||"jpg"==d?r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:n.name,"data-fullPath":l,"data-downloadUrl":n.downloadUrl,"data-load":n.url,"data-index":i,src:n.url,style:{height:"100%"},onClick:this.fileDwonLoad})):r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:n.name,"data-fullPath":l,"data-downloadUrl":n.downloadUrl,"data-load":n.url,"data-index":i,src:s,style:{height:"100%"},onClick:this.fileDwonLoad})),this.setState({Bigprice:u,BigpriceName:n.name})}},Enlarge:function(){var e=document.querySelector("#Pice"),t=e.src,a=e.name.length,i=e.name.lastIndexOf("."),n=e.name.slice(i+1,a);"jpeg"==n||"jpg"==n?this.setState({visible:!0,BigpriceUrl:t}):m.message.error("暂不支持此类行文件预览")},isActive:function(e,t){e.preventDefault();var a=e.target,t=a.getAttribute("data-index")||t,i=(a.getAttribute("data-fullpath"),a.getAttribute("data-checked"));"I"!=a.nodeName&&(i?(f(".checkDownLoad")[t].style.display="block",this.state.AllDownLoad.push(this.state.tmBug[t].fullPath)):(f(".checkDownLoad")[t].style.display="none",this.state.AllDownLoad.splice(this.state.tmBug[t].fullPath,1)))},isAllDownLoad:function(e){var t=this;e.stopPropagation();var a=e.target.checked,i=f(".checkDownLoad");if(a){for(var n=0;n<i.length;n++)f(".checkDownLoad")[n].style.display="block";this.state.tmBug.forEach(function(e,a){t.state.AllDownLoad.push(e.fullPath)})}else{for(var l=0;l<i.length;l++)f(".checkDownLoad")[l].style.display="none";this.state.AllDownLoad=[]}},AllDownLoad:function e(){var t=this,a="http://10.10.10.201:8082/defect_s/bug-attach-upload/batchdownloadfile",e=this.state.AllDownLoad;if(e.length<1)m.message.info("最少选中一个附件");else{var i={flowNo:"1",object:e};f.ajax({type:"POST",url:a,data:JSON.stringify(i),crossDomain:!0,contentType:"application/json"}).done(function(e){t.loadZip(e)})}},loadZip:function(e){var t="http://10.10.10.201:8082/defect_s/bug-attach-upload/dowanloadmore?filepath="+e,a=document.createElement("a"),i=t.toString();a.href=i,a.click()},handleCancel:function(){this.setState({visible:!1})},Search:function(e){var t=e||e.target,a=this.state.tmBugPiceList;if(t){var i=[];if(a.forEach(function(e,a){e.name.indexOf(t)!=-1&&i.push(e)}),i.length>0){var n=i[0].name,l=i[0].fullPath,s=i[0].downloadUrl,o=(i[0].downloadUrl.load,i[0].url),d=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:n,"data-fullPath":l,"data-downloadUrl":s,"data-load":o,"data-index":"0",src:o,style:{height:"100%"},onClick:this.fileDwonLoad}));this.state.tmBugPiceList=i,this.setState({Bigprice:d,BigpriceName:n})}}else this.setState({tmBugPiceList:this.state.tmBugPiceList2})},render:function(){var e,t,a=(e={position:"absolute",border:"1px solid rgb(153, 153, 153)",top:"50%",width:"36px",left:"10px",marginTop:"-18px",height:"36px",borderRadius:"50%",outline:"none"},n(e,"borderRadius","50%"),n(e,"background","rgb(255, 255, 255)"),n(e,"cursor","pointer"),e),i=(t={position:"absolute",border:"1px solid rgb(153, 153, 153)",top:"50%",width:"36px",right:"10px",marginTop:"-18px",height:"36px",borderRadius:"50%",outline:"none"},n(t,"borderRadius","50%"),n(t,"background","rgb(255, 255, 255)"),n(t,"cursor","pointer"),t),s=this,o=this.state.tmBugPiceList;this.state.tmBugPice=o.map(function(e,t){return r.default.createElement("li",{"data-index":t,"data-checked":"true",onClick:s.isActive,style:{overflow:"hidden",position:"relative",padding:"0",margin:"10px",textAlign:"center"}},r.default.createElement("img",{src:e.url,name:e.name,"data-checked":"true","data-downloadUrl":e.downloadUrl,"data-load":e.load,"data-uid":e.uid,"data-index":t,"data-fullPath":e.fullPath,style:{paddingTop:"8px",width:"80%",display:"inline-block"},onClick:s.showImage}),r.default.createElement(m.Icon,{style:{position:"absolute",color:"red",right:"4px",top:"2px",fontSize:"16px"},type:"minus-circle",onClick:s.deleImage}),r.default.createElement("p",{style:{position:"relative",textAlign:"center"}},r.default.createElement("span",{style:{paddingLeft:"10px"}},e.name)),r.default.createElement("div",{className:"checkDownLoad","data-index":t,style:{position:"absolute",display:"none",left:"0",right:"0",top:"0",bottom:"0"}},r.default.createElement("span",{style:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0",margin:"auto",width:"32px",height:"32px",display:"block"}},r.default.createElement(m.Icon,{type:"check-circle",style:{fontSize:"32px",color:"green"}}))))});var d=(this.state.hints,{name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.InTmBug.uuid,onChange:function(e){if("uploading"!==e.file.status){var t=document.querySelector(".ant-upload-list.ant-upload-list-text");f(t).remove(),s.initPage(s.state.InTmBug)}"done"===e.file.status?m.message.success(e.file.name+" file uploaded successfully"):"error"===e.file.status&&m.message.error(e.file.name+" file upload failed.")}});return r.default.createElement(m.Modal,{visible:this.state.modal,width:"840px",title:"附件预览",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",marign:"0",padding:"0"}},r.default.createElement("div",{style:{flex:"1",height:"380px",overflow:"auto",position:"relative"}},r.default.createElement("div",{style:{overflow:"hidden",background:"#fff",zIndex:"999",position:"absolute"}},r.default.createElement("span",{style:{lineHeight:"30px"}},"缩略图"),r.default.createElement("span",{style:{float:"right"}},r.default.createElement(m.Checkbox,{onChange:this.isAllDownLoad,style:{marginLeft:"6px"}}),r.default.createElement(m.Button,{icon:"download",onClick:this.AllDownLoad,title:"多附件下载"})),r.default.createElement("span",{style:{float:"right"}},r.default.createElement("div",{style:{float:"left"}},r.default.createElement(m.Upload,l({},d,{style:{marginLeft:"4px",float:"right"}}),r.default.createElement(m.Button,{icon:g.iconAdd,type:"primary",shape:"circle",title:"上传附件",style:{float:"right"}})))),r.default.createElement(v,{placeholder:"input search text",onSearch:this.Search,onChange:this.Search,style:{width:"100%",paddingTop:"2px"}})),r.default.createElement("ul",{className:"am-pre-scrollable",style:{height:"380px",overflow:"auto",paddingTop:"80px"}},this.state.tmBugPice?this.state.tmBugPice:"暂无附件")),r.default.createElement("div",{style:{flex:"4",overflow:"hidden",textAlign:"center",height:"380px",display:"flex",flexDirection:"column"}},r.default.createElement("div",{style:{flexBasis:"38px",margin:"4px 2px",position:"relative",textAlign:"left",paddingLeft:"20px"}},r.default.createElement("span",{style:{lineHeight:"30px",width:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},"文件名:",this.state.BigpriceName),r.default.createElement("div",{style:{position:"absolute",right:"40%",top:"0"}},r.default.createElement(m.Button,{icon:"eye",onClick:this.Enlarge,title:"查看大图",style:{fontSize:"18px"}}))),r.default.createElement("div",{style:{flex:1,overflow:"hidden",position:"relative"}},r.default.createElement("button",{title:"上一张",style:a,onClick:this.UpPice},r.default.createElement(m.Icon,{type:"left"})),this.state.Bigprice?this.state.Bigprice:"",r.default.createElement("button",{title:"下一张",style:i,onClick:this.DownPice},r.default.createElement(m.Icon,{type:"right"})),r.default.createElement(m.Modal,{title:null,visible:this.state.visible,width:"860px",footer:null,onCancel:this.handleCancel},r.default.createElement("div",{style:{width:"100%",height:"100%"}},r.default.createElement("img",{src:this.state.BigpriceUrl,style:{width:"100%",height:"100%"}})))))))}}));t.default=S},1584:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=a(2),o=i(r),d=a(5),u=(i(d),a(7)),c=(i(u),a(12)),m=(i(c),a(4)),h=a(1),p=a(6),f=a(3),g=m.Form.Item,v=m.Upload.Dragger,y=(m.Select.Option,m.AutoComplete.Option,a(285)),S=a(232),b=o.default.createClass((l={displayName:"UpdatePage",getInitialState:function(){var e;return e={companyListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},n(e,"companyListSet",{}),n(e,"hints",{}),n(e,"validRules",[]),n(e,"result",[]),e},mixins:[h.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,companyListSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.companyListSet.caseRisk=e.employee[0].caseRisk,this.state.companyListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,companyListSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"cmpCode",desc:"公司编码",required:!0,max:"32"},{id:"cmpAbbr",desc:"公司简称",required:!0,max:"255"},{id:"cmpDomain",desc:"行业",required:!1,max:"80"},{id:"cmpContacts",desc:"联系人",required:!1,max:"255"},{id:"cmpName",desc:"公司名称",required:!0,max:"255"},{id:"cmpEnname",desc:"英文名称",required:!1,max:"255"},{id:"cmpAddr",desc:"公司地址",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"512"}]},initPage:function(e){console.log(e),this.state.hints={},f.copyValue(e,this.state.companyListSet),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},clear:function(e){if(this.state.hints={},this.state.companyListSet.userCode="",this.state.companyListSet.userName="",this.state.companyListSet.nikeName="",this.state.companyListSet.empCode="",this.state.companyListSet.userRole="",this.state.companyListSet.mobileNo="",this.state.companyListSet.idNumber="",this.state.companyListSet.eMail="",this.state.companyListSet.disUse="",this.state.companyListSet.remark="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid}},handleOnChange:function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})},onClickSave:function(){p.validator(this,this.state.companyListSet)?(this.state.companyListSet.operation="",console.log(this.state.companyListSet),S.updateBmCompany(this.state.companyListSet),this.setState({modal:!this.state.modal}),m.message.success("修改数据成功！")):(this.setState({hint:this.state.hint}),m.message.error("发生了错误！"))},handleOnSelected:function(e,t){var a=this.state.companyListSet;a[e]=t,p.validator(this,a,e),this.setState({companyListSet:a})}},n(l,"handleOnChange",function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})}),n(l,"toggle",function(){this.setState({modal:!this.state.modal})}),n(l,"handleSearch",function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:p.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})}),n(l,"render",function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},i={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n={name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.companyListSet.uuid,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?m.message.success(e.file.name+" 文件上传成功!."):"error"===t&&m.message.error(e.file.name+" 文件上传失败!.")}},l=this.state.hints,r=o.default.createElement(m.Form,{layout:e},o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"公司编码",required:!0,colon:!0,className:t,help:l.cmpCodeHint,validateStatus:l.cmpCodeStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpCode",id:"cmpCode",value:this.state.companyListSet.cmpCode,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"公司简称",required:!0,colon:!0,className:t,help:l.cmpAbbrHint,validateStatus:l.cmpAbbrStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpAbbr",id:"cmpAbbr",value:this.state.companyListSet.cmpAbbr,onChange:this.handleOnChange})))),o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"行业",required:!1,colon:!0,className:t,help:l.cmpDomainHint,validateStatus:l.cmpDomainStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpDomain",id:"cmpDomain",value:this.state.companyListSet.cmpDomain,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"联系人",required:!1,colon:!0,className:t,help:l.cmpContactsHint,validateStatus:l.cmpContactsStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpContacts",id:"cmpContacts",value:this.state.companyListSet.cmpContacts,onChange:this.handleOnChange})))),o.default.createElement(g,s({},a,{label:"公司名称",required:!0,colon:!0,className:t,help:l.cmpNameHint,validateStatus:l.cmpNameStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpName",id:"cmpName",value:this.state.companyListSet.cmpName,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"英文名称",required:!1,colon:!0,className:t,help:l.cmpEnnameHint,validateStatus:l.cmpEnnameStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpEnname",id:"cmpEnname",value:this.state.companyListSet.cmpEnname,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"公司地址",required:!1,colon:!0,className:t,help:l.cmpAddrHint,validateStatus:l.cmpAddrStatus}),o.default.createElement(m.Input,{type:"text",name:"cmpAddr",id:"cmpAddr",value:this.state.companyListSet.cmpAddr,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"备注",required:!1,colon:!0,className:t,help:l.remarkHint,validateStatus:l.remarkStatus}),o.default.createElement(m.Input,{type:"text",name:"remark",id:"remark",value:this.state.companyListSet.remark,onChange:this.handleOnChange})),o.default.createElement(g,null,o.default.createElement(v,n,o.default.createElement("p",{className:"ant-upload-drag-icon"},o.default.createElement(m.Icon,{type:"inbox"})),o.default.createElement("p",{className:"ant-upload-text"},"点击或拖拽文件到这个地方来上传(支持单个或多个文件上传)"))));return o.default.createElement(m.Modal,{visible:this.state.modal,width:"700px",title:"增加用户信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?o.default.createElement(m.Spin,null,r):r)}),l));t.default=b},1585:function(e,t){"use strict";e.exports={bmCompanyFields:[{id:"A",name:"cmpCode",title:"公司编码"},{id:"B",name:"cmpAbbr",title:"公司简称"},{id:"C",name:"cmpName",title:"公司名称"},{id:"D",name:"cmpEnname",title:"英文名称"},{id:"E",name:"cmpDomain",title:"行业"},{id:"F",name:"cmpAddr",title:"地址"},{id:"G",name:"cmpContacts",title:"联系人"},{id:"H",name:"remark",title:"备注"}]}},1586:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l,s=a(2),r=i(s),o=a(8),d=(i(o),a(5)),u=(i(d),a(4)),c=a(7),m=(i(c),a(1591)),h=i(m),p=a(1587),f=i(p),g=a(1588),v=i(g),y=a(1590),S=i(y),b=a(76),C=i(b),E=a(26),w=i(E),x=a(1592),k=i(x),L=a(1),N=u.Input.Search,B=(u.Radio.Button,u.Radio.Group,a(6)),D=a(3),P=a(233),I=a(286),O=10,U=r.default.createClass((l={displayName:"SystemPage",getInitialState:function(){return{recruitSet:{recordSet:[],errMsg:"",startPage:1,pageRow:10,totalRow:0},filter:{},loading:!1,filterValue:"",selectedRowKeys:[],modal:!1,arr:[]}},mixins:[L.listenTo(I,"onServiceComplete"),(0,w.default)()],onServiceComplete:function(e){console.log(e),this.setState({loading:!1,recruitSet:e})},componentDidMount:function(){this.state.validRules=[{id:"sysCode",desc:"系统编码",required:!0,max:"255"},{id:"rsvStr1",desc:"系统简称",required:!1,max:"255"},{id:"sysName",desc:"系统名称",required:!0,max:"255"},{id:"sysDevmanager",desc:"开发负责人",required:!0,max:"32"},{id:"sysTestmanager",desc:"测试负责人",required:!1,max:"32"},{id:"sysVersion",desc:"最新版本号",required:!0,max:"255"},{id:"orgId",desc:"所属部门UUID",required:!1,max:"255"}];this.state.filter;P.initBmSystem()},handleRefresh:function(e){this.setState({loading:!0});var t=this.state.filter;P.retrieveBmSystemPage(t,this.state.recruitSet.startPage,O)},onClickDetail:function(e){this.refs.DetailWindow.initPage(e),this.refs.DetailWindow.toggle()},handleAdd:function(e){this.refs.AddWindow.clear(),this.refs.AddWindow.toggle()},handleUpdate:function(e){this.refs.UpdateWindow.initPage(e),this.refs.UpdateWindow.toggle()},onClickTemplate:function(e){this.refs.templateWindow.initPage(e.uuid),this.refs.templateWindow.toggle()},toggle:function(){this.setState({modal:!this.state.modal})},onClickDelete:function(e,t){console.log(e),u.Modal.confirm({title:"删除确认",content:"是否删除选中的 公司【"+e.sysName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){console.log(e),this.setState({loading:!0}),P.deleteBmSystem(e.uuid)},beforeUpload:function(e){this.setState({loading:!0});var t=D.tbugUrl+"bm-system/importBmSystem";console.log(this.state.recruitSet);var a={};return this.uploadXlsFile(t,a,k.default.bmSystemFields,e,this.uploadComplete),!1},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&B.infoMsg(e),this.handleRefresh()},onSearch:function(e,t){if(null===t||"undefined"==typeof t||""===t)return e;var a=[];return e.map(function(e){(e.sysCode.indexOf(t)>=0||e.sysName.indexOf(t)>=0)&&a.push(e)}),a},onClickEnclosure:function(e){this.refs.EnclosureWindow.initPage(e),this.refs.EnclosureWindow.toggle()},onClickLook:function(e){this.refs.DetailWindow.initPage(e),this.refs.DetailWindow.toggle()}},n(l,"handleAdd",function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()}),n(l,"handleTempDown",function(){this.downXlsTempFile(k.default.bmSystemFields)}),n(l,"onShowSizeChange",function(e,t){O=t,this.handleRefresh()}),n(l,"onChangePage",function(e){this.state.recruitSet.startPage=e,this.handleRefresh()}),n(l,"onFilterRecord",function(e){this.setState({filterValue:e.target.value})}),n(l,"handleArrowDown",function(){var e=B.filter(this.state.arr,this.state.filterValue),t=[{id:"A",name:"sysCode",title:"系统编码"},{id:"B",name:"rsvStr1",title:"系统简称"},{id:"C",name:"sysName",title:"系统名称"},{id:"D",name:"sysDevmanager",title:"开发负责人"},{id:"E",name:"sysTestmanager",title:"测试负责人"},{id:"F",name:"sysVersion",title:"最新版本号"},{id:"G",name:"orgId",title:"所属部门"},{id:"H",name:"remark",title:"备注"}];this.downXlsTempFile2(t,e,this.refs.xls)}),n(l,"render",function(){var e=this,t=this.onSearch(this.state.recruitSet.recordSet,this.state.filterValue),a=(window.loginData.compUser.corpUuid,{title:"操作",key:"action",width:90,render:function(t,a){return r.default.createElement("span",null,r.default.createElement("a",{href:"#",title:"更新",onClick:e.handleUpdate.bind(e,a)},r.default.createElement(u.Icon,{type:B.iconUpdate})),r.default.createElement("span",{className:"ant-divider"}),r.default.createElement("a",{href:"#",title:"删除",onClick:e.onClickDelete.bind(e,a)},r.default.createElement(u.Icon,{type:B.iconRemove})),r.default.createElement("span",{className:"ant-divider"}),r.default.createElement("a",{href:"#",title:"模块",onClick:e.onClickTemplate.bind(e,a)},r.default.createElement(u.Icon,{type:"bars"})),r.default.createElement("span",{className:"ant-divider"}),r.default.createElement("a",{href:"#",title:"模块",onClick:e.onClickTemplate.bind(e,a)},r.default.createElement(u.Icon,{type:"bars"})))}}),i=[];i=[{title:"系统编码",dataIndex:"sysCode",key:"sysCode",width:140,render:function(t,a){return r.default.createElement("span",null,r.default.createElement("a",{href:"#",onClick:e.onClickLook.bind(e,a)}," ",t))}},{title:"系统简称",dataIndex:"rsvStr1",key:"rsvStr1",width:140,render:function(t,a){return r.default.createElement("span",null,r.default.createElement("a",{href:"#",onClick:e.onClickLook.bind(e,a)}," ",t))}},{title:"系统名称",dataIndex:"sysName",key:"sysName",width:140,render:function(t,a){return r.default.createElement("span",null,r.default.createElement("a",{href:"#",onClick:e.onClickLook.bind(e,a)}," ",t))}},{title:"开发负责人",dataIndex:"sysDevmanager",key:"sysDevmanager",width:140},{title:"测试负责人",dataIndex:"sysTestmanager",key:"sysTestmanager",width:140},{title:"最新版本号",dataIndex:"sysVersion",key:"sysVersion",width:140},{title:"所属部门UUID",dataIndex:"orgId",key:"orgId",width:140},a],this.state.arr=[];var n=this.state.recruitSet.recordSet;if(null!==n&&n.length>0)for(var l=0;l<n.length;l++){var s={},o=n[l];s.cmpCode=o.cmpCode,s.cmpAbbr=o.cmpAbbr,s.cmpName=o.cmpName,s.cmpEnname=o.cmpEnname,s.cmpDomain=o.cmpDomain,s.cmpContacts=o.cmpContacts,s.cmpAddr=o.cmpAddr,s.remark=o.remark,this.state.arr.push(s)}var d=B.getGridMargin(this),c={showQuickJumper:!0,total:this.state.recruitSet.totalRow,pageSize:this.state.recruitSet.pageRow,current:this.state.recruitSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},m=r.default.createElement("div",{className:"grid-page",style:{padding:d.padding}},r.default.createElement("div",{style:{margin:d.margin}},r.default.createElement("div",{className:"toolbar-table"},r.default.createElement("div",{style:{float:"left"}},r.default.createElement(u.Button,{icon:B.iconAdd,type:"primary",title:"添加公司",onClick:this.handleAdd}),r.default.createElement(u.Button,{icon:"cloud-download-o",title:"下载模板",style:{marginLeft:"4px"},onClick:this.handleTempDown}),r.default.createElement(u.Button,{icon:"arrow-down",title:"导出",onClick:this.handleArrowDown,style:{marginLeft:"4px"}}),r.default.createElement(u.Button,{icon:"sync",title:"刷新",onClick:this.handleRefresh,style:{marginLeft:"4px"}}),r.default.createElement(u.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},r.default.createElement(u.Button,{icon:"upload",title:"上传数据"}))),r.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},r.default.createElement(N,{placeholder:"系统编码/简称",style:{width:B.searchWidth},onChange:this.onFilterRecord,onSearch:this.onSearch})))),r.default.createElement("div",{className:"grid-body"},r.default.createElement(u.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},size:"middle",bordered:B.tableBorder,pagination:c})),r.default.createElement(f.default,{ref:"createWindow"}),r.default.createElement(h.default,{ref:"UpdateWindow"}),r.default.createElement(v.default,{ref:"DetailWindow"}),r.default.createElement(S.default,{ref:"templateWindow"}),r.default.createElement(C.default,{ref:"xls"}));return r.default.createElement("div",{style:{width:"100%",height:"100%"}},m)}),l));e.exports=U},1587:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=a(2),o=i(r),d=a(5),u=(i(d),a(7)),c=(i(u),a(12)),m=(i(c),a(4)),h=a(1),p=a(6),f=(a(3),m.Form.Item),g=m.Upload.Dragger,v=(m.Select.Option,m.AutoComplete.Option,a(233)),y=a(286),S=o.default.createClass((l={displayName:"CreateSystemPage",getInitialState:function(){var e;return e={companyListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},n(e,"companyListSet",{}),n(e,"hints",{}),n(e,"validRules",[]),n(e,"result",[]),e},mixins:[h.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,companyListSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.companyListSet.caseRisk=e.employee[0].caseRisk,this.state.companyListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,companyListSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"sysCode",desc:"系统编码",required:!0,max:"255"},{id:"rsvStr1",desc:"系统简称",required:!0,max:"255"},{id:"sysDevmanager",desc:"开发负责人",required:!1,max:"32"},{id:"sysTestmanager",desc:"测试负责人",required:!1,max:"32"},{id:"sysName",desc:"系统名称",required:!0,max:"255"},{id:"orgId",desc:"所属部门UUID",required:!1,max:"255"},{id:"sysVersion",desc:"最新版本号",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"512"}]},clear:function(e){if(this.state.hints={},this.state.companyListSet.sysCode="",this.state.companyListSet.rsvStr1="",this.state.companyListSet.sysDevmanager="",this.state.companyListSet.sysTestmanager="",this.state.companyListSet.sysName="",this.state.companyListSet.orgId="",this.state.companyListSet.sysVersion="",this.state.companyListSet.remark="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid}},handleOnChange:function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})},onClickSave:function(){p.validator(this,this.state.companyListSet)?(this.state.companyListSet.operation="",console.log(this.state.companyListSet),v.createBmSystem(this.state.companyListSet),this.setState({modal:!this.state.modal})):(this.setState({hint:this.state.hint}),m.message.error("发生了错误！"))},handleOnSelected:function(e,t){var a=this.state.companyListSet;a[e]=t,p.validator(this,a,e),this.setState({companyListSet:a})}},n(l,"handleOnChange",function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})}),n(l,"toggle",function(){this.setState({modal:!this.state.modal})}),n(l,"handleSearch",function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:p.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})}),n(l,"render",function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},i={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n={name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.companyListSet.uuid,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?m.message.success(e.file.name+" 文件上传成功!."):"error"===t&&m.message.error(e.file.name+" 文件上传失败!.")}},l=this.state.hints,r=o.default.createElement(m.Form,{layout:e},o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(f,s({},i,{label:"系统编码",required:!0,colon:!0,className:t,help:l.sysCodeHint,validateStatus:l.sysCodeStatus}),o.default.createElement(m.Input,{type:"text",name:"sysCode",id:"sysCode",value:this.state.companyListSet.sysCode,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(f,s({},i,{
label:"公司简称",required:!0,colon:!0,className:t,help:l.rsvStr1Hint,validateStatus:l.rsvStr1Status}),o.default.createElement(m.Input,{type:"text",name:"rsvStr1",id:"rsvStr1",value:this.state.companyListSet.rsvStr1,onChange:this.handleOnChange})))),o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(f,s({},i,{label:"开发负责人",required:!1,colon:!0,className:t,help:l.sysDevmanagerHint,validateStatus:l.sysDevmanagerStatus}),o.default.createElement(m.Input,{type:"text",name:"sysDevmanager",id:"sysDevmanager",value:this.state.companyListSet.sysDevmanager,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(f,s({},i,{label:"测试负责人",required:!1,colon:!0,className:t,help:l.sysTestmanagerHint,validateStatus:l.sysTestmanagerStatus}),o.default.createElement(m.Input,{type:"text",name:"sysTestmanager",id:"sysTestmanager",value:this.state.companyListSet.sysTestmanager,onChange:this.handleOnChange})))),o.default.createElement(f,s({},a,{label:"系统名称",required:!0,colon:!0,className:t,help:l.sysNameHint,validateStatus:l.sysNameStatus}),o.default.createElement(m.Input,{type:"text",name:"sysName",id:"sysName",value:this.state.companyListSet.sysName,onChange:this.handleOnChange})),o.default.createElement(f,s({},a,{label:"所属部门UUID",required:!1,colon:!0,className:t,help:l.orgIdHint,validateStatus:l.orgIdStatus}),o.default.createElement(m.Input,{type:"text",name:"orgId",id:"orgId",value:this.state.companyListSet.orgId,onChange:this.handleOnChange})),o.default.createElement(f,s({},a,{label:"最新版本号",required:!1,colon:!0,className:t,help:l.sysVersionHint,validateStatus:l.sysVersionStatus}),o.default.createElement(m.Input,{type:"text",name:"sysVersion",id:"sysVersion",value:this.state.companyListSet.sysVersion,onChange:this.handleOnChange})),o.default.createElement(f,s({},a,{label:"备注",required:!1,colon:!0,className:t,help:l.remarkHint,validateStatus:l.remarkStatus}),o.default.createElement(m.Input,{type:"text",name:"remark",id:"remark",value:this.state.companyListSet.remark,onChange:this.handleOnChange})),o.default.createElement(f,null,o.default.createElement(g,n,o.default.createElement("p",{className:"ant-upload-drag-icon"},o.default.createElement(m.Icon,{type:"inbox"})),o.default.createElement("p",{className:"ant-upload-text"},"点击或拖拽文件到这个地方来上传(支持单个或多个文件上传)"))));return o.default.createElement(m.Modal,{visible:this.state.modal,width:"700px",title:"增加用户信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?o.default.createElement(m.Spin,null,r):r)}),l));t.default=S},1588:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=a(2),o=i(r),d=a(5),u=(i(d),a(7)),c=(i(u),a(12)),m=(i(c),a(4)),h=a(1),p=a(6),f=a(3),g=m.Form.Item,v=(m.Upload.Dragger,m.Select.Option,m.AutoComplete.Option,a(233),a(286)),y=o.default.createClass((l={displayName:"DetailPage",getInitialState:function(){var e;return e={companyListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},n(e,"companyListSet",{}),n(e,"hints",{}),n(e,"validRules",[]),n(e,"result",[]),e},mixins:[h.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,companyListSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.companyListSet.caseRisk=e.employee[0].caseRisk,this.state.companyListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,companyListSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"sysCode",desc:"系统编码",required:!0,max:"255"},{id:"rsvStr1",desc:"系统简称",required:!0,max:"255"},{id:"sysDevmanager",desc:"开发负责人",required:!1,max:"32"},{id:"sysTestmanager",desc:"测试负责人",required:!1,max:"32"},{id:"sysName",desc:"系统名称",required:!0,max:"255"},{id:"orgId",desc:"所属部门UUID",required:!1,max:"255"},{id:"sysVersion",desc:"最新版本号",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"512"}]},clear:function(e){if(this.state.hints={},this.state.companyListSet.sysCode="",this.state.companyListSet.rsvStr1="",this.state.companyListSet.sysDevmanager="",this.state.companyListSet.sysTestmanager="",this.state.companyListSet.sysName="",this.state.companyListSet.orgId="",this.state.companyListSet.sysVersion="",this.state.companyListSet.remark="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid}},initPage:function(e){console.log(e),this.state.hints={},f.copyValue(e,this.state.companyListSet),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},handleOnChange:function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})},onClickSave:function(){p.validator(this,this.state.companyListSet)?(this.state.companyListSet.operation="",this.setState({modal:!this.state.modal})):(this.setState({hint:this.state.hint}),m.message.error("发生了错误！"))},handleOnSelected:function(e,t){var a=this.state.companyListSet;a[e]=t,p.validator(this,a,e),this.setState({companyListSet:a})}},n(l,"handleOnChange",function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})}),n(l,"toggle",function(){this.setState({modal:!this.state.modal})}),n(l,"handleSearch",function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:p.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})}),n(l,"render",function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},i={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=({name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.companyListSet.uuid,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?m.message.success(e.file.name+" 文件上传成功!."):"error"===t&&m.message.error(e.file.name+" 文件上传失败!.")}},this.state.hints),l=o.default.createElement(m.Form,{layout:e},o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"系统编码",required:!0,colon:!0,className:t,help:n.sysCodeHint,validateStatus:n.sysCodeStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"sysCode",id:"sysCode",value:this.state.companyListSet.sysCode,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"公司简称",required:!0,colon:!0,className:t,help:n.rsvStr1Hint,validateStatus:n.rsvStr1Status}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"rsvStr1",id:"rsvStr1",value:this.state.companyListSet.rsvStr1,onChange:this.handleOnChange})))),o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"开发负责人",required:!1,colon:!0,className:t,help:n.sysDevmanagerHint,validateStatus:n.sysDevmanagerStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"sysDevmanager",id:"sysDevmanager",value:this.state.companyListSet.sysDevmanager,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"测试负责人",required:!1,colon:!0,className:t,help:n.sysTestmanagerHint,validateStatus:n.sysTestmanagerStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"sysTestmanager",id:"sysTestmanager",value:this.state.companyListSet.sysTestmanager,onChange:this.handleOnChange})))),o.default.createElement(g,s({},a,{label:"系统名称",required:!0,colon:!0,className:t,help:n.sysNameHint,validateStatus:n.sysNameStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"sysName",id:"sysName",value:this.state.companyListSet.sysName,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"所属部门",required:!1,colon:!0,className:t,help:n.orgIdHint,validateStatus:n.orgIdStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"orgId",id:"orgId",value:this.state.companyListSet.orgId,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"最新版本号",required:!1,colon:!0,className:t,help:n.sysVersionHint,validateStatus:n.sysVersionStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"sysVersion",id:"sysVersion",value:this.state.companyListSet.sysVersion,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"备注",required:!1,colon:!0,className:t,help:n.remarkHint,validateStatus:n.remarkStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"remark",id:"remark",value:this.state.companyListSet.remark,onChange:this.handleOnChange})));return o.default.createElement(m.Modal,{visible:this.state.modal,width:"700px",title:"查看系统信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"确认")," ",o.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?o.default.createElement(m.Spin,null,l):l)}),l));t.default=y},1589:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),s=i(l),r=a(4),o=s.default.createClass({displayName:"EditableCellPage",getInitialState:function(){return{value:this.props.value,editable:!1}},handleChange:function(e){var t=e.target.value;this.setState({value:t})},check:function(){this.setState({editable:!1}),this.props.onChange&&this.props.onChange(this.state.value)},edit:function(){this.setState({editable:!0})},render:function(){var e,t=this.state.value;this.state.editable;return s.default.createElement("div",{style:{position:"relative"}},this.state.editable?s.default.createElement("div",{style:{paddingRight:"24px"}},s.default.createElement(r.Input,{value:this.state.value,onChange:this.handleChange,onPressEnter:this.check,style:{width:"90%"}}),s.default.createElement(r.Icon,{style:{cursor:"pointer",right:"0",width:"20px",position:"absolute",lineHeight:"2"},type:"check",onClick:this.check})):s.default.createElement("div",{style:{paddingRight:"24px",padding:" 5px 24px 5px 5px"}},t||" ",s.default.createElement(r.Icon,(e={style:{cursor:"pointer"},type:"edit"},n(e,"style",{cursor:"pointer",right:"0",width:"20px",position:"absolute",lineHeight:"18px"}),n(e,"onClick",this.edit),e))))}});t.default=o},1590:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var s,r=a(2),o=i(r),d=a(5),u=(i(d),a(7)),c=(i(u),a(12)),m=(i(c),a(4)),h=a(1589),p=i(h),f=a(1),g=a(6),v=(a(3),m.Form.Item,m.Upload.Dragger,m.Select.Option,m.AutoComplete.Option,a(233)),y=a(286),S=o.default.createClass((s={displayName:"TemplateSystemPage",getInitialState:function(){var e;return e={companyListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},l(e,"companyListSet",{}),l(e,"hints",{}),l(e,"validRules",[]),l(e,"result",[]),l(e,"dataSource",[{key:"0",name:"Edward King 0",age:"32",address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:"32",address:"London, Park Lane no. 1"}]),l(e,"count",2),e},mixins:[f.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){console.log(e.systemmdl),this.setState({employeeLoading:!1,companyListSet:e.systemmdl}),this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,companyListSet:e.systemmdl}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.companyListSet.caseRisk=e.employee[0].caseRisk,this.state.companyListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,companyListSet:e.systemmdl}))},componentDidMount:function(){this.state.validRules=[{id:"sysCode",desc:"系统编码",required:!0,max:"255"},{id:"rsvStr1",desc:"系统简称",required:!0,max:"255"},{id:"sysDevmanager",desc:"开发负责人",required:!1,max:"32"},{id:"sysTestmanager",desc:"测试负责人",required:!1,max:"32"},{id:"sysName",desc:"系统名称",required:!0,max:"255"},{id:"orgId",desc:"所属部门UUID",required:!1,max:"255"},{id:"sysVersion",desc:"最新版本号",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"512"}]},initPage:function(e){console.log(e),this.state.hints={},v.bmSystemMdl(e),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},handleOnChange:function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,g.validator(this,t,e.target.id),this.setState({companyListSet:t})},onClickSave:function(){console.log(this.state.companyListSet),v.addBmSystemMdl(this.state.companyListSet),this.setState({modal:!this.state.modal})},handleOnSelected:function(e,t){var a=this.state.companyListSet;a[e]=t,g.validator(this,a,e),this.setState({companyListSet:a})}},l(s,"handleOnChange",function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,g.validator(this,t,e.target.id),this.setState({companyListSet:t})}),l(s,"toggle",function(){this.setState({modal:!this.state.modal})}),l(s,"handleSearch",function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:g.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})}),l(s,"onCellChange",function(e,t){var a=this;return function(i){var l=[].concat(n(a.state.dataSource));l[e][t]=i,a.setState({dataSource:l})}}),l(s,"onDelete",function(e){var t=[].concat(n(this.state.dataSource));t.splice(e,1),this.setState({dataSource:t})}),l(s,"handleAdd",function(){var e={sysCode:"",sysName:"",sysDeverr:"",parentId:"",sysVersion:"",sysDesp:""},t=this.state;t.companyListSet.push(e),this.setState(t)}),l(s,"onDelete",function(e){var t=[].concat(n(this.state.companyListSet));t.splice(e,1),this.setState({companyListSet:t})}),l(s,"handleOnChangeCell",function(e,t){var a=this;return function(i){console.log(a.state);var l=[].concat(n(a.state.companyListSet));console.log(l),l[e][t]=i,console.log(l[e][t]),console.log(l),a.setState({companyListSet:l}),console.log(a.state.companyListSet)}}),l(s,"render",function(){var e=this,t=[{title:"模块编码",dataIndex:"sysCode",key:"sysCode",width:140,render:function(t,a,i){return o.default.createElement(p.default,{value:e.state.companyListSet[i].sysCode,onChange:e.handleOnChangeCell(i,"sysCode")})}},{title:"模块名称",dataIndex:"sysName",key:"sysName",width:140,render:function(t,a,i){return o.default.createElement(p.default,{value:e.state.companyListSet[i].sysName,onChange:e.handleOnChangeCell(i,"sysName")})}},{title:"开发人员",dataIndex:"sysDeverr",key:"sysDeverr",width:140,render:function(t,a,i){return o.default.createElement(p.default,{value:e.state.companyListSet[i].sysDeverr,onChange:e.handleOnChangeCell(i,"sysDeverr")})}},{title:"上级模块",dataIndex:"parentId",key:"parentId",width:140,render:function(t,a,i){return o.default.createElement(p.default,{value:e.state.companyListSet[i].parentId,onChange:e.handleOnChangeCell(i,"parentId")})}},{title:"最新版本号",dataIndex:"sysVersion",key:"sysVersion",width:140,render:function(t,a,i){return o.default.createElement(p.default,{value:e.state.companyListSet[i].sysVersion,onChange:e.handleOnChangeCell(i,"sysVersion")})}},{title:"模块描述",dataIndex:"sysDesp",key:"sysDesp",width:140,render:function(t,a,i){return o.default.createElement(p.default,{value:e.state.companyListSet[i].sysDesp,onChange:e.handleOnChangeCell(i,"sysDesp")})}},{title:"操作",dataIndex:"operation",key:"operation",width:30,render:function(t,a,i){return o.default.createElement("div",null,o.default.createElement(m.Popconfirm,{title:"确定删除此条信息?",onConfirm:function(){return e.onDelete(i)}},o.default.createElement(m.Icon,{type:"delete",style:{cursor:"pointer"}})))}}],a=(this.state.hints,o.default.createElement("div",null,o.default.createElement(m.Button,{className:"editable-add-btn",onClick:this.handleAdd},"Add"),o.default.createElement(m.Table,{bordered:!0,dataSource:this.state.companyListSet,columns:t})));return o.default.createElement(m.Modal,{visible:this.state.modal,width:"880px",title:"模块管理",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?o.default.createElement(m.Spin,null,a):a)}),s));t.default=S},1591:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=a(2),o=i(r),d=a(5),u=(i(d),a(7)),c=(i(u),a(12)),m=(i(c),a(4)),h=a(1),p=a(6),f=a(3),g=m.Form.Item,v=m.Upload.Dragger,y=(m.Select.Option,m.AutoComplete.Option,a(233)),S=a(286),b=o.default.createClass((l={displayName:"UpdateSystemPage",getInitialState:function(){var e;return e={companyListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},n(e,"companyListSet",{}),n(e,"hints",{}),n(e,"validRules",[]),n(e,"result",[]),e},mixins:[h.listenTo(S,"onServiceComplete")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,companyListSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.companyListSet.caseRisk=e.employee[0].caseRisk,this.state.companyListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,companyListSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"sysCode",desc:"系统编码",required:!0,max:"255"},{id:"rsvStr1",desc:"系统简称",required:!0,max:"255"},{id:"sysDevmanager",desc:"开发负责人",required:!1,max:"32"},{id:"sysTestmanager",desc:"测试负责人",required:!1,max:"32"},{id:"sysName",desc:"系统名称",required:!0,max:"255"},{id:"orgId",desc:"所属部门UUID",required:!1,max:"255"},{id:"sysVersion",desc:"最新版本号",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"512"}]},clear:function(e){if(this.state.hints={},this.state.companyListSet.sysCode="",this.state.companyListSet.rsvStr1="",this.state.companyListSet.sysDevmanager="",this.state.companyListSet.sysTestmanager="",this.state.companyListSet.sysName="",this.state.companyListSet.orgId="",this.state.companyListSet.sysVersion="",this.state.companyListSet.remark="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid}},initPage:function(e){console.log(e),this.state.hints={},f.copyValue(e,this.state.companyListSet),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},handleOnChange:function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})},onClickSave:function(){p.validator(this,this.state.companyListSet)?(this.state.companyListSet.operation="",console.log(this.state.companyListSet),y.updateBmSystem(this.state.companyListSet),this.setState({modal:!this.state.modal})):(this.setState({hint:this.state.hint}),m.message.error("发生了错误！"))},handleOnSelected:function(e,t){var a=this.state.companyListSet;a[e]=t,p.validator(this,a,e),this.setState({companyListSet:a})}},n(l,"handleOnChange",function(e){var t=this.state.companyListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({companyListSet:t})}),n(l,"toggle",function(){this.setState({modal:!this.state.modal})}),n(l,"handleSearch",function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:p.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})}),n(l,"render",function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},i={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n={name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.companyListSet.uuid,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?m.message.success(e.file.name+" 文件上传成功!."):"error"===t&&m.message.error(e.file.name+" 文件上传失败!.")}},l=this.state.hints,r=o.default.createElement(m.Form,{layout:e},o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"系统编码",required:!0,colon:!0,className:t,help:l.sysCodeHint,validateStatus:l.sysCodeStatus}),o.default.createElement(m.Input,{type:"text",name:"sysCode",id:"sysCode",value:this.state.companyListSet.sysCode,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"公司简称",required:!0,colon:!0,className:t,help:l.rsvStr1Hint,validateStatus:l.rsvStr1Status}),o.default.createElement(m.Input,{type:"text",name:"rsvStr1",id:"rsvStr1",value:this.state.companyListSet.rsvStr1,onChange:this.handleOnChange})))),o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"开发负责人",required:!1,colon:!0,className:t,help:l.sysDevmanagerHint,validateStatus:l.sysDevmanagerStatus}),o.default.createElement(m.Input,{type:"text",name:"sysDevmanager",id:"sysDevmanager",value:this.state.companyListSet.sysDevmanager,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"测试负责人",required:!1,colon:!0,className:t,help:l.sysTestmanagerHint,validateStatus:l.sysTestmanagerStatus}),o.default.createElement(m.Input,{type:"text",name:"sysTestmanager",id:"sysTestmanager",value:this.state.companyListSet.sysTestmanager,onChange:this.handleOnChange})))),o.default.createElement(g,s({},a,{label:"系统名称",required:!0,colon:!0,className:t,help:l.sysNameHint,validateStatus:l.sysNameStatus}),o.default.createElement(m.Input,{type:"text",name:"sysName",id:"sysName",value:this.state.companyListSet.sysName,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"所属部门",required:!1,colon:!0,className:t,help:l.orgIdHint,validateStatus:l.orgIdStatus}),o.default.createElement(m.Input,{type:"text",name:"orgId",id:"orgId",value:this.state.companyListSet.orgId,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"最新版本号",required:!1,colon:!0,className:t,help:l.sysVersionHint,validateStatus:l.sysVersionStatus}),o.default.createElement(m.Input,{type:"text",name:"sysVersion",id:"sysVersion",value:this.state.companyListSet.sysVersion,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"备注",required:!1,colon:!0,className:t,help:l.remarkHint,validateStatus:l.remarkStatus}),o.default.createElement(m.Input,{type:"text",name:"remark",id:"remark",value:this.state.companyListSet.remark,onChange:this.handleOnChange})),o.default.createElement(g,null,o.default.createElement(v,n,o.default.createElement("p",{className:"ant-upload-drag-icon"},o.default.createElement(m.Icon,{type:"inbox"})),o.default.createElement("p",{className:"ant-upload-text"},"点击或拖拽文件到这个地方来上传(支持单个或多个文件上传)"))));return o.default.createElement(m.Modal,{visible:this.state.modal,width:"700px",title:"增加用户信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?o.default.createElement(m.Spin,null,r):r)}),l));t.default=b},1592:function(e,t){"use strict";e.exports={bmSystemFields:[{id:"A",name:"sysCode",title:"系统编码"},{id:"B",name:"rsvStr1",title:"系统简称"},{id:"C",name:"sysName",title:"系统名称"},{id:"D",name:"sysDevmanager",title:"开发负责人"},{id:"E",name:"sysTestmanager",title:"测试负责人"},{id:"F",name:"sysVersion",title:"最新版本号"},{id:"G",name:"orgId",title:"所属部门"},{id:"H",name:"remark",title:"备注"}]}},1593:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=a(2),s=i(l),r=a(5),o=(i(r),a(17)),d=i(o),u=a(7),c=i(u),m=a(9),h=i(m),p=a(381),f=i(p),g=a(4),v=a(1),y=a(6),S=g.Form.Item,b=g.Select.Option,C=a(287),E=a(234),w=s.default.createClass({displayName:"CreateTmBugPage",getInitialState:function(){return{tmBugSet:{operation:"",errMsg:""},loading:!1,modal:!1,tmBug:{},tmBugSelect:[],tmBugSelectData:{},tmBugSelectHtmlData:[],hints:{},validRules:[],mdlId:[],findVer:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,h.default)("tmBug")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tmBugSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"bugName",desc:"缺陷名称",required:!0,max:"255"},{id:"bugDesp",desc:"缺陷描述",required:!1,max:"65535"},{id:"bugPriorty",desc:"优先级",required:!0,max:"255"},{id:"bugStage",desc:"测试阶段",required:!1,max:"255"},{id:"bugSeverity",desc:"严重程度",required:!0,max:"255"},{id:"bugType",desc:"缺陷类型",required:!0,max:"255"},{id:"bugChance",desc:"重现概率",required:!1,max:"255"},{id:"sysId",desc:"所属系统",required:!0,max:"255"},{id:"findVer",desc:"发现版本",required:!1,max:"255"},{id:"mdlId",desc:"模块名称",required:!1,max:"255"},{id:"caseCode",desc:"案例编码",required:!1,max:"255"},{id:"bugResponsible",desc:"处理人",required:!0,max:"255"}]},clear:function(e){this.state.hints={},this.state.tmBug.bugName="",this.state.tmBug.bugDesp="测试环境:测试目的: 重现步骤: 预期结果: 实际结果:",this.state.tmBug.bugPriorty="",this.state.tmBug.bugStage="",this.state.tmBug.bugSeverity="",this.state.tmBug.bugType="",this.state.tmBug.bugChance="",this.state.tmBug.sysId="",this.state.tmBug.findVer="",this.state.tmBug.mdlId="",this.state.tmBug.caseCode="",this.state.tmBug.bugResponsible="",this.state.loading=!1,this.state.tmBugSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear();var t={flowNo:"0",object:{}},a=this;d.default.ajax({type:"POST",url:"http://10.10.10.201:8082/tbug_s/tm-bug/createInit",data:JSON.stringify(t),contentType:"application/json"}).done(function(e){var t=e.object,i={},n={},l=a.toArray(t.systemModel),s=l,r=l,o=a.toArray(t.bugType),d=a.toArray(t.bugSeverity),u=a.toArray(t.bugPriorty),c=a.toArray(t.bugChance),m=a.toArray(t.bugStage),h=a.toArray(t.bugStage),p=a.toArray(t.bmUser);n.systemModel=l,n.mdlId=s,n.findVer=r,n.bugType=o,n.bugSeverity=d,n.bugPriorty=u,n.bugChance=c,n.bugStage=m,n.caseCode=h,n.bmUser=p,i.systemModel=a.toHtml(l,"sysname"),i.mdlId=a.toHtml(l[0].bmSystemMdl,"sysName"),i.findVer=a.toHtml(l[0].bmSystemVer,"sysVersion"),i.bugType=a.toHtml(o),i.bugSeverity=a.toHtml(d),i.bugPriorty=a.toHtml(u),i.bugChance=a.toHtml(c),i.bugStage=a.toHtml(m),i.bmUser=a.toHtml(p,"userName"),a.setState({tmBugSelect:t,tmBugSelectHtmlData:i,tmBugSelectData:n,mdlId:i.mdlId,findVer:i.findVer})})},toArray:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);return t},toHtml:function(e,t){var a=e.map(function(e,a){var i="",n="";return void 0!=t?(i=e[t],n=a):(i=e,n=a),s.default.createElement(b,{value:i,tabindex:n},i)});return a},ClickSave:function(){this.state.tmBug.cmpId=window.loginData.compUser.corpUuid,y.formValidator(this,this.state.tmBug)&&(this.state.tmBugSet.operation="",this.setState({loading:!0}),this.state.tmBug.uuid=this.state.tmBugSelect.uuid,E.createTmBug(this.state.tmBug))},handleOpenEnclosureWindow:function(e){var t={uuid:this.state.tmBugSelect.uuid};null!=t&&(this.refs.showEnclosure.initPage(t),this.refs.showEnclosure.toggle())},handleProvinceChange:function(e){this.state.tmBug.sysId=e,this.state.hints.sysIdHint=null,this.state.hints.sysIdStatus=null;for(var t=this.state.tmBugSelectData.systemModel,a="",i=[],n=[],l=0;l<t.length;l++)t[l].sysname==e&&(a=t[l]);i=this.toHtml(a.bmSystemMdl,"sysName"),n=this.toHtml(a.bmSystemVer,"sysVersion"),this.setState({mdlId:i,findVer:n})},render:function(){var e=this,t=this.state.tmBugSelectHtmlData.systemModel,a=this.state.mdlId,i=this.state.findVer,l=this.state.tmBugSelectHtmlData.bugType,r=this.state.tmBugSelectHtmlData.bugSeverity,o=this.state.tmBugSelectHtmlData.bugPriorty,d=this.state.tmBugSelectHtmlData.bugChance,u=this.state.tmBugSelectHtmlData.bugStage,m=(this.state.tmBugSelectHtmlData.caseCode,this.state.tmBugSelectHtmlData.bmUser),h="horizontal",p="form-item-"+h,v={labelCol:"vertical"==h?null:{span:3},wrapperCol:"vertical"==h?null:{span:21}},y={labelCol:"vertical"==h?null:{span:6},wrapperCol:"vertical"==h?null:{span:18}},b={labelCol:"vertical"==h?null:{span:10},wrapperCol:"vertical"==h?null:{span:14}},C={labelCol:"vertical"==h?null:{span:12},wrapperCol:"vertical"==h?null:{span:12}},E=this.state.hints;return E.bugPriortyHint&&(E.bugPriortyHint.props.children="请选择优先级"),E.bugResponsibleHint&&(E.bugResponsibleHint.props.children="请选择处理人"),E.bugSeverityHint&&(E.bugSeverityHint.props.children="请选择严重程度"),E.bugTypeHint&&(E.bugTypeHint.props.children="请选择缺陷类型"),E.deteSysIdHint&&(E.deteSysIdHint.props.children="请选择所属系统"),s.default.createElement(g.Modal,{visible:this.state.modal,width:"680px",title:"增加缺陷管理信息",maskClosable:!1,onCancel:this.toggle,footer:[s.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},s.default.createElement(c.default,{ref:"mxgBox",svcList:["tm-bug/create"]}),s.default.createElement("span",{style:{float:"left"}},s.default.createElement(g.Button,{key:"btnEnclosure",size:"large",onClick:this.handleOpenEnclosureWindow},"附件")),s.default.createElement(g.Button,{key:"btnSave",size:"large"},"保存并提交"),s.default.createElement(g.Button,{key:"btnOK",size:"large",onClick:this.ClickSave,loading:this.state.loading},"保存"),s.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},s.default.createElement(g.Form,{layout:h},s.default.createElement(g.Row,null,s.default.createElement(g.Col,null,s.default.createElement(S,n({},v,{label:"缺陷名称",required:!0,colon:!0,help:E.bugNameHint,validateStatus:E.bugNameStatus}),s.default.createElement(g.Input,{type:"text",name:"bugName",id:"bugName",value:this.state.tmBug.bugName,
onChange:this.handleOnChange})))),s.default.createElement(g.Row,null,s.default.createElement(g.Col,{span:12},s.default.createElement(S,n({},y,{label:"所属系统",required:"true",help:E.sysIdHint,validateStatus:E.sysIdStatus}),s.default.createElement(g.Select,{defaultValue:"--",name:"sysId",id:"sysId",value:this.state.tmBug.sysId,style:{width:"100%"},onChange:this.handleProvinceChange},t))),s.default.createElement(g.Col,{span:6},s.default.createElement(S,n({},b,{label:"版本编码",help:E.findVerHint,validateStatus:E.findVerStatus}),s.default.createElement(g.Select,{defaultValue:"--",style:{width:"100%"},name:"findVer",id:"findVer",value:this.state.tmBug.findVer,onChange:function(t){e.state.tmBug.findVer=t,e.setState({})}},i))),s.default.createElement(g.Col,{span:6},s.default.createElement(S,n({},b,{label:"所属模块",help:E.mdlIdHint,validateStatus:E.mdlIdStatus}),s.default.createElement(g.Select,{style:{width:"100%"},name:"mdlId",id:"mdlId",value:this.state.tmBug.mdlId,onChange:function(t){e.state.tmBug.mdlId=t,e.setState({})}},a)))),s.default.createElement(g.Row,null,s.default.createElement(g.Col,{span:6},s.default.createElement(S,n({},C,{label:"缺陷类型",required:"true",help:E.bugTypeHint,validateStatus:E.bugTypeStatus}),s.default.createElement(g.Select,{defaultValue:"--",style:{width:"100%"},name:"bugType",id:"bugType",value:this.state.tmBug.bugType,onChange:function(t){e.state.tmBug.bugType=t,e.state.hints.bugTypeHint=null,e.state.hints.bugTypeStatus=null,e.setState({})}},l))),s.default.createElement(g.Col,{span:6},s.default.createElement(S,n({},C,{label:"严重程度",required:"true",help:E.bugSeverityHint,validateStatus:E.bugSeverityStatus}),s.default.createElement(g.Select,{defaultValue:"--",style:{width:"100%"},name:"bugSeverity",id:"bugSeverity",value:this.state.tmBug.bugSeverity,onChange:function(t){e.state.tmBug.bugSeverity=t,e.state.hints.bugSeverityHint=null,e.state.hints.bugSeverityStatus=null,e.setState({})}},r))),s.default.createElement(g.Col,{span:6},s.default.createElement(S,n({},b,{label:"优先级",required:"true",help:E.bugPriortyHint,validateStatus:E.bugPriortyStatus}),s.default.createElement(g.Select,{defaultValue:"--",style:{width:"100%"},name:"bugPriorty",id:"bugPriorty",value:this.state.tmBug.bugPriorty,onChange:function(t){e.state.tmBug.bugPriorty=t,e.state.hints.bugPriortyHint=null,e.state.hints.bugPriortyStatus=null,e.setState({})}},o))),s.default.createElement(g.Col,{span:6},s.default.createElement(S,n({},b,{label:"重现概率",help:E.bugChanceHint,validateStatus:E.bugChanceStatus}),s.default.createElement(g.Select,{defaultValue:"--",style:{width:"100%"},name:"bugChance",id:"bugChance",value:this.state.tmBug.bugChance,onChange:function(t){e.state.tmBug.bugChance=t,e.setState({})}},d)))),s.default.createElement(g.Row,null,s.default.createElement(g.Col,{span:6},s.default.createElement(S,n({},C,{label:"测试阶段",help:E.bugStageHint,validateStatus:E.bugStageStatus}),s.default.createElement(g.Select,{defaultValue:"--",style:{width:"100%"},name:"bugStage",id:"bugStage",value:this.state.tmBug.bugStage,onChange:function(t){e.state.tmBug.bugStage=t,e.setState({})}},u))),s.default.createElement(g.Col,{span:12},s.default.createElement(S,n({},y,{label:"用例编码",colon:!0,help:E.caseCodeHint,validateStatus:E.caseCodeStatus}),s.default.createElement(g.Input,{type:"text",name:"caseCode",id:"caseCode",value:this.state.tmBug.caseCode,onChange:this.handleOnChange}))),s.default.createElement(g.Col,{span:6},s.default.createElement(S,n({},b,{label:"处理人",required:!0,help:E.bugResponsibleHint,validateStatus:E.bugResponsibleStatus}),s.default.createElement(g.Select,{defaultValue:"--",style:{width:"100%"},name:"bugResponsible",id:"bugResponsible",value:this.state.tmBug.bugResponsible,onChange:function(t){e.state.tmBug.bugResponsible=t,e.state.hints.bugResponsibleHint=null,e.state.hints.bugResponsibleStatus=null,e.setState({})}},m)))),s.default.createElement(S,n({},v,{style:{postion:"relative"},label:"缺陷描述",colon:!0,className:p,help:E.bugDespHint,validateStatus:E.bugDespStatus}),s.default.createElement(g.Input,{type:"textarea",name:"bugDesp",id:"bugDesp",value:this.state.tmBug.bugDesp,onFocus:this.handleHide,onBlur:this.handleShow,onChange:this.handleOnChange,style:{height:"160px"}}))),s.default.createElement(f.default,{ref:"showEnclosure"}))}});t.default=w},1594:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=a(2),s=i(l),r=a(5),o=(i(r),a(7)),d=(i(o),a(9)),u=i(d),c=a(12),m=(i(c),a(4)),h=(a(1),a(17)),p=a(6),f=(m.DatePicker.MonthPicker,m.DatePicker.RangePicker,m.Form.Item),g=m.Select.Option,v=s.default.createClass({displayName:"RecruitFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],recruit:{},filterData:[]}},mixins:[(0,u.default)("recruit")],componentDidMount:function(){var e=this,t="http://10.10.10.201:8082/tbug_s/tm-bug/quickSelectInit",a={flowNo:"1",object:{}};h.ajax({type:"POST",url:t,data:JSON.stringify(a),contentType:"application/json"}).done(function(t){e.setState({filterData:t.object})})},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},toHtml:function(e,t){var a=e.map(function(e,a){var i="",n="";return void 0!=t?(i=e[t],n=a):(i=e,n=a),s.default.createElement(g,{value:i,tabindex:n},i)});return a},render:function(){var e=this;if(!this.state.modal)return null;var t=this.state.filterData,a=(this.toHtml(t.bmUser,"userName"),this.toHtml(t.bugSeverity)),i=this.toHtml(t.bugStage),l=this.toHtml(t.bugType),r=this.toHtml(t.model),o=this.toHtml(t.system),d=(this.toHtml(t.sysver),"horizontal"),u="form-item-"+d,c={labelCol:"vertical"==d?null:{span:8},wrapperCol:"vertical"==d?null:{span:16}},h=this.state.hints;return s.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 2px"}},s.default.createElement("div",{style:{width:"100%",height:"100%",float:"right"}},s.default.createElement(m.Form,{layout:d,style:{width:"100%"}},s.default.createElement(m.Row,{gutter:10},s.default.createElement(m.Col,{className:"gutter-row",span:5},s.default.createElement(f,n({},c,{label:"缺陷编码",required:!1,colon:!0,className:u,help:h.bugCodeHint,validateStatus:h.bugCodeStatus}),s.default.createElement(m.Input,{type:"text",name:"bugCode",id:"bugCode",value:this.state.recruit.bugCode,onChange:this.handleOnChange}))),s.default.createElement(m.Col,{className:"gutter-row",span:5},s.default.createElement(f,n({},c,{label:"缺陷名称",required:!1,colon:!0,className:u,help:h.bugNameHint,validateStatus:h.bugNameStatus}),s.default.createElement(m.Input,{type:"text",name:"bugName",id:"bugName",value:this.state.recruit.bugName,onChange:this.handleOnChange}))),s.default.createElement(m.Col,{className:"gutter-row",span:5},s.default.createElement(f,n({},c,{label:"缺陷状态",required:!1,colon:!0,className:u,help:h.bugStatHint,validateStatus:h.bugStatStatus}),s.default.createElement(m.Select,{defaultValue:"--",style:{width:"100%"},name:"bugStat",id:"bugStat",value:this.state.recruit.bugStat,onChange:function(t){e.state.recruit.bugStat=t,e.setState({})}},i))),s.default.createElement(m.Col,{className:"gutter-row",span:5},s.default.createElement(f,n({},c,{label:"发现日期",required:!1,colon:!0,className:u}),s.default.createElement(m.DatePicker,{name:"deteData",id:"deteData",format:p.dateFormat,value:this.formatDate(this.state.recruit.deteData,p.monthDate),onChange:this.handleOnSelDate.bind(this,"deteData",p.dateFormat)}))),s.default.createElement(m.Col,{className:"gutter-row",span:4},s.default.createElement(f,n({},c,{label:"截止日期",required:!1,colon:!0,className:u}),s.default.createElement(m.DatePicker,{name:"endData",id:"endData",format:p.dateFormat,value:this.formatDate(this.state.recruit.endData,p.monthDate),onChange:this.handleOnSelDate.bind(this,"endData",p.dateFormat)})))),s.default.createElement(m.Row,{gutter:10},s.default.createElement(m.Col,{className:"gutter-row",span:5},s.default.createElement(f,n({},c,{label:"所属系统",required:!1,colon:!0,className:u,help:h.sysIdHint,validateStatus:h.sysIdStatus}),s.default.createElement(m.Select,{defaultValue:"--",style:{width:"100%"},name:"sysId",id:"sysId",value:this.state.recruit.sysId,onChange:function(t){e.state.recruit.sysId=t,e.setState({})}},o))),s.default.createElement(m.Col,{className:"gutter-row",span:5},s.default.createElement(f,n({},c,{label:"所属模块",required:!1,colon:!0,className:u,help:h.mdlIdHint,validateStatus:h.mdlIdStatus}),s.default.createElement(m.Select,{defaultValue:"--",style:{width:"100%"},name:"mdlId",id:"mdlId",value:this.state.recruit.mdlId,onChange:function(t){e.state.recruit.mdlId=t,e.setState({})}},r))),s.default.createElement(m.Col,{className:"gutter-row",span:5},s.default.createElement(f,n({},c,{label:"缺陷类型",required:!1,colon:!0,className:u,help:h.bugTypeHint,validateStatus:h.bugTypeStatus}),s.default.createElement(m.Select,{defaultValue:"--",style:{width:"100%"},name:"bugType",id:"bugType",value:this.state.recruit.bugType,onChange:function(t){e.state.recruit.bugType=t,e.setState({})}},l))),s.default.createElement(m.Col,{className:"gutter-row",span:5},s.default.createElement(f,n({},c,{label:"严重程度",required:!1,colon:!0,className:u,help:h.applyMouthHint,validateStatus:h.applyMouthStatus}),s.default.createElement(m.Select,{defaultValue:"--",style:{width:"100%"},name:"bugSeverity",id:"bugSeverity",value:this.state.recruit.bugSeverity,onChange:function(t){e.state.recruit.bugSeverity=t,e.setState({})}},a))),s.default.createElement(m.Col,{className:"gutter-row",span:4},s.default.createElement(f,n({},c,{label:"发现人",required:!1,colon:!0,className:u,help:h.regUserHint,validateStatus:h.regUserStatus}),s.default.createElement(m.Select,{defaultValue:"--",style:{width:"100%"},name:"regUser",id:"regUser",value:this.state.recruit.regUser,onChange:function(t){e.state.recruit.regUser=t,e.setState({})}})))))))}});e.exports=v},1595:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=a(2),s=i(l),r=a(5),o=(i(r),a(7)),d=i(o),u=a(9),c=i(u),m=a(381),h=i(m),p=a(4),f=a(1),g=(a(6),p.Form.Item),v=(p.Select.Option,a(287)),y=(a(234),s.default.createClass({displayName:"ShowDetailPage",getInitialState:function(){return{tmBugSet:{operation:"",errMsg:""},loading:!1,modal:!1,tmBug:{},hints:{},validRules:[]}},mixins:[f.listenTo(v,"onServiceComplete"),(0,c.default)("tmBug")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tmBugSet:e}))},init:function(e){this.state.hints={},this.state.tmBug.uuid=e.uuid,this.state.tmBug.bugName=e.bugName,this.state.tmBug.bugDesp=e.bugDesp,this.state.tmBug.bugPriorty=e.bugPriorty,this.state.tmBug.bugStage=e.bugStage,this.state.tmBug.bugSeverity=e.bugSeverity,this.state.tmBug.bugType=e.bugType,this.state.tmBug.bugChance=e.bugChance,this.state.tmBug.sysId=e.sysId,this.state.tmBug.findVer=e.findVer,this.state.tmBug.mdlId=e.mdlId,this.state.tmBug.caseCode=e.caseCode,this.state.tmBug.bugResponsible=e.bugResponsible,this.state.tmBug.closedUser=e.closedUser,this.state.tmBug.isclosed=e.isclosed,this.state.tmBug.closedDate=e.closedDate,this.state.tmBug.closeDesp=e.closeDesp,this.state.loading=!1,this.state.tmBugSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},handleOpenEnclosureWindow:function(e){var t={uuid:this.state.tmBug.uuid};null!=t&&(this.refs.showEnclosure.initPage(t),this.refs.showEnclosure.toggle())},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},i={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l={labelCol:"vertical"==e?null:{span:12},wrapperCol:"vertical"==e?null:{span:12}},r={labelCol:"vertical"==e?null:{span:16},wrapperCol:"vertical"==e?null:{span:8}};this.state.hints;return s.default.createElement(p.Modal,{visible:this.state.modal,width:"640px",title:"查看管理信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[s.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},s.default.createElement(d.default,{ref:"mxgBox",svcList:["tm-bug/create"]}),s.default.createElement("span",{style:{float:"left"}},s.default.createElement(p.Button,{key:"btnEnclosure",size:"large",onClick:this.handleOpenEnclosureWindow},"附件")),s.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},s.default.createElement(p.Form,{layout:e},s.default.createElement(p.Row,null,s.default.createElement(p.Col,null,s.default.createElement(g,n({},a,{label:"缺陷名称",required:!0,colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"bugName",id:"bugName",value:this.state.tmBug.bugName,disabled:!0})))),s.default.createElement(p.Row,null,s.default.createElement(p.Col,{span:12},s.default.createElement(g,n({},i,{label:"所属系统",required:!0,colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"sysId",id:"sysId",value:this.state.tmBug.sysId,disabled:!0}))),s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},l,{label:"模块名称",colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"mdlId",id:"mdlId",value:this.state.tmBug.mdlId,disabled:!0}))),s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},l,{label:"版本编码",colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"findVer",id:"findVer",value:this.state.tmBug.findVer,disabled:!0})))),s.default.createElement(p.Row,null,s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},r,{label:"缺陷类型",required:!0,colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"bugType",id:"bugType",value:this.state.tmBug.bugType,disabled:!0}))),s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},r,{label:"严重程度",required:!0,colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"bugSeverity",id:"bugSeverity",value:this.state.tmBug.bugSeverity,disabled:!0}))),s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},l,{label:"优先级",required:!0,colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"bugPriorty",id:"bugPriorty",value:this.state.tmBug.bugPriorty,disabled:!0}))),s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},l,{label:"重现概率",colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"bugChance",id:"bugChance",value:this.state.tmBug.bugChance,disabled:!0})))),s.default.createElement(p.Row,null,s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},r,{label:"测试阶段",colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"bugStage",id:"bugStage",value:this.state.tmBug.bugStage,disabled:!0}))),s.default.createElement(p.Col,{span:12},s.default.createElement(g,n({},i,{label:"用例编码",colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"caseCode",id:"caseCode",value:this.state.tmBug.caseCode,disabled:!0}))),s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},l,{label:"处理人",required:!0,colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"bugResponsible",id:"bugResponsible",value:this.state.tmBug.bugResponsible,disabled:!0})))),s.default.createElement(p.Row,null,s.default.createElement(p.Col,null,s.default.createElement(g,n({},a,{label:"缺陷描述",colon:!0,className:t}),this.state.bgtext?this.state.bgtext:"",s.default.createElement(p.Input,{type:"textarea",name:"bugDesp",id:"bugDesp",disabled:!0,style:{height:"160px"}})))),s.default.createElement(p.Row,null,s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},r,{label:"关闭状态",required:!0,colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"isclosed",id:"isclosed",value:this.state.tmBug.isclosed,disabled:!0}))),s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},r,{label:"关闭人",required:!0,colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"closedUser",id:"closedUser",value:this.state.tmBug.closedUser,disabled:!0}))),s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},l,{label:"关闭日期",required:!0,colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"closedDate",id:"closedDate",value:this.state.tmBug.closedDate,disabled:!0}))),s.default.createElement(p.Col,{span:6},s.default.createElement(g,n({},l,{label:"关闭描述",colon:!0,className:t}),s.default.createElement(p.Input,{type:"text",name:"closeDesp",id:"closeDesp",value:this.state.tmBug.closeDesp,disabled:!0}))))),s.default.createElement(h.default,{ref:"showEnclosure"}))}}));t.default=y},1596:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=a(2),s=i(l),r=a(5),o=(i(r),a(7)),d=i(o),u=a(9),c=i(u),m=a(381),h=i(m),p=a(4),f=a(1),g=a(17),v=a(6),y=a(3),S=p.Form.Item,b=(p.Upload.Dragger,p.Select.Option),C=a(287),E=a(234),w=s.default.createClass({displayName:"UpdateTmBugPage",getInitialState:function(){return{tmBugSet:{operation:"",errMsg:""},loading:!1,modal:!1,tmBug:{},hints:{},validRules:[],tmBugSelectData:{},tmBugSelectHtmlData:[],mdlId:[],findVer:[]}},mixins:[f.listenTo(C,"onServiceComplete"),(0,c.default)("tmBug")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?(this.setState({modal:!1}),console.log(this)):this.setState({loading:!1,tmBugSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"bugName",desc:"缺陷名称",required:!0,max:"255"},{id:"bugDesp",desc:"缺陷描述",required:!1,max:"65535"},{id:"bugPriorty",desc:"优先级",required:!0,max:"255"},{id:"bugStage",desc:"测试阶段",required:!1,max:"255"},{id:"bugSeverity",desc:"严重程度",required:!0,max:"255"},{id:"bugType",desc:"缺陷类型",required:!0,max:"255"},{id:"bugChance",desc:"重现概率",required:!1,max:"255"},{id:"sysId",desc:"发现系统",required:!0,max:"255"},{id:"findVer",desc:"发现版本",required:!1,max:"255"},{id:"mdlId",desc:"模块名称",required:!1,max:"255"},{id:"caseCode",desc:"案例编码",required:!1,max:"255"},{id:"bugResponsible",desc:"处理人",required:!0,max:"255"}]},initPage:function(e){this.state.hints={},y.copyValue(e,this.state.tmBug),this.state.loading=!1,this.state.tmBugSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear();var t={flowNo:"0",object:{}},a=this;g.ajax({type:"POST",url:"http://10.10.10.201:8082/tbug_s/tm-bug/createInit",data:JSON.stringify(t),contentType:"application/json"}).done(function(e){var t=e.object,i={},n={},l=a.toArray(t.systemModel),s=l,r=l,o=a.toArray(t.bugType),d=a.toArray(t.bugSeverity),u=a.toArray(t.bugPriorty),c=a.toArray(t.bugChance),m=a.toArray(t.bugStage),h=a.toArray(t.bugStage),p=a.toArray(t.bmUser);n.systemModel=l,n.mdlId=s,n.findVer=r,n.bugType=o,n.bugSeverity=d,n.bugPriorty=u,n.bugChance=c,n.bugStage=m,n.caseCode=h,n.bmUser=p,i.systemModel=a.toHtml(l,"sysname"),i.mdlId=a.toHtml(l[0].bmSystemMdl,"sysName"),i.findVer=a.toHtml(l[0].bmSystemVer,"sysVersion"),i.bugType=a.toHtml(o),i.bugSeverity=a.toHtml(d),i.bugPriorty=a.toHtml(u),i.bugChance=a.toHtml(c),i.bugStage=a.toHtml(m),i.bmUser=a.toHtml(p,"userName"),a.setState({tmBugSelectHtmlData:i,tmBugSelectData:n,mdlId:i.mdlId,findVer:i.findVer})})},handleOpenEnclosureWindow:function(e){var t={uuid:this.state.tmBug.uuid};null!=t&&(this.refs.showEnclosure.initPage(t),this.refs.showEnclosure.toggle())},toArray:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);return t},toHtml:function(e,t){var a=e.map(function(e,a){var i="",n="";return void 0!=t?(i=e[t],n=a):(i=e,n=a),s.default.createElement(b,{value:i,tabindex:n},i)});return a},handleProvinceChange:function(e){this.state.tmBug.sysId=e,this.state.hints.sysIdHint=null,this.state.hints.sysIdStatus=null;for(var t=this.state.tmBugSelectData.systemModel,a="",i=[],n=[],l=0;l<t.length;l++)t[l].sysname==e&&(a=t[l]);i=this.toHtml(a.bmSystemMdl,"sysName"),n=this.toHtml(a.bmSystemVer,"sysVersion"),this.setState({mdlId:i,findVer:n})},onClickSave:function(){v.formValidator(this,this.state.tmBug)&&(this.state.tmBugSet.operation="",this.setState({loading:!0}),E.updateTmBug(this.state.tmBug))},render:function(){var e=this,t="horizontal",a="form-item-"+t,i={labelCol:"vertical"==t?null:{span:3},wrapperCol:"vertical"==t?null:{span:21}},l={labelCol:"vertical"==t?null:{span:6},wrapperCol:"vertical"==t?null:{span:18}},r={labelCol:"vertical"==t?null:{span:10},wrapperCol:"vertical"==t?null:{span:14}},o={labelCol:"vertical"==t?null:{span:12},wrapperCol:"vertical"==t?null:{span:12}},u=this.state.tmBugSelectHtmlData.systemModel,c=this.state.mdlId,m=this.state.findVer,f=this.state.tmBugSelectHtmlData.bugType,g=this.state.tmBugSelectHtmlData.bugSeverity,v=this.state.tmBugSelectHtmlData.bugPriorty,y=this.state.tmBugSelectHtmlData.bugChance,b=this.state.tmBugSelectHtmlData.bugStage,C=(this.state.tmBugSelectHtmlData.caseCode,this.state.tmBugSelectHtmlData.bmUser),E=this.state.hints;return E.bugPriortyHint&&(E.bugPriortyHint.props.children="请选择优先级"),E.bugResponsibleHint&&(E.bugResponsibleHint.props.children="请选择处理人"),E.bugSeverityHint&&(E.bugSeverityHint.props.children="请选择严重程度"),E.bugTypeHint&&(E.bugTypeHint.props.children="请选择缺陷类型"),E.deteSysIdHint&&(E.deteSysIdHint.props.children="请选择所属系统"),s.default.createElement(p.Modal,{visible:this.state.modal,width:"740px",title:"修改缺陷管理信息信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[s.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},s.default.createElement(d.default,{ref:"mxgBox",svcList:["tm-bug/update"]}),s.default.createElement("span",{style:{float:"left"}},s.default.createElement(p.Button,{key:"btnEnclosure",size:"large",onClick:this.handleOpenEnclosureWindow},"附件")),s.default.createElement(p.Button,{key:"btnSave",size:"large"},"保存并提交"),s.default.createElement(p.Button,{key:"btnOK",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",s.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},s.default.createElement(p.Form,{layout:t},s.default.createElement(p.Row,null,s.default.createElement(p.Col,null,s.default.createElement(S,n({},i,{label:"缺陷名称",required:!0,colon:!0,className:a,help:E.bugNameHint,validateStatus:E.bugNameStatus}),s.default.createElement(p.Input,{type:"text",name:"bugName",id:"bugName",value:this.state.tmBug.bugName,onChange:this.handleOnChange})))),s.default.createElement(p.Row,null,s.default.createElement(p.Col,{span:12},s.default.createElement(S,n({},l,{label:"所属系统",required:"true",help:E.sysIdHint,validateStatus:E.sysIdStatus}),s.default.createElement(p.Select,{defaultValue:"--",name:"sysId",id:"sysId",value:this.state.tmBug.sysId,style:{width:"100%"},onChange:this.handleProvinceChange},u))),s.default.createElement(p.Col,{span:6},s.default.createElement(S,n({},r,{label:"版本编码",help:E.findVerHint,validateStatus:E.findVerStatus}),s.default.createElement(p.Select,{defaultValue:"--",style:{width:"100%"},name:"findVer",id:"findVer",value:this.state.tmBug.findVer,onChange:function(t){e.state.tmBug.findVer=t,e.setState({})}},m))),s.default.createElement(p.Col,{span:6},s.default.createElement(S,n({},r,{label:"所属模块",help:E.mdlIdHint,validateStatus:E.mdlIdStatus}),s.default.createElement(p.Select,{style:{width:"100%"},name:"mdlId",id:"mdlId",value:this.state.tmBug.mdlId,onChange:function(t){e.state.tmBug.mdlId=t,e.setState({})}},c)))),s.default.createElement(p.Row,null,s.default.createElement(p.Col,{span:6},s.default.createElement(S,n({},o,{label:"缺陷类型",required:"true",help:E.bugTypeHint,validateStatus:E.bugTypeStatus}),s.default.createElement(p.Select,{defaultValue:"--",style:{width:"100%"},name:"bugType",id:"bugType",value:this.state.tmBug.bugType,onChange:function(t){e.state.tmBug.bugType=t,e.state.hints.bugTypeHint=null,e.state.hints.bugTypeStatus=null,e.setState({})}},f))),s.default.createElement(p.Col,{span:6},s.default.createElement(S,n({},o,{label:"严重程度",required:"true",help:E.bugSeverityHint,validateStatus:E.bugSeverityStatus}),s.default.createElement(p.Select,{defaultValue:"--",style:{width:"100%"},name:"bugSeverity",id:"bugSeverity",value:this.state.tmBug.bugSeverity,onChange:function(t){e.state.tmBug.bugSeverity=t,e.state.hints.bugSeverityHint=null,e.state.hints.bugSeverityStatus=null,e.setState({})}},g))),s.default.createElement(p.Col,{span:6},s.default.createElement(S,n({},r,{label:"优先级",required:"true",help:E.bugPriortyHint,validateStatus:E.bugPriortyStatus}),s.default.createElement(p.Select,{defaultValue:"--",style:{width:"100%"},name:"bugPriorty",id:"bugPriorty",value:this.state.tmBug.bugPriorty,onChange:function(t){e.state.tmBug.bugPriorty=t,e.state.hints.bugPriortyHint=null,e.state.hints.bugPriortyStatus=null,e.setState({})}},v))),s.default.createElement(p.Col,{span:6},s.default.createElement(S,n({},r,{label:"重现概率",help:E.bugChanceHint,validateStatus:E.bugChanceStatus}),s.default.createElement(p.Select,{defaultValue:"--",style:{width:"100%"},name:"bugChance",id:"bugChance",value:this.state.tmBug.bugChance,onChange:function(t){e.state.tmBug.bugChance=t,e.setState({})}},y)))),s.default.createElement(p.Row,null,s.default.createElement(p.Col,{span:6},s.default.createElement(S,n({},o,{label:"测试阶段",help:E.bugStageHint,validateStatus:E.bugStageStatus}),s.default.createElement(p.Select,{defaultValue:"--",style:{width:"100%"},name:"bugStage",id:"bugStage",value:this.state.tmBug.bugStage,onChange:function(t){e.state.tmBug.bugStage=t,e.setState({})}},b))),s.default.createElement(p.Col,{span:12},s.default.createElement(S,n({},l,{label:"用例编码",colon:!0,help:E.caseCodeHint,validateStatus:E.caseCodeStatus}),s.default.createElement(p.Input,{type:"text",name:"caseCode",id:"caseCode",value:this.state.tmBug.caseCode,onChange:this.handleOnChange}))),s.default.createElement(p.Col,{span:6},s.default.createElement(S,n({},r,{label:"处理人",required:!0,help:E.bugResponsibleHint,validateStatus:E.bugResponsibleStatus}),s.default.createElement(p.Select,{defaultValue:"--",style:{width:"100%"},name:"bugResponsible",id:"bugResponsible",value:this.state.tmBug.bugResponsible,onChange:function(t){e.state.tmBug.bugResponsible=t,e.state.hints.bugResponsibleHint=null,e.state.hints.bugResponsibleStatus=null,e.setState({})}},C)))),s.default.createElement(S,n({},i,{style:{postion:"relative"},label:"缺陷描述",colon:!0,className:a,help:E.bugDespHint,validateStatus:E.bugDespStatus}),s.default.createElement(p.Input,{type:"textarea",name:"bugDesp",id:"bugDesp",value:this.state.tmBug.bugDesp,onFocus:this.handleHide,onBlur:this.handleShow,onChange:this.handleOnChange,style:{height:"160px"}}))),s.default.createElement(h.default,{ref:"showEnclosure"}))}});t.default=w},1597:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s=a(5),r=(i(s),a(4)),o=a(7),d=(i(o),a(1),a(6),r.Tabs.TabPane,l.default.createClass({displayName:"TstatePage",render:function(){return l.default.createElement("div",null)}}));e.exports=d},1598:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s=a(8),r=(i(s),a(5)),o=(i(r),a(4)),d=a(7),u=(i(d),a(1599)),c=i(u),m=a(1602),h=i(m),p=a(1601),f=i(p),g=a(1600),v=i(g),y=a(76),S=i(y),b=a(26),C=i(b),E=a(1603),w=i(E),x=a(1),k=o.Input.Search,L=(o.Radio.Button,o.Radio.Group,a(6)),N=a(3),B=a(235),D=a(288),P=10,I=l.default.createClass({displayName:"UserPage",getInitialState:function(){return{recruitSet:{recordSet:[],errMsg:"",startPage:1,pageRow:10,totalRow:0},filter:{},loading:!1,filterValue:"",selectedRowKeys:[],modal:!1,arr:[],oid:""}},mixins:[x.listenTo(D,"onServiceComplete"),(0,C.default)()],onServiceComplete:function(e){console.log(e),this.setState({loading:!1,recruitSet:e})},componentDidMount:function(){this.state.validRules=[{id:"userCode",desc:"用户代码",required:!0,max:"32"},{id:"userName",desc:"用户名称",required:!0,max:"80"},{id:"nikeName",desc:"用户昵称",required:!1,max:"80"},{id:"empCode",desc:"员工工号",required:!1,max:"32"},{id:"disUse",desc:"用户角色",required:!1,max:"255"},{id:"mobileNo",desc:"手机号码",required:!1,max:"80"},{id:"rsvStr3",desc:"备注",required:!1,max:"512"}];this.state.filter;B.initBmUser()},handleRefresh:function(e){this.setState({loading:!0});var t=this.state.filter;B.retrieveBmUserPage(t,this.state.recruitSet.startPage,P)},handleAdd:function(e){var t=this.uuid0(32,16);this.refs.AddWindow.initPage(t),this.refs.AddWindow.toggle()},handleUpdate:function(e){this.refs.UpdateWindow.initPage(e),this.refs.UpdateWindow.toggle()},uuid0:function(e,t){var a,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[];if(t=t||i.length,e)for(a=0;a<e;a++)n[a]=i[0|Math.random()*t];else{var l;for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",a=0;a<36;a++)n[a]||(l=0|16*Math.random(),n[a]=i[19==a?3&l|8:l])}return n.join("")},onClickDelete:function(e,t){console.log(e),o.Modal.confirm({title:"删除确认",content:"是否删除选中的 用户【"+e.userName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){console.log(e),this.setState({loading:!0}),B.deleteBmUser(e.uuid)},onClickKey:function(e,t){o.Modal.confirm({title:"修改确认",content:"是否重置用户【"+e.userName+"】的密码",okText:"确定",cancelText:"取消",onOk:this.onClickKey2.bind(this,e)})},onClickKey2:function(e){console.log(e.uuid),this.setState({loading:!0}),B.updateBmUserKey(e.uuid)},beforeUpload:function(e){this.setState({loading:!0});var t=N.tbugUrl+"bmUser/importFiles";console.log(this.state.recruitSet);var a={};return this.uploadXlsFile(t,a,w.default.bmUserFields,e,this.uploadComplete),!1},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&L.infoMsg(e),this.handleRefresh()},onSearch:function(e,t){if(null===t||"undefined"==typeof t||""===t)return e;var a=[];return e.map(function(e){(e.userName.indexOf(t)>=0||e.userCode.indexOf(t)>=0)&&a.push(e)}),a},onClickEnclosure:function(e){this.refs.EnclosureWindow.initPage(e),this.refs.EnclosureWindow.toggle()},onClickLook:function(e){this.refs.DetailWindow.initPage(e),this.refs.DetailWindow.toggle()},handleTempDown:function(){this.downXlsTempFile(w.default.bmUserFields)},onShowSizeChange:function(e,t){P=t,this.handleRefresh()},onChangePage:function(e){this.state.recruitSet.startPage=e,this.handleRefresh()},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},handleArrowDown:function(){var e=L.filter(this.state.arr,this.state.filterValue),t=[{id:"A",name:"userCode",title:"用户编码"},{id:"B",name:"userName",title:"用户名称"},{id:"C",name:"nikeName",title:"用户昵称"},{id:"D",name:"empCode",title:"员工工号"},{id:"E",name:"disUse",title:"用户角色"},{id:"F",name:"mobileNo",title:"手机号码"},{id:"G",name:"rsvStr3",title:"备注"}];this.downXlsTempFile2(t,e,this.refs.xls)},render:function(){var e=this,t=this.onSearch(this.state.recruitSet.recordSet,this.state.filterValue),a=(window.loginData.compUser.corpUuid,{title:"操作",key:"action",width:90,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",title:"更新",onClick:e.handleUpdate.bind(e,a)},l.default.createElement(o.Icon,{type:L.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",title:"删除",onClick:e.onClickDelete.bind(e,a)},l.default.createElement(o.Icon,{type:L.iconRemove})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",title:"重置密码",onClick:e.onClickKey.bind(e,a)},l.default.createElement(o.Icon,{type:"key"})))}}),i=[];i=[{title:"附件",dataIndex:"",width:50,key:"1111",render:function(t,a){return l.default.createElement("span",null,l.default.createElement(o.Icon,{type:"file",
onClick:e.onClickEnclosure.bind(e,a),style:{cursor:"pointer"}}))}},{title:"用户编码",dataIndex:"userCode",key:"userCode",width:140,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickLook.bind(e,a)}," ",t))}},{title:"用户名称",dataIndex:"userName",key:"userName",width:140,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickLook.bind(e,a)}," ",t))}},{title:"用户昵称",dataIndex:"nikeName",key:"nikeName",width:140,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickLook.bind(e,a)}," ",t))}},{title:"员工工号",dataIndex:"empCode",key:"empCode",width:140},{title:"用户角色",dataIndex:"disUse",key:"disUse",width:140},{title:"手机号码",dataIndex:"mobileNo",key:"mobileNo",width:140},{title:"备注",dataIndex:"rsvStr3",key:"rsvStr3",width:140},a],this.state.arr=[];var n=this.state.recruitSet.recordSet;if(null!==n&&n.length>0)for(var s=0;s<n.length;s++){var r={},d=n[s];r.userCode=d.userCode,r.userName=d.userName,r.nikeName=d.nikeName,r.empCode=d.empCode,r.disUse=d.disUse,r.mobileNo=d.mobileNo,r.rsvStr3=d.rsvStr3,this.state.arr.push(r)}var u=L.getGridMargin(this),m={showQuickJumper:!0,total:this.state.recruitSet.totalRow,pageSize:this.state.recruitSet.pageRow,current:this.state.recruitSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},p=l.default.createElement("div",{className:"grid-page",style:{padding:u.padding}},l.default.createElement("div",{style:{margin:u.margin}},l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(o.Button,{icon:L.iconAdd,type:"primary",title:"增加用户",onClick:this.handleAdd}),l.default.createElement(o.Button,{icon:"cloud-download-o",title:"下载模板",style:{marginLeft:"4px"},onClick:this.handleTempDown}),l.default.createElement(o.Button,{icon:"arrow-down",title:"导出",onClick:this.handleArrowDown,style:{marginLeft:"4px"}}),l.default.createElement(o.Button,{icon:"sync",title:"刷新",onClick:this.handleRefresh,style:{marginLeft:"4px"}}),l.default.createElement(o.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},l.default.createElement(o.Button,{icon:"upload",title:"上传数据"}))),l.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},l.default.createElement(k,{placeholder:"用户编码/名称",style:{width:L.searchWidth},onChange:this.onFilterRecord,onSearch:this.onSearch})))),l.default.createElement("div",{className:"grid-body"},l.default.createElement(o.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},size:"middle",bordered:L.tableBorder,pagination:m})),l.default.createElement(c.default,{ref:"AddWindow"}),l.default.createElement(h.default,{ref:"UpdateWindow"}),l.default.createElement(f.default,{ref:"EnclosureWindow"}),l.default.createElement(v.default,{ref:"DetailWindow"}),l.default.createElement(S.default,{ref:"xls"}));return l.default.createElement("div",{style:{width:"100%",height:"100%"}},p)}});e.exports=I},1599:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s=a(2),r=i(s),o=a(5),d=(i(o),a(7)),u=(i(d),a(12)),c=i(u),m=a(4),h=a(1),p=a(6),f=a(3),g=(a(17),m.Form.Item),v=(m.Select.Option,m.Upload.Dragger,m.AutoComplete.Option,a(288)),y=a(235),S=r.default.createClass({displayName:"CreateUserPage",getInitialState:function(){var e;return e={userListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},n(e,"userListSet",{}),n(e,"hints",{}),n(e,"validRules",[]),n(e,"result",[]),n(e,"pid",[]),e},mixins:[h.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,userListSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.userListSet.caseRisk=e.employee[0].caseRisk,this.state.userListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,userListSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"userCode",desc:"用户代码",required:!0,max:"32"},{id:"userName",desc:"用户名称",required:!0,max:"80"},{id:"nikeName",desc:"用户昵称",required:!1,max:"80"},{id:"empCode",desc:"员工工号",required:!1,max:"32"},{id:"userRole",desc:"用户角色",required:!1,max:"0"},{id:"mobileNo",desc:"手机号码",required:!1,max:"80",dataType:"mobile"},{id:"idNumber",desc:"身份证号",required:!1,max:"64"},{id:"eMail",desc:"电子邮件",required:!1,max:"80",dataType:"email"},{id:"disUse",desc:"是否启用",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"0"}]},initPage:function(e){this.state.hints={},f.copyValue(e,this.state.pid),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),console.log(this.state)},clear:function(e){if(this.state.hints={},this.state.userListSet.userCode="",this.state.userListSet.userName="",this.state.userListSet.nikeName="",this.state.userListSet.empCode="",this.state.userListSet.userRole="",this.state.userListSet.mobileNo="",this.state.userListSet.idNumber="",this.state.userListSet.eMail="",this.state.userListSet.disUse="",this.state.userListSet.remark="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid}},onClickSave:function(){p.validator(this,this.state.userListSet)?(this.state.userListSet.operation="",y.createBmUser(this.state.userListSet),this.setState({modal:!this.state.modal}),m.message.success("添加用户成功！")):(this.setState({hint:this.state.hint}),m.message.error("发生了错误！"))},handleOnSelected:function(e,t){var a=this.state.userListSet;a[e]=t,p.validator(this,a,e),this.setState({userListSet:a})},handleOnChange:function(e){var t=this.state.userListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({userListSet:t})},toggle:function(){this.setState({modal:!this.state.modal})},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:p.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},i={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=({name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.oid,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?m.message.success(e.file.name+" 文件上传成功!."):"error"===t&&m.message.error(e.file.name+" 文件上传失败!.")}},this.state.hints),s=r.default.createElement(m.Form,{layout:e},r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:12},r.default.createElement(g,l({},i,{label:"用户代码",required:!0,colon:!0,className:t,help:n.userCodeHint,validateStatus:n.userCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"userCode",id:"userCode",value:this.state.userListSet.userCode,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:12},r.default.createElement(g,l({},i,{label:"用户名称",required:!0,colon:!0,className:t,help:n.userNameHint,validateStatus:n.userNameStatus}),r.default.createElement(m.Input,{type:"text",name:"userName",id:"userName",value:this.state.userListSet.userName,onChange:this.handleOnChange})))),r.default.createElement(m.Row,null,r.default.createElement(m.Col,{span:12},r.default.createElement(g,l({},i,{label:"用户昵称",required:!1,colon:!0,className:t,help:n.nikeNameHint,validateStatus:n.nikeNameStatus}),r.default.createElement(m.Input,{type:"text",name:"nikeName",id:"nikeName",value:this.state.userListSet.nikeName,onChange:this.handleOnChange}))),r.default.createElement(m.Col,{span:12},r.default.createElement(g,l({},i,{label:"员工工号",required:!1,colon:!0,className:t,help:n.empCodeHint,validateStatus:n.empCodeStatus}),r.default.createElement(m.Input,{type:"text",name:"empCode",id:"empCode",value:this.state.userListSet.empCode,onChange:this.handleOnChange})))),r.default.createElement(g,l({},a,{label:"所属角色",required:!1,colon:!0,className:t,help:n.userRoleHint,validateStatus:n.userRoleStatus}),r.default.createElement(c.default,{name:"userRole",id:"userRole",value:this.state.userListSet.userRole,appName:"缺陷管理",optName:"所属角色",onSelect:this.handleOnSelected.bind(this,"userRole")})),r.default.createElement(g,l({},a,{label:"手机号码",required:!1,colon:!0,className:t,help:n.mobileNoHint,validateStatus:n.mobileNoStatus}),r.default.createElement(m.Input,{type:"text",name:"mobileNo",id:"mobileNo",value:this.state.userListSet.mobileNo,onChange:this.handleOnChange})),r.default.createElement(g,l({},a,{label:"身份证号",required:!1,colon:!0,className:t,help:n.idNumberHint,validateStatus:n.idNumberStatus}),r.default.createElement(m.Input,{type:"text",name:"idNumber",id:"idNumber",value:this.state.userListSet.idNumber,onChange:this.handleOnChange})),r.default.createElement(g,l({},a,{label:"电子邮件",required:!1,colon:!0,className:t,help:n.eMailHint,validateStatus:n.eMailStatus}),r.default.createElement(m.Input,{type:"text",name:"eMail",id:"eMail",value:this.state.userListSet.eMail,onChange:this.handleOnChange})),r.default.createElement(g,l({},a,{label:"账户状态",required:!1,colon:!0,className:t,help:n.disUseHint,validateStatus:n.disUseStatus}),r.default.createElement(c.default,{name:"disUse",id:"disUse",value:this.state.userListSet.disUse,appName:"缺陷管理",optName:"账户状态",onSelect:this.handleOnSelected.bind(this,"disUse")})),r.default.createElement(g,l({},a,{label:"备注",required:!1,colon:!0,className:t,help:n.remarkHint,validateStatus:n.remarkStatus}),r.default.createElement(m.Input,{type:"text",name:"remark",id:"remark",value:this.state.userListSet.remark,onChange:this.handleOnChange})));return r.default.createElement(m.Modal,{visible:this.state.modal,width:"700px",title:"增加用户信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?r.default.createElement(m.Spin,null,s):s)}});t.default=S},1600:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=a(2),o=i(r),d=a(5),u=(i(d),a(7)),c=(i(u),a(12)),m=(i(c),a(4)),h=a(1),p=a(6),f=a(3),g=m.Form.Item,v=(m.Select.Option,m.AutoComplete.Option,a(288)),y=(a(235),o.default.createClass((l={displayName:"DetailUserPage",getInitialState:function(){var e;return e={userListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},n(e,"userListSet",{}),n(e,"hints",{}),n(e,"validRules",[]),n(e,"result",[]),e},mixins:[h.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,userListSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.userListSet.caseRisk=e.employee[0].caseRisk,this.state.userListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,userListSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"userCode",desc:"用户代码",required:!0,max:"32"},{id:"userName",desc:"用户名称",required:!0,max:"80"},{id:"nikeName",desc:"用户昵称",required:!1,max:"80"},{id:"empCode",desc:"员工工号",required:!1,max:"32"},{id:"userRole",desc:"用户角色",required:!1,max:"0"},{id:"mobileNo",desc:"手机号码",required:!1,max:"80"},{id:"idNumber",desc:"身份证号",required:!1,max:"64"},{id:"eMail",desc:"电子邮件",required:!1,max:"80"},{id:"disUse",desc:"是否启用",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"0"}]},initPage:function(e){console.log(e),this.state.hints={},f.copyValue(e,this.state.userListSet),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},clear:function(e){if(this.state.hints={},this.state.userListSet.userCode="",this.state.userListSet.userName="",this.state.userListSet.nikeName="",this.state.userListSet.empCode="",this.state.userListSet.userRole="",this.state.userListSet.mobileNo="",this.state.userListSet.idNumber="",this.state.userListSet.eMail="",this.state.userListSet.disUse="",this.state.userListSet.remark="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid}},handleOnChange:function(e){var t=this.state.userListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({userListSet:t})},onClickSave:function(){p.validator(this,this.state.userListSet)?(this.state.userListSet.operation="",this.setState({modal:!this.state.modal})):(this.setState({hint:this.state.hint}),m.message.error("发生了错误！"))},handleOnSelected:function(e,t){var a=this.state.userListSet;a[e]=t,p.validator(this,a,e),this.setState({userListSet:a})}},n(l,"handleOnChange",function(e){var t=this.state.userListSet;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({userListSet:t})}),n(l,"toggle",function(){this.setState({modal:!this.state.modal})}),n(l,"handleSearch",function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:p.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})}),n(l,"render",function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},i={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=this.state.hints,l=o.default.createElement(m.Form,{layout:e},o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"用户代码",required:!0,colon:!0,className:t,help:n.userCodeHint,validateStatus:n.userCodeStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"userCode",id:"userCode",value:this.state.userListSet.userCode,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"用户名称",required:!0,colon:!0,className:t,help:n.userNameHint,validateStatus:n.userNameStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"userName",id:"userName",value:this.state.userListSet.userName,onChange:this.handleOnChange})))),o.default.createElement(m.Row,null,o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"用户昵称",required:!1,colon:!0,className:t,help:n.nikeNameHint,validateStatus:n.nikeNameStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"nikeName",id:"nikeName",value:this.state.userListSet.nikeName,onChange:this.handleOnChange}))),o.default.createElement(m.Col,{span:12},o.default.createElement(g,s({},i,{label:"员工工号",required:!1,colon:!0,className:t,help:n.empCodeHint,validateStatus:n.empCodeStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"empCode",id:"empCode",value:this.state.userListSet.empCode,onChange:this.handleOnChange})))),o.default.createElement(g,s({},a,{label:"所属角色",required:!1,colon:!0,className:t,help:n.userRoleHint,validateStatus:n.userRoleStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"userRole",id:"userRole",value:this.state.userListSet.userRole,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"手机号码",required:!1,colon:!0,className:t,help:n.mobileNoHint,validateStatus:n.mobileNoStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"mobileNo",id:"mobileNo",value:this.state.userListSet.mobileNo,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"身份证号",required:!1,colon:!0,className:t,help:n.idNumberHint,validateStatus:n.idNumberStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"idNumber",id:"idNumber",value:this.state.userListSet.idNumber,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"电子邮件",required:!1,colon:!0,className:t,help:n.eMailHint,validateStatus:n.eMailStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"eMail",id:"eMail",value:this.state.userListSet.eMail,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"账户状态",required:!1,colon:!0,className:t,help:n.disUseHint,validateStatus:n.disUseStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"disUse",id:"disUse",value:this.state.userListSet.disUse,onChange:this.handleOnChange})),o.default.createElement(g,s({},a,{label:"备注",required:!1,colon:!0,className:t,help:n.remarkHint,validateStatus:n.remarkStatus}),o.default.createElement(m.Input,{readOnly:!0,type:"text",name:"remark",id:"remark",value:this.state.userListSet.remark,onChange:this.handleOnChange})));return o.default.createElement(m.Modal,{visible:this.state.modal,width:"700px",title:"查看用户信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"确认")," ",o.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?o.default.createElement(m.Spin,null,l):l)}),l)));t.default=y},1601:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s=a(2),r=i(s),o=a(5),d=(i(o),a(7)),u=(i(d),a(9)),c=i(u),m=a(4),h=a(289),p=(i(h),a(1)),f=a(17),g=(a(3),a(6)),v=m.Input.Search,y=(m.Form.Item,m.Select.Option,a(288)),S=(a(235),r.default.createClass({displayName:"EnclosurePage",getInitialState:function(){return{tmBugSet:{operation:"",errMsg:""},loading:!1,modal:!1,visible:!1,tmBug:{},InTmBug:"",isHTML:"",hints:{},tmBugPice:[],tmBugPiceList:[],BigpriceUrl:"",Bigprice:"预览失败",BigpriceName:{},validRules:[],AllDownLoad:[]}},mixins:[p.listenTo(y,"onServiceComplete"),(0,c.default)("tmBug")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tmBugSet:e}))},initPage:function(e){this.setState({Bigprice:"",tmBug:"",BigpriceName:""}),this.state.InTmBug=e;var t=this;this.state.hints={},this.state.loading=!1,this.state.tmBugSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear();var a="http://10.10.10.201:8082/defect_s/bug-attach-upload/findpicbyid3?uuid="+e.uuid;f.get(a).done(function(e){var a=e.list;if(0!=a.length){var i="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",n=a[0].name,l=a[0].length,s=n.lastIndexOf("."),o=n.slice(s+1,l);if("jpeg"==o||"jpg"==o)var d=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{name:a[0].name,"data-uid":a[0].uid,"data-downloadUrl":a[0].downloadUrl,id:"Pice","data-index":"0","data-fullPath":a[0].fullPath,src:a[0].url,style:{height:"100%"},onClick:t.fileDwonLoad}));else var d=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{name:a[0].name,"data-uid":a[0].uid,"data-downloadUrl":a[0].downloadUrl,id:"Pice","data-index":"0","data-fullPath":a[0].fullPath,src:i,style:{height:"100%"},onClick:t.fileDwonLoad}));var n=a[0].name;t.setState({tmBug:a,Bigprice:d,BigpriceName:n});for(var u=[],c=0;c<a.length;c++){var n=a[c].name,l=a[c].length,s=n.lastIndexOf("."),o=n.slice(s+1,l);"jpeg"==o||"jpg"==o?u.push({url:a[c].url,load:a[c].url,name:a[c].name,uid:a[c].uid,fullPath:a[c].fullPath,downloadUrl:a[c].downloadUrl}):u.push({url:i,load:a[c].url,name:a[c].name,uid:a[c].uid,fullPath:a[c].fullPath,downloadUrl:a[c].downloadUrl})}t.setState({tmBugPiceList:u,tmBugPiceList2:u})}else 0==a.length&&t.setState({tmBugPiceList:[],tmBugPiceList2:null})})},fileDwonLoad:function(e){var t=e.target.getAttribute("data-downloadurl"),a=document.createElement("a");a.href=t,a.click()},showImage:function(e){var t=e.target,a=t.name,i=t.getAttribute("data-load"),n=t.getAttribute("data-fullpath"),l=t.getAttribute("data-downloadUrl"),s=t.getAttribute("data-index"),o=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:a,"data-fullPath":n,"data-downloadUrl":l,"data-load":i,"data-index":s,src:t.src,style:{height:"100%"},onClick:this.fileDwonLoad}));this.setState({Bigprice:o,BigpriceName:a})},deleImage:function(e){var t=this,a=e.target,i=a.previousSibling.getAttribute("data-uid"),n="http://10.10.10.201:8082/defect_s/bug-attach-upload/delpicbyid?uuid="+i;f.get(n,"").done(function(){m.message.success("删除成功"),t.initPage(t.state.InTmBug)})},UpPice:function e(t){var a=document.querySelector("#Pice"),i=a.getAttribute("data-index"),n=a.getAttribute("data-fullpath"),l=parseInt(i-1),e=0;if(e=this.state.tmBug.length!=this.state.tmBugPiceList.length?this.state.tmBugPiceList[l]:this.state.tmBug[l],void 0==e)m.message.warning("已经是第一张了");else{var s="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",o=e.name.length,i=e.name.lastIndexOf("."),d=e.name.slice(i+1,o),u="";u="jpeg"==d||"jpg"==d?r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:e.name,"data-fullPath":n,"data-downloadUrl":e.downloadUrl,"data-load":e.url,"data-index":l,src:e.url,style:{height:"100%"},onClick:this.fileDwonLoad})):r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:e.name,"data-fullPath":n,"data-downloadUrl":e.downloadUrl,"data-load":e.url,"data-index":l,src:s,style:{height:"100%"},onClick:this.fileDwonLoad})),this.setState({Bigprice:u,BigpriceName:e.name})}},DownPice:function(e){var t=document.querySelector("#Pice"),a=t.getAttribute("data-index"),i=parseInt(a)+1,n=0;if(n=this.state.tmBug.length!=this.state.tmBugPiceList.length?this.state.tmBugPiceList[i]:this.state.tmBug[i],void 0==n)m.message.warning("已经是最后一张了");else{var l=n.fullPath,s="http://icons.iconarchive.com/icons/zhoolego/material/512/Folder-Doc-icon.png",o=n.name.length,a=n.name.lastIndexOf("."),d=n.name.slice(a+1,o),u="";u="jpeg"==d||"jpg"==d?r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:n.name,"data-fullPath":l,"data-downloadUrl":n.downloadUrl,"data-load":n.url,"data-index":i,src:n.url,style:{height:"100%"},onClick:this.fileDwonLoad})):r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:n.name,"data-fullPath":l,"data-downloadUrl":n.downloadUrl,"data-load":n.url,"data-index":i,src:s,style:{height:"100%"},onClick:this.fileDwonLoad})),this.setState({Bigprice:u,BigpriceName:n.name})}},Enlarge:function(){var e=document.querySelector("#Pice"),t=e.src,a=e.name.length,i=e.name.lastIndexOf("."),n=e.name.slice(i+1,a);"jpeg"==n||"jpg"==n?this.setState({visible:!0,BigpriceUrl:t}):m.message.error("暂不支持此类行文件预览")},isActive:function(e,t){e.preventDefault();var a=e.target,t=a.getAttribute("data-index")||t,i=(a.getAttribute("data-fullpath"),a.getAttribute("data-checked"));"I"!=a.nodeName&&(i?(f(".checkDownLoad")[t].style.display="block",this.state.AllDownLoad.push(this.state.tmBug[t].fullPath)):(f(".checkDownLoad")[t].style.display="none",this.state.AllDownLoad.splice(this.state.tmBug[t].fullPath,1)))},isAllDownLoad:function(e){var t=this;e.stopPropagation();var a=e.target.checked,i=f(".checkDownLoad");if(a){for(var n=0;n<i.length;n++)f(".checkDownLoad")[n].style.display="block";this.state.tmBug.forEach(function(e,a){t.state.AllDownLoad.push(e.fullPath)})}else{for(var l=0;l<i.length;l++)f(".checkDownLoad")[l].style.display="none";this.state.AllDownLoad=[]}},AllDownLoad:function e(){var t=this,a="http://10.10.10.201:8082/defect_s/bug-attach-upload/batchdownloadfile",e=this.state.AllDownLoad;if(e.length<1)m.message.info("最少选中一个附件");else{var i={flowNo:"1",object:e};f.ajax({type:"POST",url:a,data:JSON.stringify(i),crossDomain:!0,contentType:"application/json"}).done(function(e){t.loadZip(e)})}},loadZip:function(e){var t="http://10.10.10.201:8082/defect_s/bug-attach-upload/dowanloadmore?filepath="+e,a=document.createElement("a"),i=t.toString();a.href=i,a.click()},handleCancel:function(){this.setState({visible:!1})},Search:function(e){var t=e||e.target,a=this.state.tmBugPiceList;if(t){var i=[];if(a.forEach(function(e,a){e.name.indexOf(t)!=-1&&i.push(e)}),i.length>0){var n=i[0].name,l=i[0].fullPath,s=i[0].downloadUrl,o=(i[0].downloadUrl.load,i[0].url),d=r.default.createElement("a",{title:"点击下载"},r.default.createElement("img",{id:"Pice",name:n,"data-fullPath":l,"data-downloadUrl":s,"data-load":o,"data-index":"0",src:o,style:{height:"100%"},onClick:this.fileDwonLoad}));this.state.tmBugPiceList=i,this.setState({Bigprice:d,BigpriceName:n})}}else this.setState({tmBugPiceList:this.state.tmBugPiceList2})},render:function(){var e,t,a=(e={position:"absolute",border:"1px solid rgb(153, 153, 153)",top:"50%",width:"36px",left:"10px",marginTop:"-18px",height:"36px",borderRadius:"50%",outline:"none"},n(e,"borderRadius","50%"),n(e,"background","rgb(255, 255, 255)"),n(e,"cursor","pointer"),e),i=(t={position:"absolute",border:"1px solid rgb(153, 153, 153)",top:"50%",width:"36px",right:"10px",marginTop:"-18px",height:"36px",borderRadius:"50%",outline:"none"},n(t,"borderRadius","50%"),n(t,"background","rgb(255, 255, 255)"),n(t,"cursor","pointer"),t),s=this,o=this.state.tmBugPiceList;this.state.tmBugPice=o.map(function(e,t){return r.default.createElement("li",{"data-index":t,"data-checked":"true",onClick:s.isActive,style:{overflow:"hidden",position:"relative",padding:"0",margin:"10px",textAlign:"center"}},r.default.createElement("img",{src:e.url,name:e.name,"data-checked":"true","data-downloadUrl":e.downloadUrl,"data-load":e.load,"data-uid":e.uid,"data-index":t,"data-fullPath":e.fullPath,style:{paddingTop:"8px",width:"80%",display:"inline-block"},onClick:s.showImage}),r.default.createElement(m.Icon,{style:{position:"absolute",color:"red",right:"4px",top:"2px",fontSize:"16px"},type:"minus-circle",onClick:s.deleImage}),r.default.createElement("p",{style:{position:"relative",textAlign:"center"}},r.default.createElement("span",{style:{paddingLeft:"10px"}},e.name)),r.default.createElement("div",{className:"checkDownLoad","data-index":t,style:{position:"absolute",display:"none",left:"0",right:"0",top:"0",bottom:"0"}},r.default.createElement("span",{style:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0",margin:"auto",width:"32px",height:"32px",display:"block"}},r.default.createElement(m.Icon,{type:"check-circle",style:{fontSize:"32px",color:"green"}}))))});var d=(this.state.hints,{name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.InTmBug.uuid,onChange:function(e){if("uploading"!==e.file.status){var t=document.querySelector(".ant-upload-list.ant-upload-list-text");f(t).remove(),s.initPage(s.state.InTmBug)}"done"===e.file.status?m.message.success(e.file.name+" file uploaded successfully"):"error"===e.file.status&&m.message.error(e.file.name+" file upload failed.")}});return r.default.createElement(m.Modal,{visible:this.state.modal,width:"840px",title:"附件预览",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[r.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},r.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},r.default.createElement("div",{style:{width:"100%",height:"100%",display:"flex",marign:"0",padding:"0"}},r.default.createElement("div",{style:{flex:"1",height:"380px",overflow:"auto",position:"relative"}},r.default.createElement("div",{style:{overflow:"hidden",background:"#fff",zIndex:"999",position:"absolute"}},r.default.createElement("span",{style:{lineHeight:"30px"}},"缩略图"),r.default.createElement("span",{style:{float:"right"}},r.default.createElement(m.Checkbox,{onChange:this.isAllDownLoad,style:{marginLeft:"6px"}}),r.default.createElement(m.Button,{icon:"download",onClick:this.AllDownLoad,title:"多附件下载"})),r.default.createElement("span",{style:{float:"right"}},r.default.createElement("div",{style:{float:"left"}},r.default.createElement(m.Upload,l({},d,{style:{marginLeft:"4px",float:"right"}}),r.default.createElement(m.Button,{icon:g.iconAdd,type:"primary",shape:"circle",title:"上传附件",style:{float:"right"}})))),r.default.createElement(v,{placeholder:"input search text",onSearch:this.Search,onChange:this.Search,style:{width:"100%",paddingTop:"2px"}})),r.default.createElement("ul",{className:"am-pre-scrollable",style:{height:"380px",overflow:"auto",paddingTop:"80px"}},this.state.tmBugPice?this.state.tmBugPice:"暂无附件")),r.default.createElement("div",{style:{flex:"4",overflow:"hidden",textAlign:"center",height:"380px",display:"flex",flexDirection:"column"}},r.default.createElement("div",{style:{flexBasis:"38px",margin:"4px 2px",position:"relative",textAlign:"left",paddingLeft:"20px"}},r.default.createElement("span",{style:{lineHeight:"30px",width:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},"文件名:",this.state.BigpriceName),r.default.createElement("div",{style:{position:"absolute",right:"40%",top:"0"}},r.default.createElement(m.Button,{icon:"eye",onClick:this.Enlarge,title:"查看大图",style:{fontSize:"18px"}}))),r.default.createElement("div",{style:{flex:1,overflow:"hidden",position:"relative"}},r.default.createElement("button",{title:"上一张",style:a,onClick:this.UpPice},r.default.createElement(m.Icon,{type:"left"})),this.state.Bigprice?this.state.Bigprice:"",r.default.createElement("button",{title:"下一张",style:i,onClick:this.DownPice},r.default.createElement(m.Icon,{type:"right"})),r.default.createElement(m.Modal,{title:null,visible:this.state.visible,width:"860px",footer:null,onCancel:this.handleCancel},r.default.createElement("div",{style:{width:"100%",height:"100%"}},r.default.createElement("img",{src:this.state.BigpriceUrl,style:{width:"100%",height:"100%"}})))))))}}));t.default=S},1602:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=a(2),o=i(r),d=a(5),u=(i(d),a(7)),c=(i(u),a(12)),m=i(c),h=a(4),p=a(1),f=a(6),g=a(3),v=h.Form.Item,y=h.Upload.Dragger,S=(h.Select.Option,h.AutoComplete.Option,a(288)),b=a(235),C=o.default.createClass((l={displayName:"UpdateUserPage",getInitialState:function(){var e;return e={userListSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1},n(e,"userListSet",{}),n(e,"hints",{}),n(e,"validRules",[]),n(e,"result",[]),e},mixins:[p.listenTo(S,"onServiceComplete")],onServiceComplete:function(e){
this.state.modal&&"create"===e.operation?""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,userListSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.userListSet.caseRisk=e.employee[0].caseRisk,this.state.userListSet.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,userListSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"userCode",desc:"用户代码",required:!0,max:"32"},{id:"userName",desc:"用户名称",required:!0,max:"80"},{id:"nikeName",desc:"用户昵称",required:!1,max:"80"},{id:"empCode",desc:"员工工号",required:!1,max:"32"},{id:"userRole",desc:"用户角色",required:!1,max:"0"},{id:"mobileNo",desc:"手机号码",required:!1,max:"80",dataType:"mobile"},{id:"idNumber",desc:"身份证号",required:!1,max:"64"},{id:"eMail",desc:"电子邮件",required:!1,max:"80",dataType:"email"},{id:"disUse",desc:"是否启用",required:!1,max:"255"},{id:"remark",desc:"备注",required:!1,max:"0"}]},initPage:function(e){console.log(e),this.state.hints={},g.copyValue(e,this.state.userListSet),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},clear:function(e){if(this.state.hints={},this.state.userListSet.userCode="",this.state.userListSet.userName="",this.state.userListSet.nikeName="",this.state.userListSet.empCode="",this.state.userListSet.userRole="",this.state.userListSet.mobileNo="",this.state.userListSet.idNumber="",this.state.userListSet.eMail="",this.state.userListSet.disUse="",this.state.userListSet.remark="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid}},handleOnChange:function(e){var t=this.state.userListSet;t[e.target.id]=e.target.value,f.validator(this,t,e.target.id),this.setState({userListSet:t})},onClickSave:function(){f.validator(this,this.state.userListSet)?(this.state.userListSet.operation="",b.updateBmUser(this.state.userListSet),this.setState({modal:!this.state.modal}),h.message.success("修改数据成功！")):(this.setState({hint:this.state.hint}),h.message.error("发生了错误！"))},handleOnSelected:function(e,t){var a=this.state.userListSet;a[e]=t,f.validator(this,a,e),this.setState({userListSet:a})}},n(l,"handleOnChange",function(e){var t=this.state.userListSet;t[e.target.id]=e.target.value,f.validator(this,t,e.target.id),this.setState({userListSet:t})}),n(l,"toggle",function(){this.setState({modal:!this.state.modal})}),n(l,"handleSearch",function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:f.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})}),n(l,"render",function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},i={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n={name:"file",multiple:!0,action:"http://10.10.10.201:8082/defect_s/bug-attach-upload/upload?uuid="+this.state.userListSet.uuid,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?h.message.success(e.file.name+" 文件上传成功!."):"error"===t&&h.message.error(e.file.name+" 文件上传失败!.")}},l=this.state.hints,r=o.default.createElement(h.Form,{layout:e},o.default.createElement(h.Row,null,o.default.createElement(h.Col,{span:12},o.default.createElement(v,s({},i,{label:"用户代码",required:!0,colon:!0,className:t,help:l.userCodeHint,validateStatus:l.userCodeStatus}),o.default.createElement(h.Input,{type:"text",name:"userCode",id:"userCode",value:this.state.userListSet.userCode,onChange:this.handleOnChange}))),o.default.createElement(h.Col,{span:12},o.default.createElement(v,s({},i,{label:"用户名称",required:!0,colon:!0,className:t,help:l.userNameHint,validateStatus:l.userNameStatus}),o.default.createElement(h.Input,{type:"text",name:"userName",id:"userName",value:this.state.userListSet.userName,onChange:this.handleOnChange})))),o.default.createElement(h.Row,null,o.default.createElement(h.Col,{span:12},o.default.createElement(v,s({},i,{label:"用户昵称",required:!1,colon:!0,className:t,help:l.nikeNameHint,validateStatus:l.nikeNameStatus}),o.default.createElement(h.Input,{type:"text",name:"nikeName",id:"nikeName",value:this.state.userListSet.nikeName,onChange:this.handleOnChange}))),o.default.createElement(h.Col,{span:12},o.default.createElement(v,s({},i,{label:"员工工号",required:!1,colon:!0,className:t,help:l.empCodeHint,validateStatus:l.empCodeStatus}),o.default.createElement(h.Input,{type:"text",name:"empCode",id:"empCode",value:this.state.userListSet.empCode,onChange:this.handleOnChange})))),o.default.createElement(v,s({},a,{label:"所属角色",required:!1,colon:!0,className:t,help:l.userRoleHint,validateStatus:l.userRoleStatus}),o.default.createElement(m.default,{name:"userRole",id:"userRole",value:this.state.userListSet.userRole,appName:"缺陷管理",optName:"所属角色",onSelect:this.handleOnSelected.bind(this,"userRole")})),o.default.createElement(v,s({},a,{label:"手机号码",required:!1,colon:!0,className:t,help:l.mobileNoHint,validateStatus:l.mobileNoStatus}),o.default.createElement(h.Input,{type:"text",name:"mobileNo",id:"mobileNo",value:this.state.userListSet.mobileNo,onChange:this.handleOnChange})),o.default.createElement(v,s({},a,{label:"身份证号",required:!1,colon:!0,className:t,help:l.idNumberHint,validateStatus:l.idNumberStatus}),o.default.createElement(h.Input,{type:"text",name:"idNumber",id:"idNumber",value:this.state.userListSet.idNumber,onChange:this.handleOnChange})),o.default.createElement(v,s({},a,{label:"电子邮件",required:!1,colon:!0,className:t,help:l.eMailHint,validateStatus:l.eMailStatus}),o.default.createElement(h.Input,{type:"text",name:"eMail",id:"eMail",value:this.state.userListSet.eMail,onChange:this.handleOnChange})),o.default.createElement(v,s({},a,{label:"账户状态",required:!1,colon:!0,className:t,help:l.disUseHint,validateStatus:l.disUseStatus}),o.default.createElement(m.default,{name:"disUse",id:"disUse",value:this.state.userListSet.disUse,appName:"缺陷管理",optName:"账户状态",onSelect:this.handleOnSelected.bind(this,"disUse")})),o.default.createElement(v,s({},a,{label:"备注",required:!1,colon:!0,className:t,help:l.remarkHint,validateStatus:l.remarkStatus}),o.default.createElement(h.Input,{type:"text",name:"remark",id:"remark",value:this.state.userListSet.remark,onChange:this.handleOnChange})),o.default.createElement(v,null,o.default.createElement(y,n,o.default.createElement("p",{className:"ant-upload-drag-icon"},o.default.createElement(h.Icon,{type:"inbox"})),o.default.createElement("p",{className:"ant-upload-text"},"点击或拖拽文件到这个地方来上传(支持单个或多个文件上传)"))));return o.default.createElement(h.Modal,{visible:this.state.modal,width:"700px",title:"增加用户信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?o.default.createElement(h.Spin,null,r):r)}),l));t.default=C},1603:function(e,t){"use strict";e.exports={bmUserFields:[{id:"A",name:"userCode",title:"用户编码"},{id:"B",name:"userName",title:"用户名称"},{id:"C",name:"nikeName",title:"用户昵称"},{id:"D",name:"empCode",title:"员工工号"},{id:"E",name:"disUse",title:"用户角色"},{id:"F",name:"mobileNo",title:"手机号码"},{id:"G",name:"rsvStr3",title:"备注"}]}},1604:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=a(2),s=i(l),r=a(8),o=(i(r),a(5)),d=(i(o),a(13)),u=a(4),c=a(18),m=i(c),h=a(29),p=i(h),f=(a(17),a(1),u.Form.Item),g=a(6),v=a(3),y=a(22),S=(0,d.withRouter)(s.default.createClass({displayName:"LoginPage2",getInitialState:function(){y.loadContext()&&this.props.router.push({pathname:g.tbugHome,state:{from:"login"}});var e="";return"单公司"===g.corpStruct&&(e=g.corpUuid),{user:{userName:"",passwd:"",corpUuid:e},loading:!1,isRemember:!0,errMsg:"",hints:{},validRules:[]}},componentDidMount:function(){y.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",g.formValidator(this,this.state.user)){var a=v.authUrl+"auth-user/login",i=g.calcMD5(t),n={};n.password=i,n.username=this.state.user.userName;var l=this;this.setState({loading:!0}),v.loginService(a,n).then(function(e,t,a){l.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?l.loginSuccess(e.object):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.state.loading=!1,l.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=g.corpUuid;var t=v.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var i=this;this.setState({loading:!0}),v.loginService(t,a).then(function(e,t,a){i.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?i.loginSuccess(e.object):i.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){i.state.loading=!1,i.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;y.saveLoginData(e,t);var a=this;v.downAppMenu("报销管理","OA").then(function(e){a.state.loading=!1,a.props.router.push({pathname:g.tbugHome,state:{from:"login"}})},function(e){a.state.loading=!1,a.showError(e)})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,g.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var i=this.state.user;i[e]=t,this.setState({user:i})},onUserNameFinished:function(e){"单公司"!==g.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,i={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},l=this.state.hints,r="单公司"===g.corpStruct?null:s.default.createElement(f,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:l.compUuidHint,validateStatus:l.compUuidStatus},s.default.createElement(p.default,{name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp}));return s.default.createElement("div",{style:{width:"100%"}},s.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},s.default.createElement(u.Form,{layout:t},s.default.createElement(f,n({},i,{label:"",colon:!0,style:{marginBottom:"20px"},help:l.userNameHint,validateStatus:l.userNameStatus}),s.default.createElement(u.Input,{prefix:s.default.createElement(u.Icon,{type:"user",style:{fontSize:13}}),placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),s.default.createElement(f,n({},i,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:l.passwdHint,validateStatus:l.passwdStatus}),s.default.createElement(u.Input,{prefix:s.default.createElement(u.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),r,s.default.createElement(f,null,s.default.createElement(m.default,{message:e,toggle:this.onDismiss}),s.default.createElement(u.Checkbox,{id:"remember",checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),s.default.createElement(u.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%"},loading:this.state.loading},"登录"),g.resMode?null:s.default.createElement(u.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px"},loading:this.state.loading},"快速登录")))))}}));e.exports=S},1605:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=i(n),s=a(23),r=i(s),o={children:l.default.PropTypes.node},d=l.default.createClass({displayName:"ParamMenuIndex",getInitialState:function(){return{navItems:[{name:"缺陷列表",to:"/tbug/components/tbugPage/"},{name:"状态机管理",to:"/tbug/components/tstatePage/"},{name:"公司资料",to:"/tbug/components/CompanyInfoPage/"},{name:"用户列表",to:"/tbug/components/UserPage/"},{name:"被测系统",to:"/tbug/components/SystemPage/"}]}},render:function(){return l.default.createElement(r.default,{navItems:this.state.navItems,activeNode:"/tbug/components/tbugPage/",children:this.props.children})}});d.propTypes=o,e.exports=d},1606:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=(i(n),a(13),a(1604)),s=i(l),r=a(784),o=i(r),d=a(61),u=i(d),c=[{path:"/",component:s.default},{path:"/tbug.html",component:s.default},{path:"/main/",component:o.default,childRoutes:[{path:"passwd/",component:a(38)},{path:"logout/",component:a(37)}]},a(1607),{path:"*",component:u.default}];t.default=c},1607:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=a(784),l=i(n),s=a(36),r=i(s),o=a(785),d=i(o);e.exports={path:"/tbug",component:l.default,indexRoute:{component:r.default},childRoutes:[{path:"/tbug/",component:a(1605),indexRoute:{component:d.default},childRoutes:[{path:"components/TbugPage/",component:a(785)},{path:"components/TstatePage/",component:a(1597)},{path:"components/CompanyInfoPage/",component:a(1580)},{path:"components/SystemPage/",component:a(1586)},{path:"components/UserPage/",component:a(1598)}]}]}}});