!function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a(51),a(50);var n=a(2),l=r(n),i=a(8),o=r(i),s=a(42),d=r(s),u=a(13),c=a(1038),p=r(c),m=a(28),h=r(m);if("undefined"!=typeof document){var f=document.getElementById("app"),v=void 0;window.addEventListener("DOMContentLoaded",function(){v=a(52)}),o.default.render(l.default.createElement(u.Router,{onUpdate:function(){window.scrollTo(0,0),v&&v.run()},history:u.browserHistory,routes:p.default}),f)}t.default=function(e,t){var a=(0,u.createMemoryHistory)(),r=a.createLocation(e.path);(0,u.match)({routes:p.default,location:r},function(e,a,r){var n=d.default.renderToString(l.default.createElement(u.RouterContext,r)),i=h.default.rewind(),o='<!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset="utf-8">\n          <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n          '+i.title.toString()+"\n          "+i.meta.toString()+'\n          <link rel=icon href=/assets/favicon.ico>\n          <link rel="stylesheet" href="/react_lz.css"/>\n          <link rel="stylesheet" href="/assets/docs.css"/>\n        </head>\n        <body style="width:100%; margin:0;padding:0; background-color:#fefefe">\n          <div id="app" style="width:100%; height:100%">'+n+'</div>\n          <script src="/react_lz.js"></script>\n          <script src="/assets/prism.js" data-manual></script>\n          <script src="/common.js"></script>\n          <script src="/avt.js"></script>\n        </body>\n      </html>';t(null,o)})}},function(e,t,a){e.exports=a(10)(1160)},function(e,t,a){e.exports=a(10)(1)},function(e,t,a){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=a(17),l=a(53),i=a(24);e.exports={initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}console.log(this)},actionFlowNo:1,lzOptions:{},lzOptionsWait:{},loadOptions:function(e,t,a){var r=this.lzOptions[e];if(null!==r&&"undefined"!=typeof r){var l=r[t];return null!==a&&a(null===l||"undefined"==typeof l?[]:l),l}var i=this.lzOptionsWait[e];if(null!==i&&"undefined"!=typeof i)return void i.push({name:t,func:a});i=[{name:t,func:a}],this.lzOptionsWait[e]=i;var o=this,s="";s=this.localDict?"/dict/"+e+".js":this.paramUrl+"app-info/dict?appName="+encodeURI(e),n.getScript(s,function(){var t={};null!==dict&&dict.map(function(e,a){t[e.indexName]=e}),o.lzOptions[appName]=t,i=o.lzOptionsWait[e],i.map(function(e,a){var r=t[e.name];null!==e.func&&e.func(null===r||"undefined"==typeof r?[]:r,e.name)}),o.lzOptionsWait[e]=null})},getOptionName:function(e,t,a,r,n){var l=this.lzOptions[e];if(null===l||"undefined"==typeof l){var i=null,o=this.lzOptionsWait[e];return null!==o&&"undefined"!=typeof o||(i=function(){n.setState({loading:n.state.loading})}),this.loadOptions(e,t,i),a}var s=l[t];if(null!==s&&"undefined"!=typeof s)for(var d=s.codeData.length,u=0;u<d;u++){var c=s.codeData[u];if(c.codeValue===a)return r&&a!==c.codeDesc?a+"-"+c.codeDesc:c.codeDesc}return a},getOptionName2:function(e,t,a){var r="",e=e.split(";");return e.map(function(e,t){var n=e.indexOf("=");if(n>0){var l=e.substr(0,n),i=e.substr(1+n);r=a&&l!==i?l+"-"+i:l}else r=l}),r},findRecordName:function(e,t,a,r){for(var n=t.length,l=0;l<n;l++){var o=t[l];if(o.uuid===e)return void i.findName(r,e,o[a])}i.findName(r,e,e)},sessionID:"",saveSessionID:function(e,t){null!=e.errCode&&""!=e.errCode&&"000000"!=e.errCode||(t.sessionID=e.object.sessionId,window.sessionStorage.setItem("sessionID",t.sessionID))},getSessionID:function(){return""===this.sessionID&&(this.sessionID=window.sessionStorage.getItem("sessionID")),this.sessionID},fz_setCookie:function(e,t,a){var r="";if(a){var n=new Date;n.setTime(n.getTime()+864e5*a),r=";expires="+n.toGMTString()}document.cookie=e+"="+(null==t?"":escape(t))+r+";path=/"},fmtGetUrl:function(e){var t=e.indexOf("corp");if(t>=0)return e;if(void 0===window.loginData)return e;var a=window.loginData.compUser;return null===a||""===a.corpUuid||void 0===a.corpUuid?e:(t=e.indexOf("?"),e=t>=0?e+"&corp="+a.corpUuid:e+"?corp="+a.corpUuid)},ajaxBody:function(e,t,a){if(t.term="web","undefined"!=typeof window.loginData){var r=window.loginData.compUser;t.corp=null===r?"":r.corpUuid}else t.corp="";return{type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}},loginService:function(e,t){var a=this,r=new l(function(r,l){var i={flowNo:"0",term:"web",object:t};n.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(i),dataType:"json",success:function(e,t,r){a.saveSessionID(e,a)},xhrFields:{withCredentials:!0},crossDomain:!0}).done(r).fail(l)});return r},doDeployService:function(e,t){var a=new l(function(a,r){n.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done(a).fail(r)});return a},fetch:function(e){var t=new l(function(t,a){n.get(e).done(t).fail(a)});return t},doJsonService:function(e,t){var a=this.ajaxBody(e,t),r=new l(function(e,t){n.ajax(a).done(e).fail(t)});return r},doGetService:function(e){e=this.fmtGetUrl(e);var t=new l(function(t,a){n.get(e).done(t).fail(a)});return t},doRetrieveService:function(e,t,a,r,i){var o={pageRow:r,startPage:a,totalRow:i,object:t},s={flowNo:"0",object:o},d=this.ajaxBody(e,s),u=new l(function(e,t){n.ajax(d).done(e).fail(t)});return u},doTextService:function(e,t,a,r,i){var o={flowNo:"111111",object:"1"},s=this.ajaxBody(e,o),d=new l(function(e,t){n.ajax(s).done(e).fail(t)});return d},doGetRecordService:function(e,t){var a={flowNo:"0",object:t},r=this.ajaxBody(e,a),i=new l(function(e,t){n.ajax(r).done(e).fail(t)});return i},doCreateService:function(e,t){var a={flowNo:"0",object:t},r=this.ajaxBody(e,a),i=new l(function(e,t){n.ajax(r).done(e).fail(t)});return i},doUpdateService:function(e,t){var a={flowNo:"0",object:t},r=this.ajaxBody(e,a),i=new l(function(e,t){n.ajax(r).done(e).fail(t)});return i},doRemoveService:function(e,t){var a={flowNo:"0",object:t},r=this.ajaxBody(e,a),i=new l(function(e,t){n.ajax(r).done(e).fail(t)});return i},doUploadService:function(e,t,a){var r=new FormData,i={flowNo:"0",object:t};if(i.term="web","undefined"!=typeof window.loginData){var o=window.loginData.compUser;i.corp=null===o?"":o.corpUuid}else i.corp="";r.append("reqObject",JSON.stringify(i));var s=0,d=!0,u=!1,c=void 0;try{for(var p,m=a[Symbol.iterator]();!(d=(p=m.next()).done);d=!0){var h=p.value;r.append("file_"+s,h),s++}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}var f={type:"post",url:this.fmtGetUrl(e),data:r,dataType:"json",cache:!1,contentType:!1,processData:!1,xhrFields:{withCredentials:!0},crossDomain:!0};return new l(function(e,t){n.ajax(f).done(e).fail(t)})},copyValue:function(e,t){for(var a in e)try{t[a]=e[a]}catch(e){}},deepCopyValue:function(e){var t=e instanceof Array?[]:{};for(var a in e)null!==e[a]?t[a]="object"===r(e[a])?this.deepCopyValue(e[a]):e[a]:t[a]=e[a]=null;return t},compareTo:function(e,t){for(var a in e)try{if(t[a]!==e[a])return!1}catch(e){return!1}for(var a in t)try{if(t[a]!==e[a])return!1}catch(e){return!1}return!0},findRecord:function(e,t){for(var a=e.recordSet.length-1;a>=0;a--)if(e.recordSet[a].uuid===t)return a;return-1},getResErrMsg:function(e){if(void 0!==e&&null!==e){var t=e.responseJSON;if(void 0!==t&&null!==t){var a=t.message;if(void 0!==a&&null!==a)return a}}return"调用服务错误"},recordCreate:function(e,t,a,n){var l=this,i=e;this.doCreateService(a,t).then(function(e){if(null==e.errCode||""==e.errCode||"000000"==e.errCode){if(void 0===n||null===n){var t=r(e.object.list);if("object"===t&&e.object.list.constructor===Array)for(var a=e.object.list.length,l=0;l<a;l++)i.recordSet.push(e.object.list[l]);else i.recordSet.push(e.object)}else n(i,e.object);i.totalRow=i.totalRow+1,i.fireEvent("create","",i)}else i.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",i)},function(e){i.fireEvent("create",l.getResErrMsg(e),i)})},recordUpdate:function(e,t,a,r){var n=this,l=e,i=this.findRecord(e,t.uuid);if(i<0)return void l.fireEvent("update","没有找到记录["+t.uuid+"]",l);if(this.compareTo(l.recordSet[i],t))return console.log("数据没有变更"),void l.fireEvent("update","",l);var n=this;this.doUpdateService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(void 0===r||null===r?n.copyValue(e.object,l.recordSet[i]):r(l,l.recordSet[i],e.object),l.fireEvent("update","",l)):l.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",l)},function(e){l.fireEvent("update",n.getResErrMsg(e),l)})},recordDelete:function(e,t,a){console.log(e,t,a);var r=e,n=this.findRecord(e,t);if(n<0)return void r.fireEvent("remove","没有找到记录["+t+"]",r);var l=this;this.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.recordSet.splice(n,1),r.totalRow=r.totalRow-1,r.fireEvent("remove","",r)):r.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("remove",l.getResErrMsg(e),r)})},recordDeleteMore:function(e,t,a){var r=e,n=this.findRecord(e,t);if(n<0)return void r.fireEvent("remove","没有找到记录["+t+"]",r);var l=this;this.doRemoveService(a,t).then(function(e){console.log(e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.recordSet.splice(n,1),r.fireEvent("remove","",r)):r.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("remove",l.getResErrMsg(e),r)})},recordRetrieve:function(e,t,a,r,n){var i=this,o=new l(function(l,o){i.doRetrieveService(e,t,a,r,n).then(function(e){record?null==e.errCode||""==e.errCode||"000000"==e.errCode?l(e.object):o("处理错误["+e.errCode+"]["+e.errDesc+"]"):o("查询数据时错误")},function(e){o(JSON.stringify(e))})});return o},selModName:"",selectedApp:null,menuMap:{},getAppMenu:function(e){var t=window.sessionStorage.getItem("loadedMenu");if(null===t||void 0===t||""===t)return null;for(var a=!1,r=t.split(","),n=r.length-1;n>=0;n--)if(e===r[n]){a=!0;break}if(!a)return null;var l=this.menuMap[e];if(void 0!==l&&null!==l)return l;var i=window.sessionStorage.getItem("menu."+e);return void 0!==i&&null!==i?(l=JSON.parse(i),this.menuMap[e]=l,this.selModName=e,window.sessionStorage.setItem("activeMenu",e),l):null},setSelectedApp:function(e){if(this.selectedApp=null,"undefined"!=typeof window.loginData){var t=null,a=window.loginData.compUser;if(null===a){var r=window.loginData.authUser;if("admin"!==r.userName)return;t=[{appCode:"MA"}]}else t=a.appAuthList;if(null!==t){"*"===e.charAt(0)&&(e=e.substr(1));for(var n=t.length,l=0;l<n;l++){var i=t[l];if(i.appCode===e){this.selectedApp=i,window.sessionStorage.setItem("activeApp",e);break}}}}},saveAppMenu:function(e,t){void 0!==t&&null!==t||(t=[]);var a={};t.map(function(e,t){a[e.menuPath]=e.roleName}),this.menuMap[e]=a,window.sessionStorage.setItem("menu."+e,JSON.stringify(a));var r=window.sessionStorage.getItem("loadedMenu");r=null===r||void 0===r||""===r?e:r+","+e,window.sessionStorage.setItem("loadedMenu",r)},setActiveMenuName:function(e){this.selModName=e,window.sessionStorage.setItem("activeMenu",e)},checkMenuPriv:function(e){if(null===this.selectedApp){var t=window.sessionStorage.getItem("activeApp");null!==t&&void 0!==t&&this.setSelectedApp(t);var a=window.sessionStorage.getItem("activeMenu");null!==a&&void 0!==a&&this.getAppMenu(a)}if(""===this.selModName)return 1;var r=this.menuMap[this.selModName];if(void 0===r||null===r)return this.checkRole?0:2;var n=r[e];if(void 0===n||null===n)return this.checkRole?0:2;if(n.indexOf("*")>=0)return 1;if(null===this.selectedApp)return this.checkRole?0:2;var l=window.loginData.compUser;if(null===l&&"MA"===this.selectedApp.appCode){var i=window.loginData.authUser;if("admin"===i.userName)return 1}var o=this.selectedApp.roleList;if(null===o||void 0===o)return this.checkRole?0:2;for(var s=o.split(","),d=s.length-1;d>=0;d--){var u=","+s[d]+",";if(n.indexOf(u)>=0)return 1}return this.checkRole?0:2},checkAppPriv:function(e){if("undefined"==typeof window.loginData)return this.checkRole?0:2;var t=window.loginData.compUser;if(null===t){if("MA"===e){var a=window.loginData.authUser;if("admin"===a.userName)return 1}return this.checkRole?0:2}if("*"===e.charAt(0))return 1;if(null!==t.appAuthList)for(var r=t.appAuthList.length,n=0;n<r;n++){var l=t.appAuthList[n];if(l.appCode===e)return 1}return this.checkRole?0:2},downAppMenu:function(e,t){var a=this,r=new l(function(r,n){var l=a.getAppMenu(e);if(l)return a.setSelectedApp(t),a.setActiveMenuName(e),void r(l);var i=a.authUrl+"fnt-app-menu/appName";a.doCreateService(i,e).then(function(l){null==l.errCode||""==l.errCode||"000000"==l.errCode?(a.saveAppMenu(e,l.object),a.setSelectedApp(t),a.setActiveMenuName(e),r(l.object)):n("下载菜单错误["+l.errCode+"]["+l.errDesc+"]")},function(e){n("下载菜单错误")})});return r}}},function(e,t,a){e.exports=a(10)(541)},function(e,t,a){e.exports=a(10)(1032)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){var t,a="",r="0123456789ABCDEF";for(t=0;t<=3;t++)a+=r.charAt(e>>8*t+4&15)+r.charAt(e>>8*t&15);return a}function l(e){var t,a=(e.length+8>>6)+1,r=new Array(16*a);for(t=0;t<16*a;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<t%4*8;return r[t>>2]|=128<<t%4*8,r[16*a-2]=8*e.length,r}function i(e,t){var a=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(a>>16);return r<<16|65535&a}function o(e,t){return e<<t|e>>>32-t}function s(e,t,a,r,n,l){return i(o(i(i(t,e),i(r,l)),n),a)}function d(e,t,a,r,n,l,i){return s(t&a|~t&r,e,t,n,l,i)}function u(e,t,a,r,n,l,i){return s(t&r|a&~r,e,t,n,l,i)}function c(e,t,a,r,n,l,i){return s(t^a^r,e,t,n,l,i)}function p(e,t,a,r,n,l,i){return s(a^(t|~r),e,t,n,l,i)}function m(){this.regDate3=/^[1-2]\d{6,7}$/,this.regEmail=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,this.regPhone=/^((\(\d{1,5}\))|(\d{1,5}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?$/,this.regPhones=/^(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?([,|;](\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?)*$/,this.regMobile=/^((\(\d{3}\))|(\d{3}\-))?1[34578]\d{9}$/,this.regUrl=/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,this.className=/^([_a-z0-9]+\.)*[A-Z][_A-Za-z0-9]+$/,this.regIdCard15=/^\d{15}(\d{2}[A-Za-z0-9])?$/,this.regIdCard18=/^\d{17}(?:\d|x|X)$/,this.regMoney=/^[-\+]?\d+(\.\d{0,2})?$/,this.regNumber=/^\d+$/,this.regZip=/^[0-9]\d{5}$/,this.regQQ=/^[1-9]\d{3,9}$/,this.regInteger=/^[-\+]?\d+$/,this.regDouble=/^[-\+]?\d+(\.\d+)?$/,this.regEnglish=/^[A-Za-z]+$/,this.regEnglish2=/^[A-Za-z\s]+$/,this.regChinese=/^[\u0391-\uFFE5]+$/,this.regUnSafe=/^(([A-Z]*|[a-z]*|\d*|[-_\~!@#\$%\^&\*\.\(\)\[\]\{\}<>\?\\\/\'\"]*)|.{0,5})$|\s/,this.regNotChar=/^[^`~!@#$%^&*()+=|\\\][\]\{\}:;'\,.<>\/?]{1}[^`~!@$%^&()+=|\\\][\]\{\}:;'\,.<>?]{0,19}$/,this.regChar=/[(\/)(\\)(')(")(<)(>)]/g}function h(e,t,a){var r=/^\d+$/;if(4!=e.length||0==e)return!1;if(!r.test(e))return!1;var n=parseInt(e)%4==0&&parseInt(e)%100!=0||parseInt(e)%400==0;if(!t||0==t)return!1;if(!r.test(t))return!1;var l=parseInt(t,10);if(l>12)return!1;if(!a||0==a)return!1;if(!r.test(a))return!1;var i=[29,31,28,31,30,31,30,31,31,30,31,30,31];return 2==l&&n&&(l=0),!(a>i[l])}function f(e,t){if(e.length!=t.length)return"请按格式【"+t+"】输入日期";for(var a="",r="",n="",l=e.split(""),i=t.split(""),o=l.length,s=0;s<o;s++)if("y"===i[s])a+=l[s];else if("m"===i[s])r+=l[s];else if("d"===i[s])n+=l[s];else if(i[s]!==l[s])return"请按格式【"+t+"】输入日期";return 0==h(a,r,n)?"请输入正确的日期!":""}function v(e){var t=18==e.length?m.regIdCard18:m.regIdCard15;if(0==t.test(e))return"请输入有效的身份证号码!";var a="",r="",n="";if(18==e.length?(a=e.substr(6,4),r=e.substr(10,2),n=e.substr(12,2)):15==e.length&&(a="19"+e.substr(6,2),r=e.substr(8,2),n=e.substr(10,2)),0==h(a,r,n))return"日期的取值范围不正确!";var l=g(e);return null!=l?"请输入有效的身份证号码!":void 0}function g(e){if(18!=e.length)return null;var t=y(e),a=e.substring(17).toUpperCase();return t!=a?t:null}function y(e){for(var t="1,0,X,9,8,7,6,5,4,3,2".split(","),a="7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2".split(","),r=0,n=0;n<17;n++)r+=parseInt(e.substring(n,n+1))*a[n];var l=r%11,i=t[l];return i}function S(e,t){if(t.length>6){var a=t.substr(0,5);if("date:"===a||"date："===a){var r=t.substr(5);return f(e,r)}}if("idcard18"===t){if(18!==e.length)return"请输入18位身份证号码"}else if("idcard"===t&&18!==e.length&&15!==e.length)return"请输入身份证号码";for(var n=j.length-1;n>=0;n--){var l=j[n];if(l.type==t)return l.isValid(e)}return"未知的数据类型["+t+"]"}function E(e){var t,a=348;for(t=32768;t>8;t>>=1)a+=U[e-1900]&t?1:0;return a+C(e)}function C(e){return b(e)?65536&U[e-1900]?30:29:0}function b(e){return 15&U[e-1900]}function w(e,t){return U[e-1900]&65536>>t?30:29}function k(e,t,a){var r,n=0,l=0,i=(Date.UTC(e,t,a)-Date.UTC(1900,0,31))/864e5;for(this.dayCyl=i+40,this.monCyl=14,r=1900;r<2050&&i>0;r++)l=E(r),i-=l,this.monCyl+=12;for(i<0&&(i+=l,r--,this.monCyl-=12),this.year=r,this.yearCyl=r-1864,n=b(r),this.isLeap=!1,r=1;r<13&&i>0;r++)n>0&&r==n+1&&0==this.isLeap?(--r,this.isLeap=!0,l=C(this.year)):l=w(this.year,r),1==this.isLeap&&r==n+1&&(this.isLeap=!1),i-=l,0==this.isLeap&&this.monCyl++;0==i&&n>0&&r==n+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--r,--this.monCyl)),i<0&&(i+=l,--r,--this.monCyl),this.month=r,this.day=i+1}var x=a(2),D=r(x),N=a(4),P=N.Tree.TreeNode,I=(a(17),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);e.exports={eMailList:["icerno.com","opssino.com","gmail.com","163.com","qq.com","sina.com","sina.com.cn"],initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}},check:function(e,t,a){var r=""===t||null===t||"undefined"==typeof t;if(e.required===!0&&r)return"请输入【"+e.desc+"】";if(r)return"";if(e.max>0&&t.length>e.max)return"【"+e.desc+"】最多输入【"+e.max+"】个字符";if(e.min>0&&t.length<e.min)return"【"+e.desc+"】至少输入【"+e.max+"】个字符";if(""!==e.dataType&&null!==e.dataType&&"undefined"!=typeof e.dataType){var n=S(t,e.dataType);if(""!==n&&null!==n&&"undefined"!=typeof n)return n}if(null!==e.pattern&&"undefined"!=typeof e.pattern&&0==e.pattern.test(t))return""===e.patternPrompt||null===e.patternPrompt||"undefined"==typeof e.patternPrompt?"请输入正确的内容!":e.patternPrompt;if(""!==e.validator&&null!==e.validator&&"undefined"!=typeof e.validator){var n=e.validator(t,e,a);if(""!==n&&null!==n&&"undefined"!=typeof n)return n}return""},checkDataType:function(e,t){return S(e,t)},setError:function(e,t,a){""===a||null===a||"undefined"==typeof a?(e.state.hints[t+"Status"]="",e.state.hints[t+"Hint"]=""):(e.state.hints[t+"Status"]="error",e.state.hints[t+"Hint"]=D.default.createElement("span",{className:"errorHint"},a))},validator:function(e,t,a){var r=this,n=e.state.validRules;if(0===n.length)return!0;var l=!0;if(""===a||null===a||"undefined"==typeof a)e.state.hints={},n.map(function(a,n){var i=t[a.id];a.whitespace||null==i||(i=i.replace(/(^\s*)|(\s*$)/g,""),t[a.id]=i);var o=r.check(a,i,e);""!==o&&(r.setError(e,a.id,o),l=!1)});else for(var i=n.length-1;i>=0;i--){var o=n[i];if(o.id===a){var s=t[a],d=this.check(o,s,e);this.setError(e,a,d),""!==d?l=!1:"number"===o.dataType&&""!==s&&(t[a]=""+parseInt(s));break}}return l},formValidator:function(e,t){var a=this.validator(e,t);if(!a){var r=e.state.hints;e.setState({hints:r})}return a},formatDate:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{6,7}$/;if(!a.test(e))return e;var r=e.substr(0,4),n=e.substr(4,2),l=e.substr(6,2);1==l.length&&(l="0"+l);var i=I[parseInt("1"+n)-101],o=t;return o=o.replace(/YYYY/g,r),o=o.replace(/YY/g,r.substring(2)),o=o.replace(/MM/g,n),o=o.replace(/MON/g,i),o=o.replace(/DD/g,l)},formatMonth:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{5}$/;if(!a.test(e))return e;var r=e.substr(0,4),n=e.substr(4,2),l=I[parseInt("1"+n)-101],i=t;return i=i.replace(/YYYY/g,r),i=i.replace(/YY/g,r.substring(2)),i=i.replace(/MM/g,n),i=i.replace(/MON/g,l)},getToday:function(){var e=new Date;return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()},getMonth:function(){var e=new Date;return 100*e.getFullYear()+(e.getMonth()+1)},getLunar:function(e,t,a){var r=new k(e,t-1,a),a=""+(100*r.month+r.day);return r.month<10&&(a="0"+a),a},timeDiff:function(e,t){var a=e.substr(0,2)+":"+e.substr(2,2),r=t.substr(0,2)+":"+t.substr(2,2),a=new Date("2017/6/16 "+a).getTime(),r=new Date("2017/6/16 "+r).getTime(),n=r-a,l=n/1e3/60;return{h:Math.floor(l/60),m:l%60,dm:l}},timeDiff2:function(e,t){var a=new Date("2017/6/16 "+e).getTime(),r=new Date("2017/6/16 "+t).getTime(),n=r-a,l=n/1e3/60;return{h:Math.floor(l/60),m:l%60,dm:l}},initTreeNodes:function(e,t){var a=this,r=[],n={};e.map(function(l,i){var o=t(l,e);r.push(o),n[o.key]=o,o.children=[],a.initTreeNode(o,l)}),r.map(function(e,t){""!==e.pid&&(e.pNode=n[e.pid],"undefined"==typeof e.pNode&&(e.pNode=null),null!==e.pNode&&e.pNode.children.push(e))});var l=[],i=[];if(r.map(function(e,t){null===e.pNode&&(""!==e.pid?i.push(e):l.push(e))}),i.length>0){var o={key:"__unknow",pid:"",title:"未关联节点",disableCheckbox:!0,disabled:!1,pNode:null,children:i,object:null};l.push(o),i.map(function(e,t){e.pNode=o})}return r.map(function(e,t){e.isLeaf=0===e.children.length,e.isLeaf&&(e.children=null)}),l},initTreeNodes2:function(e,t,a,r){var n=this;if(0===e.length)return[];var l=[],i={};e.map(function(e,a){var r=t(e);l.push(r),i[r.key]=r,r.children=[],n.initTreeNode(r,e)});var o=[];return a.map(function(e,t){var a=r(e);o.push(a),a.children=null,n.initTreeNode(a,e),a.pNode=i[a.pid],"undefined"==typeof a.pNode&&(a.pNode=null),null!==a.pNode&&a.pNode.children.push(a)}),l},initTreeNodes3:function(e,t,a){var r=this;if(0===e.length)return[];var n=[],l={};return e.map(function(i,o){var s=a(i,e),d=l[s.pid];null!==d&&"undefined"!=typeof d||(d=t(i,e),d.children=[],r.initTreeNode(d,null),n.push(d),l[d.key]=d),r.initTreeNode(s,i),s.pNode=d,s.children=null,d.children.push(s)}),n},initTreeNode:function(e,t){e.object=t,e.pNode=null,null!==e.pid&&"undefined"!=typeof e.pid||(e.pid=""),null!==e.disabled&&"undefined"!=typeof e.disabled||(e.disabled=!1),null!==e.disableCheckbox&&"undefined"!=typeof e.disableCheckbox||(e.disableCheckbox=!1)},prepareTreeNodes:function(e){var t=this;return e.isLeaf||null==e.children?D.default.createElement(P,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf}):D.default.createElement(P,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf},e.children.map(function(e,a){return t.prepareTreeNodes(e)}))},getCardMargin:function(e,t){var a=0===t?0:t>1?t:58,r=e.refs.mxgBox;if(null!==r&&"undefined"!=typeof r)for(var n=r.state.hints,l=n.length,i=0;i<l;i++)if(""!==n[i]){a+=26;break}var o={};return o.padding=a+"px 0 0 0",o.margin="-"+a+"px 0 0 0",o},getGridMargin:function(e,t){var a=0===t?0:t>1?t:58,r=e.refs.mxgBox;if(null!==r&&"undefined"!=typeof r)for(var n=r.state.hints,l=n.length,i=0;i<l;i++)if(""!==n[i]){a+=26;break}var o={};return o.padding=a+"px 0 0 0",o.margin="-"+a+"px 0 0 0",o},calcMD5:function(e){var t,a=l(e),r=1732584193,o=-271733879,s=-1732584194,m=271733878;for(t=0;t<a.length;t+=16){var h=r,f=o,v=s,g=m;r=d(r,o,s,m,a[t+0],7,-680876936),m=d(m,r,o,s,a[t+1],12,-389564586),s=d(s,m,r,o,a[t+2],17,606105819),o=d(o,s,m,r,a[t+3],22,-1044525330),r=d(r,o,s,m,a[t+4],7,-176418897),m=d(m,r,o,s,a[t+5],12,1200080426),s=d(s,m,r,o,a[t+6],17,-1473231341),o=d(o,s,m,r,a[t+7],22,-45705983),r=d(r,o,s,m,a[t+8],7,1770035416),m=d(m,r,o,s,a[t+9],12,-1958414417),s=d(s,m,r,o,a[t+10],17,-42063),o=d(o,s,m,r,a[t+11],22,-1990404162),r=d(r,o,s,m,a[t+12],7,1804603682),m=d(m,r,o,s,a[t+13],12,-40341101),s=d(s,m,r,o,a[t+14],17,-1502002290),o=d(o,s,m,r,a[t+15],22,1236535329),r=u(r,o,s,m,a[t+1],5,-165796510),m=u(m,r,o,s,a[t+6],9,-1069501632),s=u(s,m,r,o,a[t+11],14,643717713),o=u(o,s,m,r,a[t+0],20,-373897302),r=u(r,o,s,m,a[t+5],5,-701558691),m=u(m,r,o,s,a[t+10],9,38016083),s=u(s,m,r,o,a[t+15],14,-660478335),o=u(o,s,m,r,a[t+4],20,-405537848),r=u(r,o,s,m,a[t+9],5,568446438),m=u(m,r,o,s,a[t+14],9,-1019803690),s=u(s,m,r,o,a[t+3],14,-187363961),o=u(o,s,m,r,a[t+8],20,1163531501),r=u(r,o,s,m,a[t+13],5,-1444681467),m=u(m,r,o,s,a[t+2],9,-51403784),s=u(s,m,r,o,a[t+7],14,1735328473),o=u(o,s,m,r,a[t+12],20,-1926607734),r=c(r,o,s,m,a[t+5],4,-378558),m=c(m,r,o,s,a[t+8],11,-2022574463),s=c(s,m,r,o,a[t+11],16,1839030562),o=c(o,s,m,r,a[t+14],23,-35309556),r=c(r,o,s,m,a[t+1],4,-1530992060),m=c(m,r,o,s,a[t+4],11,1272893353),s=c(s,m,r,o,a[t+7],16,-155497632),o=c(o,s,m,r,a[t+10],23,-1094730640),r=c(r,o,s,m,a[t+13],4,681279174),m=c(m,r,o,s,a[t+0],11,-358537222),s=c(s,m,r,o,a[t+3],16,-722521979),o=c(o,s,m,r,a[t+6],23,76029189),r=c(r,o,s,m,a[t+9],4,-640364487),m=c(m,r,o,s,a[t+12],11,-421815835),s=c(s,m,r,o,a[t+15],16,530742520),o=c(o,s,m,r,a[t+2],23,-995338651),r=p(r,o,s,m,a[t+0],6,-198630844),m=p(m,r,o,s,a[t+7],10,1126891415),s=p(s,m,r,o,a[t+14],15,-1416354905),o=p(o,s,m,r,a[t+5],21,-57434055),r=p(r,o,s,m,a[t+12],6,1700485571),m=p(m,r,o,s,a[t+3],10,-1894986606),s=p(s,m,r,o,a[t+10],15,-1051523),o=p(o,s,m,r,a[t+1],21,-2054922799),r=p(r,o,s,m,a[t+8],6,1873313359),m=p(m,r,o,s,a[t+15],10,-30611744),s=p(s,m,r,o,a[t+6],15,-1560198380),o=p(o,s,m,r,a[t+13],21,1309151649),r=p(r,o,s,m,a[t+4],6,-145523070),m=p(m,r,o,s,a[t+11],10,-1120210379),s=p(s,m,r,o,a[t+2],15,718787259),o=p(o,s,m,r,a[t+9],21,-343485551),r=i(r,h),o=i(o,f),s=i(s,v),m=i(m,g)}return n(r)+n(o)+n(s)+n(m)},strSort:function(e,t){return e.localeCompare(t)},isMatched:function(e,t){for(var a in e)try{var r=e[a];if(null!==r&&"string"==typeof r&&r.indexOf(t)>=0)return!0}catch(e){}return!1},filter:function(e,t){var a=this;if(null===t||"undefined"==typeof t||""===t)return e;var r=[];return e.map(function(e,n){a.isMatched(e,t)&&r.push(e)}),r},sortTable:function(e,t,a){var r=null;return r=a?function(e,a){var r=e[t],n=a[t];return n.localeCompare(r)}:function(e,a){var r=e[t],n=a[t];return r.localeCompare(n)},e.sort(r)},isIncNumber:function(e){if(null===e||""===e)return!1;for(var t=e.length-1;t>=0;t--){var a=e.charAt(t);if(a>="0"&&a<="9")return!0}return!1},infoMsg:function(e){N.Modal.info({title:"提示",content:e})},succMsg:function(e){N.Modal.success({title:"成功",content:e})},errMsg:function(e){N.Modal.error({title:"错误",content:e})},warnMsg:function(e){N.Modal.warning({title:"警告",content:e})}};var m=new m,j=[{type:"int",isValid:function(e){if(0==m.regInteger.test(e))return"请输入整数!"}},{type:"double",isValid:function(e){if(0==m.regDouble.test(e))return"请输入Double数据，比如：55.069!"}},{type:"money",isValid:function(e){if(0==m.regMoney.test(e))return"请输入金额，比如：2355.00!"}},{type:"email",isValid:function(e){if(0==m.regEmail.test(e))return"请输入电子邮件地址!"}},{type:"idcard",isValid:v},{type:"idcard18",isValid:v},{type:"phone",isValid:function(e){if(0==m.regPhone.test(e))return"请输入电话号码!"}},{type:"phones",isValid:function(e){if(0==m.regPhones.test(e))return"请输入电话号码，[,]分割!"}},{type:"mobile",isValid:function(e){if(0==m.regMobile.test(e))return"请输入手机号码!"}},{type:"zip",isValid:function(e){if(0==m.regZip.test(e))return"请输入六位数字的邮政编码!"}},{type:"url",isValid:function(e){if(0==m.regUrl.test(e.toLowerCase()))return"请输入HTTP地址!"}},{type:"classname",isValid:function(e){if(0==m.className.test(e))return"请输入有效的类名称!"}},{type:"qq",isValid:function(e){if(0==m.regQQ.test(e))return"请输入QQ号!"}},{type:"number",isValid:function(e){if(0==m.regNumber.test(e))return"请输入数字!"}},{type:"汉字",isValid:function(e){if(0==m.regChinese.test(e))return"请输入汉字!"}},{type:"字母",isValid:function(e){if(0==m.regEnglish2.test(e))return"请输入字母或空格!"}}],U=new Array(19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(1)),s=(a(11),a(34)),d={svcList:l.default.PropTypes.array},u=l.default.createClass({displayName:"ServiceMsg",getInitialState:function(){return{svcMsg:{resName:"",operation:"",errMsg:""},hints:[]}},mixins:[o.listenTo(s,"onServiceComplete")],onServiceComplete:function(e){e.errMsg.indexOf("[AUTH09]")>=0&&window.sessionStorage.removeItem("loginData"),this.setState({svcMsg:e})},componentDidMount:function(){this.clear()},clear:function(){this.state.hints=[];for(var e=this.props.svcList.length,t=0;t<e;t++)this.state.hints.push("")},showError:function(e){var t=this.state.hints,a=t.length;a>0&&(t[0]=e),this.setState({hints:t})},onClose:function(){for(var e=this.state.hints,t=e.length,a=0;a<t;a++)e[a]="";this.setState({hints:e})},render:function(){var e=this.state.svcMsg;if(null!=e&&null!==e.operation&&""!==e.operation){for(var t=e.resName+"/"+e.operation,a=this.props.svcList.length,r=0;r<a;r++)if(this.props.svcList[r]===t){this.state.hints[r]=e.errMsg;break}this.state.svcMsg=null}for(var n="",a=this.state.hints.length,r=0;r<a&&(n=this.state.hints[r],null===n||""===n);r++);return""===n?null:l.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},l.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),l.default.createElement("span",{className:"ant-alert-message"},n),l.default.createElement("span",{className:"ant-alert-description"}),l.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},l.default.createElement("i",{className:"anticon anticon-cross"})))}});u.propTypes=d,e.exports=u},function(e,t,a){e.exports=a(10)(12)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=(r(n),a(65)),i=r(l),o=a(6);e.exports=function(e,t){return{toggle:function(){this.beforeClose&&this.state.modal&&this.beforeClose(),this.setState({modal:!this.state.modal})},formatDate:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,i.default)(e,"YYYYMMDD"):""},formatMonth:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,i.default)(e,"YYYYMM"):""},handleOnChange:function(a){var r=this.state[e];r[a.target.id]=a.target.value;var n=!0;t!==!0&&(n=o.validator(this,r,a.target.id)),n&&this.state.afterChange&&this.state.afterChange(a.target.id,a.target.value),this.setState({loading:this.state.loading})},onRadioChange:function(a){var r=this.state[e],n=""+a.target.value;r[a.target.id]=n;var l=!0;t!==!0&&(l=o.validator(this,r,a.target.id)),l&&this.state.afterChange&&this.state.afterChange(a.target.id,n),this.setState({loading:this.state.loading})},handleCheckBox:function(a){var r=this.state[e],n=a.target.checked?"1":"0";r[a.target.id]=n;var l=!0;t!==!0&&(l=o.validator(this,r,a.target.id)),l&&this.state.afterChange&&this.state.afterChange(a.target.id,n),this.setState({loading:this.state.loading})},handleOnSelected:function(a,r){var n=this.state[e];n[a]=r;var l=!0;t!==!0&&(l=o.validator(this,n,a)),l&&this.state.afterChange&&this.state.afterChange(a,r),this.setState({loading:this.state.loading})},handleOnSelDate:function(a,r,n,l){if(null==l||0==l.length)l="";else{if(l.length!=r.length)return;
for(var i="",s="",d="",u=l.split(""),c=r.split(""),p=u.length,m=0;m<p;m++)if("Y"===c[m])i+=u[m];else if("M"===c[m])s+=u[m];else if("D"===c[m])d+=u[m];else if(c[m]!==u[m])return void console.log("日期错误",a,monthFormat,monthString);l=i+s+d}var h=this.state[e];h[a]=l;var f=!0;t!==!0&&(f=o.validator(this,h,a)),f&&this.state.afterChange&&this.state.afterChange(a,l),this.setState({loading:this.state.loading})},handleOnSelMonth:function(a,r,n,l){if(null==l||0==l.length)l="";else{if(l.length!=r.length)return;for(var i="",s="",d=l.split(""),u=r.split(""),c=d.length,p=0;p<c;p++)if("Y"===u[p])i+=d[p];else if("M"===u[p])s+=d[p];else if(u[p]!==d[p])return void console.log("日期错误",a,r,l);l=i+s}var m=this.state[e];m[a]=l;var h=!0;t!==!0&&(h=o.validator(this,m,a)),h&&this.state.afterChange&&this.state.afterChange(a,l),this.setState({loading:this.state.loading})}}}},function(e,t){e.exports=react_lz},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["showError"]);e.exports=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(4),d=a(3),u=s.Select.Option,c=o.default.createClass({displayName:"DictSelect",getInitialState:function(){return{opts:[],loading:!1}},showOptions:function(e){var t=e.codeData;null!==t&&"undefined"!=typeof t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props,t=e.appName,a=e.optName;this.state.loading=!0,d.loadOptions(t,a,this.showOptions)},selectMultiValue:function(e){if(this.props.onSelect){var t=this.props.value,a=t?t.split(","):[];a.push(e),t=a.join(","),this.props.onSelect(t)}},deselectMultiValue:function(e){if(this.props.onSelect){for(var t=this.props.value,a=t?t.split(","):[],r=0;r<a.length;r++)if(a[r]===e){a.splice(r,1);break}t=a.join(","),this.props.onSelect(t)}},render:function(){var e,t=this.props,a=(t.appName,t.optName,t.showCode),r=t.required,i=t.mode,d=t.onSelect,c=t.value,p=n(t,["appName","optName","showCode","required","mode","onSelect","value"]);e=a?this.state.opts.map(function(e,t){return o.default.createElement(u,{key:e.codeValue,value:e.codeValue},e.codeValue,"-",e.codeDesc)}):this.state.opts.map(function(e,t){return o.default.createElement(u,{key:e.codeValue,value:e.codeValue},e.codeDesc)});var m;if("multiple"===i){var h=c?c.split(","):[];m=o.default.createElement(s.Select,l({mode:"multiple",value:h,onSelect:this.selectMultiValue,onDeselect:this.deselectMultiValue},p),e)}else m=r?o.default.createElement(s.Select,l({value:c,onSelect:d},p),e):o.default.createElement(s.Select,l({value:c,onSelect:d},p),o.default.createElement(u,{value:""},"--"),e);return this.state.loading?o.default.createElement(s.Spin,null,m):m}});t.default=c},function(e,t,a){e.exports=a(10)(1049)},function(e,t,a){"use strict";var r=a(13),n=a(6);e.exports={selectedGroup:null,selectedProj:null,selectedPool:null,selectedBiziProj:null,selectedOutCorp:null,selectedDispProj:null,goBackUrl:null,lastUrl:null,openProjGroupPage:function(e,t){null!==e&&(this.goBackUrl="/proj/group/ProjGroupPage/",this.selectedGroup=e,r.browserHistory.push({pathname:"/proj/group/ProjPage/",state:{fromDashboard:!0}}))},goBackProjGroupMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/group/ProjGroupPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedProj=null,this.selectedGroup=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedProj=e,r.browserHistory.push({pathname:"/proj/proj2/ProjMemberPage/",state:{fromDashboard:!0}}))},goBackProjMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/proj/ProjPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedProj=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openResPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedPool=e,r.browserHistory.push({pathname:"/proj/res2/ResMemberPage/",state:{fromDashboard:!0}}))},goBackResMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/res/PoolPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedPool=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openGroupPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedGroup=e,r.browserHistory.push({pathname:"/proj/group/ProjPage/",state:{fromDashboard:!0}}))},goBackGroupMain:function(e){this.selectedGroup=null,null===this.goBackUrl&&(this.goBackUrl="/proj/group/ProjGroupPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedGroup=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openOutCorpPage:function(e,t){null!==e&&(this.goBackUrl="/proj/out/CorpPage/",this.selectedOutCorp=e,r.browserHistory.push({pathname:"/proj/out2/StaffPage/",state:{fromDashboard:!0}}))},goBackOutMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/out/CorpPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedOutCorp=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openBiziProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedBiziProj=e,r.browserHistory.push({pathname:"/proj/bizi2/BiziMemberPage/",state:{fromDashboard:!0}}))},goBackBiziProjMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/bizi/BiziProjPage/");var t=this.goBackUrl;this.goBackUrl=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openGroupResPage:function(e,t){null!==e&&(this.goBackUrl="/proj/group/PoolPage/",this.selectedPool=e,r.browserHistory.push({pathname:"/proj/res2/ResMemberPage/",state:{fromDashboard:!0}}))},openGroupProjPage:function(e,t){null!==e&&(this.lastUrl=this.goBackUrl,this.goBackUrl="/proj/group/ProjPage/",this.selectedProj=e,r.browserHistory.push({pathname:"/proj/proj2/ProjMemberPage/",state:{fromDashboard:!0}}))},openGroupBiziProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/group/BiziProjPage/",this.selectedBiziProj=e,r.browserHistory.push({pathname:"/proj/bizi2/BiziMemberPage/",state:{fromDashboard:!0}}))},openInitProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj2/ProjQueryPage/",this.selectedProj=e,r.browserHistory.push({pathname:"/proj/proj2/BatchInputPage/",state:{fromDashboard:!0}}))},openResChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedPool=e,r.browserHistory.push({pathname:"/proj/res2/UserCheckPage/",state:{fromDashboard:!0}}))},openGroupChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedGroup=e,r.browserHistory.push({pathname:"/proj/group/GroupCheckPage/",state:{fromDashboard:!0}}))},openProjChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedProj=e,r.browserHistory.push({pathname:"/proj/proj2/UserCheckPage/",state:{fromDashboard:!0}}))},openBiziProjChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedBiziProj=e,r.browserHistory.push({pathname:"/proj/bizi2/UserCheckPage/",state:{fromDashboard:!0}}))},calcBeginMonth:function(e,t){if(!e||!t){var a=Math.floor(n.getToday()/100);return""+a}var r=0,l=0,i=Math.floor(e/1e4),o=Math.floor(e%1e4/100),s=t?t.split("."):[],t=s[0]?s[0]:0,d=s[1]?s[1]:0;if(r=i-t,o-d>0){var a=o-d;l=a>9?""+a:"0"+a}else{--r;var a=12+o-d;l=a>9?""+a:"0"+a}return""!==l&&void 0!==l||(l="00"),r+l},getWorkYears:function(e){var t=n.getToday();if(!e||e==Math.floor(t/100))return{year:"00",month:"00"};var a=0,r=0,l=Math.floor(e/100),i=e%100,o=Math.floor(t/1e4),s=Math.floor(t%1e4/100);return a=o-l,s-i>0?r=s-i:(--a,r=12+s-i),a=a>9?a:"0"+a,r=r>9?r:"0"+r,{year:a,month:r}},getDisplayWorkYears:function(e){var t=n.getToday();if(!e||e==Math.floor(t/100))return{year:"",month:""};var a=0,r=0,l=Math.floor(e/100),i=e%100,o=Math.floor(t/1e4),s=Math.floor(t%1e4/100);return a=o-l,s-i>0?r=s-i:(--a,r=12+s-i),a=0===a?"":""+a,r=0===r?"":""+r,{y:a,m:r}},getColumnWorkYears:function(e){var t=n.getToday();if(!e||e==Math.floor(t/100))return"无";var a=0,r=0,l=Math.floor(e/100),i=e%100,o=Math.floor(t/1e4),s=Math.floor(t%1e4/100);return a=o-l,s-i>0?r=s-i:(--a,r=12+s-i),0===r?0===a?"无":""+a+"年":""+a+"年"+r+"月"},calcCheckDate:function(e,t,a,r){var l=0,i=0,o=0;if(void 0!==a&&null!==a&&a.length>0){var s=a[0];l=s.beginHour,i=s.endHour,s.beginDate!==e.chkDate&&(l=9),s.endDate!==e.chkDate&&(i=18),l<9&&(l=9),i>18&&(i=18),o=i-l,l<=12&&i>12&&(o-=1),e.leaveType=s.leaveType,e.leaveHour=""+o}var d=[],u="",c="",p=-1,m=-1,h=0,f=0;if(void 0!==t&&null!==t&&t.length>0){for(var v=t.length,g=0;g<v;g++){var y=t[g];"booking"!==y.posType&&"free"!==y.posType&&d.push(y)}n.sortTable(d,"posTime",!1),v=d.length;for(var g=0;g<v;g++){var y=d[g];c=c+y.posType+": "+y.posTime+";    "}if(v>1){var S=d[0],E=d[v-1];p=parseInt(S.posTime.substr(0,2)),m=parseInt(E.posTime.substr(0,2)),h=parseInt(S.posTime.substr(3,2)),f=parseInt(E.posTime.substr(3,2)),u=m-p,p<=12&&m>12&&(u-=1),p<=18&&m>19&&(u-=1);var C=f-h;C<0&&(u-=1,C=60+C),u=""+u+":"+C,e.checkIn=S.posTime,e.checkOut=E.posTime}else 1===v&&(e.checkIn=d[0].posTime)}e.checkHour=u,e.checkLogger=c,o<8&&r&&this.calcWorkHour(e,p,h,m,f,l,i)},calcWorkHour:function(e,t,a,r,n,l,i){if(e.workHour="0",!(t<0||r<0)){console.log("chkData",e);var o=parseInt(e.fromHour.substr(0,2)),s=parseInt(e.toHour.substr(0,2)),d=parseInt(e.fromHour.substr(3,2)),u=parseInt(e.toHour.substr(3,2));if(o<=9&&s>=18&&"0"===e.dateType){var c=parseInt(e.leaveHour);return void(e.workHour=""+(8-c))}"0"===e.dateType?((t<o||o>=9)&&(t=o,a=d),(r>s||s<=18)&&(r=s,n=u)):((t<o||t===o&&a<d)&&(t=o,a=d),(r>s||r===s&&n>u)&&(r=s,n=u));var p=r-t;t<=12&&r>12&&(p-=1),t<=18&&r>19&&(p-=1);var m=n-a;if(m<-20?p-=1:m>40&&(p+=1),"0"!==e.dateType)return void(e.overHour=""+p);if(0===l||0===i)return void(e.workHour=""+p);l<o&&(l=o),i>s&&(i=s);var h=i-l;l<=12&&i>12&&(h-=1),e.workHour=""+(p-h)}}}},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["getResumeByID","getResumeByIdCode","updateResume","addIntro","updateIntro","delIntro","addContact","updateContact","delContact","addReview","updateReview","delReview","addIdentity","updateIdentity","delIdentity","addOther","updateOther","delOther","addFamily","updateFamily","delFamily","addSocial","updateSocial","delSocial","addSoHonor","updateSoHonor","delSoHonor","addBenefit","updateBenefit","delBenefit","addEmerg","updateEmerg","delEmerg","addTrain","updateTrain","delTrain","addLang","updateLang","delLang","addCert","updateCert","delCert","addTechSkill","updateTechSkill","delTechSkill","addProjSkill","updateProjSkill","delProjSkill","addBiziSkill","updateBiziSkill","delBiziSkill","addOtherSkill","updateOtherSkill","delOtherSkill","addEdu","updateEdu","delEdu","addPrac","updatePrac","delPrac","addHonor","updateHonor","delHonor","addHonor2","updateHonor2","delHonor2","addWsProj","updateWsProj","delWsProj","addWsIssue","updateWsIssue","delWsIssue","addWsThesis","updateWsThesis","delWsThesis","addPeComp","updatePeComp","delPeComp","addPeProj","updatePeProj","delPeProj","addWorkHonor","updateWorkHonor","delWorkHonor","addWorkFailure","updateWorkFailure","delWorkFailure","addCompReview","updateCompReview","delCompReview","addProjReview","updateProjReview","delProjReview"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=a(15),l=a(3),i=a(11),o=r.createStore({listenables:[n],resumeID:"",userID:"",person:"",init:function(){},getServiceUrl:function(e){return l.resumeUrl+e},fireEvent:function(e,t,a,r){r.trigger({resumeID:r.resumeID,userID:r.userID,person:r.person,resource:e,operation:t,errMsg:a}),i.showError(e,t,a)},recordCreate:function(e,t,a){var r=this,n={filter:this.resumeID,object:t};l.doCreateService(a,n).then(function(t){if(null==t.errCode||""==t.errCode||"000000"==t.errCode){var a=r.person[e];null!==a&&"undefined"!=typeof a||(a=[],r.person[e]=a),a.push(t.object),r.person[e+"Pos"]=a.length-1,r.fireEvent(e,"create","",r)}else r.fireEvent(e,"create","处理错误["+t.errCode+"]["+t.errDesc+"]",r)},function(t){r.fireEvent(e,"create","调用服务错误",r)})},recordUpdate:function(e,t,a){for(var r=-1,n=t.uuid,i=this.person[e],o=i.length-1;o>=0;o--)if(i[o].uuid===n){r=o;break}var s=this;if(r<0)return void s.fireEvent(e,"update","没有找到记录["+n+"]",s);var d={filter:this.resumeID,object:t};l.doUpdateService(a,d).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(l.copyValue(t.object,i[r]),s.person[e+"Pos"]=r,s.fireEvent(e,"update","",s)):s.fireEvent(e,"update","处理错误["+t.errCode+"]["+t.errDesc+"]",s)},function(t){s.fireEvent(e,"update","调用服务错误",s)})},recordDelete:function(e,t,a){for(var r=-1,n=this.person[e],i=n.length-1;i>=0;i--)if(n[i].uuid===t){r=i;break}var o=this;if(r<0)return void o.fireEvent(e,"remove","没有找到记录["+t+"]",o);var s={filter:this.resumeID,object:t};l.doRemoveService(a,s).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(n.splice(r,1),r<n.length?o.person[e+"Pos"]=r:n.length>0?o.person[e+"Pos"]=n.length-1:o.person[e+"Pos"]=-1,o.fireEvent(e,"remove","",o)):o.fireEvent(e,"remove","处理错误["+t.errCode+"]["+t.errDesc+"]",o)},function(t){o.fireEvent(e,"remove","调用服务错误",o)})},onGetResumeByID:function(e){var t=this;if(this.resumeID===e)return void t.fireEvent("person","find","",t);var a={};a.id=e;var r=this.getServiceUrl("resPerson/find-resume");l.doGetRecordService(r,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.person=e.object,t.resumeID=e.object.id,t.fireEvent("person","find","",t)):t.fireEvent("person","find","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("person","find","调用服务错误",t)})},onGetResumeByIdCode:function(e){var t=this;if(t.person&&this.userID===e)return void t.fireEvent("person","find","",t);var a={};a.idCode=e;var r=this.getServiceUrl("resPerson/find-resume2");l.doGetRecordService(r,a).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.person=a.object,t.resumeID=a.object.id,t.userID=e,t.fireEvent("person","find","",t)):a.object?t.fireEvent("person","find","处理错误["+a.errCode+"]["+a.errDesc+"]",t):t.fireEvent("person","noResume","",t)},function(e){t.fireEvent("person","find","调用服务错误",t)})},recordDeleteById:function(e,t,a){for(var r=-1,n=e.recordSet.length-1;n>=0;n--)if(e.recordSet[n].id===t){r=n;break}var i=e;return r<0?void i.fireEvent("person","del-resume","没有找到记录["+t+"]",i):void l.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(i.recordSet.splice(r,1),i.totalRow=i.totalRow-1,i.fireEvent("del-resume","",i)):i.fireEvent("person","del-resume","处理错误["+e.errCode+"]["+e.errDesc+"]",i)},function(e){i.fireEvent("person","del-resume","调用服务错误",i)})},onUpdateResume:function(e){var t=this,a=this.getServiceUrl("resPerson/update-resume");l.doUpdateService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(l.copyValue(e.object,t.person),t.fireEvent("person","update","",t)):t.fireEvent("person","update","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("person","update","调用服务错误",t)})},onAddIntro:function(e){var t=this.getServiceUrl("resPeIntro/create");this.recordCreate("introList",e,t)},onUpdateIntro:function(e){var t=this.getServiceUrl("resPeIntro/update");this.recordUpdate("introList",e,t)},onDelIntro:function(e){var t=this.getServiceUrl("resPeIntro/remove");this.recordDelete("introList",e,t)},onAddContact:function(e){var t=this.getServiceUrl("resPeContact/create");this.recordCreate("contactList",e,t)},onUpdateContact:function(e){var t=this.getServiceUrl("resPeContact/update");this.recordUpdate("contactList",e,t)},onDelContact:function(e){var t=this.getServiceUrl("resPeContact/remove");this.recordDelete("contactList",e,t)},onAddReview:function(e){var t=this.getServiceUrl("resPeReview/create");this.recordCreate("reviewList",e,t)},onUpdateReview:function(e){var t=this.getServiceUrl("resPeReview/update");this.recordUpdate("reviewList",e,t)},onDelReview:function(e){var t=this.getServiceUrl("resPeReview/remove");this.recordDelete("reviewList",e,t)},onAddIdentity:function(e){var t=this.getServiceUrl("resPeIdentity/create");this.recordCreate("identityList",e,t)},onUpdateIdentity:function(e){var t=this.getServiceUrl("resPeIdentity/update");this.recordUpdate("identityList",e,t)},onDelIdentity:function(e){var t=this.getServiceUrl("resPeIdentity/remove");this.recordDelete("identityList",e,t)},onAddOther:function(e){var t=this.getServiceUrl("resPeOther/create");this.recordCreate("otherList",e,t)},onUpdateOther:function(e){var t=this.getServiceUrl("resPeOther/update");this.recordUpdate("otherList",e,t)},onDelOther:function(e){var t=this.getServiceUrl("resPeOther/remove");this.recordDelete("otherList",e,t)},onAddEdu:function(e){var t=this.getServiceUrl("pe-edu/create");this.recordCreate("eduList",e,t)},onUpdateEdu:function(e){var t=this.getServiceUrl("pe-edu/update");this.recordUpdate("eduList",e,t)},onDelEdu:function(e){var t=this.getServiceUrl("pe-edu/remove");this.recordDelete("eduList",e,t)},onAddHonor:function(e){var t=this.getServiceUrl("edu-honor/create");this.recordCreate("honorList",e,t)},onUpdateHonor:function(e){var t=this.getServiceUrl("edu-honor/update");this.recordUpdate("honorList",e,t)},onDelHonor:function(e){var t=this.getServiceUrl("edu-honor/remove");this.recordDelete("honorList",e,t)},onAddHonor2:function(e){var t=this.getServiceUrl("edu-honor2/create");this.recordCreate("honor2List",e,t)},onUpdateHonor2:function(e){var t=this.getServiceUrl("edu-honor2/update");this.recordUpdate("honor2List",e,t)},onDelHonor2:function(e){var t=this.getServiceUrl("edu-honor2/remove");this.recordDelete("honor2List",e,t)},onAddPrac:function(e){var t=this.getServiceUrl("edu-prac/create");this.recordCreate("pracList",e,t)},onUpdatePrac:function(e){var t=this.getServiceUrl("edu-prac/update");this.recordUpdate("pracList",e,t)},onDelPrac:function(e){var t=this.getServiceUrl("edu-prac/remove");this.recordDelete("pracList",e,t)},onAddPeComp:function(e){var t=this.getServiceUrl("peComp/create");this.recordCreate("peCompList",e,t)},onUpdatePeComp:function(e){var t=this.getServiceUrl("peComp/update");this.recordUpdate("peCompList",e,t)},onDelPeComp:function(e){var t=this.getServiceUrl("peComp/remove");this.recordDelete("peCompList",e,t)},onAddPeProj:function(e){var t=this.getServiceUrl("peProj/create");this.recordCreate("peProjList",e,t)},onUpdatePeProj:function(e){var t=this.getServiceUrl("peProj/update");this.recordUpdate("peProjList",e,t)},onDelPeProj:function(e){var t=this.getServiceUrl("peProj/remove");this.recordDelete("peProjList",e,t)},onAddWorkHonor:function(e){var t=this.getServiceUrl("work-honor/create");this.recordCreate("workHonorList",e,t)},onUpdateWorkHonor:function(e){var t=this.getServiceUrl("work-honor/update");this.recordUpdate("workHonorList",e,t)},onDelWorkHonor:function(e){var t=this.getServiceUrl("work-honor/remove");this.recordDelete("workHonorList",e,t)},onAddTrain:function(e){var t=this.getServiceUrl("resPeTrain/create");this.recordCreate("trainList",e,t)},onUpdateTrain:function(e){var t=this.getServiceUrl("resPeTrain/update");this.recordUpdate("trainList",e,t)},onDelTrain:function(e){var t=this.getServiceUrl("resPeTrain/remove");this.recordDelete("trainList",e,t)},onAddCert:function(e){var t=this.getServiceUrl("resPeCert/create");this.recordCreate("certList",e,t)},onUpdateCert:function(e){var t=this.getServiceUrl("resPeCert/update");this.recordUpdate("certList",e,t)},onDelCert:function(e){var t=this.getServiceUrl("resPeCert/remove");this.recordDelete("certList",e,t)},onAddTechSkill:function(e){var t=this.getServiceUrl("resTechSkill/create");this.recordCreate("techSkillList",e,t)},onUpdateTechSkill:function(e){var t=this.getServiceUrl("resTechSkill/update");this.recordUpdate("techSkillList",e,t)},onDelTechSkill:function(e){var t=this.getServiceUrl("resTechSkill/remove");this.recordDelete("techSkillList",e,t)},onAddProjSkill:function(e){var t=this.getServiceUrl("resProjSkill/create");this.recordCreate("projSkillList",e,t)},onUpdateProjSkill:function(e){var t=this.getServiceUrl("resProjSkill/update");this.recordUpdate("projSkillList",e,t)},onDelProjSkill:function(e){var t=this.getServiceUrl("resProjSkill/remove");this.recordDelete("projSkillList",e,t)},onAddBiziSkill:function(e){var t=this.getServiceUrl("resBiziSkill/create");this.recordCreate("biziSkillList",e,t)},onUpdateBiziSkill:function(e){var t=this.getServiceUrl("resBiziSkill/update");this.recordUpdate("biziSkillList",e,t)},onDelBiziSkill:function(e){var t=this.getServiceUrl("resBiziSkill/remove");this.recordDelete("biziSkillList",e,t)},onAddLang:function(e){var t=this.getServiceUrl("resPeLang/create");this.recordCreate("langList",e,t)},onUpdateLang:function(e){var t=this.getServiceUrl("resPeLang/update");this.recordUpdate("langList",e,t)},onDelLang:function(e){var t=this.getServiceUrl("resPeLang/remove");this.recordDelete("langList",e,t)},onAddOtherSkill:function(e){var t=this.getServiceUrl("resOtherSkill/create");this.recordCreate("otherSkillList",e,t)},onUpdateOtherSkill:function(e){var t=this.getServiceUrl("resOtherSkill/update");this.recordUpdate("otherSkillList",e,t)},onDelOtherSkill:function(e){var t=this.getServiceUrl("resOtherSkill/remove");this.recordDelete("otherSkillList",e,t)},onAddWsProj:function(e){var t=this.getServiceUrl("ws-proj/create");this.recordCreate("wsProjList",e,t)},onUpdateWsProj:function(e){var t=this.getServiceUrl("ws-proj/update");this.recordUpdate("wsProjList",e,t)},onDelWsProj:function(e){var t=this.getServiceUrl("ws-proj/remove");this.recordDelete("wsProjList",e,t)},onAddWsThesis:function(e){var t=this.getServiceUrl("resWsThesis/create");this.recordCreate("wsThesisList",e,t)},onUpdateWsThesis:function(e){var t=this.getServiceUrl("resWsThesis/update");this.recordUpdate("wsThesisList",e,t)},onDelWsThesis:function(e){var t=this.getServiceUrl("resWsThesis/remove");this.recordDelete("wsThesisList",e,t)},onAddWsIssue:function(e){var t=this.getServiceUrl("ws-issue/create");this.recordCreate("wsIssueList",e,t)},onUpdateWsIssue:function(e){var t=this.getServiceUrl("ws-issue/update");this.recordUpdate("wsIssueList",e,t)},onDelWsIssue:function(e){var t=this.getServiceUrl("ws-issue/remove");this.recordDelete("wsIssueList",e,t)},onAddFamily:function(e){var t=this.getServiceUrl("resPeFamily/create");this.recordCreate("familyList",e,t)},onUpdateFamily:function(e){var t=this.getServiceUrl("resPeFamily/update");this.recordUpdate("familyList",e,t)},onDelFamily:function(e){var t=this.getServiceUrl("resPeFamily/remove");this.recordDelete("familyList",e,t)},onAddSocial:function(e){var t=this.getServiceUrl("resPeSocial/create");this.recordCreate("socialList",e,t)},onUpdateSocial:function(e){var t=this.getServiceUrl("resPeSocial/update");this.recordUpdate("socialList",e,t)},onDelSocial:function(e){var t=this.getServiceUrl("resPeSocial/remove");this.recordDelete("socialList",e,t)},onAddBenefit:function(e){var t=this.getServiceUrl("resPeBenefit/create");this.recordCreate("benefitList",e,t)},onUpdateBenefit:function(e){var t=this.getServiceUrl("resPeBenefit/update");this.recordUpdate("benefitList",e,t)},onDelBenefit:function(e){var t=this.getServiceUrl("resPeBenefit/remove");this.recordDelete("benefitList",e,t)},onAddSoHonor:function(e){var t=this.getServiceUrl("resSoHonor/create");this.recordCreate("soHonorList",e,t)},onUpdateSoHonor:function(e){var t=this.getServiceUrl("resSoHonor/update");this.recordUpdate("soHonorList",e,t)},onDelSoHonor:function(e){var t=this.getServiceUrl("resSoHonor/remove");this.recordDelete("soHonorList",e,t)},onAddEmerg:function(e){var t=this.getServiceUrl("resPeEmerg/create");this.recordCreate("emergList",e,t)},onUpdateEmerg:function(e){var t=this.getServiceUrl("resPeEmerg/update");this.recordUpdate("emergList",e,t)},onDelEmerg:function(e){var t=this.getServiceUrl("resPeEmerg/remove");this.recordDelete("emergList",e,t)}});e.exports=o},function(e,t,a){e.exports=a(10)(785)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i={toggle:l.default.PropTypes.func,message:l.default.PropTypes.string},o=l.default.createClass({displayName:"ErrorMsg",getInitialState:function(){return{}},onClose:function(e){this.props.toggle()},render:function(){return""===this.props.message?null:l.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},l.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),l.default.createElement("span",{className:"ant-alert-message"},this.props.message),l.default.createElement("span",{className:"ant-alert-description"}),"undefined"!=typeof this.props.toggle?l.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},l.default.createElement("i",{className:"anticon anticon-cross"})):"")}});o.propTypes=i,e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(4),d=a(3),u=s.Radio.Group,c=s.Radio.Button,p={display:"block",height:"30px",lineHeight:"30px"},m=o.default.createClass({displayName:"DictRadio",getInitialState:function(){return{opts:[],loading:!1}},showOptions:function(e){var t=e.codeData;null!==t&&"undefined"!=typeof t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props,t=e.appName,a=e.optName;this.state.loading=!0,d.loadOptions(t,a,this.showOptions)},render:function(){var e=this.props,t=(e.appName,e.optName,e.showCode),a=e.layout,r=e.radioStyle,i=e.type,d=e.id,m=n(e,["appName","optName","showCode","layout","radioStyle","type","id"]),h=r;"vertical"===a&&(null!==h&&"undefined"!=typeof h||(h=p));var f;f=t?this.state.opts.map(function(e,t){return"button"===i?o.default.createElement(c,{id:d,key:e.codeValue,style:h,value:e.codeValue},e.codeValue,"-",e.codeDesc):o.default.createElement(s.Radio,{id:d,key:e.codeValue,style:h,value:e.codeValue},e.codeValue,"-",e.codeDesc)}):this.state.opts.map(function(e,t){return"button"===i?o.default.createElement(c,{id:d,key:e.codeValue,style:h,value:e.codeValue},e.codeDesc):o.default.createElement(s.Radio,{id:d,key:e.codeValue,style:h,value:e.codeValue},e.codeDesc)});var v=o.default.createElement(u,l({id:d},m),f);return this.state.loading?o.default.createElement(s.Spin,null,v):v}});t.default=m},function(e,t,a){"use strict";a(13);e.exports={resumeApp:{},envApp:{},createContext:function(e){this.resumeApp={uuid:e,appName:e,appCode:e}}}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=(r(n),a(1)),i=a(116),o=a(89),s=a(72),d=a(115),u=a(85),c=a(111),p=a(81),m=a(112),h=a(82),f=a(114),v=a(84);e.exports=function(){return{getInitialState:function(){return{waitPages2:{},obj2:null}},_getNullValue:function(e,t){if(this.state.obj2=null,null===e||"undefined"==typeof e||""===e)return"";var a=this.state.waitPages2[t];return null!==a&&"undefined"!=typeof a?e:null},_getResultValue:function(e,t){var a=this.state.obj2;return null!==a&&a.resName===t?a.name:(this.state.waitPages2[t]=this,e)},_fireEvent:function(e){var t=this.state.waitPages2[e];null!==t&&"undefined"!=typeof t&&(this.state.waitPages2[e]=null,t.setState({loading:t.state.loading}))},mixins:[l.listenTo(i,"_onFindComplete"),l.listenTo(o,"_onLevelComplete"),l.listenTo(d,"_onInsuComplete"),l.listenTo(c,"_onAllowComplete"),l.listenTo(m,"_onTripComplete"),l.listenTo(f,"_onDateComplete")],_onFindComplete:function(e){this.state.obj2=e},_onLevelComplete:function(e){this._fireEvent("hr_level")},getLevelName:function(e,t){var a=this._getNullValue(t,"hr_level");return null===a&&(s.getLevelName(e,t),a=this._getResultValue(t,"hr_level")),a},_onInsuComplete:function(e){this._fireEvent("hr-insurance")},getInsuName:function(e,t){var a=this._getNullValue(t,"hr-insurance");return null===a&&(u.getInsuName(e,t),a=this._getResultValue(t,"hr-insurance")),a},_onAllowComplete:function(e){this._fireEvent("hr-allowance")},getAllowName:function(e,t){var a=this._getNullValue(t,"hr-allowance");return null===a&&(p.getAllowName(e,t),a=this._getResultValue(t,"hr-allowance")),a},_onTripComplete:function(e){this._fireEvent("hr_trip")},getTripName:function(e,t){var a=this._getNullValue(t,"hr_trip");return null===a&&(h.getTripName(e,t),a=this._getResultValue(t,"hr_trip")),a},_onDateComplete:function(e){this._fireEvent("holiday")},getDateType:function(e){var t=e.substr(0,4),a=e.substr(4),r=this._getNullValue(a,"holiday");return null===r&&(v.getDateType(t,a),r=this._getResultValue(a,"holiday")),r}}}},function(e,t,a){"use strict";var r=a(17),n=a(6),l=a(3);e.exports={loadContext:function(){var e=window.sessionStorage.getItem("loginData");if(null!==e&&"undefined"!=typeof e){var t=window.sessionStorage.getItem("utilConf"),a=window.sessionStorage.getItem("commonConf");if(null!==t&&"undefined"!=typeof t&&null!==a&&"undefined"!=typeof a){var r=JSON.parse(t),i=JSON.parse(a);return l.initConf(r),n.initConf(i),window.loginData=JSON.parse(e),!0}}return!1},downConfig:function(e){var t=e,a="/config.js",i=window.location.href;i.startsWith("https:")&&(a="/config-s.js"),t.setState({loading:!0}),r.getScript(a,function(){l.initConf(utilConf),n.initConf(commonConf),window.sessionStorage.setItem("utilConf",JSON.stringify(utilConf)),window.sessionStorage.setItem("commonConf",JSON.stringify(commonConf)),"单公司"!==n.corpStruct&&t.onConfigLoaded(),t.setState({loading:!1})})},saveLoginData:function(e,t){try{for(var a=null,r=e.compUser.length,n=0;n<r;n++)if(e.compUser[n].corpUuid===t){a=e.compUser[n];break}e.compUser=a,console.log(e),window.loginData=e,window.sessionStorage.setItem("loginData",JSON.stringify(e))}catch(e){console.log(e)}try{window.sessionStorage.setItem("loadedMenu","")}catch(e){console.log(e)}}}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(13),o=a(4),s=(o.Layout.Header,o.Layout.Content,o.Layout.Footer,o.Layout.Sider),d=o.Menu.SubMenu,u=a(3),c={children:l.default.PropTypes.node,navItems:l.default.PropTypes.array,activeNode:l.default.PropTypes.string},p=l.default.createClass({displayName:"LeftMenu",getInitialState:function(){return{collapsed:!1,mode:"inline"}},onCollapse:function(e){this.setState({collapsed:e,mode:e?"vertical":"inline"})},handleClick:function(e){var t=e.key,a="",r=t.indexOf("?");r>0&&(a=t.substring(1+r),t=t.substring(0,r));var n={fromDashboard:!0};if(""!==a){var l=a.split("&");l.map(function(e,t){if(r=e.indexOf("="),r>0){var a=e.substring(0,r),l=e.substring(1+r);n[a]=l}})}i.browserHistory.push({pathname:t,query:n})},render:function(){var e=[],t=this.props.activeNode;return"undefined"!=typeof t&&this.props.navItems.map(function(a,r){"undefined"!=typeof a.childItems&&a.childItems.map(function(r,n){t===r.to&&e.push(a.to)})}),l.default.createElement(o.Layout,{style:{backgroundColor:"#fefefe",height:"100%"}},l.default.createElement(s,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,className:"left-side"},l.default.createElement(o.Menu,{theme:"light",mode:this.state.mode,defaultOpenKeys:e,defaultSelectedKeys:[t],onClick:this.handleClick,className:"left-side"},this.props.navItems.map(function(e,t){var a="rgba(0,0,0,.65)",r=u.checkMenuPriv(e.to);if(2===r)a="red";else if(0===r)return null;if("undefined"==typeof e.childItems){var n="file";return"undefined"!=typeof e.icon&&(n=e.icon),l.default.createElement(o.Menu.Item,{key:e.to},l.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"
},l.default.createElement(o.Icon,{type:n}),l.default.createElement("span",null,e.name)))}var n="setting";"undefined"!=typeof e.icon&&(n=e.icon);var i=[];return e.childItems.map(function(e,t){var a="rgba(0,0,0,.65)",r=u.checkMenuPriv(e.to);2===r&&(a="red");var n="file";"undefined"!=typeof e.icon&&(n=e.icon),i.push(l.default.createElement(o.Menu.Item,{key:e.to},l.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},l.default.createElement(o.Icon,{type:n}),l.default.createElement("span",null,e.name))))}),0===i.length?null:l.default.createElement(d,{key:e.to,title:l.default.createElement("span",{style:{color:a}},l.default.createElement(o.Icon,{type:n}),l.default.createElement("span",null,e.name))},i)}))),l.default.createElement("div",{style:{height:"100%",width:"100%",overflowX:"hidden"}},this.props.children))}});p.propTypes=c,e.exports=p},function(e,t,a){"use strict";var r=a(1),n=r.createActions([{findName:{sync:!0}}]);e.exports=n},,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveCompUser","initCompUser"]);e.exports=n},function(e,t,a){e.exports=a(10)(1025)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(5),d=(r(s),a(4)),u=a(1),c=d.Select.Option,p=a(35),m=a(27),h=o.default.createClass({displayName:"CompSelect",getInitialState:function(){return{compSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[u.listenTo(p,"onServiceComplete")],onServiceComplete:function(e){this.state.compSet=e,this.setState({loading:!1});var t=this.props.value,a=e.recordSet;if("retrieve"===e.operation&&""===e.errMsg&&a.length>0){var r=window.localStorage.corpUuid;t=void 0===r||""===r?a[0].corpUuid:r,this.props.onLoaded(t)}},loadCorps:function(){void 0!==localStorage.corpUuid&&""!==localStorage.corpUuid&&void 0!==localStorage.userName&&""!==localStorage.userName&&"retrieve"!==this.state.compSet.operation&&(this.setState({loading:!0}),m.initCompUser(localStorage.userName))},loadData:function(e){this.setState({compSet:{recordSet:[],operation:"",errMsg:""},loading:!0}),m.initCompUser(e)},render:function(){var e=this.props,t=e.value,a=n(e,["value"]),r=t,i=this.state.compSet.recordSet,s=(window.localStorage,i.map(function(e,t){return o.default.createElement(c,{key:e.corpUuid,value:e.corpUuid},e.compName)}));s.push(o.default.createElement(c,{key:"#",value:"#"},"个人用户"));var u=null===r||""===r?o.default.createElement(d.Select,l({},a,{placeholder:"选择用户登入的身份"}),s):o.default.createElement(d.Select,l({},a,{value:r}),s);return this.state.loading?o.default.createElement(d.Spin,null,u):u}});e.exports=h},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=(r(n),a(1)),i=a(116),o=a(172),s=a(127),d=a(151),u=a(117),c=a(280),p=a(174);e.exports=function(){return{getInitialState:function(){return{waitPages:{},obj:null}},_getNullValue_2:function(e,t){if(this.state.obj=null,null===e||"undefined"==typeof e||""===e)return"";var a=this.state.waitPages[t];return null!==a&&"undefined"!=typeof a?e:null},_getResultValue_2:function(e,t){var a=this.state.obj;return null!==a&&a.resName===t?a.name:(this.state.waitPages[t]=this,e)},_fireEvent_2:function(e){var t=this.state.waitPages[e];null!==t&&"undefined"!=typeof t&&(this.state.waitPages[e]=null,t.setState({loading:t.state.loading}))},mixins:[l.listenTo(i,"_onFindComplete_2"),l.listenTo(o,"_onTeamComplete"),l.listenTo(d,"_onResTeamComplete"),l.listenTo(c,"_onResPoolComplete")],_onFindComplete_2:function(e){this.state.obj=e},_onTeamComplete:function(e){this._fireEvent_2("proj_team")},getTeamName:function(e,t){if(void 0===e||null===e||""===e)return t;var a=this._getNullValue_2(t,"proj_team");return null===a&&(s.getTeamName(e,t),a=this._getResultValue_2(t,"proj_team")),a},_onResTeamComplete:function(e){this._fireEvent_2("res_team")},getResTeamName:function(e,t){if(void 0===e||null===e||""===e)return t;var a=this._getNullValue_2(t,"res_team");return null===a&&(u.getTeamName(e,t),a=this._getResultValue_2(t,"res_team")),a},_onResPoolComplete:function(e){this._fireEvent_2("res_pool")},getResPoolName:function(e){var t=window.loginData.compUser.corpUuid,a=this._getNullValue_2(e,"res_pool");return null===a&&(p.getPoolName(t,e),a=this._getResultValue_2(e,"res_pool")),a}}}},,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(28),o=r(i),s=a(13),d=a(4),u=d.Layout.Header,c=d.Layout.Content,p=(d.Layout.Footer,a(22)),m=a(3),h={children:l.default.PropTypes.node,navItems:l.default.PropTypes.array,activeNode:l.default.PropTypes.string,offsetLeft:l.default.PropTypes.string,home:l.default.PropTypes.string},f=l.default.createClass({displayName:"TopBar",getInitialState:function(){return null},goHome:function(e){var t=this.props.home;null!==t&&"undefined"!=typeof t||(t="/main/DeskPage/"),m.setActiveMenuName(""),"@"===t.charAt(0)?document.location.href=t.substr(1):s.browserHistory.push({pathname:t})},handleMenuClick:function(e){"1"===e.key?s.browserHistory.push({pathname:"/main/passwd/"}):"2"===e.key?document.location.href="/index.html":console.log("handleMenuClick",e)},handleClick:function(e){var t=e.key,a="",r=t.indexOf("?");r>0&&(a=t.substring(1+r),t=t.substring(0,r));var n={fromDashboard:!0};if(""!==a){var l=a.split("&");l.map(function(e,t){if(r=e.indexOf("="),r>0){var a=e.substring(0,r),l=e.substring(1+r);n[a]=l}})}s.browserHistory.push({pathname:t,query:n})},render:function(){if((null===window.loginData||"undefined"==typeof window.loginData)&&!p.loadContext())return s.browserHistory.push({pathname:"/index.html"}),null;var e=l.default.createElement(d.Menu,{onClick:this.handleMenuClick},l.default.createElement(d.Menu.Item,{key:"1"},"修改密码"),l.default.createElement(d.Menu.Item,{key:"2"},"用户签退")),t=this.props.offsetLeft;null!==t&&"undefined"!=typeof t||(t="200px");var a=[this.props.activeNode];return l.default.createElement("div",{style:{width:"100%",height:"100%",padding:"38px 0 0"}},l.default.createElement(o.default,{titleTemplate:"隆正互联 - %s",title:"管理软件",defaultTitle:"管理软件",meta:[{name:"隆正互联"}]}),l.default.createElement(u,{style:{margin:"-38px 0 0",height:"38px",lineHeight:"38px",paddingLeft:"36px",paddingRight:"24px"}},l.default.createElement("div",{style:{float:"left",color:"#EFEFEF"}},"隆正软件"),l.default.createElement(d.Menu,{theme:"dark",mode:"horizontal",defaultSelectedKeys:a,onClick:this.handleClick,style:{lineHeight:"38px",float:"left",paddingLeft:t}},this.props.navItems.map(function(e,t){var a="hsla(0, 0%, 100%, .67)",r=m.checkMenuPriv(e.to);if(2===r)a="red";else if(0===r)return null;var n="file";return"undefined"!=typeof e.icon&&(n=e.icon),l.default.createElement(d.Menu.Item,{key:e.to},l.default.createElement("span",null,l.default.createElement(d.Icon,{type:n}),l.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},e.name)))})),l.default.createElement("div",{style:{float:"right",color:"#EFEFEF"}},l.default.createElement(d.Icon,{type:"home",onClick:this.goHome,title:"返回主页",style:{padding:"0 8px 0 0",cursor:"pointer"}}),l.default.createElement(d.Dropdown,{overlay:e},l.default.createElement(d.Icon,{type:"setting",style:{cursor:"pointer"}})))),l.default.createElement(c,{style:{width:"100%",height:"100%",padding:"0 0px"}},this.props.children))}});f.propTypes=h,e.exports=f},function(e,t,a){"use strict";var r=a(1),n=a(11),l=r.createStore({listenables:[n],init:function(){},onShowError:function(e,t,a){this.trigger({resName:e,operation:t,errMsg:a})}});e.exports=l},function(e,t,a){"use strict";var r=a(1),n=a(27),l=a(3),i=a(11),o=r.createStore({listenables:[n],username:"",recordSet:[],init:function(){},getServiceUrl:function(e){return l.authUrl+e},fireEvent:function(e,t,a){a.trigger({username:a.username,recordSet:a.recordSet,operation:e,errMsg:t}),i.showError("comp-user",e,t)},onRetrieveCompUser:function(e){var t=this,a={};a.username=e;var r=this.getServiceUrl("comp-user/get-by-username");l.doGetRecordService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.username=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitCompUser:function(e){return this.recordSet.length>0&&this.username===e?void this.fireEvent("retrieve","",this):void this.onRetrieveCompUser(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(8),d=(r(s),a(5)),u=(r(d),a(13)),c=a(4),p=a(18),m=r(p),h=a(29),f=r(h),v=a(63),g=r(v),y=a(64),S=r(y),E=a(62),C=r(E),b=(a(17),a(1),c.Form.Item),w=a(6),k=a(3),x=a(22),D=(0,u.withRouter)(o.default.createClass({displayName:"LoginPage2",getInitialState:function(){var e=window.localStorage,t="1"===e.isRemember,a=t?e.userName:"",r="";"单公司"===w.corpStruct?r=w.corpUuid:t&&(r=e.corpUuid);var n=window.sessionStorage.getItem("loginData");if(null!==n&&"undefined"!=typeof n){var l=!1,i=this.props.location;if(null!==i&&"undefined"!=typeof i){var o=i.pathname;""!==o&&(""!==i.search?l=!0:"/"!==o&&"/index.html"!==o&&"/test.html"!==o&&(l=!0))}l&&x.loadContext()?this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}}):window.sessionStorage.removeItem("loginData")}return{user:{userName:a,passwd:"",corpUuid:r},loading:!1,isRemember:t,errMsg:"",hints:{},action:"login",validRules:[]}},componentDidMount:function(){x.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",w.formValidator(this,this.state.user)){var a=k.authUrl+"auth-user/login",r=w.calcMD5(t),n={};n.password=r,n.username=this.state.user.userName;var l=this;this.setState({loading:!0}),k.loginService(a,n).then(function(e,a,r){l.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?"11111111"==t||"12345678"==t?l.setState({action:"modify"}):l.loginSuccess(e.object):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.state.loading=!1,l.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=w.corpUuid;var t=k.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var r=this;this.setState({loading:!0}),k.loginService(t,a).then(function(e,t,a){r.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?r.loginSuccess(e.object):r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){r.state.loading=!1,r.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;x.saveLoginData(e,t);var a=window.localStorage;a.isRemember=this.state.isRemember?"1":"0",a.userName=this.state.isRemember?this.state.user.userName:"",a.corpUuid=this.state.isRemember?this.state.user.corpUuid:"",this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,w.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var r=this.state.user;r[e]=t,this.setState({user:r})},onUserNameFinished:function(e){"单公司"!==w.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},onGoBack:function(){this.setState({action:"login"})},reqPsd:function(){this.setState({action:"request"})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},i=this.state.user.userName,s=this.state.hints,d="login"===this.state.action?"":"none",u={imageSize:"5",zoom:"4",title:"icerno"};u.data="http://124.202.135.197:18580/apk/icerno.apk";var p=JSON.stringify(u);p=encodeURI(p),p=p.replace(/&/g,"%26");var h="/param_s/QRCode/create?data="+p,v="单公司"===w.corpStruct?null:o.default.createElement(b,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:s.compUuidHint,validateStatus:s.compUuidStatus},o.default.createElement(f.default,{style:{opacity:".9"},name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp})),y=o.default.createElement("div",n({style:{width:"100%"}},"style",{display:d}),o.default.createElement("div",{style:{width:"300px",height:"300px",position:"fixed",margin:"-150px -150px",top:"50%",left:"50%"}},o.default.createElement(c.Form,{layout:t},o.default.createElement(b,l({},r,{label:"",colon:!0,style:{marginBottom:"20px"},help:s.userNameHint,validateStatus:s.userNameStatus}),o.default.createElement(c.Input,{prefix:o.default.createElement(c.Icon,{type:"user",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),o.default.createElement(b,l({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:s.passwdHint,validateStatus:s.passwdStatus}),o.default.createElement(c.Input,{prefix:o.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),v,o.default.createElement(b,null,o.default.createElement(m.default,{message:e,toggle:this.onDismiss}),o.default.createElement(c.Checkbox,{id:"remember",style:{color:"#fff",opacity:".9"},checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),o.default.createElement("a",{onClick:this.reqPsd,style:{float:"right",marginTop:"1px",color:"#fff"}},"忘记密码？"),o.default.createElement(c.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%",opacity:".9"},loading:this.state.loading},"登录"),w.resMode?null:o.default.createElement(c.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px",opacity:".9"},loading:this.state.loading},"快速登录")))),o.default.createElement("div",{style:{padding:"15px 0 0 15px"}},o.default.createElement("img",{src:h,style:{width:80,height:80}}),o.default.createElement("p",{style:{color:"#FFFFFF",paddingTop:"6px"}},"android 客户端"))),E=null;return"modify"===this.state.action?E=o.default.createElement(g.default,{onBack:this.onGoBack}):"request"===this.state.action&&(E=o.default.createElement(S.default,{userName:i,onBack:this.onGoBack})),o.default.createElement("div",{style:{width:"100%",height:"100%",background:"#0e1a53",opacity:".92"}},o.default.createElement(C.default,null),y,E)}}));e.exports=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=(r(s),a(4),a(3),l.default.createClass({displayName:"LogoutPage",getInitialState:function(){return{loading:!1}},componentDidMount:function(){},render:function(){return l.default.createElement("div",{className:"grid-page"},"用户签退")}}));e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(4)),u=a(18),c=r(u),p=d.Form.Item,m=a(6),h=a(3),f=i.default.createClass({displayName:"PasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,m.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",m.formValidator(this,this.state.passwd)){var t=h.authUrl+"auth-user/update-pwd",a={},r=this.state.passwd.oldPasswd,n=this.state.passwd.newPasswd,l=this.state.passwd.confirmPad;n!=l?m.warnMsg("两次输入需要一致！"):(a.oldPasswd=r,a.newPasswd=n);var i=this;h.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?m.succMsg("密码修改成功！"):i.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){i.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",r="form-item-"+a,l={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return i.default.createElement("div",{style:{width:"100%"}},i.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},i.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px"}},"修改密码"),i.default.createElement(d.Form,{layout:a},i.default.createElement(p,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),i.default.createElement(p,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"text",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),i.default.createElement(p,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"text",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),i.default.createElement(p,null,i.default.createElement(c.default,{message:e,toggle:this.onDismiss}),i.default.createElement(d.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=f},function(e,t,a){"use strict";var r=a(57),n=a(41),l=a(60);r.inject();var i={renderToString:n.renderToString,renderToStaticMarkup:n.renderToStaticMarkup,version:l};e.exports=i},function(e,t){"use strict";var a={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=a},function(e,t,a){"use strict";function r(e,t){var a;try{return h.injection.injectBatchingStrategy(p),a=m.getPooled(t),g++,a.perform(function(){var r=v(e,!0),n=c.mountComponent(r,a,null,s(),f,0);return t||(n=u.addChecksumToMarkup(n)),n},null)}finally{g--,m.release(a),g||h.injection.injectBatchingStrategy(d)}}function n(e){return o.isValidElement(e)?void 0:i("46"),r(e,!1)}function l(e){return o.isValidElement(e)?void 0:i("47"),r(e,!0)}var i=a(44),o=a(49),s=a(55),d=a(56),u=(a(45),a(58)),c=a(54),p=a(40),m=a(59),h=a(46),f=a(48),v=a(47),g=(a(43),0);e.exports={renderToString:n,renderToStaticMarkup:l}},function(e,t,a){"use strict";e.exports=a(39)},function(e,t,a){e.exports=a(10)(13)},function(e,t,a){e.exports=a(10)(14)},function(e,t,a){e.exports=a(10)(36)},function(e,t,a){e.exports=a(10)(40)},function(e,t,a){e.exports=a(10)(468)},function(e,t,a){e.exports=a(10)(473)},function(e,t,a){e.exports=a(10)(48)},function(e,t,a){e.exports=a(10)(761)},function(e,t,a){e.exports=a(10)(762)},function(e,t,a){e.exports=a(10)(784)},function(e,t,a){e.exports=a(10)(799)},function(e,t,a){e.exports=a(10)(82)},function(e,t,a){e.exports=a(10)(966)},function(e,t,a){e.exports=a(10)(976)},function(e,t,a){e.exports=a(10)(977)},function(e,t,a){e.exports=a(10)(982)},function(e,t,a){e.exports=a(10)(988)},function(e,t,a){e.exports=a(10)(990)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=(a(13),l.default.createClass({displayName:"IndexPage",getInitialState:function(){return null},render:function(){return console.log(this.props.location),l.default.createElement("div",null,l.default.createElement("h1",null,"404 - Not Found"))}}));e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.vx=-.5+Math.random(),this.vy=-.5+Math.random(),this.radius=2*Math.random(),this.color=new l}function l(e){e=e||0,this.colorValue=function(e){return Math.floor(255*Math.random()+e)},this.createColorStyle=function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},this.r=this.colorValue(e),this.g=this.colorValue(e),this.b=this.colorValue(e),this.style=this.createColorStyle(this.r,this.g,this.b)}var i=a(2),o=r(i),s=a(8),d=(r(s),a(5));r(d);n.prototype={draw:function(e){e.beginPath(),e.fillStyle=this.color.style,e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()}};var u=o.default.createClass({displayName:"CanvasDotePage",getInitialState:function(){return{mousePosition:{x:30*window.innerWidth/100,y:30*window.innerHeight/100},dots:{nb:190,distance:100,d_radius:80,array:[]},canvas:{},ctx:{}}},componentDidMount:function(){var e=this.state.canvas,t=this.state.ctx,a=this.state.dots;e=this.refs.canvasDote,t=e.getContext("2d"),e.width=window.innerWidth,e.height=window.innerHeight,t.lineWidth=.3,t.strokeStyle=new l(150).style;var r=190;e.width<700?r=80:e.width<1e3&&(r=110),a.nb=r,this.state.canvas=e,this.state.ctx=t,this.state.dots=a,this.createDots(),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},createColorStyle:function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},mixComponents:function(e,t,a,r){return(e*t+a*r)/(t+r)},averageColorStyles:function(e,t){var a=e.color,r=t.color,n=this.mixComponents(a.r,e.radius,r.r,t.radius),l=this.mixComponents(a.g,e.radius,r.g,t.radius),i=this.mixComponents(a.b,e.radius,r.b,t.radius);return this.createColorStyle(Math.floor(n),Math.floor(l),Math.floor(i))},createDots:function(){for(var e=this.state.dots,t=this.state.canvas,a=0;a<e.nb;a++)e.array.push(new n(t))},moveDots:function(){for(var e=this.state.canvas,t=this.state.dots,a=0;a<t.nb;a++){var r=t.array[a];r.y<0||r.y>e.height?(r.vx=r.vx,r.vy=-r.vy):(r.x<0||r.x>e.width)&&(r.vx=-r.vx,r.vy=r.vy),r.x+=r.vx,r.y+=r.vy}this.setState({canvas:e})},connectDots:function(){for(var e=this.state.dots,t=this.state.mousePosition,a=this.state.ctx,r=0;r<e.nb;r++)for(var n=0;n<e.nb;n++){var l=e.array[r],i=e.array[n];l.x-i.x<e.distance&&l.y-i.y<e.distance&&l.x-i.x>-e.distance&&l.y-i.y>-e.distance&&l.x-t.x<e.d_radius&&l.y-t.y<e.d_radius&&l.x-t.x>-e.d_radius&&l.y-t.y>-e.d_radius&&(a.beginPath(),a.strokeStyle=this.averageColorStyles(l,i),a.moveTo(l.x,l.y),a.lineTo(i.x,i.y),a.stroke(),a.closePath())}this.setState({dots:e})},drawDots:function(e,t){for(var a=0;a<t.nb;a++){var r=t.array[a];r.draw(e)}this.setState({ctx:e})},animateDots:function(e,t,a){t.clearRect(0,0,e.width,e.height),this.moveDots(),this.connectDots(),this.drawDots(t,a),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},onMouseMove:function(e){this.state.mousePosition.x=e.pageX,this.state.mousePosition.y=e.pageY,this.setState({mousePosition:this.state.mousePosition})},onMouseLeave:function(e){var t=this.state.canvas;this.state.mousePosition.x=t.width/3,this.state.mousePosition.y=t.height/3,this.setState({mousePosition:this.state.mousePosition})},render:function(){return o.default.createElement("div",null,o.default.createElement("canvas",{ref:"canvasDote",width:"1000px",height:"700px",style:{position:"absolute"},onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave}))}});e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(4)),u=a(18),c=r(u),p=a(6),m=d.Form.Item,h=a(6),f=a(3),v=i.default.createClass({displayName:"ModPasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,h.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",h.formValidator(this,this.state.passwd)){var t=f.authUrl+"auth-user/update-pwd",a={},r=this.state.passwd.oldPasswd,n=this.state.passwd.newPasswd,l=this.state.passwd.confirmPad;n!=l?p.warnMsg("两次输入需要一致！"):(a.oldPasswd=r,a.newPasswd=n);var i=this;f.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(p.succMsg("密码修改成功！"),i.props.onBack()):i.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){i.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",r="form-item-"+a,l={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return i.default.createElement("div",{style:{width:"100%"}},i.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},i.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px",color:"#fff",opacity:".9"}},"修改密码"),i.default.createElement(d.Form,{layout:a},i.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),i.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"password",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),i.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),i.default.createElement(m,null,i.default.createElement(c.default,{message:e,toggle:this.onDismiss}),i.default.createElement(d.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(4)),u=a(18),c=r(u),p=(a(1),a(6)),m=d.Form.Item,h=a(6),f=a(3),v=i.default.createClass({displayName:"ResetPasswdPage",getInitialState:function(){return{resetPasswd:{newEmail:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[],count:60,liked:!0}},componentDidMount:function(){this.state.validRules=[{id:"username",desc:"用户名",required:!0,max:"0"},{id:"email",desc:"电子邮箱",required:!0,max:"0"},{id:"resetCode",desc:"验证码",required:!1,max:"0"},{id:"passwd",desc:"密码",required:!1,max:"0"}]},handleOnChange:function(e){var t=this.state.resetPasswd;t[e.target.id]=e.target.value,h.validator(this,t,e.target.id),this.setState({resetPasswd:t})},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},goBack:function(){this.props.onBack()},times:function(){this.state.liked&&(this.timer=setInterval(function(){var e=this.state.count;this.state.liked=!1,e-=1,e<1&&(this.setState({liked:!0}),e=60,clearInterval(this.timer)),this.setState({count:e})}.bind(this),1e3))},clickGetEmail:function(){var e=this.state.resetPasswd.email,t=this.state.resetPasswd.username;null!==e&&""!==e&&null!==t&&""!==t||p.errMsg("用户名和邮箱不能为空");var a=f.authUrl+"auth-user/reset-req",r={};r.username=t,r.email=e;var n=this;f.doUpdateService(a,r).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(p.succMsg("邮件已发送！"),n.times()):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.showError("未知错误")})},clickRequestPwd:function(e){var t=f.authUrl+"auth-user/reset-passwd",a={},r=this.state.resetPasswd.passwd,n=this.state.resetPasswd.confirmPad;a.username=this.props.userName,a.passwd=r,a.resetCode=this.state.resetPasswd.resetCode;var l=this;f.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?r!=n?h.warnMsg("两次输入需要一致！"):(p.succMsg("密码修改成功！"),l.goBack()):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.showError("未知错误")})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",r="form-item-"+a,l={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}},o=this.state.liked?"获取验证码":this.state.count+" s";return i.default.createElement("div",{style:{width:"100%"}},i.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},i.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"30px",fontSize:"16px",textAlign:"center",marginBottom:"10px",letterSpacing:3,color:"#fff",opacity:".9"}},"重置密码"),i.default.createElement(d.Form,{layout:a},i.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.usernameHint,validateStatus:t.usernameStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"user"}),placeholder:"用户名",type:"text",name:"username",id:"username",value:this.state.resetPasswd.username,onChange:this.handleOnChange})),i.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"10px"},help:t.emailHint,validateStatus:t.emailStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"mail"}),placeholder:"注册的邮箱",type:"text",name:"email",id:"email",value:this.state.resetPasswd.email,onChange:this.handleOnChange}),i.default.createElement(d.Button,{style:{position:"absolute",right:"1px",top:"2px",height:"28px",zIndex:2,fontSize:12},key:"btnEamil",size:"large",onClick:this.clickGetEmail},o),i.default.createElement("p",{style:{width:"100%",fontSize:12,textAlign:"right",color:"#fff",opacity:".9"}},"验证码将会发送至您的注册邮箱")),i.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.resetCodeHint,validateStatus:t.resetCodeStatus}),i.default.createElement(d.Input,{
prefix:i.default.createElement(d.Icon,{type:"safety"}),placeholder:"验证码",type:"text",name:"resetCode",id:"resetCode",value:this.state.resetPasswd.resetCode,onChange:this.handleOnChange})),i.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.passwdHint,validateStatus:t.passwdStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.resetPasswd.passwd,onChange:this.handleOnChange})),i.default.createElement(m,n({},l,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),i.default.createElement(d.Input,{prefix:i.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.resetPasswd.confirmPad,onChange:this.handleOnChange})),i.default.createElement(m,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:r},i.default.createElement(c.default,{message:e,toggle:this.onDismiss}),i.default.createElement(d.Button,{type:"primary",size:"middle",onClick:this.clickRequestPwd,style:{marginRight:"6px"},loading:this.state.loading},"修改密码"),i.default.createElement(d.Button,{size:"middle",onClick:this.goBack},"取消")))))}});e.exports=v},function(e,t,a){e.exports=a(10)(3)},,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(5),d=(r(s),a(4)),u=a(271),c=r(u),p=a(1),m=d.Input.Search,h=a(6),f=a(3),v=a(171),g=a(126),y={children:o.default.PropTypes.node,poolUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectMember:o.default.PropTypes.func},S=o.default.createClass({displayName:"SearchResMember",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{resMemberSet:{recordSet:[],operation:"",errMsg:""},filterValue:e,hint:"",poolUuid:this.props.poolUuid,projUuid:this.props.projUuid,showError:this.props.showError,onSelectMember:this.props.onSelectMember,loading:!1}},mixins:[p.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectResMemberPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到资源池人员":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectMember(e.recordSet[0]):a>1&&(this.refs.SelectResMemberPage.clear(e),this.refs.SelectResMemberPage.toggle());this.setState({loading:!1,resMemberSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.projUuid=this.state.projUuid,t.poolUuid=this.state.poolUuid,void 0!==t.poolUuid&&null!==t.poolUuid&&""!==t.poolUuid||(t.corpUuid=window.loginData.compUser.corpUuid),h.isIncNumber(e)?t.staffCode=e:t.perName=e,this.setState({filterValue:e,loading:!0,hint:""}),g.retrieveResMemberPage(t,1,10)},render:function(){var e=this.props,t=(e.poolUuid,e.projUuid,e.showError,e.onSelectMember,e.style),a=(e.value,n(e,["poolUuid","projUuid","showError","onSelectMember","style","value"])),r={},i=t;""!==this.state.hint&&(i={},f.copyValue(t,r),f.copyValue(t,i),r.paddingTop="4px",i.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(m,l({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:i},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px",paddingTop:"16px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(m,l({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:i},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectResMemberPage",onSelectMember:this.state.onSelectMember}))}});S.propTypes=y,e.exports=S},,,,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrLevel","deleteHrLevel","updateHrLevel","retrieveHrLevel","retrieveHrLevelPage","initHrLevel",{getLevelName:{sync:!0}}]);e.exports=n},,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(5),d=(r(s),a(4)),u=a(1),c=(a(3),a(125)),p=a(92),m=o.default.createClass({displayName:"AutoInput",getInitialState:function(){return{loading:!1,paramList:[]}},mixins:[u.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){if(this.state.paramList=[],""===e.errMsg)for(var t=e.recordSet,a=this.props.paramName,r=0;r<t.length;r++){var n=t[r];if(n.paramName===a){this.state.paramList=n.paramValue.split("\n");break}}this.setState({loading:!1})},componentDidMount:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid;p.retrieveUiParam(e)},render:function(){var e=this.props,t=(e.paramName,n(e,["paramName"]));return o.default.createElement(d.AutoComplete,l({dataSource:this.state.paramList,filterOption:function(e,t){return t.props.children.indexOf(e)!==-1}},t))}});t.default=m},,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=r(n),i=a(5),o=(r(i),a(4)),s=a(1),d=o.Select.Option,u=a(511),c=a(272),p=l.default.createClass({displayName:"SelectProjTeam",getInitialState:function(){return{projTeamSet:{recordSet:[],errMsg:""},loading:!1,projUuid:""}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projTeamSet:e})},getTeamNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.levelSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},componentDidMount:function(){if(this.state.projUuid=this.props.projUuid,this.props.projUuid){var e={};e.projUuid=this.props.projUuid,this.setState({loading:!0}),c.initProjTeam(e)}},componentWillReceiveProps:function(e){if(this.state.projUuid!==e.projUuid&&(this.state.projTeamSet={recordSet:[],errMsg:""},this.state.projUuid=e.projUuid,e.projUuid)){var t={};t.projUuid=e.projUuid,this.setState({loading:!0}),c.initProjTeam(t)}},render:function(){var e=this.state.projTeamSet.recordSet,t=l.default.createElement(o.Select,this.props,l.default.createElement(d,{key:"-",value:""},"--"),e.map(function(e){return l.default.createElement(d,{key:e.uuid,value:e.uuid},e.teamName)}));return this.state.loading?l.default.createElement(o.Spin,null,t):t}});t.default=p},,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrAllowance","deleteHrAllowance","updateHrAllowance","retrieveHrAllowance","retrieveHrAllowancePage","initHrAllowance",{getAllowName:{sync:!0}}]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrBizTrip","deleteHrBizTrip","updateHrBizTrip","retrieveHrBizTrip","retrieveHrBizTripPage","initHrBizTrip",{getTripName:{sync:!0}}]);e.exports=n},,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHoliday","retrieveHoliday","retrieveHolidayPage","initHoliday",{getDateType:{sync:!0}}]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrInsurance","deleteHrInsurance","updateHrInsurance","retrieveHrInsurance","retrieveHrInsurancePage","initHrInsurance",{getInsuName:{sync:!0}}]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createLeaveApply","cancelLeaveApply","updateLeaveApply","revokeLeaveApply","retrieveLeaveApply","retrieveLeaveApplyPage","initLeaveApply"]);e.exports=n},,,function(e,t,a){"use strict";var r=a(1),n=a(72),l=a(3),i=a(11),o=r.createStore({listenables:[n],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("hr-level",e,t)},onRetrieveHrLevel:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr-level/retrieve");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrLevelPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrLevel(e)},onInitHrLevel:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrLevel(e)},onCreateHrLevel:function(e){var t=this.getServiceUrl("hr-level/create");l.recordCreate(this,e,t)},onUpdateHrLevel:function(e){var t=this.getServiceUrl("hr-level/update");l.recordUpdate(this,e,t)},onDeleteHrLevel:function(e){var t=this.getServiceUrl("hr-level/remove");l.recordDelete(this,e,t)},onGetLevelName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void l.findRecordName(t,this.recordSet,"lvlCode","hr_level"):void this.onRetrieveHrLevel(e)}});e.exports=o},,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createUiParam","deleteUiParam","updateUiParam","retrieveUiParam","retrieveUiParamPage","initUiParam"]);e.exports=n},,,function(e,t,a){"use strict";var r=a(1),n=a(86),l=a(3),i=a(6),o=a(11),s=r.createStore({listenables:[n],filter:{},recordSet:[],allowLog:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.costUrl+e},fireEvent:function(e,t,a){i.sortTable(a.recordSet,"beginDate",!0),a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),o.showError("leave_apply",e,t)},onRetrieveLeaveApply:function(e){var t=this,a=this.getServiceUrl("leave_apply/retrieve");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveLeaveApplyPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveLeaveApply(e)},onInitLeaveApply:function(e){return l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveLeaveApply(e)},onCreateLeaveApply:function(e){var t=this.getServiceUrl("leave_apply/create");l.recordCreate(this,e,t)},onUpdateLeaveApply:function(e){var t=this.getServiceUrl("leave_apply/update");l.recordUpdate(this,e,t)},onCancelLeaveApply:function(e){var t=this.getServiceUrl("leave_apply/cancel");l.recordUpdate(this,e,t)},onRevokeLeaveApply:function(e){var t=this.getServiceUrl("leave_apply/revoke");l.recordUpdate(this,e,t)}});e.exports=s},,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(5),d=(r(s),a(4)),u=a(1),c=d.Select.Option,p=a(6),m=a(1415),h=a(738),f=o.default.createClass({displayName:"UserProjSelect",getInitialState:function(){return{userProjSet:{recordSet:[],errMsg:"",operation:""},loading:!1,filter:{},defaultValue:""}},mixins:[u.listenTo(m,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&this.setState({loading:!1,userProjSet:e})},getUserProjNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.userProjSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},componentDidMount:function(){this.state.userProjSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=this.state.filter;e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,e.qryDate=p.getToday()+"",h.initUserProj(e)},render:function(){var e=this.props,t=e.required,a=e.mode,r=e.value,i=e.setDefProj,s=n(e,["required","mode","value","setDefProj"]),u=this.state.userProjSet.recordSet,p=r;"create"===a&&!p&&u.length>0&&(p=u[0].uuid,i&&i(u[0]));var m;return m=t?o.default.createElement(d.Select,l({},s,{value:p}),u.map(function(e,t){return o.default.createElement(c,{key:e.uuid,value:e.uuid},e.projName)})):o.default.createElement(d.Select,l({},this.props,{value:p}),o.default.createElement(c,{value:""},"--"),u.map(function(e,t){return o.default.createElement(c,{key:e.uuid,value:e.uuid},e.projName)})),this.state.loading?o.default.createElement(d.Spin,null,m):m}});t.default=f},,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=a(81),l=a(3),i=a(11),o=r.createStore({listenables:[n],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("hr_allowance",e,t)},onRetrieveHrAllowance:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr_allowance/get-by-corp_uuid");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrAllowancePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrAllowance(e)},onInitHrAllowance:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrAllowance(e)},onCreateHrAllowance:function(e){var t=this.getServiceUrl("hr_allowance/create");l.recordCreate(this,e,t)},onUpdateHrAllowance:function(e){var t=this.getServiceUrl("hr_allowance/update");l.recordUpdate(this,e,t)},onDeleteHrAllowance:function(e){var t=this.getServiceUrl("hr_allowance/remove");l.recordDelete(this,e,t)},onGetAllowName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void l.findRecordName(t,this.recordSet,"allowName","hr-allowance"):void this.onRetrieveHrAllowance(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=a(82),l=a(3),i=a(11),o=r.createStore({listenables:[n],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("hr_biz_trip",e,t)},onRetrieveHrBizTrip:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr_biz_trip/get-by-corp_uuid");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrBizTripPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrBizTrip(e)},onInitHrBizTrip:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrBizTrip(e)},onCreateHrBizTrip:function(e){var t=this.getServiceUrl("hr_biz_trip/create");l.recordCreate(this,e,t)},onUpdateHrBizTrip:function(e){var t=this.getServiceUrl("hr_biz_trip/update");l.recordUpdate(this,e,t)},onDeleteHrBizTrip:function(e){var t=this.getServiceUrl("hr_biz_trip/remove");l.recordDelete(this,e,t)},onGetTripName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void l.findRecordName(t,this.recordSet,"tripName","hr_trip"):void this.onRetrieveHrBizTrip(e)}});e.exports=o},,function(e,t,a){"use strict";var r=a(1),n=a(84),l=a(3),i=a(11),o=a(24),s=r.createStore({listenables:[n],year:"",recordSet:[],yearMap:{},init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){if(void 0!==this.year&&""!==this.year){var r={};a.recordSet.map(function(e,t){r[e.date]=e.flag}),this.yearMap[this.year]=r}a.trigger({year:a.year,recordSet:a.recordSet,operation:e,errMsg:t}),i.showError("holiday",e,t)},onRetrieveHoliday:function(e){var t=this,a={};a.year=e;var r=this.getServiceUrl("holiday/get-by-year");l.doGetRecordService(r,a).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(a.object?t.recordSet=a.object.holidayList:t.recordSet=[],t.year=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHolidayPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHoliday(e)},onInitHoliday:function(e){return this.recordSet.length>0&&this.year===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHoliday(e)},onCreateHoliday:function(e){var t=this,a=e,r=this.getServiceUrl("holiday/create");l.doGetRecordService(r,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.holidayList,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onGetDateType:function(e,t){var a=this.yearMap[e];if(a){var r=a[t];return void 0!==r&&null!==r||(r="0"),void o.findName("holiday",t,r)}this.onRetrieveHoliday(e)}});e.exports=s},function(e,t,a){"use strict";var r=a(1),n=a(85),l=a(3),i=a(11),o=r.createStore({listenables:[n],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){i.showError("hr_insurance",e,t),a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t})},onRetrieveHrInsurance:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr_insurance/get-by-corp_uuid");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("get-by-corp_uuid","",t)):t.fireEvent("get-by-corp_uuid","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("get-by-corp_uuid","调用服务错误",t)})},onRetrieveHrInsurancePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrInsurance(e)},onInitHrInsurance:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("get-by-corp_uuid","",this):void this.onRetrieveHrInsurance(e)},onCreateHrInsurance:function(e){var t=this.getServiceUrl("hr_insurance/create");l.recordCreate(this,e,t)},onUpdateHrInsurance:function(e){var t=this.getServiceUrl("hr_insurance/update");l.recordUpdate(this,e,t)},onDeleteHrInsurance:function(e){var t=this.getServiceUrl("hr_insurance/remove");l.recordDelete(this,e,t)},onGetInsuName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void l.findRecordName(t,this.recordSet,"insuName","hr-insurance"):void this.onRetrieveHrInsurance(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=a(24),l=r.createStore({listenables:[n],init:function(){},onFindName:function(e,t,a){this.trigger({resName:e,uuid:t,name:a})}});e.exports=l},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createResTeam","deleteResTeam","updateResTeam","retrieveResTeam","retrieveResTeamPage","initResTeam",{getTeamName:{sync:!0}}]);e.exports=n},,,,,,,,function(e,t,a){"use strict";var r=a(1),n=a(92),l=a(3),i=a(11),o=r.createStore({listenables:[n],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.paramUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("ui-param",e,t)},onRetrieveUiParam:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("ui-param/retrieve");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveUiParamPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveUiParam(e)},onInitUiParam:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveUiParam(e)},onCreateUiParam:function(e){var t=this.getServiceUrl("ui-param/create");l.recordCreate(this,e,t)},onUpdateUiParam:function(e){var t=this.getServiceUrl("ui-param/update");l.recordUpdate(this,e,t)},onDeleteUiParam:function(e){var t=this.getServiceUrl("ui-param/remove");l.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveResMember","retrieveResMemberPage","initResMember"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createProjTeam","deleteProjTeam","updateProjTeam","retrieveProjTeam","retrieveProjTeamPage","initProjTeam","getCacheData",{getTeamName:{sync:!0}}]);e.exports=n},,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(4),o=i.Form.Item,s=i.Input.Group,d=a(6);a(3);e.exports={isHourLeave:function(e){return"annual"===e||"dayoff"===e},changeRemnantValue:function(e,t,a){if(""!==a){a=""+parseInt(a);var r=d.checkDataType(a,"number");if(""!==r&&void 0!==r)return r}var t=t?t:"",n=t.indexOf("_");if(n>0){var l=t.substr(0,n),i=t.substr(n+1),o=e[l]?e[l]:"",s="0";if(n=o.indexOf("."),n>=0?(s=o.substr(n+1),o=o.substr(0,n)):""===o&&(o="0"),"1"===i){if(parseInt(a)>365)return"输入0~365";o=a}else{if(parseInt(a)>7)return"请输入0~7";s=a}""===s||"0"===s?e[l]=o:e[l]=o+"."+s}else{if(parseInt(a)>365)return"输入0~365";e[t]=a}return""},isLeaveValid:function(e){var t=e.state.leaveType,a="0",r="0";if(e.state.leave&&e.state.leave[t]&&(a=e.state.leave[t]),this.isHourLeave(t)){var n=a.indexOf(".");n>0&&(r=a.substr(n+1),a=a.substr(0,n))}var l=parseInt(a),i=parseInt(r),o=e.state.leaveApply.accruedHour,s=e.state.leaveApply.accruedDay,d=parseInt(o),u=parseInt(s);return l<u?"申请休假时间超过剩余假期":l===u&&i<d?"申请休假时间超过剩余假期":void 0},getRemnantFields:function(e){var t=e.state.leaveType,a="0";e.state.leave&&e.state.leave[t]&&(a=e.state.leave[t]);var r=[];if(this.isHourLeave(t)){var n="0",o="0",d=a.indexOf(".");d>0?(n=a.substr(0,d),o=a.substr(d+1)):n=a,r.push(l.default.createElement(i.Col,{className:"gutter-row",span:10},l.default.createElement(s,{compact:!0},l.default.createElement(i.Input,{style:{width:"60%"},type:"text",name:"remnant1_1",id:"remnant1_1",value:n,readOnly:!0}),l.default.createElement(i.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))),r.push(l.default.createElement(i.Col,{className:"gutter-row",span:14},l.default.createElement(s,{compact:!0,style:{margin:"0 0 0 6px"}},l.default.createElement(i.Input,{style:{width:"60%"},type:"text",name:"remnant1_2",id:"remnant1_2",value:o,readOnly:!0}),l.default.createElement(i.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0}))))}else r.push(l.default.createElement(i.Input,{type:"text",name:"remnant",id:"remnant",value:a,disabled:!0}));return{bfFields:r}},getTimeDiff:function(e,t,a,r){a<9&&(a=9),a>18&&(a=18),r<9&&(r=9),r>18&&(r=18);var n=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2)+" 00:00",l=t.substr(0,4)+"/"+t.substr(4,2)+"/"+t.substr(6,2)+" 00:00",i=new Date(n),o=new Date(l),s=o.getTime()-i.getTime(),d=Math.floor(s/864e5)-1,e=18-a;a<=12&&(e-=1),e>=8&&(e=0,d+=1);var t=r-9;r>12&&(t-=1),t>=8&&(t=0,d+=1);var u=e+t;u>=8&&(u-=8,d+=1);var c={days:d,hours:u};return c},calcLeafDays:function(e){var t=e.beginDate?e.beginDate:"",a=e.endDate?e.endDate:"",r=e.beginHour?e.beginHour:"",n=e.endHour?e.endHour:"";if(""!==t&&""!==a&&""!==r&&""!==n){var l=this.getTimeDiff(t,a,parseInt(r),parseInt(n));e.accruedDay=l.days+"",e.accruedHour=l.hours+""}},getRemnantFields2:function(e){var t=e.state.leaveType,a=e.state.leave?e.state.leave[t]:"0",r=e.state.hints,n=[],d=[],u=[];if(this.isHourLeave(t)){var c="0",p="0",m=a?a.indexOf("."):"0";m>0?(c=a.substr(0,m),p=a.substr(m+1)):c=a,n.push(l.default.createElement(i.Col,{className:"gutter-row",span:10},l.default.createElement(s,{compact:!0},l.default.createElement(i.Input,{style:{width:"70%"},type:"text",name:"remnant_day",id:"remnant1_1",value:c,readOnly:!0}),l.default.createElement(i.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))),n.push(l.default.createElement(i.Col,{className:"gutter-row",span:12},l.default.createElement(s,{compact:!0,style:{margin:"0 8px 0 8px"}},l.default.createElement(i.Input,{style:{width:"60%"},type:"text",name:"remnant_hour",id:"remnant1_2",value:p,readOnly:!0}),l.default.createElement(i.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0}))))}else n.push(l.default.createElement(i.Input,{type:"text",name:"remnant",id:"remnant_",value:a,readOnly:!0}));return this.isHourLeave(t)?(d.push(l.default.createElement(i.Col,{className:"gutter-row",span:13},l.default.createElement(o,{help:r.accruedDayHint,validateStatus:r.accruedDayStatus},l.default.createElement(s,{compact:!0},l.default.createElement(i.Input,{style:{width:"70%"},type:"text",name:"accruedDay",id:"accruedDay",value:e.state.leaveApply.accruedDay,onChange:e.handleOnChange,readOnly:!1}),l.default.createElement(i.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0}))))),d.push(l.default.createElement(i.Col,{span:11},l.default.createElement(o,{help:r.accruedHourHint,validateStatus:r.accruedHourStatus,style:{margin:"0 0 0 8px"}},l.default.createElement(s,{compact:!0},l.default.createElement(i.Input,{style:{width:"50%"},type:"text",name:"accruedHour",id:"accruedHour",value:e.state.leaveApply.accruedHour,onChange:e.handleOnChange,readOnly:!1}),l.default.createElement(i.Input,{style:{width:"50%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0}))))),u.push(l.default.createElement(i.Col,{className:"gutter-row",span:13},l.default.createElement(o,{help:r.accruedDayHint,validateStatus:r.accruedDayStatus},l.default.createElement(s,{compact:!0},l.default.createElement(i.Input,{style:{width:"70%"},type:"text",name:"accruedDay",id:"accruedDay",value:e.state.leaveApply.accruedDay,readOnly:!0}),l.default.createElement(i.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0}))))),u.push(l.default.createElement(i.Col,{span:11},l.default.createElement(o,{help:r.accruedHourHint,validateStatus:r.accruedHourStatus,style:{margin:"0 0 0 8px"}},l.default.createElement(s,{compact:!0},l.default.createElement(i.Input,{style:{width:"50%"},type:"text",name:"accruedHour",id:"accruedHour",value:e.state.leaveApply.accruedHour,readOnly:!0}),l.default.createElement(i.Input,{style:{width:"50%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0})))))):(d.push(l.default.createElement(i.Col,{className:"gutter-row",span:24},l.default.createElement(o,{help:r.accruedDayHint,validateStatus:r.accruedDayStatus},l.default.createElement(s,{compact:!0},l.default.createElement(i.Input,{style:{width:"80%"},type:"text",name:"accruedDay",id:"accruedDay",value:e.state.leaveApply.accruedDay,onChange:e.handleOnChange,readOnly:!1}),l.default.createElement(i.Input,{style:{width:"20%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0}))))),u.push(l.default.createElement(i.Col,{className:"gutter-row",span:24},l.default.createElement(o,{help:r.accruedDayHint,validateStatus:r.accruedDayStatus},l.default.createElement(s,{compact:!0},l.default.createElement(i.Input,{style:{width:"80%"},type:"text",name:"accruedDay",id:"accruedDay",value:e.state.leaveApply.accruedDay,readOnly:!0}),l.default.createElement(i.Input,{style:{width:"20%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))))),{bfFields:n,spendFields:d,readOnlySpendFields:u}}}},,,,,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["getCheckInfo"]);e.exports=n},,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrSalaryItem","deleteHrSalaryItem","updateHrSalaryItem","retrieveHrSalaryItem","retrieveHrSalaryItemPage","initHrSalaryItem"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrTripCity","deleteHrTripCity","updateHrTripCity","retrieveHrTripCity","retrieveHrTripCityPage","initHrTripCity"]);e.exports=n},,,function(e,t,a){"use strict";var r=a(1),n=a(117),l=a(3),i=a(11),o=a(24),s=r.createStore({listenables:[n],poolUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,teamMap:{},init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){if(void 0!==a.poolUuid&&null!==a.poolUuid&&""!==a.poolUuid){var r={};a.recordSet.map(function(e,t){r[e.uuid]=e.teamName}),a.teamMap[a.poolUuid]=r}a.trigger({poolUuid:a.poolUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("res-team",e,t)},onRetrieveResTeam:function(e){var t=this,a={};a.poolUuid=e;var r=this.getServiceUrl("res-team/get-by-pool_uuid");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.poolUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResTeamPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResTeam(e)},onInitResTeam:function(e){return this.recordSet.length>0&&this.poolUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResTeam(e)},onCreateResTeam:function(e){var t=this.getServiceUrl("res-team/create");
l.recordCreate(this,e,t)},onUpdateResTeam:function(e){var t=this.getServiceUrl("res-team/update");l.recordUpdate(this,e,t)},onDeleteResTeam:function(e){var t=this.getServiceUrl("res-team/remove");l.recordDelete(this,e,t)},onGetTeamName:function(e,t){var a=this.teamMap[e];if(void 0!==a&&null!==a){var r=a[t];return void 0!==r&&null!==r||(r=t),void o.findName("res_team",t,r)}this.onRetrieveResTeam(e)}});e.exports=s},,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=(r(n),a(5)),i=(r(l),a(1)),o=a(135),s=a(3),d=a(11),u=i.createStore({listenables:[o],staffCode:"",userId:"",date:"",leaveSet:[],posSet:[],getServiceUrl:function(e){return s.hrUrl+e},fireEvent:function(e,t,a){a.trigger({leaveSet:a.leaveSet,posSet:a.posSet,staffCode:a.staffCode,userId:a.userId,date:a.date,operation:e,errMsg:t}),d.showError("day-pos",e,t)},onGetLeaveList:function(e,t,a,r){var n={};n.staffCode=t,n.date=a,n.corpUuid=e;var l=r.getServiceUrl("hr-leaveLog/retrieve1");s.doRetrieveService(l,n,0,0,0).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.leaveSet=e.object.list,r.fireEvent("retrieve","",r)):r.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("retrieve","调用服务错误",r)})},onGetCheckInfo:function(e,t,a,r){var n=this,l={};l.userId=a,l.date=r;var i=s.campUrl+"day-pos/retrieve";s.doRetrieveService(i,l).then(function(l){null==l.errCode||""==l.errCode||"000000"==l.errCode?(n.posSet=l.object,n.staffCode=t,n.userId=a,n.date=r,n.onGetLeaveList(e,t,r,n)):n.fireEvent("retrieve","处理错误["+l.errCode+"]["+l.errDesc+"]",n)},function(e){n.fireEvent("retrieve","调用服务错误",n)})}});e.exports=u},function(e,t,a){"use strict";var r=a(1),n=a(126),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("res-member",e,t)},onRetrieveResMember:function(e){var t=this,a=this.getServiceUrl("res-member/retrieve");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResMember(e)},onInitResMember:function(e){return this.recordSet.length>0&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveResMember(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=a(127),l=a(3),i=a(11),o=(a(14),a(24)),s=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,teamMap:{},init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){if(void 0!==a.filter.projUuid&&null!==a.filter.projUuid){var r={};a.recordSet.map(function(e,t){r[e.uuid]=e.teamName}),a.teamMap[a.filter.projUuid]=r}a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("proj_team",e,t)},onGetCacheData:function(e){this.filter.projUuid!==e&&(this.filter={},this.recordSet=[],this.startPage=0,this.pageRow=0,this.totalRow=0),this.fireEvent("cache","",this)},onRetrieveProjTeam:function(e){var t=this,a=this.getServiceUrl("proj_team/get-by-ProjUuid");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjTeamPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjTeam(e)},onInitProjTeam:function(e){return this.recordSet.length>0&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTeam(e)},onCreateProjTeam:function(e){var t=this.getServiceUrl("proj_team/create");l.recordCreate(this,e,t)},onUpdateProjTeam:function(e){var t=this.getServiceUrl("proj_team/update");l.recordUpdate(this,e,t)},onDeleteProjTeam:function(e){var t=this.getServiceUrl("proj_team/remove");l.recordDelete(this,e,t)},onGetTeamName:function(e,t){var a=this.teamMap[e];if(void 0!==a&&null!==a){var r=a[t];return void 0!==r&&null!==r||(r=t),void o.findName("proj_team",t,r)}var n={projUuid:e};this.onRetrieveProjTeam(n)}});e.exports=s},,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createResPool","deleteResPool","updateResPool","retrieveResPool","retrieveResPoolPage","initResPool",{getPoolName:{sync:!0}}]);e.exports=n},,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrBizTripParam","deleteHrBizTripParam","updateHrBizTripParam","retrieveHrBizTripParam","retrieveHrBizTripParamPage","initHrBizTripParam"]);e.exports=n},,function(e,t,a){"use strict";var r=a(1),n=a(147),l=a(3),i=a(11),o=r.createStore({listenables:[n],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("hr-salary-item",e,t)},onRetrieveHrSalaryItem:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr-salary-item/get-by-corpUuid");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrSalaryItemPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrSalaryItem(e)},onInitHrSalaryItem:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrSalaryItem(e)},onCreateHrSalaryItem:function(e){var t=this.getServiceUrl("hr-salary-item/create");l.recordCreate(this,e,t)},onUpdateHrSalaryItem:function(e){var t=this.getServiceUrl("hr-salary-item/update");l.recordUpdate(this,e,t)},onDeleteHrSalaryItem:function(e){var t=this.getServiceUrl("hr-salary-item/remove");l.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=a(148),l=a(3),i=a(11),o=r.createStore({listenables:[n],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("hr_trip_city",e,t)},onRetrieveHrTripCity:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr_trip_city/get-by-corp_uuid");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrTripCityPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrTripCity(e)},onInitHrTripCity:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrTripCity(e)},onCreateHrTripCity:function(e){var t=this.getServiceUrl("hr_trip_city/create");l.recordCreate(this,e,t)},onUpdateHrTripCity:function(e){var t=this.getServiceUrl("hr_trip_city/update");l.recordUpdate(this,e,t)},onDeleteHrTripCity:function(e){var t=this.getServiceUrl("hr_trip_city/remove");l.recordDelete(this,e,t)}});e.exports=o},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),i=r(l),o=a(7),s=(r(o),a(9)),d=(r(s),a(4)),u=(a(1),a(6),d.Input.Group),c=d.Form.Item,p=i.default.createClass({displayName:"LeaveInput",getInitialState:function(){return{loading:!1,hints:{},flag:!0,accruedDay:"",accruedHour:"",realDay:""}},componentDidMount:function(){},componentWillMount:function(){var e=this.props;e.type,e.readOnly,e.value,e.remainday,e.realLeave,n(e,["type","readOnly","value","remainday","realLeave"]);this.state.loading=!0},handleOnChange:function(e){var t=e.target.id;this.state[t]=e.target.value,this.setState({flag:!1})},render:function(){var e=this.props,t=e.type,a=e.readOnly,r=e.value,l=e.remainday,o=e.realLeave,s=(n(e,["type","readOnly","value","remainday","realLeave"]),this.state.hints);if(l){var p=r[t]?r[t]:"0",m=p.indexOf(".");m>0?(this.state.accruedDay=p.substr(0,m),this.state.accruedHour=p.substr(m+1)):this.state.accruedDay=p}else if(this.state.flag)if(o){var h=r.spend?r.spend:"0",m=h.indexOf(".");m>0?(this.state.accruedDay=h.substr(0,m),this.state.accruedHour=h.substr(m+1)):this.state.accruedDay=h}else this.state.accruedDay=r?r.accruedDay:"",this.state.accruedHour=r?r.accruedHour:"";return this.state.flag=!0,"annual"===t||"dayoff"===t?i.default.createElement("div",null,i.default.createElement(d.Col,{className:"gutter-row",span:13},i.default.createElement(c,{help:s.accruedDayHint,validateStatus:s.accruedDayStatus},i.default.createElement(u,{compact:!0},i.default.createElement(d.Input,{style:{width:"70%"},type:"text",name:"accruedDay",id:"accruedDay",value:this.state.accruedDay,onChange:this.handleOnChange,readOnly:a}),i.default.createElement(d.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))),i.default.createElement(d.Col,{className:"gutter-row",span:11},i.default.createElement(c,{help:s.accruedDayHint,validateStatus:s.accruedDayStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(u,{compact:!0},i.default.createElement(d.Input,{style:{width:"55%"},type:"text",name:"accruedHour",id:"accruedHour",value:this.state.accruedHour,onChange:this.handleOnChange,readOnly:a}),i.default.createElement(d.Input,{style:{width:"45%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0}))))):i.default.createElement(c,{help:s.accruedDayHint,validateStatus:s.accruedDayStatus},i.default.createElement(u,{compact:!0},i.default.createElement(d.Input,{style:{width:"80%"},type:"text",name:"accruedDay",id:"accruedDay",value:this.state.accruedDay,onChange:this.handleOnChange,readOnly:a}),i.default.createElement(d.Input,{style:{width:"20%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))}});t.default=p},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createResPerson","deleteResPerson","updateResPerson","retrieveResPerson","retrieveResPersonPage","initResPerson","retrieveHrEmployee"]);e.exports=n},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createProjMember","deleteProjMember","updateProjMember","retrieveProjMember","retrieveProjMemberPage","initProjMember"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createResTeamGrp","deleteResTeamGrp","updateResTeamGrp","retrieveResTeamGrp","retrieveResTeamGrpPage","initResTeamGrp"]);e.exports=n},,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=a(186),l=a(3),i=a(11),o=r.createStore({listenables:[n],tripUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({tripUuid:a.tripUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("hr-biz-trip-param",e,t)},onRetrieveHrBizTripParam:function(e){var t=this,a={};a.tripUuid=e;var r=this.getServiceUrl("hr-biz-trip-param/retrieve");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.tripUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrBizTripParamPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrBizTripParam(e)},onInitHrBizTripParam:function(e){return this.recordSet.length>0&&this.tripUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrBizTripParam(e)},onCreateHrBizTripParam:function(e){var t=this.getServiceUrl("hr-biz-trip-param/create");l.recordCreate(this,e,t)},onUpdateHrBizTripParam:function(e){var t=this.getServiceUrl("hr-biz-trip-param/update");l.recordUpdate(this,e,t)},onDeleteHrBizTripParam:function(e){var t=this.getServiceUrl("hr-biz-trip-param/remove");l.recordDelete(this,e,t)}});e.exports=o},,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=r(n),i=a(7),o=r(i),s=a(4),d=a(1),u=a(6),c=a(171),p=a(126),m=l.default.createClass({displayName:"SelectResMember",getInitialState:function(){return{resMemberSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectResMember:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,resMemberSet:e,selectIndex:-1,selectResMember:{}})},componentDidMount:function(){},clear:function(e){this.state.resMemberSet=e,this.state.selectIndex=-1,this.state.selectResMember={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectMember(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.resMemberSet.startPage=e;var t=this.state.resMemberSet.filter;p.retrieveResMemberPage(t,e,this.state.resMemberSet.pageRow)},render:function(){var e=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"当前状态",dataIndex:"resStatus",key:"resStatus",width:140},{title:"项目名称",dataIndex:"resName",key:"resName",width:240}],t=this.state.resMemberSet.recordSet,a={showQuickJumper:!0,total:this.state.resMemberSet.totalRow,pageSize:this.state.resMemberSet.pageRow,current:this.state.resMemberSet.startPage,size:"large",onChange:this.onChangePage};return l.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择资源池人员",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},l.default.createElement("div",{style:{padding:"0 8px 0 8px"}},l.default.createElement(o.default,{ref:"mxgBox",svcList:["hr-resMember/retrieve"]}),l.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=m},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveProjTeam","initProjTeam"]);e.exports=n},,,,,,,,function(e,t,a){"use strict";var r=a(1),n=a(174),l=a(3),i=a(11),o=a(24),s=r.createStore({listenables:[n],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,poolMap:{},init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){if(void 0!==a.corpUuid&&null!==a.corpUuid&&""!==a.corpUuid){var r={};a.recordSet.map(function(e,t){r[e.uuid]=e.poolName}),a.poolMap[a.corpUuid]=r}a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("res-pool",e,t)},onRetrieveResPool:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("res-pool/get-by-corp_uuid");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResPoolPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResPool(e)},onInitResPool:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResPool(e)},onCreateResPool:function(e){var t=this.getServiceUrl("res-pool/create");l.recordCreate(this,e,t)},onUpdateResPool:function(e){var t=this.getServiceUrl("res-pool/update");l.recordUpdate(this,e,t)},onDeleteResPool:function(e){var t=this.getServiceUrl("res-pool/remove");l.recordDelete(this,e,t)},onGetPoolName:function(e,t){var a=this.poolMap[e];if(void 0!==a&&null!==a){var r=a[t];return void 0!==r&&null!==r||(r=t),void o.findName("res_pool",t,r)}this.onRetrieveResPool(e)}});e.exports=s},,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(570),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"PerIntroPage",getInitialState:function(){return{introSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,introSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delIntro(e.uuid)},render:function(){var e=this,t=this.state.introSet.person.introList,a=[{title:"标题",dataIndex:"introName",key:"introName",width:160},{title:"描述",dataIndex:"intro",key:"intro",width:300},{title:"",key:"action",width:70,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["introList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(8),d=(r(s),a(5)),u=(r(d),a(13)),c=a(20),p=r(c),m=a(4),h=a(7),f=(r(h),a(19)),v=r(f),g=a(1),y=m.Form.Item,S=a(6),E=a(16),C=a(15),b=a(3),w=o.default.createClass({displayName:"PreviewPage2",getInitialState:function(){return{homeSet:{person:{},resumeID:"",operation:"",errMsg:""},radioValue:"",fileList:[],fileName:"",moreFilter:!1}},handleGo:function(e){this.props.router.push({pathname:e,state:{fromDashboard:!0}})},mixins:[g.listenTo(E,"onServiceComplete")],onServiceComplete:function(e){"noResume"!==e.operation&&this.setState({loading:!1,homeSet:e})},componentDidMount:function(){var e=p.default.resumeApp,t=this.props.userId;if(this.setState({loading:!0}),e.id)C.getResumeByID(e.id);else{var a=window.loginData.authUser.userId;C.getResumeByIdCode(a),t&&C.getResumeByIdCode(t)}},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&S.errMsg(e)},handleUpload:function(e){var t=this.state.fileList,a=new FormData;t.forEach(function(e){a.append("files[]",e)});var r=p.default.resumeApp.idCode;if("智联个人"===this.state.radioValue)var n=b.resumeUrl+"resPerson/create-resume";else var n=b.resumeUrl+"resPerson/create-resume2";var l=this;return b.doUploadService(n,r,t).then(function(e){var t="",a=null;if(null==e.errCode||""==e.errCode||"000000"==e.errCode){a=e.object;var r=e.object.idCode;C.getResumeByIdCode(r)}else t="导入数据错误["+e.errCode+"]["+e.errDesc+"]";l.uploadComplete(t,a)},function(e){var t="上传文件错误";l.uploadComplete(t,null)}),!1},beforeUpload:function(e){return this.state.fileName=e.name,this.setState(function(t){var a=t.fileList;return{fileList:[].concat(n(a),[e])}}),!1},onRadioChange:function(e){var t=e.target.value;this.state.radioValue=t},openUpload:function(e){this.setState({moreFilter:!this.state.moreFilter})},cancelUpload:function(){this.state.moreFilter=!1,this.setState({moreFilter:this.state.moreFilter})},render:function(){var e=this.state.homeSet.person,t=this.state.moreFilter,a=e.introList?e.introList:[],r=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,a.map(function(e,t){return o.default.createElement("div",{className:"introList"},o.default.createElement("div",{className:"tdPdl"},e.introName),o.default.createElement("p",{className:"rightContent"},e.intro))})))),n=e.reviewList?e.reviewList:[],i=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,n.map(function(e,t){return o.default.createElement("div",null,o.default.createElement("div",{className:"tdPdl"},e.reName),o.default.createElement("div",{className:"rightContent"},o.default.createElement("p",null,e.review)))})))),s=e.otherList?e.otherList:[],d=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,s.map(function(e,t){return o.default.createElement("tr",{className:"otherList"},o.default.createElement("td",{className:"tdPdl"},e.infoType),o.default.createElement("td",null,e.infoData1))})))),u=e.eduList?e.eduList:[],c=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,u.map(function(e,t){return o.default.createElement("tr",{style:{height:"60px",lineHeight:"60px"}},o.default.createElement("td",{className:"tdPdl"},e.schName),o.default.createElement("td",{style:{width:"15%"}},e.deptName),o.default.createElement("td",{style:{width:"15%"}},e.qualName),o.default.createElement("td",{style:{width:"15%"}},e.studType),o.default.createElement("td",{style:{width:"15%"}},e.beginDate+" ~ "+e.endDate))})))),p=e.peCompList?e.peCompList:[],h=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,p.map(function(e,t){return o.default.createElement("tr",{className:"peCompList"},o.default.createElement("div",{className:"rightContent"},o.default.createElement("p",null,o.default.createElement("b",{style:{fontSize:"14px"}},e.compName),o.default.createElement("span",{className:"ant-divider"}),e.compLoc),o.default.createElement("p",null,e.beginDate+" ~ "+e.endDate),o.default.createElement("p",null,e.deptName,o.default.createElement("span",{className:"ant-divider"}),e.workRole,o.default.createElement("span",{className:"ant-divider"}),"汇报对象：",e.director,o.default.createElement("span",{className:"ant-divider"}),"下属员工：",e.subCount),o.default.createElement("p",null,o.default.createElement("label",null,"工作内容："),o.default.createElement("div",null,e.workCont)),o.default.createElement("p",null,o.default.createElement("label",null,"工作业绩："),o.default.createElement("div",null,e.achieve)),o.default.createElement("p",null,o.default.createElement("label",null,"离职原因："),o.default.createElement("div",null,e.leavReason)),o.default.createElement("p",null,o.default.createElement("label",{className:"inline"},"见证人："),o.default.createElement("p",null,o.default.createElement("span",null,e.witness),o.default.createElement("span",{style:{marginLeft:"10px"}},e.wPhone)))))})))),f=e.peProjList?e.peProjList:[],g=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,f.map(function(e,t){return o.default.createElement("tr",{className:"peProjList"},o.default.createElement("div",{className:"rightContent"},o.default.createElement("p",null,o.default.createElement("b",{style:{fontSize:"14px"}},e.beginDate+" ~ "+e.endDate+"   ",e.projName),o.default.createElement("span",{className:"ant-divider"}),e.projRole,o.default.createElement("span",{className:"ant-divider"}),e.language),o.default.createElement("p",null,e.custName,o.default.createElement("span",{className:"ant-divider"}),o.default.createElement("p",null,e.custType)),o.default.createElement("p",null,o.default.createElement("label",null,"技术架构："),o.default.createElement("div",null,e.framework)),o.default.createElement("p",null,o.default.createElement("label",null,"技能要求："),o.default.createElement("div",null,e.skills)),o.default.createElement("p",null,o.default.createElement("label",null,"项目简介："),o.default.createElement("div",null,e.projDesc)),o.default.createElement("p",null,o.default.createElement("label",null,"项目内容："),o.default.createElement("div",null,e.workCont)),o.default.createElement("p",null,o.default.createElement("label",{className:"inline"},"见证人："),o.default.createElement("p",null,o.default.createElement("span",null,e.witness),o.default.createElement("span",{style:{marginLeft:"10px"}},e.wPhone)))))})))),E=e.trainList?e.trainList:[],C=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,E.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("p",null,e.beginDate+" ~ "+e.endDate),o.default.createElement("p",null,e.trainComp,o.default.createElement("span",{className:"ant-divider"}),e.trainCourse,o.default.createElement("span",{className:"ant-divider"}),e.trainType,o.default.createElement("span",{className:"ant-divider"}),e.trainCert),o.default.createElement("p",null,e.trainCont)))})))),b=e.techSkillList?e.techSkillList:[],w=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,b.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.skName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.skLevel,o.default.createElement("span",{className:"ant-divider"}),e.skTime,o.default.createElement("span",{className:"ant-divider"}),e.skHonor))))})))),k=e.projSkillList?e.projSkillList:[],x=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,k.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.skName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.skType,o.default.createElement("span",{className:"ant-divider"}),e.skLevel,o.default.createElement("span",{className:"ant-divider"}),e.skTime,o.default.createElement("span",{className:"ant-divider"}),e.skHonor),o.default.createElement("p",null,e.custNames),o.default.createElement("p",null,e.skDesc))))})))),D=e.certList?e.certList:[],N=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,D.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.certName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.endDate,o.default.createElement("span",{className:"ant-divider"}),e.certScore),o.default.createElement("p",null,e.certDesc))))})))),P=e.langList?e.langList:[],I=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,P.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.langName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,"听说：",e.oralLevel,o.default.createElement("span",{className:"ant-divider"}),"读写：",e.readLevel,o.default.createElement("span",{className:"ant-divider"}),e.workLang,o.default.createElement("span",{className:"ant-divider"}),e.studyLang),o.default.createElement("p",null,"证书：",e.langCert))))})))),j=e.otherSkillList?e.otherSkillList:[],U=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,j.map(function(e,t){return o.default.createElement("tr",{className:"otherSkillList"},o.default.createElement("div",{className:"rightContent"},o.default.createElement("p",null,e.skName),o.default.createElement("p",null,e.skLevel,o.default.createElement("span",{className:"ant-divider"}),e.skTime),o.default.createElement("p",{className:"normal"},e.skHonor)))})))),R=e.honorList?e.honorList:[],O=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,R.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.schName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.hoLevel+"/"+e.hoLevel2,o.default.createElement("span",{className:"ant-divider"}),e.endDate),o.default.createElement("p",null,e.hoDesc))))})))),T=e.honor2List?e.honor2List:[],L=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,T.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.schName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.hoLevel,o.default.createElement("span",{className:"ant-divider"}),e.endDate),o.default.createElement("p",null,e.hoDesc))))})))),H=e.workHonorList?e.workHonorList:[],M=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,H.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.hoName),o.default.createElement("td",{
className:"rightContent"},o.default.createElement("p",null,e.hoLevel,o.default.createElement("span",{className:"ant-divider"}),e.beginDate),o.default.createElement("p",null,e.memo2))))})))),A=e.pracList?e.pracList:[],_=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,A.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.pracName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.beginDate," ~ ",e.endDate),o.default.createElement("p",null,e.pracDesc))))})))),B=e.wsProjList?e.wsProjList:[],q=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,B.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.projName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,"项目简介：",e.projDesc),o.default.createElement("p",null,"个人职责：",e.workCont),o.default.createElement("p",null,e.projUrl))))})))),F=e.wsThesisList?e.wsThesisList:[],z=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,F.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.title),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.journal,o.default.createElement("span",{className:"ant-divider"}),e.isbn,o.default.createElement("span",{className:"ant-divider"}),e.honor),o.default.createElement("p",null,"论文摘要：",e.summary),o.default.createElement("p",null,"参与内容：",e.workCont),o.default.createElement("p",null,e.thesisUrl))))})))),W=e.wsIssueList?e.wsIssueList:[],V=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,W.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.title),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.summary),o.default.createElement("p",null,e.issueUrl))))})))),G="vertical",K="form-item-"+G,Q={labelCol:"horizontal"==G?null:{span:3},wrapperCol:"horizontal"==G?null:{span:19}};return o.default.createElement("div",{style:{width:"100%",height:"100%",overflow:"auto"}},o.default.createElement("div",{style:{width:"980px",margin:"20px auto",padding:"0 20px"}},o.default.createElement("div",{className:"summary","ng-cloak":!0,"ng-if":"person.peName"},o.default.createElement("p",{className:"align-right"},e.gender,o.default.createElement("span",{className:"ant-divider"}),e.bhDate,o.default.createElement("span",{className:"ant-divider"}),"户口：",e.hkLoc,o.default.createElement("span",{className:"ant-divider"}),"现居住于：",e.hkLoc),o.default.createElement("p",{className:"align-right"},e.workDate,"开始工作",o.default.createElement("span",{className:"ant-divider"}),e.workYears),o.default.createElement("p",{className:"align-right"},e.country,o.default.createElement("span",{className:"ant-divider"}),e.marital,o.default.createElement("span",{className:"ant-divider"}),e.national,o.default.createElement("span",{className:"ant-divider"}),e.political),o.default.createElement("p",{className:"align-right"},e.phoneNo),o.default.createElement("p",{className:"align-right"},e.email),o.default.createElement("h1",null,e.peName,o.default.createElement("a",{href:"#",className:"revise",style:{marginTop:"6px"},onClick:this.handleGo.bind(this,"/resume2/ResumePage/"),title:"修改个人信息"},o.default.createElement(m.Icon,{type:S.iconUpdate})),o.default.createElement("a",{style:{float:"right"},title:"导入简历",onClick:this.openUpload,moreFilter:t},o.default.createElement(m.Icon,{style:{fontSize:"13px",color:"blue"},type:"upload"}))),o.default.createElement("div",{style:{width:"600px",margin:"60px auto 20px",border:"1px solid #ccc",paddingLeft:"50px"},hidden:!t},o.default.createElement("b",{style:{fontSize:"16px",display:"block",margin:"20px 0 20px -22px"}},"上传个人简历"),o.default.createElement(m.Form,{layout:G},o.default.createElement(y,l({},Q,{label:"简历来源:",colon:!0}),o.default.createElement(v.default,{layout:"vertical",appName:"简历系统",optName:"简历文件来源",onChange:this.onRadioChange})),o.default.createElement(y,l({},Q,{label:"人员文件:",colon:!0}),o.default.createElement("div",null,o.default.createElement(m.Input,{type:"text",value:this.state.fileName,style:{width:"274px"}}),o.default.createElement(m.Upload,{beforeUpload:this.beforeUpload,style:{marginLeft:"6px"}},o.default.createElement(m.Button,null,o.default.createElement(m.Icon,{type:"upload"})," 选择文件")))),o.default.createElement(y,{style:{textAlign:"right",width:"456px",margin:"4px 0 16px"},required:!1,colon:!0,className:K},o.default.createElement(m.Button,{style:{marginRight:"6px"},size:"middle",type:"primary",onClick:this.handleUpload,disabled:0===this.state.fileList.length},"上传文件"),o.default.createElement(m.Button,{key:"btnClose",size:"middle",hidden:!1,onClick:this.cancelUpload},"取消"))))),o.default.createElement("dl",{className:"detail"},a.length?o.default.createElement("dt",{className:"homeHead"},"个人介绍",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/perIntro/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",r,n.length?o.default.createElement("dt",{className:"homeHead"},"个人评价",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/perAss/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",i,s.length?o.default.createElement("dt",{className:"homeHead"},"其他信息",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/otherInfor/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",d,u.length?o.default.createElement("dt",{className:"homeHead"},"教育背景",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/education/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",c,p.length?o.default.createElement("dt",{className:"homeHead"},"工作经历",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/peComp/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",h,f.length?o.default.createElement("dt",{className:"homeHead"},"项目经历",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/peProj/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",g,E.length?o.default.createElement("dt",{className:"homeHead"},"培训经历",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/train/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",C,b.length?o.default.createElement("dt",{className:"homeHead"},"开发技能",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/techSkill/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",w,k.length?o.default.createElement("dt",{className:"homeHead"},"项目技能",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/projSkill/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",x,D.length?o.default.createElement("dt",{className:"homeHead"},"证书",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/cert/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",N,P.length?o.default.createElement("dt",{className:"homeHead"},"语言能力",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/lang/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",I,j.length?o.default.createElement("dt",{className:"homeHead"},"其他技能",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/otherSkill/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",U,R.length?o.default.createElement("dt",{className:"homeHead"},"奖学金",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/eduHonor/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",O,T.length?o.default.createElement("dt",{className:"homeHead"},"在校奖励",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/schHonor/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",L,H.length?o.default.createElement("dt",{className:"homeHead"},"奖励记录",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/workHonor/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",M,A.length?o.default.createElement("dt",{className:"homeHead"},"学校实践",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/schPrac/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",_,B.length?o.default.createElement("dt",{className:"homeHead"},"开源作品",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/wsProj/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",q,F.length?o.default.createElement("dt",{className:"homeHead"},"公开论文",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/wsThesis/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",z,W.length?o.default.createElement("dt",{className:"homeHead"},"网上作品",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/wsIssue/"),title:"修改"},o.default.createElement(m.Icon,{type:S.iconUpdate}))):"",V)))}}),k=(0,u.withRouter)(w);e.exports=k},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveLeaveLogPerInfo","initLeaveLogPerInfo"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createOverWorkApply","deleteOverWorkApply","updateOverWorkApply","retrieveOverWorkApply","retrieveOverWorkApplyPage","initOverWorkApply","getCacheData","revokeOverWorkApply"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=a(249),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("proj-task-member",e,t)},onRetrieveProjMember:function(e){var t=this,a=this.getServiceUrl("proj-task-member/user-task");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("user-task","",t)):t.fireEvent("user-task","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("user-task","调用服务错误",t)})},onRetrieveProjMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjMember(e)},onInitProjMember:function(e){return this.recordSet.length>0&&l.compareTo(this.filter,e)?void this.fireEvent("user-task","",this):void this.onRetrieveProjMember(e)},onCreateProjMember:function(e){var t=this.getServiceUrl("proj-task-member/create");l.recordCreate(this,e,t)},onUpdateProjMember:function(e){var t=this.getServiceUrl("proj-task-member/update");l.recordUpdate(this,e,t)},onDeleteProjMember:function(e){var t=this.getServiceUrl("proj-task-member/remove");l.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createProjTemp","deleteProjTemp","updateProjTemp","retrieveProjTemp","initProjTemp"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createResTeamGrp","deleteResTeamGrp","updateResTeamGrp","retrieveResTeamGrp","retrieveResTeamGrpPage","initResTeamGrp"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=a(250),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("res-team-grp",e,t)},onRetrieveResTeamGrp:function(e){var t=this,a=this.getServiceUrl("res-team-grp/retrieve");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResTeamGrpPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResTeamGrp(e)},onInitResTeamGrp:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResTeamGrp(e)},onCreateResTeamGrp:function(e){var t=this.getServiceUrl("res-team-grp/create");l.recordCreate(this,e,t)},onUpdateResTeamGrp:function(e){var t=this.getServiceUrl("res-team-grp/update");l.recordUpdate(this,e,t)},onDeleteResTeamGrp:function(e){var t=this.getServiceUrl("res-team-grp/remove");l.recordDelete(this,e,t)}});e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(20),c=(r(u),a(12)),p=r(c),m=a(4),h=a(1),f=a(6),v=a(3),g=m.Form.Item,y=(m.Select.Option,m.AutoComplete.Option),S=a(379),E=a(231),C=a(15),b=i.default.createClass({displayName:"CreateQueryPage",getInitialState:function(){return{personSet:{employee:{},operation:"",errMsg:""},disabled:!1,loading:!1,employeeLoading:!1,modal:!1,person:{},hints:{},validRules:[],result:[]}},mixins:[h.listenTo(S,"onServiceComplete")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation?""===e.errMsg?(this.setState({modal:!1}),C.getResumeByIdCode(e.recordSet[0].idCode)):this.setState({loading:!1,personSet:e}):this.state.modal&&"retrieveEmployee"===e.operation&&(1===e.employee.length?(this.state.person.idType=e.employee[0].idType,this.state.person.idData1=e.employee[0].idCode,this.state.disabled=!0):this.state.disabled=!1,this.setState({employeeLoading:!1,personSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"peName",desc:"姓名",required:!0,max:24},{id:"passwd",desc:"访问密码",required:!0,max:84},{id:"idData1",desc:"证件号码",required:!0,max:84},{id:"email",desc:"电子邮箱",required:!0,dataType:"email",max:24},{id:"phoneNo",desc:"电话",required:!0,dataType:"mobile",max:84}]},clear:function(e){if(this.state.hints={},this.state.person.id="",this.state.person.peName="",this.state.person.passwd="",this.state.person.idData1="",this.state.person.email="",this.state.person.phoneNo="",this.state.person.idType="id",this.state.loading=!1,this.state.personSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),e){var t={};t.staffCode=e,t.corpUuid=window.loginData.compUser.corpUuid,E.retrieveHrEmployee(t)}},handleOnChange:function(e){var t=this.state.person;t[e.target.id]=e.target.value,f.validator(this,t,e.target.id),this.setState({person:t})},onClickSave:function(){f.validator(this,this.state.person)?(this.state.personSet.operation="",this.setState({loading:!0}),E.createResPerson(this.state.person)):this.setState({hint:this.state.hint})},handleOnSelected:function(e,t){console.log(e);var a=this.state.person;a[e]=t,f.validator(this,a,e),this.setState({person:a})},toggle:function(){this.setState({modal:!this.state.modal})},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:f.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.person;t.email=e,f.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.result,l=r.map(function(e){return i.default.createElement(y,{key:e},e)}),o=this.state.hints,s=i.default.createElement(m.Form,{layout:e},i.default.createElement(g,n({},a,{label:"姓名",colon:!0,required:!0,className:t,help:o.peNameHint,validateStatus:o.peNameStatus}),i.default.createElement(m.Input,{type:"text",name:"peName",id:"peName",value:this.state.person.peName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"证件类型",colon:!0,required:!0,className:t,help:o.idTypeHint,validateStatus:o.idTypeStatus}),this.state.disabled?i.default.createElement(m.Input,{type:"text",name:"idType",id:"idType",value:v.getOptionName("简历系统","证件类型",this.state.person.idType,!0,this),onChange:this.handleOnChange,disabled:this.state.disabled}):i.default.createElement(p.default,{name:"idType",id:"idType",value:this.state.person.idType,appName:"简历系统",optName:"证件类型",onSelect:this.handleOnSelected.bind(this,"idType")})),i.default.createElement(g,n({},a,{label:"证件号码",colon:!0,required:!0,className:t,help:o.idData1Hint,validateStatus:o.idData1Status}),i.default.createElement(m.Input,{type:"text",name:"idData1",id:"idData1",value:this.state.person.idData1,onChange:this.handleOnChange,disabled:this.state.disabled})),i.default.createElement(g,n({},a,{label:"电子邮箱",colon:!0,required:!0,className:t,help:o.emailHint,validateStatus:o.emailStatus}),i.default.createElement(m.AutoComplete,{name:"email",id:"email",value:this.state.person.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},l)),i.default.createElement(g,n({},a,{label:"电话",colon:!0,required:!0,className:t,help:o.phoneNoHint,validateStatus:o.phoneNoStatus}),i.default.createElement(m.Input,{type:"text",name:"phoneNo",id:"phoneNo",value:this.state.person.phoneNo,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"访问密码",colon:!0,required:!0,className:t,help:o.passwdHint,validateStatus:o.passwdStatus}),i.default.createElement(m.Input,{type:"text",name:"passwd",id:"passwd",value:this.state.person.passwd,onChange:this.handleOnChange})));return i.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加个人信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["resPerson/create"]}),i.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},this.state.employeeLoading?i.default.createElement(m.Spin,null,s):s)}});t.default=b},function(e,t,a){"use strict";var r=a(1),n=a(231),l=a(3),i=a(11),o=a(16),s=r.createStore({listenables:[n],personUuid:"",recordSet:[],employee:[],startPage:0,pageRow:0,totalRow:0,filter:"",init:function(){},getServiceUrl:function(e){return l.resumeUrl+e},fireEvent:function(e,t,a){a.trigger({personUuid:a.personUuid,recordSet:a.recordSet,employee:a.employee,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("resPerson",e,t)},onRetrieveHrEmployee:function(e){var t=this,a=l.hrUrl+"hr-employee/retrieve";l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.employee=a.object.list,t.filter=e,t.fireEvent("retrieveEmployee","",t)):t.fireEvent("retrieveEmployee","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieveEmployee","调用服务错误",t)})},onRetrieveResPerson:function(e){var t=this,a={};a.personUuid=e;var r=this.getServiceUrl("resPerson/retrieve");l.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.personUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResPersonPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResPerson(e)},onInitResPerson:function(e){return this.recordSet.length>0&&this.personUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResPerson(e)},onCreateResPerson:function(e){var t=this.getServiceUrl("resPerson/create");l.recordCreate(this,e,t)},onUpdateResPerson:function(e){var t=this.getServiceUrl("resPerson/update-resume");l.recordUpdate(this,e,t)},onDeleteResPerson:function(e){var t=this.getServiceUrl("resPerson/del-resume");o.recordDeleteById(this,e,t)}});e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(2),o=r(i),s=a(8),d=(r(s),a(5)),u=(r(d),a(13)),c=a(4),p=a(20),m=r(p),h=a(9),f=r(h),v=a(7),g=r(v),y=a(19),S=r(y),E=a(573),C=(r(E),a(574)),b=(r(C),a(378)),w=r(b),k=a(1),x=c.DatePicker.MonthPicker,D=c.Form.Item,N=c.AutoComplete.Option,P=a(6),I=a(16),j=a(15),U=o.default.createClass({displayName:"ResumePage",getInitialState:function(){var e=[{id:"peName",desc:"姓名",required:!0},{id:"gender",desc:"性别",required:!1},{id:"bhDate",desc:"出生日期",required:!1},{id:"bhLoc",desc:"出生地",required:!1},{id:"hkLoc",desc:"户口所在地",required:!1},{id:"workDate",desc:"参加工作日期",required:!0},{id:"workYears",desc:"工作经验",required:!0},{id:"national",desc:"民族",required:!1},{id:"country",desc:"国籍",required:!1},{id:"healthy",desc:"健康状况",required:!1},{id:"marital",desc:"婚姻状况",required:!1},{id:"political",desc:"政治面貌",required:!1},{id:"phoneNo",desc:"手机号码",required:!0,dataType:"mobile"},{id:"email",desc:"电子邮箱",required:!0,dataType:"email"}];return{personSet:{operation:"",errMsg:""},person:{},hints:{},validRules:e,loading:!1,result:[]}},mixins:[k.listenTo(I,"onServiceComplete"),(0,f.default)("person")],onServiceComplete:function(e){if("person"===e.resource)if("find"===e.operation){var t={};if(""===e.errMsg)for(var a in e.person)try{var r=e.person[a];null==r||"object"===("undefined"==typeof r?"undefined":l(r))&&r.constructor===Array||(t[a]=r)}catch(e){}this.setState({loading:!1,person:t,personSet:e})}else if("update"===e.operation){if(""===e.errMsg){var n=m.default.resumeApp;n.gender=e.person.gender,n.email=e.person.email,n.phoneNo=e.person.phoneNo}this.setState({loading:!1})}else"noResume"===e.operation&&(this.handleOpenCreateWindow(),this.setState({loading:!1}))},componentDidMount:function(){var e=m.default.resumeApp;if(this.setState({loading:!0}),e.id)j.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;j.getResumeByIdCode(t)}},handleOpenCreateWindow:function(e){var t=window.loginData.compUser.userCode;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},onClickSave:function(){this.setState({loading:!0}),j.updateResume(this.state.person)},onClickBack:function(){u.browserHistory.push({pathname:"/resume2/PreviewPage/"})},handleSearch:function(e){console.log(e);var t=void 0;t=!e||e.indexOf("@")>=0?[]:P.eMailList.map(function(t){return e+"@"+t}),console.log(t),this.setState({result:t})},emailOnChange:function(e){var t=this.state.person;t.email=e,P.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e=(this.state.personSet.person,"horizontal"),t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.result,l=r.map(function(e){return o.default.createElement(N,{key:e},e)}),i=this.state.hints;return o.default.createElement("div",{className:"resume-page"},o.default.createElement("div",{style:{width:"100%",maxWidth:"700px",padding:"24px 24px 16px 24px"}},o.default.createElement(c.Form,{layout:e},o.default.createElement(D,n({},a,{label:"姓名",required:!0,colon:!0,className:t,help:i.peNameHint,validateStatus:i.peNameStatus}),o.default.createElement(c.Input,{type:"text",readOnly:"true",name:"peName",id:"peName",value:this.state.person.peName,onChange:this.handleOnChange})),o.default.createElement(D,n({},a,{label:"性别",required:!1,colon:!0,className:t,help:i.genderHint,validateStatus:i.genderStatus}),o.default.createElement(S.default,{name:"gender",id:"gender",appName:"简历系统",optName:"性别",onChange:this.onRadioChange,value:this.state.person.gender})),o.default.createElement(D,n({},a,{label:"出生日期",required:!1,colon:!0,className:t,help:i.bhDateHint,validateStatus:i.bhDateStatus}),o.default.createElement(c.DatePicker,{name:"bhDate",id:"bhDate",value:this.formatDate(this.state.person.bhDate,P.dateFormat),format:P.dateFormat,onChange:this.handleOnSelDate.bind(this,"bhDate",P.dateFormat)})),o.default.createElement(D,n({},a,{label:"出生地",required:!1,colon:!0,className:t,help:i.bhLocHint,validateStatus:i.bhLocStatus}),o.default.createElement(c.Input,{type:"text",name:"bhLoc",id:"bhLoc",value:this.state.person.bhLoc,onChange:this.handleOnChange})),o.default.createElement(D,n({},a,{label:"户口所在地",required:!1,colon:!0,className:t,help:i.hkLocHint,validateStatus:i.hkLocStatus}),o.default.createElement(c.Input,{type:"text",name:"hkLoc",id:"hkLoc",value:this.state.person.hkLoc,onChange:this.handleOnChange})),o.default.createElement(D,n({},a,{label:"参加工作日期",required:!0,colon:!0,className:t,help:i.workDateHint,validateStatus:i.workDateStatus}),o.default.createElement(x,{name:"workDate",id:"workDate",value:this.formatMonth(this.state.person.workDate,P.monthFormat),format:P.monthFormat,onChange:this.handleOnSelMonth.bind(this,"workDate",P.monthFormat)})),o.default.createElement(D,n({},a,{label:"工作经验",required:!0,colon:!0,className:t,help:i.workYearsHint,validateStatus:i.workYearsStatus}),o.default.createElement(c.Input,{type:"text",name:"workYears",id:"workYears",value:this.state.person.workYears,onChange:this.handleOnChange,style:{width:"160px"}})),o.default.createElement(D,n({},a,{label:"民族",required:!1,colon:!0,className:t,help:i.nationalHint,validateStatus:i.nationalStatus}),o.default.createElement(c.Input,{type:"text",name:"national",id:"national",value:this.state.person.national,onChange:this.handleOnChange,style:{width:"160px"}})),o.default.createElement(D,n({},a,{label:"国籍",required:!1,colon:!0,className:t,help:i.countryHint,validateStatus:i.countryStatus}),o.default.createElement(c.Input,{type:"text",name:"country",id:"country",value:this.state.person.country,onChange:this.handleOnChange,style:{width:"160px"}})),o.default.createElement(D,n({},a,{label:"健康状况",required:!1,colon:!0,className:t,help:i.healthyHint,validateStatus:i.healthyStatus}),o.default.createElement(c.Input,{type:"text",name:"healthy",id:"healthy",value:this.state.person.healthy,onChange:this.handleOnChange,style:{width:"160px"}})),o.default.createElement(D,n({},a,{label:"婚姻状况",required:!1,colon:!0,className:t,help:i.maritalHint,validateStatus:i.maritalStatus}),o.default.createElement(S.default,{name:"marital",id:"marital",value:this.state.person.marital,appName:"简历系统",optName:"婚姻状况",onChange:this.onRadioChange})),o.default.createElement(D,n({},a,{label:"政治面貌",required:!1,colon:!0,className:t,help:i.politicalHint,validateStatus:i.politicalStatus}),o.default.createElement(S.default,{name:"political",id:"political",value:this.state.person.political,appName:"简历系统",optName:"政治面貌",onChange:this.onRadioChange})),o.default.createElement(D,n({},a,{label:"手机号码",required:!0,colon:!0,className:t,help:i.phoneNoHint,validateStatus:i.phoneNoStatus}),o.default.createElement(c.Input,{type:"text",name:"phoneNo",id:"phoneNo",value:this.state.person.phoneNo,onChange:this.handleOnChange})),o.default.createElement(D,n({},a,{label:"电子邮箱",required:!0,colon:!0,className:t,help:i.emailHint,validateStatus:i.emailStatus}),o.default.createElement(c.AutoComplete,{name:"email",id:"email",value:this.state.person.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},l))),o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(g.default,{ref:"mxgBox",svcList:["socialList/create","socialList/update"]}),o.default.createElement(c.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保 存")," ",o.default.createElement(c.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回"))),o.default.createElement(w.default,{ref:"createWindow"}))}});e.exports=U},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=a(312),l=a(3),i=a(11),o=r.createStore({listenables:[n],leavelogper:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({recordSet:a.recordSet,leavelogper:a.leavelogper,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("hr-leave",e,t)},onRetrieveLeaveLogPerInfo:function(e,t){var a=this,r={};r.corpUuid=e,r.staffCode=t;var n=this.getServiceUrl("hr-leave/retrieve_p");l.doRetrieveService(n,r,a.startPage,a.pageRow,a.totalRow).then(function(r){null==r.errCode||""==r.errCode||"000000"==r.errCode?r.object.detailList.length>0||r.object.leaveList.length>0?(a.leavelogper=r.object.leaveList[0],a.corpUuid=e,a.staffCode=t,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","没有找到记录["+r.object.detailList.length+"]",a):a.fireEvent("retrieve","处理错误["+r.errCode+"]["+r.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onInitLeaveLogPerInfo:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveLeaveLogPerInfo(e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(991),p=r(c),m=a(989),h=r(m),f=a(995),v=r(f),g=a(993),y=r(g),S=a(987),E=r(S),C=a(985),b=r(C),w=a(1),k=(s.Input.Search,a(6)),x=a(3),D=a(95),N=a(86),P=a(412),I=a(312),j=10,U=l.default.createClass({displayName:"LeaveApplyPage",getInitialState:function(){return{leaveApplySet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,errMsg:""},loading:!1,leaveLoading:!1,leave:{}}},mixins:[w.listenTo(D,"onServiceComplete"),w.listenTo(P,"onServiceComplete2")],onServiceComplete:function(e){this.setState({loading:!1,leaveApplySet:e})},onServiceComplete2:function(e){"retrieve"===e.operation&&this.setState({leaveLoading:!1,leave:e.leavelogper||{}})},handleQueryClick:function(e){if(this.setState({loading:!0}),window.loginData.compUser){this.setState({loading:!0});var t={corpUuid:window.loginData.compUser.corpUuid,staffCode:window.loginData.compUser.userCode};N.retrieveLeaveApplyPage(t,this.state.leaveApplySet.startPage,j)}},onChangePage:function(e){this.state.leaveApplySet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){
j=t,this.handleQueryClick()},componentDidMount:function(){if(this.setState({loading:!0}),window.loginData.compUser){this.setState({loading:!0,leaveLoading:!0});var e={corpUuid:window.loginData.compUser.corpUuid,staffCode:window.loginData.compUser.userCode};N.initLeaveApply(e);var t=window.loginData.compUser.corpUuid,a=window.loginData.compUser.userCode;I.initLeaveLogPerInfo(t,a)}},getSpendTime:function(e){var t=e.indexOf(".");if(t<0)return e+"天";var a=e.substr(0,t),r=e.substr(t+1);return a+"天 "+r+"时"},handleOpenCreateUnpaidWindow:function(e){this.refs.unpaidCreateWindow.clear(),this.refs.unpaidCreateWindow.toggle()},handleOpenPaidCreateWindow:function(e){this.refs.paidCreateWindow.clear(this.state.leave),this.refs.paidCreateWindow.toggle()},onClickUpdate:function(e,t){if(null!=e){var a=e.leaveType;"病假"===a||"事假"===a||"其他无薪假期"===a?(this.refs.unpaidUpdateWindow.initPage(e),this.refs.unpaidUpdateWindow.toggle()):(this.refs.paidUpdateWindow.initPage(e,this.state.leave),this.refs.paidUpdateWindow.toggle())}},onClickDelete:function(e,t){if(null!=e){var a=e.leaveType;"病假"===a||"事假"===a||"其他无薪假期"===a?(this.refs.unpaidCancelWindow.initPage(e),this.refs.unpaidCancelWindow.toggle()):(this.refs.paidCancelWindow.initPage(e,this.state.leave),this.refs.paidCancelWindow.toggle())}},onClickDelete2:function(e){this.setState({loading:!0}),N.deleteLeaveApply(e.uuid)},render:function(){var e=this,t=this.state.leaveApplySet.recordSet,a=[{title:"休假类型",dataIndex:"leaveType",key:"leaveType",width:140,render:function(t,a){return x.getOptionName("HR系统","假期类型",a.leaveType,!1,e)}},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:120,render:function(e,t){return k.formatDate(e,k.dateFormat)}},{title:"时间",dataIndex:"beginHour",key:"beginHour",width:70},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:120,render:function(e,t){return k.formatDate(e,k.dateFormat)}},{title:"时间",dataIndex:"endHour",key:"endHour",width:70},{title:"天数",dataIndex:"accrued",key:"accrued",width:140,render:function(t,a){return e.getSpendTime(t)}},{title:"申请日期",dataIndex:"applyDay",key:"applyDay",width:140,render:function(e,t){return k.formatDate(e,k.dateFormat)}},{title:"状态",dataIndex:"status",key:"status",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改休假申请"},l.default.createElement(s.Icon,{type:k.iconUpdate})),"待休假"===a.status?l.default.createElement("span",null,l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"销假"},l.default.createElement(s.Icon,{type:"clock-circle-o"}))):"")}}],r=k.getGridMargin(this),n={showQuickJumper:!0,total:this.state.leaveApplySet.totalRow,pageSize:this.state.leaveApplySet.pageRow,current:this.state.leaveApplySet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return l.default.createElement("div",{className:"grid-page",style:{padding:r.padding}},l.default.createElement("div",{style:{margin:r.margin}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/retrieve","leave_apply/cancel"]}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(s.Button,{icon:k.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick})))),l.default.createElement("div",{className:"grid-body"},l.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:n,size:"middle",bordered:k.tableBorder})),l.default.createElement(p.default,{ref:"unpaidCreateWindow"}),l.default.createElement(h.default,{ref:"paidCreateWindow"}),l.default.createElement(v.default,{ref:"unpaidUpdateWindow"}),l.default.createElement(y.default,{ref:"paidUpdateWindow"}),l.default.createElement(E.default,{ref:"unpaidCancelWindow"}),l.default.createElement(b.default,{ref:"paidCancelWindow"}))}});e.exports=U},function(e,t,a){"use strict";var r=a(1),n=a(313),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.costUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("overWorkApply",e,t)},onRetrieveOverWorkApply:function(e){var t=this,a=this.getServiceUrl("over_work_apply/retrieve");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveOverWorkApplyPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveOverWorkApply(e)},onInitOverWorkApply:function(e,t,a){return this.recordSet.length>0&&l.compareTo(this.filter,e)&&this.startPage===t&&this.pageRow===a?void this.fireEvent("retrieve","",this):(this.startPage=t,this.pageRow=a,void this.onRetrieveOverWorkApply(e))},onCreateOverWorkApply:function(e){var t=this.getServiceUrl("over_work_apply/create");l.recordCreate(this,e,t)},onUpdateOverWorkApply:function(e){var t=this.getServiceUrl("over_work_apply/update");l.recordUpdate(this,e,t)},onRevokeOverWorkApply:function(e){var t=this.getServiceUrl("over_work_apply/revoke");l.recordUpdate(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createChkFlow","retrieveChkFlow","retrieveChkFlowPage","initChkFlow"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrAllowLog","deleteHrAllowLog","updateHrAllowLog","retrieveHrAllowLog","retrieveHrAllowLogPage","initHrAllowLog","getCacheData"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["initHrSalaryLog","retrieveHrSalaryLog","retrieveHtmlSalaryLog"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveWorkDaily","retrieveProjTask","initWorkDaily","initProjTask","createWorkDaily","updateWorkDaily","deleteWorkDaily"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=a(315),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("proj-task-member",e,t)},onRetrieveProjTemp:function(e){var t=this,a=this.getServiceUrl("proj-task-member/user-task");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.filter=e,t.fireEvent("user-task","",t)):t.fireEvent("user-task","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("user-task","调用服务错误",t)})},onRretrieveProjTempPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjTemp(e)},onInitProjTemp:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("user-task","",this):void this.onRetrieveProjTemp(e)},onCreateProjTemp:function(e){var t=this.getServiceUrl("proj-task-member/create");l.recordCreate(this,e,t)},onUpdateProjTemp:function(e){var t=this.getServiceUrl("proj-task-member/update");l.recordUpdate(this,e,t)},onDeleteProjTemp:function(e){var t=this.getServiceUrl("proj-task-member/remove");l.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createProjTemp","deleteProjTemp","updateProjTemp","retrieveProjTemp","initProjTemp"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=a(316),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("res-member",e,t)},onRetrieveResTeamGrp:function(e){var t=this,a=this.getServiceUrl("res-member/retrieve");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResTeamGrpPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResTeamGrp(e)},onInitResTeamGrp:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResTeamGrp(e)},onCreateResTeamGrp:function(e){var t=this.getServiceUrl("res-member/create");l.recordCreate(this,e,t)},onUpdateResTeamGrp:function(e){var t=this.getServiceUrl("res-member/update");l.recordUpdate(this,e,t)},onDeleteResTeamGrp:function(e){var t=this.getServiceUrl("res-member/remove");l.recordDelete(this,e,t)}});e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(4),d={children:o.default.PropTypes.node,caption:o.default.PropTypes.string,dataSource:o.default.PropTypes.array,rowKey:o.default.PropTypes.string,title:o.default.PropTypes.string,loading:o.default.PropTypes.bool,rowStyle:o.default.PropTypes.object,activeNode:o.default.PropTypes.string,render:o.default.PropTypes.func,onClick:o.default.PropTypes.func},u=o.default.createClass({displayName:"LeftList",getInitialState:function(){return{current:this.props.activeNode,onClick:this.props.onClick}},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},crtNode:function(e,t,a,r,n){var l=null===t||"undefined"==typeof t?e.uuid:e[t],i=l===this.state.current?"ant-menu-item-selected ant-menu-item":"ant-menu-item-active ant-menu-item";return o.default.createElement("li",{className:i,id:l,key:l,onClick:this.handleClick.bind(this,e,l),style:{paddingLeft:n,height:"24px",lineHeight:"24px"}},o.default.createElement(s.Icon,{type:"play-circle-o"}),e[a])},crtNodes:function(e,t,a,r){var n=this,l=null===t||"undefined"==typeof t?e.uuid:e[t];return o.default.createElement("ul",{id:l,key:l,className:"ant-menu ant-menu-inline ant-menu-light ant-menu-root"},o.default.createElement("label",{style:{height:"22px",lineHeight:"22px",marginTop:"15px",display:"block"}},o.default.createElement("span",null,o.default.createElement(s.Icon,{type:"folder-open"})),o.default.createElement("span",{style:{paddingLeft:"8px"}},e[a])),e.childItems.map(function(e,l){return n.crtNode(e,t,a,r,"20px")}))},render:function(){var e=this,t=this.props,a=(t.children,t.caption),r=t.width,i=t.dataSource,d=t.rowKey,u=t.rowText,c=t.rowStyle,p=(t.activeNode,t.render,t.onClick,t.loading),m=n(t,["children","caption","width","dataSource","rowKey","rowText","rowStyle","activeNode","render","onClick","loading"]);if(null===i||"undefined"==typeof i){var h=o.default.createElement("div",{className:"left-list",style:{flex:"0 0 "+r,width:r}},"暂时无数据");return o.default.createElement("div",l({style:{display:"flex",height:"100%"}},m),p?o.default.createElement(s.Spin,{style:{minHeight:"200px"}},h):h,o.default.createElement("div",{style:{width:"100%"}},this.props.children))}var h=o.default.createElement("ul",{className:"ant-menu ant-menu-inline ant-menu-light ant-menu-root"},i.map(function(t,a){return"undefined"==typeof t.childItems?e.crtNode(t,d,u,c,"0px"):e.crtNodes(t,d,u,c)}));return o.default.createElement("div",l({style:{display:"flex",height:"100%"}},m),o.default.createElement("div",{className:"left-list",style:{flex:"0 0 "+r,width:r,paddingBottom:"8px",overflow:"auto"}},null===a||"undefined"==typeof a?null:o.default.createElement("div",{className:"ant-menu-item-group-title"},a),p?o.default.createElement(s.Spin,{style:{minHeight:"200px"}},h):h),o.default.createElement("div",{style:{width:"100%",height:"100%",overflowX:"hidden"}},this.props.children))}});u.propTypes=d,e.exports=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveProjTask","retrieveProjTaskPage","initProjTask"]);e.exports=n},,,,function(e,t,a){"use strict";var r=a(1),n=a(272),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("proj_team",e,t)},onRetrieveProjTeam:function(e){var t=this,a=this.getServiceUrl("proj_team/get-by-ProjUuid");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProjTeam:function(e){return this.recordSet.length>0&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTeam(e)}});e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(2),s=r(o),d=a(8),u=(r(d),a(5)),c=(r(u),a(13)),p=a(20),m=(r(p),a(1)),h=(a(3),a(478)),f=a(16),v=(a(15),s.default.createClass({displayName:"MenuPage",getInitialState:function(){return{navItems:[{name:"简历预览",to:"/resume2/PreviewPage/"},{name:"基本信息",icon:"home",to:"det",childItems:[{name:"个人信息",to:"/resume2/ResumePage/"},{id:"introList",name:"个人介绍",to:"/resume2/perIntro/"},{id:"reviewList",name:"个人评价",to:"/resume2/perAss/"},{id:"contactList",name:"地址维护",to:"/resume2/contactInfor/"},{id:"identityList",name:"身份信息",to:"/resume2/identityInfor/"},{id:"otherList",name:"其他信息",to:"/resume2/otherInfor/"}]},{name:"教育背景",icon:"home",to:"edu",childItems:[{id:"eduList",name:"教育背景",to:"/resume2/education/"},{id:"honorList",name:"奖学金",to:"/resume2/eduHonor/"},{id:"honor2List",name:"在校奖励",to:"/resume2/schHonor/"},{id:"pracList",name:"学校实践",to:"/resume2/schPrac/"}]},{name:"工作经验",icon:"home",to:"work",childItems:[{id:"peCompList",name:"工作经历",to:"/resume2/peComp/"},{id:"peProjList",name:"项目经历",to:"/resume2/peProj/"},{id:"workHonorList",name:"奖励记录",to:"/resume2/workHonor/"}]},{name:"技能/证书",icon:"home",to:"book",childItems:[{id:"trainList",name:"培训经历",to:"/resume2/train/"},{id:"certList",name:"证书",to:"/resume2/cert/"},{id:"techSkillList",name:"开发技能",to:"/resume2/techSkill/"},{id:"biziSkillList",name:"业务技能",to:"/resume2/biziSkill/"},{id:"projSkillList",name:"项目技能",to:"/resume2/projSkill/"},{id:"langList",name:"语言能力",to:"/resume2/lang/"},{id:"otherSkillList",name:"其他技能",to:"/resume2/otherSkill/"}]},{name:"发表作品",icon:"home",to:"issue",childItems:[{id:"wsProjList",name:"开源作品",to:"/resume2/wsProj/"},{id:"wsThesisList",name:"公开论文",to:"/resume2/wsThesis/"},{id:"wsIssueList",name:"网上作品",to:"/resume2/wsIssue/"}]},{name:"社会关系",icon:"home",to:"social",childItems:[{id:"familyList",name:"家庭关系",to:"/resume2/family/"},{id:"socialList",name:"社会关系",to:"/resume2/social/"},{id:"benefitList",name:"公益活动",to:"/resume2/benefit/"},{id:"soHonorList",name:"社会荣誉",to:"/resume2/soHonor/"},{id:"emergList",name:"紧急联系人",to:"/resume2/emerg/"}]}]}},mixins:[m.listenTo(f,"onServiceComplete")],onServiceComplete:function(e){var t=this.state.navItems;if(""===e.errMsg){var a={};for(var r in e.person)try{var n=e.person[r];"object"===("undefined"==typeof n?"undefined":i(n))&&n.constructor===Array&&(a[r]=n.length)}catch(e){}for(var l=t.length,o=0;o<l;o++){var s=t[o].childItems;if("undefined"!=typeof s)for(var d=s.length,u=0;u<d;u++){var c=s[u],p=c.name.indexOf("(");p>0&&(c.name=c.name.substr(0,p));var m=a[c.id];"undefined"!=typeof m&&(c.name=c.name+"("+m+")")}}}this.setState({navItems:t})},handleModClick:function(e){"undefined"!=typeof e.to&&c.browserHistory.push({pathname:e.to})},render:function(){var e=this.props,t=(e.onSelectMod,n(e,["onSelectMod"])),a=this.state.navItems;return s.default.createElement(h,l({width:"220px",style:{display:"flex",height:"100%"},dataSource:a,rowKey:"to",rowText:"name",onClick:this.handleModClick,activeNode:"/resume2/PreviewPage/"},t))}}));e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(541),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"BenefitPage",getInitialState:function(){return{benefitSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,benefitSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delBenefit(e.uuid)},render:function(){var e=this,t=this.state.benefitSet.person.benefitList,a=[{title:"组织名称",dataIndex:"orgName",key:"orgName",width:140},{title:"承担角色",dataIndex:"orgRole",key:"orgRole",width:140},{title:"时间",dataIndex:"beginDate",key:"beginDate",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["benefitList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=(r(h),a(1)),v=s.Form.Item,g=(s.Select.Option,s.DatePicker.MonthPicker),y=(s.DatePicker.RangePicker,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateBenefitPage",getInitialState:function(){return{benefitSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,benefit:{},hints:{},validRules:[]}},mixins:[f.listenTo(E,"onServiceComplete"),(0,m.default)("benefit")],onServiceComplete:function(e){"benefitList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"orgName",desc:"组织名称",required:!0},{id:"orgRole",desc:"承担角色",required:!0},{id:"beginDate",desc:"开始日期",required:!0},{id:"endDate",desc:"结束日期",required:!1},{id:"activeLoc",desc:"活动地点",required:!1},{id:"activeCont",desc:"活动内容",required:!0},{id:"witness",desc:"见证人",required:!1},{id:"wPhone",desc:"电话",dataType:"mobile",required:!1}]},clear:function(){this.state.hints={},this.state.benefit.orgName="",this.state.benefit.orgRole="",this.state.benefit.beginDate="",this.state.benefit.endDate="",this.state.benefit.activeLoc="",this.state.benefit.activeCont="",this.state.benefit.witness=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.benefit),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.benefit)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateBenefit(this.state.benefit)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.benefit)&&(this.setState({loading:!0}),C.addBenefit(this.state.benefit))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(v,n({},a,{label:"组织名称",required:!0,colon:!0,className:t,help:l.orgNameHint,validateStatus:l.orgNameStatus}),i.default.createElement(s.Input,{type:"text",name:"orgName",id:"orgName",value:this.state.benefit.orgName,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"承担角色",required:!0,colon:!0,className:t,help:l.orgRoleHint,validateStatus:l.orgRoleStatus}),i.default.createElement(s.Input,{type:"text",name:"orgRole",id:"orgRole",value:this.state.benefit.orgRole,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"6"},i.default.createElement(v,{help:l.beginDateHint,validateStatus:l.beginDateStatus},i.default.createElement(g,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.benefit.beginDate,y.monthFormat),format:y.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.monthFormat)}))),i.default.createElement(s.Col,{span:"2",style:{textAlign:"center"}},"到"),i.default.createElement(s.Col,{span:"6"},i.default.createElement(v,{help:l.endDateHint,validateStatus:l.endDateStatus},i.default.createElement(g,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatMonth(this.state.benefit.endDate,y.monthFormat),format:y.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",y.monthFormat)})))),i.default.createElement(v,n({},a,{label:"活动地点",required:!1,colon:!1,className:t,help:l.activeLocHint,validateStatus:l.activeLocStatus}),i.default.createElement(s.Input,{type:"textarea",name:"activeLoc",id:"activeLoc",value:this.state.benefit.activeLoc,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"活动内容",required:!0,colon:!0,className:t,help:l.activeContHint,validateStatus:l.activeContStatus}),i.default.createElement(s.Input,{type:"textarea",name:"activeCont",id:"activeCont",value:this.state.benefit.activeCont,onChange:this.handleOnChange})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(v,n({},r,{label:"见证人",required:!1,colon:!1,className:t,help:l.witnessHint,validateStatus:l.witnessStatus}),i.default.createElement(s.Input,{type:"text",name:"witness",id:"witness",value:this.state.benefit.witness,onChange:this.handleOnChange}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(v,n({},r,{label:"电话",required:!1,colon:!1,className:t,help:l.wPhoneHint,validateStatus:l.wPhoneStatus}),i.default.createElement(s.Input,{type:"text",name:"wPhone",id:"wPhone",value:this.state.benefit.wPhone,onChange:this.handleOnChange}))))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["benefitList/create","benefitList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(543),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"BiziSkillPage",getInitialState:function(){return{biziSkillSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,biziSkillSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delBiziSkill(e.uuid)},render:function(){var e=this,t=this.state.biziSkillSet.person.biziSkillList,a=[{title:"技能类型",dataIndex:"skType",key:"skType",width:100},{title:"业务名称",dataIndex:"skName",key:"skName",width:280},{title:"熟练程度",dataIndex:"skLevel",key:"skLevel",width:100},{title:"使用时长",dataIndex:"skTime",key:"skTime",width:100},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["biziSkillList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateBiziSkillPage",getInitialState:function(){return{biziSkillSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,biziSkill:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("biziSkill")],onServiceComplete:function(e){"biziSkillList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"skType",desc:"技能类型",required:!0},{id:"skName",desc:"业务名称",required:!0},{id:"skLevel",desc:"熟练程度",required:!0},{id:"skTime",desc:"使用时长",required:!0},{id:"skDesc",desc:"技能说明",required:!1},{id:"skHonor",desc:"相关证书",required:!1},{id:"custNames",desc:"相关客户",required:!1}]},clear:function(){this.state.hints={},this.state.biziSkill.skType="",this.state.biziSkill.skName="",this.state.biziSkill.skLevel="",this.state.biziSkill.skTime="",this.state.biziSkill.skDesc="",this.state.biziSkill.skHonor="",this.state.biziSkill.custNames=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.biziSkill),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.biziSkill)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateBiziSkill(this.state.biziSkill)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.biziSkill)&&(this.setState({loading:!0}),C.addBiziSkill(this.state.biziSkill))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"技能类型",required:!0,colon:!0,className:t,help:r.skTypeHint,validateStatus:r.skTypeStatus}),i.default.createElement(f.default,{name:"skType",id:"skType",value:this.state.biziSkill.skType,appName:"简历系统",optName:"业务技能类型",onChange:this.handleOnSelected.bind(this,"skType")})),i.default.createElement(g,n({},a,{label:"业务名称",required:!0,colon:!0,className:t,help:r.skNameHint,validateStatus:r.skNameStatus}),i.default.createElement(s.Input,{type:"text",name:"skName",id:"skName",value:this.state.biziSkill.skName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"熟练程度",required:!0,colon:!0,className:t,help:r.skLevelHint,validateStatus:r.skLevelStatus}),i.default.createElement(f.default,{name:"skLevel",id:"skLevel",value:this.state.biziSkill.skLevel,appName:"简历系统",optName:"熟练程度",onChange:this.handleOnSelected.bind(this,"skLevel")})),i.default.createElement(g,n({},a,{label:"使用时长",required:!0,colon:!0,className:t,help:r.skTimeHint,validateStatus:r.skTimeStatus}),i.default.createElement(s.Input,{type:"text",name:"skTime",id:"skTime",value:this.state.biziSkill.skTime,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"技能说明",colon:!0,className:t,help:r.skDescHint,validateStatus:r.skDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"skDesc",id:"skDesc",value:this.state.biziSkill.skDesc,onChange:this.handleOnChange,style:{height:"120px"}})),i.default.createElement(g,n({},a,{label:"相关证书",colon:!0,className:t,help:r.skHonorHint,validateStatus:r.skHonorStatus}),i.default.createElement(s.Input,{type:"text",name:"skHonor",id:"skHonor",value:this.state.biziSkill.skHonor,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"相关客户",colon:!0,className:t,help:r.custNamesHint,validateStatus:r.custNamesStatus}),i.default.createElement(s.Input,{type:"textarea",name:"custNames",id:"custNames",value:this.state.biziSkill.custNames,onChange:this.handleOnChange,style:{height:"120px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",
svcList:["biziSkillList/create","biziSkillList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(545),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"CertPage",getInitialState:function(){return{certSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,certSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delCert(e.uuid)},render:function(){var e=this,t=this.state.certSet.person.certList,a=[{title:"证书名称",dataIndex:"certName",key:"certName",width:240},{title:"获得时间",dataIndex:"beginDate",key:"beginDate",width:100},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["certList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,s.DatePicker.MonthPicker),S=(s.DatePicker.RangePicker,a(6)),E=a(3),C=a(16),b=a(15),w=i.default.createClass({displayName:"CreateCertPage",getInitialState:function(){return{certSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,cert:{},hints:{},validRules:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,m.default)("cert")],onServiceComplete:function(e){"certList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"certType",desc:"证书类型",required:!1},{id:"certName",desc:"证书名称",required:!0},{id:"certOrg",desc:"颁发机构",required:!1},{id:"beginDate",desc:"获得时间",required:!0},{id:"certScore",desc:"分数",required:!1},{id:"certDesc",desc:"证书说明",required:!1}]},clear:function(){this.state.hints={},this.state.cert.certType="",this.state.cert.certName="",this.state.cert.certOrg="",this.state.cert.beginDate="",this.state.cert.certScore="",this.state.cert.certDesc=""},initPage:function(e){this.state.hints={},E.copyValue(e,this.state.cert),this.setState({btnOpen:!0})},onClickSave:function(){S.formValidator(this,this.state.cert)&&(1==this.state.btnOpen?(this.setState({loading:!0}),b.updateCert(this.state.cert)):this.onClickAdd())},onClickAdd:function(){S.formValidator(this,this.state.cert)&&(this.setState({loading:!0}),b.addCert(this.state.cert))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"证书类型",required:!1,colon:!0,className:t,help:l.certTypeHint,validateStatus:l.certTypeStatus}),i.default.createElement(f.default,{name:"certType",id:"certType",value:this.state.cert.certType,appName:"简历系统",optName:"证书类型",onChange:this.handleOnSelected.bind(this,"certType")}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"证书名称",required:!0,colon:!0,className:t,help:l.certNameHint,validateStatus:l.certNameStatus}),i.default.createElement(s.Input,{type:"text",name:"certName",id:"certName",value:this.state.cert.certName,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{label:"颁发机构",required:!1,colon:!0,className:t,help:l.certOrgHint,validateStatus:l.certOrgStatus}),i.default.createElement(s.Input,{type:"text",name:"certOrg",id:"certOrg",value:this.state.cert.certOrg,onChange:this.handleOnChange})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"获得时间",required:!0,colon:!0,className:t,help:l.beginDateHint,validateStatus:l.beginDateStatus}),i.default.createElement(y,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.cert.beginDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",S.monthFormat)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"分数",required:!1,colon:!0,className:t,help:l.certScoreHint,validateStatus:l.certScoreStatus}),i.default.createElement(s.Input,{type:"text",name:"certScore",id:"certScore",value:this.state.cert.certScore,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{label:"证书说明",required:!1,colon:!0,className:t,help:l.certDescHint,validateStatus:l.certDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"certDesc",id:"certDesc",value:this.state.cert.certDesc,onChange:this.handleOnChange,style:{height:"120px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["certList/create","certList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateContactPage",getInitialState:function(){return{contactSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,contact:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("contact")],onServiceComplete:function(e){"contactList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"contType",desc:"类型",required:!0,max:128},{id:"contData1",desc:"内容1",required:!0,max:1024},{id:"contData2",desc:"内容2",required:!1,max:1024}]},clear:function(){this.state.hints={},this.state.contactSet.operation="",this.state.contact.contType="户籍地址",this.state.contact.contData1="",this.state.contact.contData2=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.contact),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.contact)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateContact(this.state.contact)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.contact)&&(this.setState({loading:!0}),C.addContact(this.state.contact))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"标题",required:!0,colon:!0,className:t,help:r.contTypeHint,validateStatus:r.contTypeStatus}),i.default.createElement(f.default,{name:"contType",id:"contType",value:this.state.contact.contType,appName:"简历系统",optName:"联系方式",onSelect:this.handleOnSelected.bind(this,"contType")})),i.default.createElement(g,n({},a,{label:"内容1",required:!0,colon:!0,className:t,help:r.contData1Hint,validateStatus:r.contData1Status}),i.default.createElement(s.Input,{type:"textarea",name:"contData1",id:"contData1",value:this.state.contact.contData1,onChange:this.handleOnChange,style:{height:"100px"}})),i.default.createElement(g,n({},a,{label:"内容2",required:!1,colon:!0,className:t,help:r.contData2Hint,validateStatus:r.contData2Status}),i.default.createElement(s.Input,{type:"textarea",name:"contData2",id:"contData2",value:this.state.contact.contData2,onChange:this.handleOnChange,style:{height:"100px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["contactList/create","contactList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(546),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"ResumePage",getInitialState:function(){return{contactSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,contactSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delContact(e.uuid)},render:function(){var e=this,t=this.state.contactSet.person.contactList,a=[{title:"类型",dataIndex:"contType",key:"contType",width:160},{title:"内容1",dataIndex:"contData1",key:"contData1",width:300},{title:"内容2",dataIndex:"contData2",key:"contData2",width:300},{title:"",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["contactList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(5),d=(r(s),a(4)),u=a(13),c=a(19),p=r(c),m=a(12),h=r(m),f=a(7),v=r(f),g=a(9),y=r(g),S=a(1),E=d.Form.Item,C=(d.Select.Option,d.DatePicker.MonthPicker),b=(d.DatePicker.RangePicker,a(6)),w=a(3),k=a(16),x=a(15),D=o.default.createClass({displayName:"CreateEduPage",getInitialState:function(){return{eduSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,edu:{},hints:{},validRules:[]}},mixins:[S.listenTo(k,"onServiceComplete"),(0,y.default)("edu")],onServiceComplete:function(e){"eduList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"beginDate",desc:"开始时间",required:!0,max:16},{id:"endDate",desc:"结束时间",required:!0,max:16},{id:"schName",desc:"学校",required:!0,max:128},{id:"deptName",desc:"专业",required:!0,max:256},{id:"qualName",desc:"学历/学位",required:!0,max:256}]},clear:function(e){this.state.hints={},this.state.eduSet.operation="",this.state.edu.qualName="本科",this.state.edu.schName="",this.state.edu.deptName="",this.state.edu.studType="是",this.state.edu.appId=e},initPage:function(e){this.state.hints={},w.copyValue(e,this.state.edu),this.setState({btnOpen:!0})},onClickSave:function(){b.formValidator(this,this.state.edu)&&(1==this.state.btnOpen?(this.setState({loading:!0}),x.updateEdu(this.state.edu)):this.onClickAdd())},onClickAdd:function(){b.formValidator(this,this.state.edu)&&(this.setState({loading:!0}),x.addEdu(this.state.edu))},onClickBack:function(){u.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e,t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:3},wrapperCol:"vertical"==t?null:{span:21}},i=this.state.hints;return o.default.createElement("div",{className:"resume-form"},o.default.createElement(d.Form,{layout:t},o.default.createElement(E,l({},r,(e={required:!0,label:"时间"},n(e,"required",!0),n(e,"colon",!0),n(e,"className",a),e)),o.default.createElement(d.Col,{span:"6"},o.default.createElement(E,{help:i.beginDateHint,validateStatus:i.beginDateStatus},o.default.createElement(C,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.edu.beginDate,b.monthFormat),format:b.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",b.monthFormat)}))),o.default.createElement(d.Col,{span:"2",style:{textAlign:"center"}},"到"),o.default.createElement(d.Col,{span:"6"},o.default.createElement(E,{help:i.endDateHint,required:!0,validateStatus:i.endDateStatus},o.default.createElement(C,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatMonth(this.state.edu.endDate,b.monthFormat),format:b.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",b.monthFormat)})))),o.default.createElement(E,l({},r,{label:"学校",required:!0,colon:!0,className:a,help:i.schNameHint,validateStatus:i.schNameStatus}),o.default.createElement(d.Input,{type:"text",name:"schName",id:"schName",value:this.state.edu.schName,onChange:this.handleOnChange})),o.default.createElement(E,l({},r,{label:"专业",required:!0,colon:!0,className:a,help:i.deptNameHint,validateStatus:i.deptNameStatus}),o.default.createElement(d.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.edu.deptName,onChange:this.handleOnChange})),o.default.createElement(E,l({},r,{required:!0,label:"学历/学位",colon:!0,className:a,help:i.qualNameHint,validateStatus:i.qualNameStatus}),o.default.createElement(h.default,{name:"qualName",id:"qualName",value:this.state.edu.qualName,appName:"简历系统",optName:"教育背景",onSelect:this.handleOnSelected.bind(this,"qualName")})),o.default.createElement(E,l({},r,{required:!0,label:"是否统招：",colon:!0,className:a,help:i.paraStatusHint,validateStatus:i.campusLocStatus}),o.default.createElement(p.default,{name:"studType",id:"studType",appName:"简历系统",optName:"是否统招",onChange:this.onRadioChange,value:this.state.edu.studType}))),o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(v.default,{ref:"mxgBox",svcList:["eduList/create","eduList/update"]}),o.default.createElement(d.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",o.default.createElement(d.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,disabled:!this.state.btnOpen,loading:this.state.loading},"保存")," ",o.default.createElement(d.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(548),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"EduBgdpage",getInitialState:function(){return{eduSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,eduSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delEdu(e.uuid)},render:function(){var e=this,t=this.state.eduSet.person.eduList,a=[{title:"学校",dataIndex:"schName",key:"schName",width:160},{title:"专业",dataIndex:"deptName",key:"deptName",width:300},{title:"学历/学位",dataIndex:"qualName",key:"qualName",width:300},{title:"",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["eduList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,s.DatePicker.MonthPicker),S=(s.DatePicker.RangePicker,a(6)),E=a(3),C=a(16),b=a(15),w=i.default.createClass({displayName:"CreateHonorPage",getInitialState:function(){return{honorSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,honor:{},hints:{},validRules:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,m.default)("honor")],onServiceComplete:function(e){"honorList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"schName",desc:"学校",required:!0,max:128},{id:"hoLevel",desc:"奖学金",required:!0,max:32},{id:"hoLevel2",desc:"等级",required:!0,max:20},{id:"endDate",desc:"时间",required:!0,max:24},{id:"hoDesc",desc:"说明",required:!1,max:256}]},clear:function(){this.state.hints={},this.state.honorSet.operation="",this.state.honor.schName="",this.state.honor.hoLevel="国家级",this.state.honor.hoLevel2="一等奖学金",this.state.honor.endDate="",this.state.honor.hoDesc=""},initPage:function(e){this.state.hints={},E.copyValue(e,this.state.honor),this.setState({btnOpen:!0})},onClickSave:function(){S.formValidator(this,this.state.honor)&&(1==this.state.btnOpen?(this.setState({loading:!0}),b.updateHonor(this.state.honor)):this.onClickAdd())},onClickAdd:function(){S.formValidator(this,this.state.honor)&&(this.setState({loading:!0}),b.addHonor(this.state.honor))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{required:!0,label:"学校",colon:!0,className:t,help:r.schNameHint,validateStatus:r.schNameStatus}),i.default.createElement(s.Input,{type:"text",name:"schName",id:"schName",value:this.state.honor.schName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{required:!0,label:"奖学金",colon:!0,className:t}),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,{help:r.hoLevelHint,validateStatus:r.hoLevelStatus},i.default.createElement(f.default,{name:"hoLevel",id:"hoLevel",value:this.state.honor.hoLevel,appName:"简历系统",optName:"奖学金",onSelect:this.handleOnSelected.bind(this,"hoLevel")}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,{help:r.hoLevel2Hint,validateStatus:r.hoLevel2Status},i.default.createElement(f.default,{name:"hoLevel2",id:"hoLevel2",value:this.state.honor.hoLevel2,appName:"简历系统",optName:"等级",onSelect:this.handleOnSelected.bind(this,"hoLevel2")})))),i.default.createElement(g,n({},a,{label:"时间",required:!0,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),i.default.createElement(y,{name:"endDate",id:"endDate",value:this.formatMonth(this.state.honor.endDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",S.monthFormat)})),i.default.createElement(g,n({},a,{label:"说明",required:!1,colon:!0,className:t,help:r.hoDescHint,validateStatus:r.hoDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"hoDesc",id:"hoDesc",value:this.state.honor.hoDesc,onChange:this.handleOnChange,style:{height:"100px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["honorList/create","honorList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(550),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"EduHonorPage",getInitialState:function(){return{honorSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,honorSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delHonor(e.uuid)},render:function(){var e=this,t=this.state.honorSet.person.honorList,a=[{title:"学校",dataIndex:"schName",key:"schName",width:160},{title:"奖学金",dataIndex:"hoLevel",key:"hoLevel",width:300},{title:"等级",dataIndex:"hoLevel2",key:"hoLevel2",width:300},{title:"时间",dataIndex:"endDate",key:"endDate",width:300},{title:"",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["honorList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=(r(h),a(1)),v=s.Form.Item,g=(s.Select.Option,a(6)),y=a(3),S=a(16),E=a(15),C=i.default.createClass({displayName:"CreateEmergPage",getInitialState:function(){return{emergSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,emerg:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,m.default)("emerg")],onServiceComplete:function(e){"emergList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"peName",desc:"姓名",required:!0},{id:"relation",desc:"关系",required:!0},{id:"phoneNo",desc:"电话",dataType:"mobile",required:!0},{id:"phoneNo2",desc:"电话2",dataType:"mobile",required:!1},{id:"memo2",desc:"备注",required:!1}]},clear:function(){this.state.hints={},this.state.emerg.peName="",this.state.emerg.relation="",this.state.emerg.phoneNo="",this.state.emerg.phoneNo2="",this.state.emerg.memo2=""},initPage:function(e){this.state.hints={},y.copyValue(e,this.state.emerg),this.setState({btnOpen:!0})},onClickSave:function(){g.formValidator(this,this.state.emerg)&&(1==this.state.btnOpen?(this.setState({loading:!0}),E.updateEmerg(this.state.emerg)):this.onClickAdd())},onClickAdd:function(){g.formValidator(this,this.state.emerg)&&(this.setState({loading:!0}),E.addEmerg(this.state.emerg))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(v,n({},a,{label:"姓名",required:!0,colon:!0,className:t,help:r.peNameHint,validateStatus:r.peNameStatus}),i.default.createElement(s.Input,{type:"text",name:"peName",id:"peName",value:this.state.emerg.peName,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"关系",required:!0,colon:!0,className:t,help:r.relationHint,validateStatus:r.relationStatus}),i.default.createElement(s.Input,{type:"text",name:"relation",id:"relation",value:this.state.emerg.relation,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"电话",required:!0,colon:!0,className:t,help:r.phoneNoHint,validateStatus:r.phoneNoStatus}),i.default.createElement(s.Input,{type:"text",name:"phoneNo",id:"phoneNo",value:this.state.emerg.phoneNo,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"电话2",required:!1,colon:!0,className:t,help:r.phoneNo2Hint,validateStatus:r.phoneNo2Status}),i.default.createElement(s.Input,{type:"text",name:"phoneNo2",id:"phoneNo2",value:this.state.emerg.phoneNo2,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"备注",required:!1,colon:!0,className:t,help:r.memo2Hint,validateStatus:r.memo2Status}),i.default.createElement(s.Input,{type:"textarea",name:"memo2",id:"memo2",value:this.state.emerg.memo2,onChange:this.handleOnChange}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["emergList/create","emergList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(552),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"EmergPage",getInitialState:function(){return{emergSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,emergSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delEmerg(e.uuid)},render:function(){var e=this,t=this.state.emergSet.person.emergList,a=[{title:"姓名",dataIndex:"peName",key:"peName",width:140},{title:"关系",dataIndex:"relation",key:"relation",
width:140},{title:"电话",dataIndex:"phoneNo",key:"phoneNo",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["emergList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateFamilyPage",getInitialState:function(){return{familySet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,family:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("family")],onServiceComplete:function(e){"familyList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"peName",desc:"姓名",required:!0},{id:"relation",desc:"关系",required:!0},{id:"compName",desc:"公司",required:!1},{id:"title",desc:"职务",required:!1},{id:"phoneNo",desc:"电话",dataType:"mobile",required:!1}]},clear:function(){this.state.hints={},this.state.family.peName="",this.state.family.relation="",this.state.family.compName="",this.state.family.title="",this.state.family.phoneNo=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.family),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.family)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateFamily(this.state.family)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.family)&&(this.setState({loading:!0}),C.addFamily(this.state.family))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"姓名",required:!0,colon:!0,className:t,help:r.peNameHint,validateStatus:r.peNameStatus}),i.default.createElement(s.Input,{type:"text",name:"peName",id:"peName",value:this.state.family.peName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"关系",required:!0,colon:!0,className:t,help:r.relationHint,validateStatus:r.relationStatus}),i.default.createElement(f.default,{name:"relation",id:"relation",value:this.state.family.relation,appName:"简历系统",optName:"家庭关系",onChange:this.handleOnSelected.bind(this,"relation")})),i.default.createElement(g,n({},a,{label:"公司",required:!1,colon:!1,className:t,help:r.compNameHint,validateStatus:r.compNameStatus}),i.default.createElement(s.Input,{type:"text",name:"compName",id:"compName",value:this.state.family.compName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"职务",required:!1,colon:!1,className:t,help:r.titleHint,validateStatus:r.titleStatus}),i.default.createElement(s.Input,{type:"text",name:"title",id:"title",value:this.state.family.title,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"电话",required:!1,colon:!1,className:t,help:r.phoneNoHint,validateStatus:r.phoneNoStatus}),i.default.createElement(s.Input,{type:"text",name:"phoneNo",id:"phoneNo",value:this.state.family.phoneNo,onChange:this.handleOnChange}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["familyList/create","familyList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(554),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"FamilyPage",getInitialState:function(){return{familySet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,familySet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delFamily(e.uuid)},render:function(){var e=this,t=this.state.familySet.person.familyList,a=[{title:"姓名",dataIndex:"peName",key:"peName",width:140},{title:"关系",dataIndex:"relation",key:"relation",width:140},{title:"职务",dataIndex:"title",key:"title",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["familyList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateIdentityPage",getInitialState:function(){return{identitySet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,identity:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("identity")],onServiceComplete:function(e){"identityList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"idType",desc:"类型",required:!0,max:128},{id:"idData1",desc:"内容1",required:!0,max:256},{id:"idData2",desc:"内容2",required:!1,max:256}]},clear:function(){this.state.hints={},this.state.identitySet.operation="",this.state.identity.idType="身份证",this.state.identity.idData1="",this.state.identity.idData2=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.identity),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.identity)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateIdentity(this.state.identity)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.identity)&&(this.setState({loading:!0}),C.addIdentity(this.state.identity))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"类型",required:!0,colon:!0,className:t,help:r.idTypeHint,validateStatus:r.idTypeStatus}),i.default.createElement(f.default,{name:"idType",id:"idType",value:this.state.identity.idType,appName:"简历系统",optName:"身份信息",onSelect:this.handleOnSelected.bind(this,"idType")})),i.default.createElement(g,n({},a,{label:"内容1",required:!0,colon:!0,className:t,help:r.idData1Hint,validateStatus:r.idData1Status}),i.default.createElement(s.Input,{type:"textarea",name:"idData1",id:"idData1",value:this.state.identity.idData1,onChange:this.handleOnChange,style:{height:"100px"}})),i.default.createElement(g,n({},a,{label:"内容2",required:!1,colon:!0,className:t,help:r.idData2Hint,validateStatus:r.idData2Status}),i.default.createElement(s.Input,{type:"textarea",name:"idData2",id:"idData2",value:this.state.identity.idData2,onChange:this.handleOnChange,style:{height:"100px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["identityList/create","identityList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(556),h=r(m),f=a(1),v=a(3),g=a(6),y=a(16),S=a(15),E=l.default.createClass({displayName:"IdentityInforPage",getInitialState:function(){return{identitySet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,identitySet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)S.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;S.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),S.delIdentity(e.uuid)},render:function(){var e=this,t=this.state.identitySet.person.identityList,a=[{title:"类型",dataIndex:"idType",key:"idType",width:160,render:function(t,a){return v.getOptionName("简历系统","身份信息",a.idType,!1,e)}},{title:"内容1",dataIndex:"idData1",key:"idData1",width:300},{title:"内容2",dataIndex:"idData2",key:"idData2",width:300},{title:"",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:g.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:g.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["identityList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:g.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(19),g=r(v),y=a(1),S=s.Form.Item,E=(s.Select.Option,a(6)),C=a(3),b=a(16),w=a(15),k=i.default.createClass({displayName:"CreateLangPage",getInitialState:function(){return{langSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,lang:{},hints:{},validRules:[]}},mixins:[y.listenTo(b,"onServiceComplete"),(0,m.default)("lang")],onServiceComplete:function(e){"langList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"langName",desc:"外语语种",required:!0},{id:"readLevel",desc:"读写",required:!0},{id:"oralLevel",desc:"听说",required:!0},{id:"langCert",desc:"相关证书",required:!1},{id:"workLang",desc:"工作语言",required:!1},{id:"studyLang",desc:"留学语言",required:!1}]},clear:function(){this.state.hints={},this.state.lang.langName="",this.state.lang.readLevel="",this.state.lang.oralLevel="",this.state.lang.langCert="",this.state.lang.workLang="0",this.state.lang.studyLang="0"},initPage:function(e){this.state.hints={},C.copyValue(e,this.state.lang),this.setState({btnOpen:!0})},onClickSave:function(){E.formValidator(this,this.state.lang)&&(1==this.state.btnOpen?(this.setState({loading:!0}),w.updateLang(this.state.lang)):this.onClickAdd())},onClickAdd:function(){E.formValidator(this,this.state.lang)&&(this.setState({loading:!0}),w.addLang(this.state.lang))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(S,n({},a,{label:"外语语种",required:!0,colon:!0,className:t,help:r.langNameHint,validateStatus:r.langNameStatus}),i.default.createElement(f.default,{name:"langName",id:"langName",value:this.state.lang.langName,appName:"简历系统",optName:"工作语言",onChange:this.handleOnSelected.bind(this,"langName")})),i.default.createElement(S,n({},a,{label:"读写",required:!0,colon:!0,className:t,help:r.readLevelHint,validateStatus:r.readLevelStatus}),i.default.createElement(f.default,{name:"readLevel",id:"readLevel",value:this.state.lang.readLevel,appName:"简历系统",optName:"熟练程度",onChange:this.handleOnSelected.bind(this,"readLevel")})),i.default.createElement(S,n({},a,{label:"听说",required:!0,colon:!0,className:t,help:r.oralLevelHint,validateStatus:r.oralLevelStatus}),i.default.createElement(f.default,{name:"oralLevel",id:"oralLevel",value:this.state.lang.oralLevel,appName:"简历系统",optName:"熟练程度",onChange:this.handleOnSelected.bind(this,"oralLevel")})),i.default.createElement(S,n({},a,{label:"相关证书",colon:!0,className:t,help:r.langCertHint,validateStatus:r.langCertStatus}),i.default.createElement(s.Input,{type:"text",name:"langCert",id:"langCert",value:this.state.lang.langCert,onChange:this.handleOnChange})),i.default.createElement(S,n({},a,{label:"工作语言",colon:!0,className:t,help:r.workLangHint,validateStatus:r.workLangStatus}),i.default.createElement(g.default,{name:"workLang",id:"workLang",value:this.state.lang.workLang,appName:"common",optName:"是否",onChange:this.onRadioChange})),i.default.createElement(S,n({},a,{label:"留学语言",colon:!0,className:t,help:r.studyLangHint,validateStatus:r.studyLangStatus}),i.default.createElement(g.default,{name:"studyLang",id:"studyLang",value:this.state.lang.studyLang,appName:"common",optName:"是否",onChange:this.onRadioChange}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["langList/create","langList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(558),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"LangPage",getInitialState:function(){return{langSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,langSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){console.log("lang",e),this.setState({loading:!0}),y.delLang(e.uuid)},render:function(){var e=this,t=this.state.langSet.person.langList,a=[{title:"外语语种",dataIndex:"langName",key:"langName",width:140},{title:"读写",dataIndex:"readLevel",key:"readLevel",width:140},{title:"听说",dataIndex:"oralLevel",key:"oralLevel",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["langList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateOtherPage",getInitialState:function(){return{otherSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,other:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("other")],onServiceComplete:function(e){"otherList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"infoType",desc:"标题",required:!0,max:128},{id:"infoData1",desc:"内容",required:!0,max:256}]},clear:function(){this.state.hints={},this.state.otherSet.operation="",this.state.other.infoType="宗教信仰",this.state.other.infoData1=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.other),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.other)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateOther(this.state.other)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.other)&&(this.setState({loading:!0}),C.addOther(this.state.other))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{required:!0,label:"标题",colon:!0,className:t,help:r.infoTypeHint,validateStatus:r.infoTypeStatus}),i.default.createElement(f.default,{name:"infoType",id:"infoType",value:this.state.other.infoType,appName:"简历系统",optName:"其他信息",onSelect:this.handleOnSelected.bind(this,"infoType")})),i.default.createElement(g,n({},a,{required:!0,label:"内容",colon:!0,className:t,help:r.infoData1Hint,validateStatus:r.infoData1Status}),i.default.createElement(s.Input,{type:"textarea",name:"infoData1",id:"infoData1",value:this.state.other.infoData1,onChange:this.handleOnChange,style:{height:"100px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["otherList/create","otherList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(560),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"OtherInforPage",getInitialState:function(){return{otherSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,otherSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delOther(e.uuid)},render:function(){var e=this,t=this.state.otherSet.person.otherList,a=[{title:"标题",dataIndex:"infoType",key:"infoType",width:160},{title:"内容",dataIndex:"infoData1",key:"infoData1",width:300},{title:"",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["otherList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateOtherSkillPage",getInitialState:function(){return{otherSkillSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,otherSkill:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("otherSkill")],onServiceComplete:function(e){"otherSkillList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"skName",desc:"技能名称",required:!0},{id:"skLevel",desc:"熟练程度",required:!0},{id:"skTime",desc:"使用时长",required:!1},{id:"skDesc",desc:"技能描述",required:!1},{id:"skHonor",desc:"相关证书",required:!1}]},clear:function(){this.state.hints={},this.state.otherSkill.skName="",this.state.otherSkill.skLevel="",this.state.otherSkill.skTime="",this.state.otherSkill.skDesc="",this.state.otherSkill.skHonor=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.otherSkill),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.otherSkill)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateOtherSkill(this.state.otherSkill)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.otherSkill)&&(this.setState({loading:!0}),C.addOtherSkill(this.state.otherSkill))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"技能名称",required:!0,colon:!0,className:t,help:r.skNameHint,validateStatus:r.skNameStatus}),i.default.createElement(s.Input,{type:"text",name:"skName",id:"skName",value:this.state.otherSkill.skName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"熟练程度",required:!0,colon:!0,className:t,help:r.skLevelHint,validateStatus:r.skLevelStatus}),i.default.createElement(f.default,{name:"skLevel",id:"skLevel",value:this.state.otherSkill.skLevel,appName:"简历系统",optName:"熟练程度",onChange:this.handleOnSelected.bind(this,"skLevel")})),i.default.createElement(g,n({},a,{label:"使用时长",colon:!0,className:t,help:r.skTimeHint,validateStatus:r.skTimeStatus}),i.default.createElement(s.Input,{type:"text",name:"skTime",id:"skTime",value:this.state.otherSkill.skTime,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"相关证书",colon:!0,className:t,help:r.skHonorHint,validateStatus:r.skHonorStatus}),i.default.createElement(s.Input,{type:"text",name:"skHonor",id:"skHonor",value:this.state.otherSkill.skHonor,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"技能描述",colon:!0,className:t,help:r.skDescHint,validateStatus:r.skDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"skDesc",id:"skDesc",value:this.state.otherSkill.skDesc,onChange:this.handleOnChange,style:{height:"120px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["otherSkillList/create","otherSkillList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(562),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"OtherSkillPage",getInitialState:function(){return{otherSkillSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,otherSkillSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delOtherSkill(e.uuid)},render:function(){var e=this,t=this.state.otherSkillSet.person.otherSkillList,a=[{title:"技能名称",dataIndex:"skName",key:"skName",width:140},{title:"熟练程度",dataIndex:"skLevel",key:"skLevel",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["otherSkillList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,s.DatePicker.MonthPicker),S=(s.DatePicker.RangePicker,a(6)),E=a(3),C=a(16),b=a(15),w=i.default.createClass({displayName:"CreatePeCompPage",getInitialState:function(){return{peCompSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,peComp:{},hints:{},validRules:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,m.default)("peComp")],onServiceComplete:function(e){"peCompList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({
loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"compName",desc:"公司名称",required:!0,max:256},{id:"industry",desc:"所处行业",required:!1,max:128},{id:"compLoc",desc:"公司地址",required:!1,max:256},{id:"deptName",desc:"部门名称",required:!1,max:64},{id:"workRole",desc:"岗位",required:!0,max:64},{id:"beginDate",desc:"工作时间",required:!0,max:24},{id:"endDate",desc:"结束时间",required:!0,max:24},{id:"witness",desc:"见证人",required:!1,max:64},{id:"wPhone",desc:"电话",required:!1,max:32,dataType:"mobile"},{id:"workCont",desc:"工作内容",required:!0,max:4e3},{id:"director",desc:"汇报对象",required:!1,max:16},{id:"subCount",desc:"下属人数",required:!1,max:16},{id:"achieve",desc:"业绩说明",required:!1,max:4e3},{id:"leavReason",desc:"离职原因",required:!0,max:4e3}]},clear:function(){this.state.hints={},this.state.peCompSet.operation="",this.state.peComp.compName="",this.state.peComp.industry="互联网",this.state.peComp.compLoc="",this.state.peComp.deptName="",this.state.peComp.workRole="",this.state.peComp.beginDate=null,this.state.peComp.witness="",this.state.peComp.wPhone="",this.state.peComp.workCont="",this.state.peComp.director="汇报对象",this.state.peComp.subCount="",this.state.peComp.achieve="",this.state.peComp.leavReason=""},initPage:function(e){this.state.hints={},E.copyValue(e,this.state.peComp),this.setState({btnOpen:!0})},onClickSave:function(){S.formValidator(this,this.state.peComp)&&(1==this.state.btnOpen?(this.setState({loading:!0}),b.updatePeComp(this.state.peComp)):this.onClickAdd())},onClickAdd:function(){S.formValidator(this,this.state.peComp)&&(this.setState({loading:!0}),b.addPeComp(this.state.peComp))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"公司名称",required:!0,colon:!0,className:t,help:l.compNameHint,validateStatus:l.compNameStatus}),i.default.createElement(s.Input,{type:"text",name:"compName",id:"compName",value:this.state.peComp.compName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"公司地址",colon:!0,className:t,help:l.compLocHint,validateStatus:l.compLocStatus}),i.default.createElement(s.Input,{type:"text",name:"compLoc",id:"compLoc",value:this.state.peComp.compLoc,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"所处行业",colon:!0,className:t,help:l.industryHint,validateStatus:l.industryStatus}),i.default.createElement(f.default,{style:{widht:"100%"},name:"industry",id:"industry",value:this.state.peComp.industry,appName:"简历系统",optName:"所处行业",onSelect:this.handleOnSelected.bind(this,"industry")})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"部门名称",colon:!0,className:t,help:l.deptNameHint,validateStatus:l.deptNameStatus}),i.default.createElement(s.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.peComp.deptName,onChange:this.handleOnChange}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"岗位",required:!0,colon:!0,className:t,help:l.workRoleHint,validateStatus:l.workRoleStatus}),i.default.createElement(s.Input,{type:"text",name:"workRole",id:"workRole",value:this.state.peComp.workRole,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{label:"工作时间",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"6"},i.default.createElement(g,{help:l.beginDateHint,validateStatus:l.beginDateStatus},i.default.createElement(y,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.peComp.beginDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",S.monthFormat)}))),i.default.createElement(s.Col,{span:"2",style:{textAlign:"center"}},"到"),i.default.createElement(s.Col,{span:"6"},i.default.createElement(g,{help:l.endDateHint,validateStatus:l.endDateStatus},i.default.createElement(y,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatMonth(this.state.peComp.endDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",S.monthFormat)})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"见证人",colon:!0,className:t,help:l.witnessHint,validateStatus:l.witnessStatus}),i.default.createElement(s.Input,{type:"text",name:"witness",id:"witness",value:this.state.peComp.witness,onChange:this.handleOnChange}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"电话",colon:!0,className:t,help:l.wPhoneHint,validateStatus:l.wPhoneStatus}),i.default.createElement(s.Input,{type:"text",name:"wPhone",id:"wPhone",value:this.state.peComp.wPhone,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{label:"工作内容",required:!0,colon:!0,className:t,help:l.workContHint,validateStatus:l.workContStatus}),i.default.createElement(s.Input,{type:"textarea",name:"workCont",id:"workCont",value:this.state.peComp.workCont,onChange:this.handleOnChange,style:{height:"150px"}})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"汇报对象",colon:!0,className:t,help:l.directorHint,validateStatus:l.directorStatus}),i.default.createElement(f.default,{name:"director",id:"director",value:this.state.peComp.director,appName:"简历系统",optName:"汇报对象",onSelect:this.handleOnSelected.bind(this,"director")}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"下属人数",colon:!0,className:t,help:l.subCountHint,validateStatus:l.subCountStatus}),i.default.createElement(s.Input,{type:"text",name:"subCount",id:"subCount",value:this.state.peComp.subCount,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{label:"业绩说明",colon:!0,className:t,help:l.achieveHint,validateStatus:l.achieveStatus}),i.default.createElement(s.Input,{type:"textarea",name:"achieve",id:"achieve",value:this.state.peComp.achieve,onChange:this.handleOnChange,style:{height:"70px"}})),i.default.createElement(g,n({},a,{label:"离职原因",required:!0,colon:!0,className:t,help:l.leavReasonHint,validateStatus:l.leavReasonStatus}),i.default.createElement(s.Input,{type:"textarea",name:"leavReason",id:"leavReason",value:this.state.peComp.leavReason,onChange:this.handleOnChange,style:{height:"70px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["peCompList/create","peCompList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(564),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"PeCompPage",getInitialState:function(){return{peCompSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,peCompSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delPeComp(e.uuid)},render:function(){var e=this,t=this.state.peCompSet.person.peCompList,a=[{title:"公司名称",dataIndex:"compName",key:"compName",width:320},{title:"时间",dataIndex:"beginDate",key:"beginDate",width:160,render:function(e,t){return t.beginDate+" ~ "+t.endDate}},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["peCompList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,s.DatePicker.MonthPicker),S=(s.DatePicker.RangePicker,a(6)),E=a(3),C=a(16),b=a(15),w=i.default.createClass({displayName:"CreatePeProjPage",getInitialState:function(){return{peProjSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,peProj:{},hints:{},validRules:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,m.default)("peProj")],onServiceComplete:function(e){"peProjList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"memo2",desc:"公司名称",required:!0,max:24},{id:"beginDate",desc:"开始时间",required:!0,max:64},{id:"endDate",desc:"结束时间",required:!0,max:64},{id:"projName",desc:"项目名称",required:!0,max:128},{id:"projType",desc:"项目类型",required:!0,max:64},{id:"custName",desc:"客户名称",required:!1,max:128},{id:"custType",desc:"客户类型",required:!1,max:64},{id:"framework",desc:"技术架构",required:!1,max:256},{id:"skills",desc:"技能要求",required:!0,max:256},{id:"projRole",desc:"岗位",required:!1,max:64},{id:"language",desc:"工作语言",required:!1,max:32},{id:"witness",desc:"见证人",required:!1,max:64},{id:"wPhone",desc:"见证人电话",required:!1,max:32,dataType:"mobile"},{id:"projDesc",desc:"项目简介",required:!0,max:4e3},{id:"workCont",desc:"工作内容",required:!0,max:4e3}]},clear:function(){this.state.hints={},this.state.peProjSet.operation="",this.state.peProj.memo2="",this.state.peProj.beginDate="",this.state.peProj.endDate="",this.state.peProj.projName="",this.state.peProj.projType="开发",this.state.peProj.custName="",this.state.peProj.custType="银行",this.state.peProj.framework="",this.state.peProj.skills="",this.state.peProj.projRole="",this.state.peProj.language="普通话",this.state.peProj.witness="",this.state.peProj.wPhone="",this.state.peProj.projDesc="",this.state.peProj.workCont=""},initPage:function(e){this.state.hints={},E.copyValue(e,this.state.peProj),this.setState({btnOpen:!0})},onClickSave:function(){S.formValidator(this,this.state.peProj)&&(1==this.state.btnOpen?(this.setState({loading:!0}),b.updatePeProj(this.state.peProj)):this.onClickAdd())},onClickAdd:function(){S.formValidator(this,this.state.peProj)&&(this.setState({loading:!0}),b.addPeProj(this.state.peProj))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"项目名称",required:!0,colon:!0,className:t,help:l.projNameHint,validateStatus:l.projNameStatus}),i.default.createElement(s.Input,{type:"text",name:"projName",id:"projName",value:this.state.peProj.projName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"项目时间",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"6"},i.default.createElement(g,{help:l.beginDateHint,validateStatus:l.beginDateStatus},i.default.createElement(y,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.peProj.beginDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",S.monthFormat)}))),i.default.createElement(s.Col,{span:"2",style:{textAlign:"center"}},"到"),i.default.createElement(s.Col,{span:"6"},i.default.createElement(g,{help:l.endDateHint,validateStatus:l.endDateStatus},i.default.createElement(y,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatMonth(this.state.peProj.endDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",S.monthFormat)})))),i.default.createElement(g,n({},a,{label:"客户名称",colon:!0,className:t,help:l.custNameHint,validateStatus:l.custNameStatus}),i.default.createElement(s.Input,{type:"text",name:"custName",id:"custName",value:this.state.peProj.custName,onChange:this.handleOnChange})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{required:!0,label:"项目类型",colon:!0,className:t,help:l.projTypeHint,validateStatus:l.projTypeStatus}),i.default.createElement(f.default,{name:"projType",id:"projType",value:this.state.peProj.projType,appName:"简历系统",optName:"项目类型",onSelect:this.handleOnSelected.bind(this,"projType")}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"客户类型",colon:!0,className:t,help:l.custTypeHint,validateStatus:l.custTypeStatus}),i.default.createElement(f.default,{name:"custType",id:"custType",value:this.state.peProj.custType,appName:"简历系统",optName:"客户类型",onSelect:this.handleOnSelected.bind(this,"custType")})))),i.default.createElement(g,n({},a,{label:"技术架构",colon:!0,className:t,help:l.frameworkHint,validateStatus:l.frameworkStatus}),i.default.createElement(s.Input,{type:"text",name:"framework",id:"framework",value:this.state.peProj.framework,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{required:!0,label:"技能要求",colon:!0,className:t,help:l.skillsHint,validateStatus:l.skillsStatus}),i.default.createElement(s.Input,{type:"text",name:"skills",id:"skills",value:this.state.peProj.skills,onChange:this.handleOnChange})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"岗位",colon:!0,className:t,help:l.projRoleHint,validateStatus:l.projRoleStatus}),i.default.createElement(s.Input,{type:"text",name:"projRole",id:"projRole",value:this.state.peProj.projRole,onChange:this.handleOnChange}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"工作语言",colon:!0,className:t,help:l.languageHint,validateStatus:l.languageStatus}),i.default.createElement(f.default,{name:"language",id:"language",value:this.state.peProj.language,appName:"简历系统",optName:"工作语言",onSelect:this.handleOnSelected.bind(this,"language")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"见证人",colon:!0,className:t,help:l.witnessHint,validateStatus:l.witnessStatus}),i.default.createElement(s.Input,{type:"text",name:"witness",id:"witness",value:this.state.peProj.witness,onChange:this.handleOnChange}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"见证人电话",colon:!0,className:t,help:l.wPhoneHint,validateStatus:l.wPhoneStatus}),i.default.createElement(s.Input,{type:"text",name:"wPhone",id:"wPhone",value:this.state.peProj.wPhone,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{required:!0,label:"项目简介",colon:!0,className:t,help:l.projDescHint,validateStatus:l.projDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"projDesc",id:"projDesc",value:this.state.peProj.projDesc,onChange:this.handleOnChange,style:{height:"150px"}})),i.default.createElement(g,n({},a,{label:"工作内容",required:!0,colon:!0,className:t,help:l.workContHint,validateStatus:l.workContStatus}),i.default.createElement(s.Input,{type:"textarea",name:"workCont",id:"workCont",value:this.state.peProj.workCont,onChange:this.handleOnChange,style:{height:"150px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["peProjList/create","peProjList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(566),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"PeProjPage",getInitialState:function(){return{peProjSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,peProjSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delPeProj(e.uuid)},render:function(){var e=this,t=this.state.peProjSet.person.peProjList,a=[{title:"项目名称",dataIndex:"projName",key:"projName",width:320},{title:"时间",dataIndex:"beginDate",key:"beginDate",width:160,render:function(e,t){return t.beginDate+" ~ "+t.endDate}},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["peProjList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateReviewPage",getInitialState:function(){return{reviewSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,review:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("review")],onServiceComplete:function(e){"reviewList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"reName",desc:"标题",required:!0,max:64},{id:"review",desc:"描述",required:!0,max:4e3}]},clear:function(){this.state.hints={},this.state.reviewSet.operation="",this.state.review.reName="",this.state.review.reLevel="evaluation",this.state.review.review=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.review),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.review)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateReview(this.state.review)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.review)&&(this.setState({loading:!0}),C.addReview(this.state.review))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"标题",required:!0,colon:!0,className:t,help:r.reNameHint,validateStatus:r.reNameStatus}),i.default.createElement(f.default,{name:"reName",id:"reName",value:this.state.review.reName,appName:"简历系统",optName:"个人评价",onSelect:this.handleOnSelected.bind(this,"reName")})),i.default.createElement(g,n({},a,{label:"描述",required:!0,colon:!0,className:t,help:r.reviewHint,validateStatus:r.reviewStatus}),i.default.createElement(s.Input,{type:"textarea",name:"review",id:"review",value:this.state.review.review,onChange:this.handleOnChange,style:{height:"200px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["reviewList/create","reviewList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(568),h=r(m),f=a(1),v=a(3),g=a(6),y=a(16),S=a(15),E=l.default.createClass({displayName:"PerAssPage",getInitialState:function(){return{reviewSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,reviewSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)S.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;S.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),S.delReview(e.uuid)},render:function(){var e=this,t=this.state.reviewSet.person.reviewList,a=[{title:"标题",dataIndex:"reName",key:"reName",width:100,render:function(t,a){return v.getOptionName("简历系统","个人评价",a.reName,!1,e)}},{title:"描述",dataIndex:"review",key:"review",width:600},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:g.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:g.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["reviewList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:g.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateIntroPage",getInitialState:function(){return{introSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,intro:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("intro")],onServiceComplete:function(e){"introList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"introName",desc:"标题",required:!0,max:128},{id:"intro",desc:"简介",required:!0,max:4e3}]},clear:function(){this.state.hints={},this.state.introSet.operation="",this.state.intro.introName="兴趣爱好",this.state.intro.intro=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.intro),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.intro)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateIntro(this.state.intro)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.intro)&&(this.setState({loading:!0}),C.addIntro(this.state.intro),console.log(this.state.intro))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"标题",required:!0,colon:!0,className:t,help:r.introNameHint,validateStatus:r.introNameStatus}),i.default.createElement(f.default,{name:"introName",id:"introName",value:this.state.intro.introName,appName:"简历系统",optName:"个人介绍",onSelect:this.handleOnSelected.bind(this,"introName")})),i.default.createElement(g,n({},a,{label:"简介",required:!0,colon:!0,className:t,help:r.introHint,validateStatus:r.introStatus}),i.default.createElement(s.Input,{type:"textarea",name:"intro",id:"intro",value:this.state.intro.intro,onChange:this.handleOnChange,style:{height:"200px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["introList/create","introList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateProjSkillPage",getInitialState:function(){return{projSkillSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,projSkill:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("projSkill")],onServiceComplete:function(e){"projSkillList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"skType",desc:"技能类型",required:!0},{id:"itemType",desc:"项目类型",required:!1},{id:"skLevel",desc:"熟练程度",required:!0},{id:"skTime",desc:"使用时长",required:!0},{id:"skDesc",desc:"技能说明",required:!1},{id:"skHonor",desc:"相关证书",required:!1},{id:"custNames",desc:"相关客户",required:!1}]},clear:function(){this.state.hints={},this.state.projSkill.skType="",this.state.projSkill.itemType="",this.state.projSkill.skLevel="",this.state.projSkill.skTime="",this.state.projSkill.skDesc="",this.state.projSkill.skHonor="",this.state.projSkill.custNames=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.projSkill),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.projSkill)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateProjSkill(this.state.projSkill)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.projSkill)&&(this.setState({loading:!0}),C.addProjSkill(this.state.projSkill))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"技能类型",required:!0,colon:!0,className:t,help:r.skTypeHint,validateStatus:r.skTypeStatus}),i.default.createElement(s.Input,{type:"text",name:"skType",id:"skType",value:this.state.projSkill.skType,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"项目类型",colon:!0,className:t,help:r.itemTypeHint,validateStatus:r.itemTypeStatus}),i.default.createElement(f.default,{name:"itemType",id:"itemType",value:this.state.projSkill.itemType,appName:"简历系统",optName:"项目类型",onChange:this.handleOnSelected.bind(this,"itemType")})),i.default.createElement(g,n({},a,{label:"熟练程度",required:!0,colon:!0,className:t,help:r.skLevelHint,validateStatus:r.skLevelStatus}),i.default.createElement(f.default,{name:"skLevel",id:"skLevel",value:this.state.projSkill.skLevel,appName:"简历系统",optName:"熟练程度",onChange:this.handleOnSelected.bind(this,"skLevel")})),i.default.createElement(g,n({},a,{label:"使用时长",required:!0,colon:!0,className:t,help:r.skTimeHint,validateStatus:r.skTimeStatus}),i.default.createElement(s.Input,{type:"text",name:"skTime",id:"skTime",value:this.state.projSkill.skTime,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"技能说明",colon:!0,className:t,help:r.skDescHint,validateStatus:r.skDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"skDesc",id:"skDesc",value:this.state.projSkill.skDesc,onChange:this.handleOnChange,style:{height:"120px"}})),i.default.createElement(g,n({},a,{
label:"相关证书",colon:!0,className:t,help:r.skHonorHint,validateStatus:r.skHonorStatus}),i.default.createElement(s.Input,{type:"text",name:"skHonor",id:"skHonor",value:this.state.projSkill.skHonor,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"相关客户",colon:!0,className:t,help:r.custNamesHint,validateStatus:r.custNamesStatus}),i.default.createElement(s.Input,{type:"textarea",name:"custNames",id:"custNames",value:this.state.projSkill.custNames,onChange:this.handleOnChange,style:{height:"120px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["projSkillList/create","projSkillList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(571),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"ProjSkillPage",getInitialState:function(){return{projSkillSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projSkillSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delProjSkill(e.uuid)},render:function(){var e=this,t=this.state.projSkillSet.person.projSkillList,a=[{title:"技能名称",dataIndex:"skType",key:"skType",width:140},{title:"熟练程度",dataIndex:"skLevel",key:"skLevel",width:140},{title:"使用时长",dataIndex:"skTime",key:"skTime",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["projSkillList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=r(o),d=a(18),u=r(d),c=a(4),p=a(1),m=a(6),h=c.Form.Item,f=(c.Select.Option,a(16)),v=a(15),g=i.default.createClass({displayName:"CreateBuildPage",getInitialState:function(){return{buildSet:{operation:"",errMsg:""},modal:!1,build:{},hints:{},validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"buildCode",desc:"建筑名称",required:!0,max:128},{id:"address",desc:"地址",max:256}]},clear:function(e){this.state.hints={},this.state.build.buildCode="",this.state.build.address="",this.state.build.campUuid=e},handleOnChange:function(e){var t=this.state.build;t[e.target.id]=e.target.value,m.validator(this,t,e.target.id),this.setState({build:t})},onClickSave:function(){m.formValidator(this,this.state.build)&&v.createHrBuild(this.state.build)},toggle:function(){this.setState({modal:!this.state.modal}),this.state.modal||(this.state.buildSet.operation="")},onDismiss:function(){var e=this.state.buildSet;e.errMsg="",e.operation="",this.setState({buildSet:e})},render:function(){var e="";this.state.modal&&"create"===this.state.buildSet.operation&&(""!=this.state.buildSet.errMsg?e=this.state.buildSet.errMsg:this.state.modal=!1);var t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:4},wrapperCol:"vertical"==t?null:{span:20}},l=this.state.hints;return i.default.createElement(c.Modal,{visible:this.state.modal,width:"540px",title:"增加楼宇",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(u.default,{message:e,toggle:this.onDismiss}),i.default.createElement(c.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave},"保存")," ",i.default.createElement(c.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(c.Form,{layout:t},i.default.createElement(h,n({},r,{label:"建筑名称",colon:!0,className:a,help:l.buildCodeHint,validateStatus:l.buildCodeStatus}),i.default.createElement(c.Input,{type:"text",name:"buildCode",id:"buildCode",value:this.state.build.buildCode,onChange:this.handleOnChange})),i.default.createElement(h,n({},r,{label:"地址",colon:!0,className:a,help:l.addressHint,validateStatus:l.addressStatus}),i.default.createElement(c.Input,{type:"text",name:"address",id:"address",value:this.state.build.address,onChange:this.handleOnChange}))))}});s.default.onClass(g,p.connect(f,"buildSet")),t.default=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=r(o),d=a(18),u=r(d),c=a(4),p=a(1),m=a(6),h=a(3),f=c.Form.Item,v=(c.Select.Option,a(16)),g=a(15),y=i.default.createClass({displayName:"UpdateBuildPage",getInitialState:function(){return{buildSet:{operation:"",errMsg:""},modal:!1,build:{},hints:{},validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"buildCode",desc:"建筑名称",required:!0,max:128},{id:"address",desc:"地址",max:256}]},initPage:function(e){this.state.hints={},h.copyValue(e,this.state.build)},handleOnChange:function(e){var t=this.state.build;t[e.target.id]=e.target.value,m.validator(this,t,e.target.id),this.setState({build:t})},onClickSave:function(){m.formValidator(this,this.state.build)&&g.updateHrBuild(this.state.build)},toggle:function(){this.setState({modal:!this.state.modal}),this.state.modal||(this.state.buildSet.operation="")},onDismiss:function(){var e=this.state.buildSet;e.errMsg="",e.operation="",this.setState({buildSet:e})},render:function(){var e="";this.state.modal&&"update"===this.state.buildSet.operation&&(""!=this.state.buildSet.errMsg?e=this.state.buildSet.errMsg:this.state.modal=!1);var t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:4},wrapperCol:"vertical"==t?null:{span:20}},l=this.state.hints;return i.default.createElement(c.Modal,{visible:this.state.modal,width:"540px",title:"修改楼宇信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(u.default,{message:e,toggle:this.onDismiss}),i.default.createElement(c.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave},"保存")," ",i.default.createElement(c.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(c.Form,{layout:t},i.default.createElement(f,n({},r,{label:"建筑名称",colon:!0,className:a,help:l.buildCodeHint,validateStatus:l.buildCodeStatus}),i.default.createElement(c.Input,{type:"text",name:"buildCode",id:"buildCode",value:this.state.build.buildCode,onChange:this.handleOnChange})),i.default.createElement(f,n({},r,{label:"地址",colon:!0,className:a,help:l.addressHint,validateStatus:l.addressStatus}),i.default.createElement(c.Input,{type:"text",name:"address",id:"address",value:this.state.build.address,onChange:this.handleOnChange}))))}});s.default.onClass(y,p.connect(v,"buildSet")),t.default=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(283),l=r(n);e.exports={path:"/resume2/",indexRoute:{component:l.default},childRoutes:[{path:"PreviewPage/",component:a(284)},{path:"ResumePage/",component:a(380)},{path:"PerIntro/",component:a(283)},{path:"PerAss/",component:a(569)},{path:"ContactInfor/",component:a(547)},{path:"identityInfor/",component:a(557)},{path:"otherInfor/",component:a(561)},{path:"education/",component:a(549)},{path:"eduHonor/",component:a(551)},{path:"schHonor/",component:a(577)},{path:"schPrac/",component:a(579)},{path:"peComp/",component:a(565)},{path:"peProj/",component:a(567)},{path:"workHonor/",component:a(589)},{path:"train/",component:a(587)},{path:"cert/",component:a(544)},{path:"techSkill/",component:a(585)},{path:"biziSkill/",component:a(542)},{path:"projSkill/",component:a(572)},{path:"lang/",component:a(559)},{path:"otherSkill/",component:a(563)},{path:"wsProj/",component:a(593)},{path:"wsThesis/",component:a(595)},{path:"wsIssue/",component:a(591)},{path:"family/",component:a(555)},{path:"social/",component:a(583)},{path:"soHonor/",component:a(581)},{path:"benefit/",component:a(540)},{path:"emerg/",component:a(553)}]}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,s.DatePicker.MonthPicker),S=(s.DatePicker.RangePicker,a(6)),E=a(3),C=a(16),b=a(15),w=i.default.createClass({displayName:"CreateSchHonorPage",getInitialState:function(){return{SchHonorSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,SchHonor:{},hints:{},validRules:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,m.default)("SchHonor")],onServiceComplete:function(e){"honor2List"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"schName",desc:"学校",required:!0,max:128},{id:"hoName",desc:"获得奖项",required:!0,max:32},{id:"hoLevel",desc:"奖项级别",required:!0,max:32},{id:"endDate",desc:"时间",required:!0,max:24},{id:"hoDesc",desc:"说明",required:!1,max:2048}]},clear:function(){this.state.hints={},this.state.SchHonorSet.operation="",this.state.SchHonor.schName="",this.state.SchHonor.hoName="",this.state.SchHonor.hoLevel="班级组",this.state.SchHonor.endDate=null,this.state.SchHonor.hoDesc=""},initPage:function(e){this.state.hints={},E.copyValue(e,this.state.SchHonor),this.setState({btnOpen:!0})},onClickSave:function(){S.formValidator(this,this.state.SchHonor)&&(1==this.state.btnOpen?(this.setState({loading:!0}),b.updateHonor2(this.state.SchHonor)):this.onClickAdd())},onClickAdd:function(){S.formValidator(this,this.state.SchHonor)&&(this.setState({loading:!0}),b.addHonor2(this.state.SchHonor))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="",t=this.state.SchHonorSet.operation;"create"!==t&&"update"!==t||(""!=this.state.SchHonorSet.errMsg?e=this.state.SchHonorSet.errMsg:(this.clear(),this.state.modal=!1));var a="horizontal",r="form-item-"+a,l={labelCol:"vertical"==a?null:{span:3},wrapperCol:"vertical"==a?null:{span:21}},o=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:a},i.default.createElement(g,n({},l,{required:!0,label:"学校",colon:!0,className:r,help:o.schNameHint,validateStatus:o.schNameStatus}),i.default.createElement(s.Input,{type:"text",name:"schName",id:"schName",value:this.state.SchHonor.schName,onChange:this.handleOnChange})),i.default.createElement(g,n({},l,{required:!0,label:"获得奖项",colon:!0,className:r}),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,{help:o.hoNameHint,validateStatus:o.hoNameStatus},i.default.createElement(s.Input,{type:"text",name:"hoName",id:"hoName",value:this.state.SchHonor.hoName,onChange:this.handleOnChange}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,{help:o.hoLevelHint,validateStatus:o.hoLevelStatus},i.default.createElement(f.default,{name:"hoLevel",id:"hoLevel",value:this.state.SchHonor.hoLevel,appName:"简历系统",optName:"奖项级别",onSelect:this.handleOnSelected.bind(this,"hoLevel")})))),i.default.createElement(g,n({},l,{required:!0,label:"时间",colon:!0,className:r,help:o.endDateHint,validateStatus:o.endDateStatus}),i.default.createElement(y,{name:"endDate",id:"endDate",value:this.formatMonth(this.state.SchHonor.endDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",S.monthFormat)})),i.default.createElement(g,n({},l,{required:!1,label:"说明",colon:!0,className:r,help:o.hoDescHint,validateStatus:o.hoDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"hoDesc",id:"hoDesc",value:this.state.SchHonor.hoDesc,onChange:this.handleOnChange,style:{height:"100px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["honor2List/create","honor2List/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(576),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"SchHonorPage",getInitialState:function(){return{schHonorSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,schHonorSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delHonor2(e.uuid)},render:function(){var e=this,t=this.state.schHonorSet.person.honor2List,a=[{title:"学校",dataIndex:"schName",key:"schName",width:160},,{title:"获得奖项",dataIndex:"hoName",key:"hoName",width:300},{title:"奖项级别",dataIndex:"hoLevel",key:"hoLevel",width:300},{title:"时间",dataIndex:"endDate",key:"endDate",width:300},{title:"",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["honor2List/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=(r(h),a(1)),v=s.Form.Item,g=(s.Select.Option,s.DatePicker.MonthPicker),y=(s.DatePicker.RangePicker,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateSchPracPage",getInitialState:function(){return{schPracSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,schPrac:{},hints:{},validRules:[]}},mixins:[f.listenTo(E,"onServiceComplete"),(0,m.default)("schPrac")],onServiceComplete:function(e){"pracList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"pracName",desc:"实践名称",required:!0,max:128},{id:"endDate",desc:"时间",required:!0,max:24},{id:"pracDesc",desc:"实践内容",required:!0,max:4e3}]},clear:function(){this.state.hints={},this.state.schPracSet.operation="",this.state.schPrac.pracName="",this.state.schPrac.endDate="",this.state.schPrac.pracDesc=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.schPrac),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.schPrac)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updatePrac(this.state.schPrac)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.schPrac)&&(this.setState({loading:!0}),C.addPrac(this.state.schPrac))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(v,n({},a,{label:"时间",required:!0,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),i.default.createElement(g,{name:"endDate",id:"endDate",value:this.formatMonth(this.state.schPrac.endDate,y.monthFormat),format:y.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",y.monthFormat)})),i.default.createElement(v,n({},a,{label:"实践名称",required:!0,colon:!0,className:t,help:r.pracNameHint,validateStatus:r.pracNameStatus}),i.default.createElement(s.Input,{type:"text",name:"pracName",id:"pracName",value:this.state.schPrac.pracName,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"实践内容",required:!0,colon:!0,className:t,help:r.pracDescHint,validateStatus:r.pracDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"pracDesc",id:"pracDesc",value:this.state.schPrac.pracDesc,onChange:this.handleOnChange,style:{height:"200px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["pracList/create","pracList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(578),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"SchPracPage",getInitialState:function(){return{schPracSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,schPracSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delPrac(e.uuid)},render:function(){var e=this,t=this.state.schPracSet.person.pracList,a=[{title:"时间",dataIndex:"endDate",key:"endDate",width:90},{title:"实践名称",dataIndex:"pracName",key:"pracName",width:450},{title:"",key:"action",width:70,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["pracList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=(r(h),a(1)),v=s.Form.Item,g=(s.Select.Option,s.DatePicker.MonthPicker),y=(s.DatePicker.RangePicker,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateSoHonorPage",getInitialState:function(){return{soHonorSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,soHonor:{},hints:{},validRules:[]}},mixins:[f.listenTo(E,"onServiceComplete"),(0,m.default)("soHonor")],onServiceComplete:function(e){"soHonorList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"hoName",desc:"奖项名称",required:!0},{id:"hoLevel",desc:"颁发机构",required:!0},{id:"beginDate",desc:"开始日期",required:!0},{id:"endDate",desc:"终止日期",required:!1},{id:"hoDesc",desc:"内容",required:!1}]},clear:function(){this.state.hints={},this.state.soHonor.hoName="",this.state.soHonor.hoLevel="",this.state.soHonor.beginDate="",this.state.soHonor.endDate="",this.state.soHonor.hoDesc=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.soHonor),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.soHonor)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateSoHonor(this.state.soHonor)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.soHonor)&&(this.setState({loading:!0}),C.addSoHonor(this.state.soHonor))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(v,n({},a,{label:"奖项名称",required:!0,colon:!0,className:t,help:r.hoNameHint,validateStatus:r.hoNameStatus}),i.default.createElement(s.Input,{type:"text",name:"hoName",id:"hoName",value:this.state.soHonor.hoName,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"颁发机构",required:!0,colon:!0,className:t,help:r.hoLevelHint,validateStatus:r.hoLevelStatus}),i.default.createElement(s.Input,{type:"text",name:"hoLevel",id:"hoLevel",value:this.state.soHonor.hoLevel,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"开始时间",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"6"},i.default.createElement(v,{help:r.beginDateHint,validateStatus:r.beginDateStatus},i.default.createElement(g,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.soHonor.beginDate,y.monthFormat),format:y.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.monthFormat)}))),i.default.createElement(s.Col,{span:"2",style:{textAlign:"center"}},"到"),i.default.createElement(s.Col,{span:"6"},i.default.createElement(v,{help:r.endDateHint,validateStatus:r.endDateStatus},i.default.createElement(g,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatMonth(this.state.soHonor.endDate,y.monthFormat),format:y.monthFormat,onChange:this.handleOnSelDate.bind(this,"endDate",y.monthFormat)})))),i.default.createElement(v,n({},a,{label:"内容",required:!1,colon:!0,className:t,help:r.hoDescHint,validateStatus:r.hoDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"hoDesc",id:"hoDesc",value:this.state.soHonor.hoDesc,onChange:this.handleOnChange}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["soHonorList/create","soHonorList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(580),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"SoHonorPage",getInitialState:function(){return{soHonorSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,soHonorSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delSoHonor(e.uuid)},render:function(){var e=this,t=this.state.soHonorSet.person.soHonorList,a=[{title:"奖项名称",dataIndex:"hoName",key:"hoName",width:140},{title:"颁发机构",dataIndex:"hoLevel",key:"hoLevel",width:140},{title:"获得日期",dataIndex:"beginDate",key:"beginDate",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["soHonorList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=(r(h),a(1)),v=s.Form.Item,g=(s.Select.Option,a(6)),y=a(3),S=a(16),E=a(15),C=i.default.createClass({displayName:"CreateSocialPage",getInitialState:function(){return{socialSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,social:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,m.default)("social")],onServiceComplete:function(e){"socialList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"peName",desc:"姓名",required:!0},{id:"relation",desc:"关系",required:!0},{id:"title",desc:"职务",required:!0},{id:"compName",desc:"公司",required:!1},{id:"phoneNo",desc:"电话",dataType:"mobile",required:!1},{id:"compLoc",desc:"地址",required:!1}]},clear:function(){this.state.hints={},this.state.social.peName="",this.state.social.relation="",this.state.social.title="",this.state.social.compName="",this.state.social.phoneNo="",this.state.social.compLoc=""},initPage:function(e){this.state.hints={},y.copyValue(e,this.state.social),this.setState({btnOpen:!0})},onClickSave:function(){g.formValidator(this,this.state.social)&&(1==this.state.btnOpen?(this.setState({loading:!0}),E.updateSocial(this.state.social)):this.onClickAdd())},onClickAdd:function(){g.formValidator(this,this.state.social)&&(this.setState({loading:!0}),E.addSocial(this.state.social))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(v,n({},a,{label:"姓名",required:!0,colon:!0,className:t,help:r.peNameHint,validateStatus:r.peNameStatus}),i.default.createElement(s.Input,{type:"text",name:"peName",id:"peName",value:this.state.social.peName,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"关系",required:!0,colon:!0,className:t,help:r.relationHint,validateStatus:r.relationStatus}),i.default.createElement(s.Input,{type:"text",name:"relation",id:"relation",value:this.state.social.relation,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"职务",required:!0,colon:!0,className:t,help:r.titleHint,validateStatus:r.titleStatus}),i.default.createElement(s.Input,{type:"text",name:"title",id:"title",value:this.state.social.title,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"公司",required:!1,colon:!0,className:t,help:r.compNameHint,validateStatus:r.compNameStatus
}),i.default.createElement(s.Input,{type:"text",name:"compName",id:"compName",value:this.state.social.compName,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"电话",required:!1,colon:!0,className:t,help:r.phoneNoHint,validateStatus:r.phoneNoStatus}),i.default.createElement(s.Input,{type:"text",name:"phoneNo",id:"phoneNo",value:this.state.social.phoneNo,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"地址",required:!1,colon:!0,className:t,help:r.compLocHint,validateStatus:r.compLocStatus}),i.default.createElement(s.Input,{type:"textarea",name:"compLoc",id:"compLoc",value:this.state.social.compLoc,onChange:this.handleOnChange}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["socialList/create","socialList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(582),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"SocialPage",getInitialState:function(){return{socialSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,socialSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delSocial(e.uuid)},render:function(){var e=this,t=this.state.socialSet.person.socialList,a=[{title:"姓名",dataIndex:"peName",key:"peName",width:140},{title:"关系",dataIndex:"relation",key:"relation",width:140},{title:"职务",dataIndex:"title",key:"title",width:140},{title:"公司",dataIndex:"compName",key:"compName",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["socialList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,a(6)),S=a(3),E=a(16),C=a(15),b=i.default.createClass({displayName:"CreateTechSkillPage",getInitialState:function(){return{techSkillSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,techSkill:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("techSkill")],onServiceComplete:function(e){"techSkillList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"skName",desc:"技能名称",required:!0},{id:"skLevel",desc:"熟练程度",required:!0},{id:"skTime",desc:"使用时长",required:!0},{id:"skHonor",desc:"相关证书",required:!1},{id:"skDesc",desc:"技能说明",required:!1}]},clear:function(){this.state.hints={},this.state.techSkill.skName="",this.state.techSkill.skLevel="",this.state.techSkill.skTime="",this.state.techSkill.skHonor="",this.state.techSkill.skDesc=""},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.techSkill),this.setState({btnOpen:!0})},onClickSave:function(){y.formValidator(this,this.state.techSkill)&&(1==this.state.btnOpen?(this.setState({loading:!0}),C.updateTechSkill(this.state.techSkill)):this.onClickAdd())},onClickAdd:function(){y.formValidator(this,this.state.techSkill)&&(this.setState({loading:!0}),C.addTechSkill(this.state.techSkill))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"技能名称",required:!0,colon:!0,className:t,help:r.skNameHint,validateStatus:r.skNameStatus}),i.default.createElement(s.Input,{type:"text",name:"skName",id:"skName",value:this.state.techSkill.skName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"熟练程度",required:!0,colon:!0,className:t,help:r.skLevelHint,validateStatus:r.skLevelStatus}),i.default.createElement(f.default,{name:"skLevel",id:"skLevel",value:this.state.techSkill.skLevel,appName:"简历系统",optName:"熟练程度",onChange:this.handleOnSelected.bind(this,"skLevel")})),i.default.createElement(g,n({},a,{label:"使用时长",required:!0,colon:!0,className:t,help:r.skTimeHint,validateStatus:r.skTimeStatus}),i.default.createElement(s.Input,{type:"text",name:"skTime",id:"skTime",value:this.state.techSkill.skTime,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"相关证书",colon:!0,className:t,help:r.skHonorHint,validateStatus:r.skHonorStatus}),i.default.createElement(s.Input,{type:"text",name:"skHonor",id:"skHonor",value:this.state.techSkill.skHonor,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"技能说明",colon:!0,className:t,help:r.skDescHint,validateStatus:r.skDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"skDesc",id:"skDesc",value:this.state.techSkill.skDesc,onChange:this.handleOnChange,style:{height:"120px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["techSkillList/create","techSkillList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(584),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"TechSkillPage",getInitialState:function(){return{techSkillSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,techSkillSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delTechSkill(e.uuid)},render:function(){var e=this,t=this.state.techSkillSet.person.techSkillList,a=[{title:"技能名称",dataIndex:"skName",key:"skName",width:140},{title:"熟练程度",dataIndex:"skLevel",key:"skLevel",width:140},{title:"使用时长",dataIndex:"skTime",key:"skTime",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["techSkillList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,s.DatePicker.MonthPicker),S=(s.DatePicker.RangePicker,a(6)),E=a(3),C=a(16),b=a(15),w=i.default.createClass({displayName:"CreateTrainPage",getInitialState:function(){return{trainSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,train:{},hints:{},validRules:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,m.default)("train")],onServiceComplete:function(e){"trainList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"beginDate",desc:"开始时间",required:!0,max:"0"},{id:"endDate",desc:"结束时间",required:!1,max:"0"},{id:"trainType",desc:"培训类型",required:!0,max:"0"},{id:"trainComp",desc:"培训机构",required:!0,max:"0"},{id:"trainCourse",desc:"培训课程",required:!0,max:"0"},{id:"trainLoc",desc:"培训地点",required:!1,max:"0"},{id:"trainCert",desc:"获得证书",required:!1,max:"0"},{id:"trainCont",desc:"详细说明",required:!1,max:"0"}]},clear:function(){this.state.hints={},this.state.train.beginDate="",this.state.train.endDate="",this.state.train.trainType="",this.state.train.trainComp="",this.state.train.trainCourse="",this.state.train.trainLoc="",this.state.train.trainCert="",this.state.train.trainCont=""},initPage:function(e){this.state.hints={},E.copyValue(e,this.state.train),this.setState({btnOpen:!0})},onClickSave:function(){S.formValidator(this,this.state.train)&&(1==this.state.btnOpen?(this.setState({loading:!0}),b.updateTrain(this.state.train)):this.onClickAdd())},onClickAdd:function(){S.formValidator(this,this.state.train)&&(this.setState({loading:!0}),b.addTrain(this.state.train))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"培训时间",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"6"},i.default.createElement(g,{help:r.beginDateHint,validateStatus:r.beginDateStatus},i.default.createElement(y,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.train.beginDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",S.monthFormat)}))),i.default.createElement(s.Col,{span:"2",style:{textAlign:"center"}},"到"),i.default.createElement(s.Col,{span:"6"},i.default.createElement(g,{help:r.endDateHint,validateStatus:r.endDateStatus},i.default.createElement(y,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatMonth(this.state.train.endDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelMonth.bind(this,"endDate",S.monthFormat)})),"formatMonth")),i.default.createElement(g,n({},a,{label:"培训类型",required:!0,colon:!0,className:t,help:r.trainTypeHint,validateStatus:r.trainTypeStatus}),i.default.createElement(f.default,{name:"trainType",id:"trainType",value:this.state.train.trainType,appName:"简历系统",optName:"培训类型",onChange:this.handleOnSelected.bind(this,"trainType")})),i.default.createElement(g,n({},a,{label:"培训机构",required:!0,colon:!0,className:t,help:r.trainCompHint,validateStatus:r.trainCompStatus}),i.default.createElement(s.Input,{type:"text",name:"trainComp",id:"trainComp",value:this.state.train.trainComp,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"培训课程",required:!0,colon:!0,className:t,help:r.trainCourseHint,validateStatus:r.trainCourseStatus}),i.default.createElement(s.Input,{type:"text",name:"trainCourse",id:"trainCourse",value:this.state.train.trainCourse,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"培训地点",required:!1,colon:!0,className:t,help:r.trainLocHint,validateStatus:r.trainLocStatus}),i.default.createElement(s.Input,{type:"text",name:"trainLoc",id:"trainLoc",value:this.state.train.trainLoc,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"获得证书",required:!1,colon:!0,className:t,help:r.trainCertHint,validateStatus:r.trainCertStatus}),i.default.createElement(s.Input,{type:"text",name:"trainCert",id:"trainCert",value:this.state.train.trainCert,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"详细说明",required:!1,colon:!0,className:t,help:r.trainContHint,validateStatus:r.trainContStatus}),i.default.createElement(s.Input,{type:"textarea",name:"trainCont",id:"trainCont",value:this.state.train.trainCont,onChange:this.handleOnChange,style:{height:"140px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["trainList/create","trainList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(586),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"TrainPage",getInitialState:function(){return{trainSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,trainSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delTrain(e.uuid)},render:function(){var e=this,t=this.state.trainSet.person.trainList,a=[{title:"培训结构",dataIndex:"trainComp",key:"trainComp",width:120},{title:"培训时间",dataIndex:"beginDate",key:"beginDate",width:90},{title:"培训课程",dataIndex:"trainCourse",key:"trainCourse",width:300},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["trainList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=r(h),v=a(1),g=s.Form.Item,y=(s.Select.Option,s.DatePicker.MonthPicker),S=(s.DatePicker.RangePicker,a(6)),E=a(3),C=a(16),b=a(15),w=i.default.createClass({displayName:"CreateWorkHonorPage",getInitialState:function(){return{workHonorSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,workHonor:{},hints:{},validRules:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,m.default)("workHonor")],onServiceComplete:function(e){"workHonorList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"memo2",desc:"公司名称",required:!0,max:32},{id:"hoName",desc:"荣誉名称",required:!0,max:32},{id:"hoLevel",desc:"荣誉级别",required:!0,max:32},{id:"beginDate",desc:"时间",required:!0,max:24},{id:"hoDesc",desc:"说明",required:!0,max:1024}]},clear:function(){this.state.hints={},this.state.workHonorSet.operation="",this.state.workHonor.memo2="",this.state.workHonor.hoName="",this.state.workHonor.hoLevel="公司级",this.state.workHonor.beginDate=null,this.state.workHonor.hoDesc=""},initPage:function(e){this.state.hints={},E.copyValue(e,this.state.workHonor),this.setState({btnOpen:!0})},onClickSave:function(){S.formValidator(this,this.state.workHonor)&&(1==this.state.btnOpen?(this.setState({loading:!0}),b.updateWorkHonor(this.state.workHonor)):this.onClickAdd())},onClickAdd:function(){S.formValidator(this,this.state.workHonor)&&(this.setState({loading:!0}),b.addWorkHonor(this.state.workHonor))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(g,n({},a,{label:"公司名称",required:!0,colon:!0,className:t,help:r.memo2Hint,validateStatus:r.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.workHonor.memo2,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"荣誉名称",required:!0,colon:!0,className:t,help:r.hoNameHint,validateStatus:r.hoNameStatus}),i.default.createElement(s.Input,{type:"text",name:"hoName",id:"hoName",value:this.state.workHonor.hoName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"荣誉级别",required:!0,colon:!0,className:t,help:r.hoLevelHint,validateStatus:r.hoLevelStatus}),i.default.createElement(f.default,{name:"hoLevel",id:"hoLevel",value:this.state.workHonor.hoLevel,appName:"简历系统",optName:"荣誉级别",onSelect:this.handleOnSelected.bind(this,"hoLevel")})),i.default.createElement(g,n({},a,{label:"时间",required:!0,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),i.default.createElement(y,{name:"beginDate",id:"beginDate",value:this.formatMonth(this.state.workHonor.beginDate,S.monthFormat),format:S.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",S.monthFormat)})),i.default.createElement(g,n({},a,{label:"说明",required:!1,colon:!0,className:t,help:r.hoDescHint,validateStatus:r.hoDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"hoDesc",id:"hoDesc",value:this.state.workHonor.hoDesc,onChange:this.handleOnChange,style:{height:"150px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["workHonorList/create","workHonorList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(588),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"WorkHonorPage",getInitialState:function(){return{workHonorSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,workHonorSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delWorkHonor(e.uuid)},render:function(){var e=this,t=this.state.workHonorSet.person.workHonorList,a=[{title:"公司名称",dataIndex:"memo2",key:"memo2",width:300},{title:"荣誉名称",dataIndex:"hoName",key:"hoName",width:160},{title:"时间",dataIndex:"beginDate",key:"beginDate",width:160},{title:"",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["workHonorList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=(r(h),a(1)),v=s.Form.Item,g=(s.Select.Option,a(6)),y=a(3),S=a(16),E=a(15),C=i.default.createClass({displayName:"CreateWsIssuePage",getInitialState:function(){return{wsIssueSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,wsIssue:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,m.default)("wsIssue")],onServiceComplete:function(e){"wsIssueList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"title",desc:"作品名称",required:!0},{id:"issueUrl",desc:"文档地址",required:!0},{id:"summary",desc:"作品说明",required:!0}]},clear:function(){this.state.hints={},this.state.wsIssue.title="",this.state.wsIssue.issueUrl="",this.state.wsIssue.summary=""},initPage:function(e){this.state.hints={},y.copyValue(e,this.state.wsIssue),this.setState({btnOpen:!0})},onClickSave:function(){console.log("this.state.wsIssue",this.state.wsIssue),g.formValidator(this,this.state.wsIssue)&&(1==this.state.btnOpen?(this.setState({loading:!0}),E.updateWsIssue(this.state.wsIssue)):this.onClickAdd())},onClickAdd:function(){console.log("this.state.wsIssue",this.state.wsIssue),g.formValidator(this,this.state.wsIssue)&&(this.setState({loading:!0}),E.addWsIssue(this.state.wsIssue))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(v,n({},a,{label:"作品名称",required:!0,colon:!0,className:t,help:r.titleHint,validateStatus:r.titleStatus}),i.default.createElement(s.Input,{type:"text",name:"title",id:"title",value:this.state.wsIssue.title,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"文档地址",required:!0,colon:!0,className:t,help:r.issueUrlHint,validateStatus:r.issueUrlStatus}),i.default.createElement(s.Input,{type:"text",name:"issueUrl",id:"issueUrl",value:this.state.wsIssue.issueUrl,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"作品说明",required:!0,colon:!0,className:t,help:r.summaryHint,validateStatus:r.summaryStatus}),i.default.createElement(s.Input,{type:"textarea",name:"summary",id:"summary",value:this.state.wsIssue.summary,onChange:this.handleOnChange,style:{height:"140px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["wsIssueList/create","wsIssueList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(590),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"WsIssuePage",getInitialState:function(){return{wsIssueSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,wsIssueSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delWsIssue(e.uuid)},render:function(){var e=this,t=this.state.wsIssueSet.person.wsIssueList,a=[{title:"作品名称",dataIndex:"title",key:"title",width:140},{title:"文档地址",dataIndex:"issueUrl",key:"issueUrl",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["wsIssueList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=(r(h),a(1)),v=s.Form.Item,g=(s.Select.Option,a(6)),y=a(3),S=a(16),E=a(15),C=i.default.createClass({displayName:"CreateWsProjPage",getInitialState:function(){return{wsProjSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,wsProj:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,m.default)("wsProj")],onServiceComplete:function(e){"wsProjList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"projName",desc:"作品名称",required:!0},{id:"projUrl",desc:"开源地址",required:!0},{id:"projDesc",desc:"作品说明",required:!1},{id:"workCont",desc:"参与内容",required:!0}]},clear:function(){this.state.hints={},this.state.wsProj.projName="",this.state.wsProj.projUrl="",this.state.wsProj.projDesc="",this.state.wsProj.workCont=""},initPage:function(e){this.state.hints={},y.copyValue(e,this.state.wsProj),this.setState({btnOpen:!0})},onClickSave:function(){g.formValidator(this,this.state.wsProj)&&(1==this.state.btnOpen?(this.setState({loading:!0}),E.updateWsProj(this.state.wsProj)):this.onClickAdd())},onClickAdd:function(){g.formValidator(this,this.state.wsProj)&&(this.setState({loading:!0}),E.addWsProj(this.state.wsProj))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(v,n({},a,{label:"作品名称",required:!0,colon:!0,className:t,help:r.projNameHint,validateStatus:r.projNameStatus}),i.default.createElement(s.Input,{type:"text",name:"projName",id:"projName",value:this.state.wsProj.projName,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"开源地址",required:!0,
colon:!0,className:t,help:r.projUrlHint,validateStatus:r.projUrlStatus}),i.default.createElement(s.Input,{type:"text",name:"projUrl",id:"projUrl",value:this.state.wsProj.projUrl,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"作品说明",required:!1,colon:!0,className:t,help:r.projDescHint,validateStatus:r.projDescStatus}),i.default.createElement(s.Input,{type:"textarea",name:"projDesc",id:"projDesc",value:this.state.wsProj.projDesc,onChange:this.handleOnChange,style:{height:"140px"}})),i.default.createElement(v,n({},a,{label:"参与内容",required:!0,colon:!0,className:t,help:r.workContHint,validateStatus:r.workContStatus}),i.default.createElement(s.Input,{type:"textarea",name:"workCont",id:"workCont",value:this.state.wsProj.workCont,onChange:this.handleOnChange,style:{height:"100px"}}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["wsProjList/create","wsProjList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(592),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"WsProjPage",getInitialState:function(){return{wsProjSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,wsProjSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delWsProj(e.uuid)},render:function(){var e=this,t=this.state.wsProjSet.person.wsProjList,a=[{title:"作品名称",dataIndex:"projName",key:"projName",width:140},{title:"开源地址",dataIndex:"projUrl",key:"projUrl",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["wsProjList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(13),u=a(7),c=r(u),p=a(9),m=r(p),h=a(12),f=(r(h),a(1)),v=s.Form.Item,g=(s.Select.Option,a(6)),y=a(3),S=a(16),E=a(15),C=i.default.createClass({displayName:"CreateWsThesisPage",getInitialState:function(){return{wsThesisSet:{operation:"",errMsg:""},loading:!1,modal:!1,btnOpen:!1,wsThesis:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,m.default)("wsThesis")],onServiceComplete:function(e){"wsThesisList"!==e.resource||"create"!==e.operation&&"update"!==e.operation||(""===e.errMsg&&(this.state.btnOpen=!1,this.clear()),this.setState({loading:!1}))},componentDidMount:function(){this.clear(),this.state.validRules=[{id:"title",desc:"论文名称",required:!0},{id:"journal",desc:"发表期刊",required:!0},{id:"isbn",desc:"期刊号",required:!1},{id:"honor",desc:"所获奖项",required:!1},{id:"summary",desc:"论文摘要",required:!1},{id:"workCont",desc:"参与内容",required:!0},{id:"thesisUrl",desc:"文档地址",required:!1}]},clear:function(){this.state.hints={},this.state.wsThesis.title="",this.state.wsThesis.journal="",this.state.wsThesis.isbn="",this.state.wsThesis.honor="",this.state.wsThesis.summary="",this.state.wsThesis.workCont="",this.state.wsThesis.thesisUrl=""},initPage:function(e){this.state.hints={},y.copyValue(e,this.state.wsThesis),this.setState({btnOpen:!0})},onClickSave:function(){g.formValidator(this,this.state.wsThesis)&&(1==this.state.btnOpen?(this.setState({loading:!0}),E.updateWsThesis(this.state.wsThesis)):this.onClickAdd())},onClickAdd:function(){g.formValidator(this,this.state.wsThesis)&&(this.setState({loading:!0}),E.addWsThesis(this.state.wsThesis))},onClickBack:function(){d.browserHistory.push({pathname:"/resume2/PreviewPage/"})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r=this.state.hints;return i.default.createElement("div",{className:"resume-form"},i.default.createElement(s.Form,{layout:e},i.default.createElement(v,n({},a,{label:"论文名称",required:!0,colon:!0,className:t,help:r.titleHint,validateStatus:r.titleStatus}),i.default.createElement(s.Input,{type:"text",name:"title",id:"title",value:this.state.wsThesis.title,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"发表期刊",required:!0,colon:!0,className:t,help:r.journalHint,validateStatus:r.journalStatus}),i.default.createElement(s.Input,{type:"text",name:"journal",id:"journal",value:this.state.wsThesis.journal,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"期刊号",required:!1,colon:!0,className:t,help:r.isbnHint,validateStatus:r.isbnStatus}),i.default.createElement(s.Input,{type:"text",name:"isbn",id:"isbn",value:this.state.wsThesis.isbn,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"所获奖项",required:!1,colon:!0,className:t,help:r.honorHint,validateStatus:r.honorStatus}),i.default.createElement(s.Input,{type:"text",name:"honor",id:"honor",value:this.state.wsThesis.honor,onChange:this.handleOnChange})),i.default.createElement(v,n({},a,{label:"论文摘要",required:!1,colon:!0,className:t,help:r.summaryHint,validateStatus:r.summaryStatus}),i.default.createElement(s.Input,{type:"textarea",name:"summary",id:"summary",value:this.state.wsThesis.summary,onChange:this.handleOnChange,style:{height:"140px"}})),i.default.createElement(v,n({},a,{label:"参与内容",required:!0,colon:!0,className:t,help:r.workContHint,validateStatus:r.workContStatus}),i.default.createElement(s.Input,{type:"textarea",name:"workCont",id:"workCont",value:this.state.wsThesis.workCont,onChange:this.handleOnChange,style:{height:"100px"}})),i.default.createElement(v,n({},a,{label:"文档地址",required:!1,colon:!0,className:t,help:r.thesisUrlHint,validateStatus:r.thesisUrlStatus}),i.default.createElement(s.Input,{type:"text",name:"thesisUrl",id:"thesisUrl",value:this.state.wsThesis.thesisUrl,onChange:this.handleOnChange}))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(c.default,{ref:"mxgBox",svcList:["wsThesisList/create","wsThesisList/update"]}),i.default.createElement(s.Button,{key:"btnUpdate",type:"primary",size:"large",onClick:this.onClickAdd,loading:this.state.loading},"新增")," ",i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.btnOpen,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnBack",size:"large",onClick:this.onClickBack},"返回")))}});t.default=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(20)),d=r(s),u=a(4),c=a(7),p=r(c),m=a(594),h=r(m),f=a(1),v=a(6),g=a(16),y=a(15),S=l.default.createClass({displayName:"WsThesisPage",getInitialState:function(){return{wsThesisSet:{person:{},resumeID:"",operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,wsThesisSet:e})},componentDidMount:function(){var e=d.default.resumeApp;if(this.setState({loading:!0}),e.id)y.getResumeByID(e.id);else{var t=window.loginData.authUser.userId;y.getResumeByIdCode(t)}},onClickUpdate:function(e,t){null!=e&&"undefined"!=typeof this.refs.createWindow&&this.refs.createWindow.initPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的记录 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.delWsThesis(e.uuid)},render:function(){var e=this,t=this.state.wsThesisSet.person.wsThesisList,a=[{title:"论文名称",dataIndex:"title",key:"title",width:140},{title:"发表期刊",dataIndex:"journal",key:"journal",width:140},{title:"",key:"action",width:80,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];return l.default.createElement("div",{className:"resume-page"},l.default.createElement(p.default,{ref:"mxgBox",svcList:["wsThesisList/remove"]}),l.default.createElement("div",{className:"resume-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",pagination:!1,bordered:v.tableBorder})),l.default.createElement(h.default,{ref:"createWindow"}))}});e.exports=S},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(33),o=r(i),s=a(6),d=l.default.createClass({displayName:"AvtLayout",getInitialState:function(){return{navItems:[{name:"个人信息",to:"/avt/hr/PersonInfoPage/"},{name:"查询",to:"/avt/check/CheckQueryPage/"},{name:"申请",to:"/avt/flow/LeavePage/"},{name:"项目",to:"/avt/proj/ProjInfoPage/"},{name:"简历",to:"/avt/resume/ResumePage/"},{name:"工作日报",to:"/avt/proj/DailyWorkPage/"},{name:"申批",to:"/avt/flow/TodoFlowPage/"}]}},render:function(){return l.default.createElement(o.default,{navItems:this.state.navItems,activeNode:s.avtHome,home:"@/index.html?from=avt",children:this.props.children})}});e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(7)),s=r(o),d=a(9),u=r(d),c=a(4),p=a(1),m=(a(6),a(3),c.Radio.Group),h=c.Radio.Button,f=(c.DatePicker.MonthPicker,c.Form.Item,a(978)),v=a(632),g=a(114),y=a(84),S=[],E=l.default.createClass({displayName:"CheckQueryPage",getInitialState:function(){return{checkQuerySet:{checkQuery:{},operation:"",errMsg:""},loading:!1,noneDate:!1,year:"",month:"",monthTime:"",date:[31,28,31,30,31,30,31,31,30,31,30,31],table:[],holidayMap:{},filter:{}}},mixins:[p.listenTo(f,"onServiceComplete"),p.listenTo(g,"onServiceComplete1"),(0,u.default)("user-chk-book")],onServiceComplete:function(e){var t=this.state.date,a=this.state.year;if(t[1]=a%4!=0||a%100==0&&a%400!=0?28:29,"retrieve"===e.operation&&""===e.errMsg){this.setState({loading:!0,noneDate:!1,checkQuerySet:e});var a=this.state.year;y.initHoliday(a)}else this.setState({noneDate:!0})},onServiceComplete1:function(e){var t={};0!=e.recordSet.length&&e.recordSet.map(function(e,a){t[e.date]=e.flag}),this.createTable(t),this.setState({loading:!1,holidayMap:t})},componentDidMount:function(){var e={},t=S[0],a=t.substr(0,4),r=t.substr(4,1);if(1==r)var n=t.substr(4,2);else if(0==r)var n=t.substr(5,1);e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,e.fromDate=t+"01",e.toDate=t+"31",v.retrieveCheckQuery(e),this.setState({loading:!0,filter:e,year:a,month:n,monthTime:t})},onChangeView:function(e){var t={},a=e.target.value,r=a.substr(0,4),n=a.substr(4,1);if(1==n)var l=a.substr(4,2);else if(0==n)var l=a.substr(5,1);t.corpUuid=window.loginData.compUser.corpUuid,t.staffCode=window.loginData.compUser.userCode,t.fromDate=a+"01",t.toDate=a+"31",v.initCheckQuery(t),this.setState({loading:!0,filter:t,year:r,month:l,monthTime:a})},createTable:function(e){var t=this.state.checkQuerySet.checkQuery,a=this.state.date,r=this.state.year,n=parseInt(this.state.month),i=[],o=t.list,s={};o.sort(function(e,t){return parseInt(e.chkDate.replace(/-/g,""),10)-parseInt(t.chkDate.replace(/-/g,""),10)});for(var d=0;d<o.length;d++){var u=o[d].chkDate;if(8==u.length)var c=u.substr(4,2)+u.substr(6,2);else if(10==u.length)var c=u.substr(5,2)+u.substr(8,2);if(s[c]){var p=o[d];s[c].push(p)}else s[c]=[o[d]]}if(null!=n){var m=n-1;a=a[m]}for(var h=0===this.weekFunc(r,n,1)?7:this.weekFunc(r,n,1),f=Math.ceil((a+h-1)/7),p=[],v=0;v<f;v++){for(var g=[],y=1;y<8;y++){var S="",E=7*v+y-h+1;if(E>a||E<1)S=l.default.createElement("td",{style:{textAlign:"left",border:"1px solid #ccc",margin:"0 4px 4px 4px"}});else{var C="",b="",w=""+(n>9?n:"0"+n)+(E>9?E:"0"+E),k=e[w];"1"===k?C="red":"2"===k&&(C="rgb(255, 187, 0)",b="1px solid rgb(255, 187, 0)");var x=s[w],D=[];"undefined"!=typeof x&&x.map(function(e,t){var a=l.default.createElement("div",{style:{width:"100%"}},l.default.createElement("div",null,e.projName),l.default.createElement("div",null," ",null==e.checkIn&&null==e.checkOut?" ()":"("+(null==e.checkIn?"":e.checkIn)+"~"+(null==e.checkOut?"":e.checkOut)+")")),r=null,n=null;e.workHour&&"0"!==e.workHour&&(n=l.default.createElement("span",null,"工时 (",e.workHour,")"),r="；");var i=null;e.leaveHour&&"0"!==e.leaveHour&&(i=l.default.createElement("span",{style:{color:"blue"}},r,e.leaveType," (",e.leaveHour,")"),r="；");var o=null;e.overHour&&"0"!==e.overHour&&(o=l.default.createElement("span",{style:{color:"red"}},r,"加班 (",e.overHour,")"),r="；"),D.push(l.default.createElement("p",{style:{paddingTop:"8px",paddingRight:"8px",width:"100%",color:"rgba(0,0,0,.65)"}},a,n,i,o))}),S=l.default.createElement("td",{key:w,style:{position:"relative",color:C,border:"1px solid #ccc"}},l.default.createElement("span",{style:{position:"absolute",top:"2px",left:"4px",width:"20px",height:"20px"}},l.default.createElement("p",{style:{color:C,border:b}},E)),l.default.createElement("div",{style:{maxHeight:"100px",overflow:"hidden",margin:"-10px 6px -10px 6px"}},D))}g.push(S)}p.push(l.default.createElement("tr",{key:v,style:{height:"50px"}},g))}i.push(l.default.createElement("div",{style:{margin:"0 20px 0 0",float:"left",width:"100%",height:"500px"}},l.default.createElement("table",{style:{width:"100%",height:"500px"}},l.default.createElement("tbody",null,l.default.createElement("tr",{key:"row.0",style:{height:"30px"}},l.default.createElement("td",{key:"1",style:{width:"14.28%",textAlign:"center",border:"1px solid #ccc"}},"一"),l.default.createElement("td",{key:"2",style:{width:"14.28%",textAlign:"center",border:"1px solid #ccc"}},"二"),l.default.createElement("td",{key:"3",style:{width:"14.28%",textAlign:"center",border:"1px solid #ccc"}},"三"),l.default.createElement("td",{key:"4",style:{width:"14.28%",textAlign:"center",border:"1px solid #ccc"}},"四"),l.default.createElement("td",{key:"5",style:{width:"14.28%",textAlign:"center",border:"1px solid #ccc"}},"五"),l.default.createElement("td",{key:"6",style:{width:"14.28%",textAlign:"center",border:"1px solid #ccc"}},"六"),l.default.createElement("td",{key:"7",style:{width:"14.28%",textAlign:"center",border:"1px solid #ccc"}},"日")),p)))),this.setState({table:i})},weekFunc:function(e,t,a){var r=e%100,n=Math.ceil(e/100)-1,l=t;t<3&&(l+=12,r=(e-1)%100,n=Math.ceil((e-1)/100)-1);var i=(r+Math.floor(r/4)+Math.floor(n/4)-2*n+Math.floor(26*(l+1)/10)+a-1)%7;return i<0&&(i+=7),i},render:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0"+a);for(var r=0;r<=5;r++){var n,i,o=a-r;o<1?(n=t-1,i=12+o):(n=t-Math.floor(o/12),i=o%12);var d=n+""+(i>=10?i:"0"+i);S.push(d)}var u=this.state.noneDate?null:l.default.createElement(c.Spin,null,this.state.table);return l.default.createElement("div",{className:"grid-page",style:{width:"100%",padding:"20px 32px 20px 28px",overflowY:"scroll"}},l.default.createElement(s.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve_p"]}),l.default.createElement(m,{value:this.state.monthTime,onChange:this.onChangeView},l.default.createElement(h,{value:S[5]},S[5]),l.default.createElement(h,{value:S[4]},S[4]),l.default.createElement(h,{value:S[3]},S[3]),l.default.createElement(h,{value:S[2]},S[2]),l.default.createElement(h,{value:S[1]},S[1]),l.default.createElement(h,{value:S[0]},S[0])),l.default.createElement("div",{style:{marginTop:"20px",width:"100%"}},this.state.loading?u:this.state.table))}});e.exports=E},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveCheckQuery","initCheckQuery"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveCheckLog","initCheckLog"]);e.exports=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1),p=a(6),m=(a(3),a(981)),h=a(635),f=10,v=[],g=l.default.createClass({displayName:"LeaveQueryPage",getInitialState:function(){return{leaveQuerySet:{recordSet:[],croupUuid:"",startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[c.listenTo(m,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,leaveQuerySet:e})},componentDidMount:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid,t=window.loginData.compUser.userCode;h.initLeaveQueryInfo(e,t,v[5],v[0])},handleQueryClick:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid,t=window.loginData.compUser.userCode;h.retrieveLeaveQueryPage(e,t,v[5],v[0],this.state.leaveQuerySet.startPage,f)},onChangePage:function(e){this.state.leaveQuerySet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){f=t,this.handleQueryClick()},render:function(){var e=this.state.leaveQuerySet.recordSet,t=[{title:"假期类型",dataIndex:"leaveType",key:"leaveType",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return p.formatDate(e,p.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return p.formatDate(e,p.dateFormat)}},{title:"实修天数",dataIndex:"spend",key:"spend",width:140},{title:"申请日期",dataIndex:"applyDay",key:"applyDay",width:140,render:function(e,t){return p.formatDate(e,p.dateFormat)}}],a=new Date,r=a.getFullYear(),n=a.getMonth()+1,i=a.getDate();n<10&&(n="0"+n),i<10&&(i="0"+i);for(var o=0;o<=5;o++){var d,c,m=n-o;m<1?(d=r-1,c=12+m):(d=r-Math.floor(m/12),c=m%12);var h=d+""+(c>=10?c:"0"+c)+i;v.push(h)}var f={showQuickJumper:!0,total:this.state.leaveQuerySet.totalRow,pageSize:this.state.leaveQuerySet.pageRow,current:this.state.leaveQuerySet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},g=p.getGridMargin(this,0);return l.default.createElement("div",{className:"grid-page",style:{padding:g.padding}},l.default.createElement("div",{style:{margin:g.margin}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-leaveLog/retrieve"]})),l.default.createElement("div",{className:"grid-body",style:{padding:"24px 20px 8px 20px"}},l.default.createElement(s.Table,{columns:t,dataSource:e,pagination:f,expandedRowRender:function(e){return l.default.createElement("p",null,e.reason||"空")},rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",bordered:p.tableBorder})))}});e.exports=g},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createLeaveQueryInfo","deleteLeaveQueryInfo","updateLeaveQueryInfo","retrieveLeaveQueryInfo","retrieveLeaveQueryPage","initLeaveQueryInfo","searchLeaveQueryInfo"]);e.exports=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1),p=a(6),m=a(3),h=a(983),f=a(638),v=10,g=[],y=l.default.createClass({displayName:"LeaveLogDetailPage",getInitialState:function(){return{leavelogdetailSet:{recordSet:[],croupUuid:"",startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,userUuid:""}},mixins:[c.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,leavelogdetailSet:e})},componentDidMount:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid,t=window.loginData.compUser.userCode;f.initLeaveLogDetailInfo(e,t,g[5],g[0])},handleQueryClick:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid,t=window.loginData.compUser.userCode;f.retrieveLeaveLogDetailPage(e,t,g[5],g[0],this.state.leavelogdetailSet.startPage,v)},onChangePage:function(e){this.state.leavelogdetailSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){v=t,this.handleQueryClick()},render:function(){var e=this,t=this.state.leavelogdetailSet.recordSet,a=[{title:"假期类型",dataIndex:"leaveType",key:"leaveType",width:140,render:function(t,a){return m.getOptionName("HR系统","假期类型",a.leaveType,!1,e)}},{title:"应记天数",dataIndex:"accrued",key:"accrued",width:140},{title:"已修天数",dataIndex:"spend",key:"spend",width:140},{title:"剩余天数",dataIndex:"remnant",key:"remnant",width:140},{title:"补偿天数",dataIndex:"replacement",key:"replacement",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return p.formatDate(e,p.dateFormat)}},{title:"失效日期",dataIndex:"expiryDate",key:"expiryDate",width:140,render:function(e,t){return p.formatDate(e,p.dateFormat)}}],r=new Date,n=r.getFullYear(),i=r.getMonth()+1,o=r.getDate();i<10&&(i="0"+i),o<10&&(o="0"+o);for(var d=0;d<=5;d++){var c,h,f=i-d;f<1?(c=n-1,h=12+f):(c=n-Math.floor(f/12),h=f%12);var v=c+""+(h>=10?h:"0"+h)+o;g.push(v)}var y={showQuickJumper:!0,total:this.state.leavelogdetailSet.totalRow,pageSize:this.state.leavelogdetailSet.pageRow,current:this.state.leavelogdetailSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},S=p.getGridMargin(this);return l.default.createElement("div",{className:"grid-page",style:{padding:S.padding,height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{margin:S.margin}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-leave/retrieve"]})),l.default.createElement("div",{style:{padding:"24px 20px 16px 20px"}},l.default.createElement(s.Table,{columns:a,dataSource:t,pagination:y,rowKey:function(e){return e.uuid},loading:this.state.loading,size:"middle",bordered:p.tableBorder})))}});e.exports=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(9)),u=(r(d),a(4)),c=a(7),p=r(c),m=a(1),h=u.Form.Item,f=u.Input.Group,v=(a(6),a(3),a(412)),g=a(312),y=i.default.createClass({displayName:"LeaveLogPerPage",getInitialState:function(){return{leavelogperSet:{leavelogper:{},startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,leave:{}}},mixins:[m.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&this.setState({loading:!1,leavelogperSet:e})},componentDidMount:function(){if(window.loginData.compUser){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid,t=window.loginData.compUser.userCode;g.initLeaveLogPerInfo(e,t)}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.leavelogperSet.leavelogper,o=l.annual?l.annual:"",s=o.indexOf(".");s>0?(l.annual_1=o.substr(0,s),l.annual_2=o.substr(s+1)):(l.annual_1=o,l.annual_2="0");var d=l.dayoff?l.dayoff:"",s=d.indexOf(".");s>0?(l.dayoff_1=d.substr(0,s),l.dayoff_2=d.substr(s+1)):(l.dayoff_1=d,l.dayoff_2="0");var c=(this.state.leavelogperSet.leavelogper,this.state.leavelogperSet.leavelogper,this.state.hints,i.default.createElement(u.Form,{layout:e,style:{width:"700px"}},i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(h,n({},a,{className:t,label:"员工姓名"}),i.default.createElement(u.Input,{type:"text",name:"perName",id:"perName",value:this.state.leavelogperSet.leavelogper.perName,readOnly:!0}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(h,n({},a,{className:t,label:"员工编号"}),i.default.createElement(u.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.leavelogperSet.leavelogper.staffCode,readOnly:!0})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"24"},i.default.createElement(h,n({},r,{className:t,label:"公司地点"}),i.default.createElement(u.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.leavelogperSet.leavelogper.baseCity,readOnly:!0})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"24"},i.default.createElement(h,n({},r,{className:t,label:"任职部门"}),i.default.createElement(u.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.leavelogperSet.leavelogper.deptName,readOnly:!0})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{className:"gutter-row",span:12},i.default.createElement(h,n({},a,{label:"年假",required:!1,colon:!0,className:t}),i.default.createElement(u.Col,{className:"gutter-row",span:11},i.default.createElement(f,{compact:!0},i.default.createElement(u.Input,{style:{width:"70%"},type:"text",name:"annual_1",id:"annual_1",value:l.annual_1,readOnly:!0}),i.default.createElement(u.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0}))),i.default.createElement(u.Col,{span:2}),i.default.createElement(u.Col,{className:"gutter-row",span:11},i.default.createElement(f,{compact:!0},i.default.createElement(u.Input,{style:{width:"60%"},type:"text",name:"annual_2",id:"annual_2",value:l.annual_2,readOnly:!0}),i.default.createElement(u.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0}))))),i.default.createElement(u.Col,{className:"gutter-row",span:12},i.default.createElement(h,n({},a,{label:"调休",required:!1,colon:!0,className:t}),i.default.createElement(u.Col,{className:"gutter-row",span:11},i.default.createElement(f,{compact:!0},i.default.createElement(u.Input,{style:{width:"70%"},type:"text",name:"dayoff_1",id:"dayoff_1",value:l.dayoff_1,readOnly:!0}),i.default.createElement(u.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0}))),i.default.createElement(u.Col,{span:2}),i.default.createElement(u.Col,{className:"gutter-row",span:11},i.default.createElement(f,{compact:!0},i.default.createElement(u.Input,{style:{width:"60%"},type:"text",name:"dayoff_2",id:"dayoff_2",value:l.dayoff_2,readOnly:!0}),i.default.createElement(u.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0})))))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(h,n({},a,{className:t,label:"婚假"}),i.default.createElement(u.Input,{type:"text",name:"wedding",id:"wedding",value:this.state.leavelogperSet.leavelogper.wedding,readOnly:!0}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(h,n({},a,{className:t,label:"产假"}),i.default.createElement(u.Input,{type:"text",name:"maternity",id:"maternity",value:this.state.leavelogperSet.leavelogper.maternity,readOnly:!0})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(h,n({},a,{className:t,label:"陪护假"}),i.default.createElement(u.Input,{type:"text",name:"paternity",id:"paternity",value:this.state.leavelogperSet.leavelogper.paternity,readOnly:!0}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(h,n({},a,{className:t,label:"探亲假"}),i.default.createElement(u.Input,{type:"text",name:"family",id:"family",value:this.state.leavelogperSet.leavelogper.family,readOnly:!0})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(h,n({},a,{className:t,label:"丧假"}),i.default.createElement(u.Input,{type:"text",name:"funeral",id:"funeral",value:this.state.leavelogperSet.leavelogper.funeral,readOnly:!0}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(h,n({},a,{className:t,label:"带薪假"}),i.default.createElement(u.Input,{type:"text",name:"paidLeave",id:"paidLeave",value:this.state.leavelogperSet.leavelogper.paidLeave,readOnly:!0})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(h,n({},a,{className:t,label:"其他假"}),i.default.createElement(u.Input,{type:"text",name:"otherLeave",id:"otherLeave",value:this.state.leavelogperSet.leavelogper.otherLeave,readOnly:!0}))))));return i.default.createElement("div",{style:{padding:"24px 0 16px 20px",height:"100%",overflowY:"auto"}},i.default.createElement(p.default,{ref:"mxgBox",svcList:["hr-leave/retrieve"]}),this.state.loading?i.default.createElement(u.Spin,null,c):c)}});e.exports=y},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createLeaveLogDetailInfo","deleteLeaveLogDetailInfo","updateLeaveLogDetailInfo","retrieveLeaveLogDetailInfo","retrieveLeaveLogDetailPage","initLeaveLogDetailInfo"]);e.exports=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=r(n),i=a(5),o=(r(i),a(4)),s=a(1),d=o.Select.Option,u=a(1005),c=a(642),p=l.default.createClass({displayName:"SelectFlow",getInitialState:function(){return{flowSet:{recordSet:[],errMsg:""},loading:!1,corpUuid:""}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,flowSet:e})},componentDidMount:function(){this.loadData(this.props.corpUuid)},componentWillReceiveProps:function(e){e.corpUuid!==this.state.corpUuid&&this.loadData(e.corpUuid)},loadData:function(e){if(this.state.flowSet={recordSet:[]},null===e||void 0===e||""===e)return void this.setState({loading:!1,corpUuid:""});this.setState({loading:!0,corpUuid:e});var t={};t.corpUuid=e,c.initFlow(t)},render:function(){var e=this.state.flowSet.recordSet,t=l.default.createElement(o.Select,this.props,l.default.createElement(d,{key:"-",value:""},"--"),e.map(function(e){return l.default.createElement(d,{key:e.uuid,value:e.uuid},e.flowName)}));return this.state.loading?l.default.createElement(o.Spin,null,t):t}});t.default=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),p=r(c),m=a(639),h=r(m),f=a(1001),v=r(f),g=a(1),y=a(6),S=(a(3),a(643)),E=a(415),C=l.default.createClass({displayName:"TodoFlowPage",getInitialState:function(){return{flowSet:{recordSet:[],operation:"",errMsg:""},loading:!1,obj:{},action:"query",filterValue:""}},mixins:[g.listenTo(S,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,flowSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=this.getPastSixtyDay(),a=y.getToday(),r={};
r.nextUserStaffCode=window.loginData.compUser.userCode,r.corpUuid=window.loginData.compUser.corpUuid,r.applyDate1=t,r.applyDate2=a,r.flowUuid=this.state.filterValue,E.retrieveChkFlowPage(r)},componentDidMount:function(){var e=this.getPastSixtyDay(),t=y.getToday(),a={};a.nextUserStaffCode=window.loginData.compUser.userCode,a.corpUuid=window.loginData.compUser.corpUuid,a.applyDate1=e,a.applyDate2=t,this.setState({loading:!0}),E.initChkFlow(a)},getPastSixtyDay:function(){var e=(new Date).getTime(),t=5184e6,a=e-t,r=new Date(a),n=r.getFullYear(),l=r.getMonth()+1,i=r.getDate();return 1e4*n+100*l+i},onGoBack:function(){this.setState({action:"query"})},onClickFlow:function(e){this.setState({action:"chk",obj:e})},handleOnSelectedFlow:function(e){this.state.filterValue=e,this.handleQueryClick()},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=this.state.flowSet.recordSet,r=[{title:"流程名称",dataIndex:"flowName",key:"flowName",width:140},{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"申请人",dataIndex:"applyName",key:"applyName",width:140},{title:"申请日期",dataIndex:"applyDate",key:"applyDate",width:140,render:function(e,t){return y.formatDate(e,y.dateFormat)}},{title:"催办日期",dataIndex:"remindDate",key:"remindDate",width:140,render:function(e,t){return y.formatDate(e,y.dateFormat)}},{title:"更多操作",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickFlow.bind(e,a)},l.default.createElement(u.Icon,{type:"bars"})))}}],n=null,i=y.getGridMargin(this),o="query"===this.state.action?"":"none",s=l.default.createElement("div",{className:"grid-page",style:{padding:i.padding,display:o}},l.default.createElement("div",{style:{margin:i.margin}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["chk-flow/findThree"]}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(u.Button,{icon:y.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),l.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},l.default.createElement(h.default,{placeholder:"选择",style:{textAlign:"left",width:y.searchWidth},corpUuid:t,value:this.state.filterValue,onSelect:this.handleOnSelectedFlow})))),l.default.createElement("div",{className:"grid-body"},l.default.createElement(u.Table,{columns:r,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,expandedRowRender:function(e){return l.default.createElement("div",null,l.default.createElement("p",null,e.eventDesc))},pagination:!1,size:"middle",bordered:y.tableBorder})));return"chk"===this.state.action&&(n=l.default.createElement(v.default,{onBack:this.onGoBack,obj:this.state.obj})),l.default.createElement("div",null,s,n)}});e.exports=C},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveChkFlow","retrieveChkFlowPage","initChkFlow"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveFlow","initFlow"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=a(415),l=a(3),i=a(11),o=r.createStore({listenables:[n],checkObj:{},filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.flowUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,checkObj:a.checkObj,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("chk-flow",e,t)},onRetrieveChkFlow:function(e){var t=this,a=this.getServiceUrl("chk-flow/findThree");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("findThree","",t)):t.fireEvent("findThree","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("findThree","调用服务错误",t)})},onRetrieveChkFlowPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveChkFlow(e)},onInitChkFlow:function(e,t,a){return this.recordSet.length>0&&l.compareTo(this.filter,e)&&this.startPage===t&&this.pageRow===a?void this.fireEvent("findThree","",this):(this.startPage=t,this.pageRow=a,void this.onRetrieveChkFlowPage(e,t,a))},onCreateChkFlow:function(e){var t=this,a=this.getServiceUrl("chk-flow/check");l.doCreateService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?e.object?(t.checkObj=e.object,t.fireEvent("check","",t)):t.fireEvent("check","没有找到记录["+e.object.list.length+"]",t):t.fireEvent("check","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("check","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=a(416),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],allowLog:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,allowLog:a.allowLog,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("hr-allow-log",e,t)},onRetrieveHrAllowLog:function(e){var t=this,a=this.getServiceUrl("hr-allow-log/retrieve_p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object.list.length>0?(t.recordSet=a.object.list,t.allowLog=a.object.list[0],t.filter=e,t.fireEvent("retrieve_p","",t)):t.fireEvent("retrieve_p","没有找到记录["+a.object.list.length+"]",t):t.fireEvent("retrieve_p","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve_p","调用服务错误",t)})},onRetrieveHrAllowLogPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrAllowLog(e)},onInitHrAllowLog:function(e){return this.allowLog.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve_p","",this):void this.onRetrieveHrAllowLog(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["initHrBenefits","retrieveHrBenefits","retrieveTableBenefits"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrContract","deleteHrContract","updateHrContract","retrieveHrContract","retrieveHrContractPage","initHrContract","retrieveEmpContract","getCacheData","retrieveDetailContract"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["initHrDevice","retrieveHrDevice"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["initHrEmpJob","retrieveHrEmpJob","retrieveDetailEmpJob"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["initHrEmpSalary","retrieveHrEmpSalary","retrieveTableEmpSalary"]);e.exports=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(4),m=a(12),h=(r(m),a(19)),f=r(h),v=a(1),g=a(6),y=a(3),S=p.Form.Item,E=(p.Select.Option,p.Input.Group),C=a(1025),b=a(651),w=i.default.createClass({displayName:"PersonInfoPage",getInitialState:function(){return{employeeSet:{employee:{},operation:"",errMsg:""},loading:!1}},mixins:[v.listenTo(C,"onServiceComplete"),(0,c.default)("employee")],onServiceComplete:function(e){"retrieve-p"===e.operation&&this.setState({loading:!1,employeeSet:e})},componentDidMount:function(){this.initPage()},initPage:function(){if(window.loginData.compUser){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,b.initHrEmployee(e)}},getDisplayValue:function(e){var t=e,a="";if(void 0!==t&&null!==t){var r=t.indexOf(".");r>0&&(a=t.substr(r+1),t=t.substr(0,r),a=""+parseInt(a),t=""+parseInt(t),"0"===a&&(a=""),"0"===t&&(t=""))}return{y:t,m:a}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:5},wrapperCol:"vertical"==e?null:{span:19}},r={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},l=(this.state.employeeSet.employee,this.state.employeeSet.employee),o=this.getDisplayValue(l.workYears),s=this.getDisplayValue(l.induYears),u=(this.state.hints,i.default.createElement(p.Form,{layout:e,style:{width:"700px"}},i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"11"},i.default.createElement(S,n({},a,{className:t,label:"证件类型"}),i.default.createElement(p.Input,{type:"text",name:"idType",id:"idType",value:y.getOptionName("简历系统","证件类型",this.state.employeeSet.employee.idType,!0,this),readOnly:!0}))),i.default.createElement(p.Col,{span:"13"},i.default.createElement(S,n({},r,{className:t,label:"证件编号"}),i.default.createElement(p.Input,{type:"text",name:"idCode",id:"idCode",value:this.state.employeeSet.employee.idCode,readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"11"},i.default.createElement(S,n({},a,{className:t,label:"姓名"}),i.default.createElement(p.Input,{type:"text",name:"perName",id:"perName",value:this.state.employeeSet.employee.perName,readOnly:!0}))),i.default.createElement(p.Col,{span:"13"},i.default.createElement(S,n({},r,{className:t,label:"员工编号"}),i.default.createElement(p.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.employeeSet.employee.staffCode,readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"11"},i.default.createElement(S,n({},a,{className:t,label:"职位"}),i.default.createElement(p.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.employeeSet.employee.jobTitle,readOnly:!0}))),i.default.createElement(p.Col,{span:"13"},i.default.createElement(S,n({},r,{className:t,label:"入职时间"}),i.default.createElement(p.Input,{type:"text",name:"entryDate",id:"entryDate",value:g.formatDate(this.state.employeeSet.employee.entryDate,g.dateFormat),readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"11"},i.default.createElement(S,n({},a,{className:t,label:"电话"}),i.default.createElement(p.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.employeeSet.employee.phoneno,readOnly:!0}))),i.default.createElement(p.Col,{span:"13"},i.default.createElement(S,n({},r,{className:t,label:"电子邮箱"}),i.default.createElement(p.Input,{type:"text",name:"email",id:"email",value:this.state.employeeSet.employee.email,readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"11"},i.default.createElement(S,n({},a,{className:t,label:"最高学历"}),i.default.createElement(p.Input,{type:"text",name:"idType",id:"idType",value:y.getOptionName("简历系统","教育背景",this.state.employeeSet.employee.eduDegree,!0,this),readOnly:!0}))),i.default.createElement(p.Col,{span:"13"},i.default.createElement(S,n({},r,{className:t,label:"毕业院校"}),i.default.createElement(p.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.employeeSet.employee.eduCollege,readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"11"},i.default.createElement(S,n({},a,{className:t,label:"工作年限"}),i.default.createElement(p.Col,{span:"11"},i.default.createElement(E,{compact:!0},i.default.createElement(p.Input,{style:{width:"70%"},type:"text",name:"workYears_1",id:"workYears_1",value:o.y,readOnly:!0}),i.default.createElement(p.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),i.default.createElement(p.Col,{span:"2"}),i.default.createElement(p.Col,{span:"11"},i.default.createElement(E,{compact:!0},i.default.createElement(p.Input,{style:{width:"70%"},type:"text",name:"workYears_2",id:"workYears_2",value:o.m,readOnly:!0}),i.default.createElement(p.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0}))))),i.default.createElement(p.Col,{span:"13"},i.default.createElement(S,n({},r,{className:t,label:"行业经验"}),i.default.createElement(p.Col,{span:"11"},i.default.createElement(E,{compact:!0},i.default.createElement(p.Input,{style:{width:"70%"},type:"text",name:"induYears_1",id:"induYears_1",value:s.y,readOnly:!0}),i.default.createElement(p.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),i.default.createElement(p.Col,{span:"2"}),i.default.createElement(p.Col,{span:"11"},i.default.createElement(E,{compact:!0},i.default.createElement(p.Input,{style:{width:"70%"},type:"text",name:"induYears_2",id:"induYears_2",value:s.m,readOnly:!0}),i.default.createElement(p.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0})))))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"11"},i.default.createElement(S,n({},a,{className:t,label:"归属地"}),i.default.createElement(p.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.employeeSet.employee.baseCity,readOnly:!0}))),i.default.createElement(p.Col,{span:"13"},i.default.createElement(S,n({},r,{className:t,label:"状态"}),i.default.createElement(f.default,{name:"status",id:"status",value:this.state.employeeSet.employee.status,appName:"HR系统",optName:"员工状态"}))))));return i.default.createElement("div",{style:{padding:"24px 0 16px 20px",height:"100%",overflowY:"auto"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["hr-employee/retrieve-p"]}),this.state.loading?i.default.createElement(p.Spin,null,u):u)}});e.exports=w},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrEmployee","deleteHrEmployee","updateHrEmployee","retrieveHrEmployee","retrieveHrEmployeePage","initHrEmployee"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=a(417),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:"",recordSet:[],salaryLog:{},salaryLogHtml:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({recordSet:a.recordSet,filter:a.filter,salaryLog:a.salaryLog,startPage:a.startPage,salaryLogHtml:a.salaryLogHtml,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("hr-salary-log",e,t)},onRetrieveHrSalaryLog:function(e){var t=this,a=this.getServiceUrl("hr-salary-log/retrieve_p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object.list.length>0?(t.recordSet=a.object.list,t.salaryLog=a.object.list[0],t.filter=e,t.fireEvent("retrieve_p","",t)):t.fireEvent("retrieve_p","没有找到记录["+a.object.list.length+"]",t):t.fireEvent("retrieve_p","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve_p","调用服务错误",t)})},onRetrieveHtmlSalaryLog:function(e){var t=this,a=this.getServiceUrl("hr-salary-log/retrieve_p2");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?null!=a.object?(t.salaryLogHtml=a.object,t.filter=e,t.fireEvent("retrieve_p2","",t)):t.fireEvent("retrieve_p2","没有找到记录["+a.object+"]",t):t.fireEvent("retrieve_p2","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve_p2","调用服务错误",t)})},onInitHrSalaryLog:function(e){return this.salaryLog.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve_p","",this):void this.onRetrieveHrSalaryLog(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createHrWorkLog","deleteHrWorkLog","updateHrWorkLog","retrieveHrWorkLog","retrieveHrWorkLogPage","initHrWorkLog","retrieveEmpWorkLog","getCacheData","retrieveDetailWorkLog"]);e.exports=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(1),u=s.Select.Option,c=(a(6),a(314)),p=a(249),m=i.default.createClass({displayName:"OrdNameSelect",getInitialState:function(){return{projInfoTableSet:{recordSet:[],errMsg:""},loading:!1,projUuid:""}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){"user-task"===e.operation&&(this.state.projInfoTableSet=e,this.setState({loading:!1}))},getOrdNameNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.projInfoTableSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},componentWillReceiveProps:function(e){if(e.projUuid!==this.state.projUuid){this.state.projInfoSet={recordSet:[],errMsg:""};var t=window.loginData.compUser,a=null===t?"":t.corpUuid;if(a){this.state.projUuid=e.projUuid,this.setState({loading:!0});var r={};r.staffCode=window.loginData.compUser.userCode,r.corpUuid=a,r.projUuid=e.projUuid,p.retrieveProjMember(r)}}},render:function(){var e,t=this.props,a=t.required,r=(n(t,["required"]),this.state.projInfoTableSet.recordSet);return e=a?i.default.createElement(s.Select,this.props,r.map(function(e,t){return i.default.createElement(u,{key:e.uuid,value:e.uuid},e.ordName)})):i.default.createElement(s.Select,this.props,i.default.createElement(u,{value:""},"--"),r.map(function(e,t){return i.default.createElement(u,{key:e.uuid,value:e.uuid},e.ordName)})),this.state.loading?i.default.createElement(s.Spin,null,e):e}});t.default=m},function(e,t,a){"use strict";var r=a(1),n=a(418),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},projTaskfilter:{},recordSet:[],checkList:[],projList:[],taskList:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,checkList:a.checkList,projList:a.projList,taskList:a.taskList,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("work_daily",e,t)},onRetrieveProjTask:function(e){var t=this,a=this.getServiceUrl("work_daily/proj-task");l.doGetRecordService(a,e).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object?(t.checkList=a.object.checkList,t.projList=a.object.projList,t.taskList=a.object.taskList,t.projTaskfilter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","没有找到记录["+a.object+"]",t):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProjTask:function(e){return l.compareTo(this.projTaskfilter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTask(e)},onRetrieveWorkDaily:function(e){var t=this,a=this.getServiceUrl("work_daily/retrieve2");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object?(t.recordSet=a.object.list,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","没有找到记录["+a.object+"]",t):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitWorkDaily:function(e){return this.recordSet.length>0&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveWorkDaily(e)},onCreateWorkDaily:function(e){var t=this.getServiceUrl("work_daily/create");l.recordCreate(this,e,t)},onUpdateWorkDaily:function(e){var t=this.getServiceUrl("work_daily/update");l.recordUpdate(this,e,t)},onDeleteWorkDaily:function(e){var t=this.getServiceUrl("work_daily/remove");l.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(4),c=a(79),p=r(c),m=a(1),h=(a(6),a(6),a(3)),f=(a(14),u.Form.Item),v=(u.Select.Option,a(1044)),g=a(657),y=a(1042),S=i.default.createClass({displayName:"ProjInfoPage",getInitialState:function(){return{projInfoSet:{errMsg:"",projInfo:{}},projInfo:{},loading:!1}},mixins:[m.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){if("user-proj"===e.operation||"update"===e.operation){var t={};h.copyValue(e.projInfo,t),this.setState({loading:!1,projInfoSet:e,projInfo:t})}},componentDidMount:function(){this.initPage()},initPage:function(){if(window.loginData.compUser){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,g.initProjMember(e)}},handleOnSelected1:function(e,t){var a=this.state.projInfo;a[e]=t,this.setState({projInfo:a})},handleOnChange:function(e){var t=this.state.projInfo;t[e.target.id]=e.target.value,this.setState({loading:this.state.loading})},onClickSave:function(){this.setState({loading:!0}),g.updateProjMember1(this.state.projInfo)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.projInfo.projUuid;l||(l="");var o=(this.state.hints,i.default.createElement(u.Form,{layout:e,style:{width:"600px"}},i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"员工编号",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"staffCode",id:"staffCode",disabled:!0,value:this.state.projInfo.staffCode}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"员工姓名",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"perName",id:"perName",disabled:!0,value:this.state.projInfo.perName})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"所在项目",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"projName",id:"projName",disabled:!0,value:this.state.projInfo.projName}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"入组日期",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"beginDate",id:"beginDate",disabled:!0,value:this.state.projInfo.beginDate})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"项目经理",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"pmName",id:"pmName",disabled:!0,value:this.state.projInfo.pmName}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"所在小组",colon:!0,className:t}),i.default.createElement(p.default,{name:"teamUuid",id:"teamUuid",projUuid:l,value:this.state.projInfo.teamUuid,onChange:this.handleOnSelected1.bind(this,"teamUuid")})))),i.default.createElement(f,n({},a,{label:"承担角色",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"roleDesc",id:"roleDesc",value:this.state.projInfo.roleDesc,onChange:this.handleOnChange})),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(u.Button,{key:"btnOK",type:"primary",size:"middle",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(u.Button,{key:"btnClose",size:"middle",onClick:this.toggle},"取消"))));return i.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/user-proj","proj-member/update"]}),i.default.createElement("div",{style:{fontSize:"12pt",padding:"0 0 16px 24px"}},"我所在的项目组"),this.state.loading?i.default.createElement(u.Spin,null,o):o,i.default.createElement(y,{projUuid:l}))}});e.exports=S},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["updateProjMember1","retrieveProjMember","initProjMember"]);e.exports=n},function(e,t,a){"use strict";var r=a(1),n=a(420),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,projTemp:{},init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,projTemp:a.projTemp,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("proj_temp_member",e,t)},onRetrieveProjTemp:function(e){var t=this,a=this.getServiceUrl("proj_temp_member/user-temp-proj");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("user-temp-proj","",t),a.object?(t.projTemp=a.object.list[0],t.filter=e,t.fireEvent("user-proj","",t)):t.fireEvent("user-proj","没有找到记录["+a.object+"]",t)):t.fireEvent("user-temp-proj","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("user-temp-proj","调用服务错误",t)})},onInitProjTemp:function(e){return this.recordSet.length>0&&l.compareTo(this.filter,e)?void this.fireEvent("user-temp-proj","",this):void this.onRetrieveProjTemp(e)},onCreateProjTemp:function(e){var t=this.getServiceUrl("proj_temp_member/create");l.recordCreate(this,e,t)},onUpdateProjTemp:function(e){var t=this.getServiceUrl("proj_temp_member/update");l.recordUpdate(this,e,t)},onDeleteProjTemp:function(e){var t=this.getServiceUrl("proj_temp_member/remove");l.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=r.createActions(["createResTeamGrp","deleteResTeamGrp","updateResTeamGrp","retrieveResTeamGrp","retrieveResTeamGrpPage","initResTeamGrp"]);e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i=a(2),o=r(i),s=a(5),d=(r(s),a(4)),u=a(1412),c=r(u),p=a(1),m=d.Input.Search,h=a(6),f=a(3),v=a(744),g=a(507),y=(a(14),{children:o.default.PropTypes.node,projUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectProjTask:o.default.PropTypes.func}),S=o.default.createClass({displayName:"SearchProjTask",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{projTaskSet:{recordSet:[],operation:"",errMsg:""},filterValue:e,hint:"",loading:!1}},mixins:[p.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectProjTaskPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到订单和任务":e.errMsg;this.state.hint=r,void 0!==this.props.showError&&this.props.showError(r)}else 1===a?this.props.onSelectProjTask(e.recordSet[0]):a>1&&(this.refs.SelectProjTaskPage.clear(e),this.refs.SelectProjTaskPage.toggle());this.setState({loading:!1,projTaskSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.projUuid=this.props.projUuid,void 0!==t.projUuid&&null!==t.projUuid&&""!==t.projUuid||(t.corpUuid=window.loginData.compUser.corpUuid),h.isIncNumber(e)?t.ordCode=e:t.ordName=e,this.setState({filterValue:e,loading:!0,hint:""}),g.retrieveProjTaskPage(t,1,10)},render:function(){var e=this.props,t=(e.projUuid,e.showError,e.onSelectProjTask,e.style),a=(e.value,n(e,["projUuid","showError","onSelectProjTask","style","value"])),r={},i=t;""!==this.state.hint&&(i={},f.copyValue(t,r),f.copyValue(t,i),r.paddingTop="4px",i.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(m,l({placeholder:"(订单名称查询)",value:this.state.filterValue,style:i},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px",paddingTop:"16px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(m,l({placeholder:"(订单名称查询)",value:this.state.filterValue,style:i},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectProjTaskPage",onSelectProjTask:this.props.onSelectProjTask}))}});S.propTypes=y,e.exports=S},,,function(e,t,a){"use strict";var r=a(1),n=r.createActions(["retrieveUserProj","initUserProj"]);e.exports=n},,,,,,function(e,t,a){"use strict";var r=a(1),n=a(507),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("proj_task",e,t)},onRetrieveProjTask:function(e){var t=this,a=this.getServiceUrl("proj_task/retrieve");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjTaskPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjTask(e)},onInitProjTask:function(e){return this.recordSet.length>0&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTask(e)}});e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(10)(503)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),n=a(632),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},tableFilter:"",recordSet:[],checkQuery:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,tableFilter:a.tableFilter,checkQuery:a.checkQuery,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("user-chk-book",e,t)},onRetrieveCheckQuery:function(e){var t=this,a=this.getServiceUrl("user-chk-book/retrieve_p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object?(t.checkQuery=a.object,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","没有找到记录["+a.object+"]",t):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitCheckQuery:function(e){return this.checkQuery.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveCheckQuery(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(7)),s=r(o),d=a(9),u=r(d),c=a(4),p=a(1),m=(a(6),a(3),c.Radio.Group),h=c.Radio.Button,f=(c.DatePicker.MonthPicker,
c.Form.Item,a(980)),v=a(633),g=a(114),y=a(84),S=[],E=l.default.createClass({displayName:"CheckLogPage",getInitialState:function(){return{checkLogSet:{checkLog:{},operation:"",errMsg:""},loading:!1,noneDate:!1,year:"",month:"",monthTime:"",date:[31,28,31,30,31,30,31,31,30,31,30,31],table:[],holidayMap:{},filter:{}}},mixins:[p.listenTo(f,"onServiceComplete"),p.listenTo(g,"onServiceComplete1"),(0,u.default)("user-pos")],onServiceComplete:function(e){var t=this.state.date,a=this.state.year;if(t[1]=a%4!=0||a%100==0&&a%400!=0?28:29,"retrieve"===e.operation&&""===e.errMsg){this.setState({loading:!0,noneDate:!1,checkLogSet:e});var a=this.state.year;y.initHoliday(a)}else this.setState({noneDate:!0})},onServiceComplete1:function(e){var t={};0!=e.recordSet.length&&e.recordSet.map(function(e,a){t[e.date]=e.flag}),this.createTable(t),this.setState({loading:!1,holidayMap:t})},componentDidMount:function(){var e={},t=S[0],a=t.substr(0,4),r=t.substr(4,1);if(1==r)var n=t.substr(4,2);else if(0==r)var n=t.substr(5,1);e.month=t,e.username=window.loginData.authUser.userName,v.initCheckLog(e),this.setState({loading:!0,filter:e,year:a,month:n,monthTime:t})},onChangeView:function(e){var t={},a=e.target.value,r=a.substr(0,4),n=a.substr(4,1);if(1==n)var l=a.substr(4,2);else if(0==n)var l=a.substr(5,1);t.month=a,t.username=window.loginData.authUser.userName,v.initCheckLog(t),this.setState({loading:!0,filter:t,year:r,month:l,monthTime:a})},createTable:function(e){var t=this.state.checkLogSet.checkLog,a=this.state.date,r=this.state.year,n=parseInt(this.state.month),i=[],o=t.posInfo,s={};o.sort(function(e,t){return parseInt(e.posDate.replace(/-/g,""),10)-parseInt(t.posDate.replace(/-/g,""),10)}),o.sort(function(e,t){return parseInt(e.posTime.replace(/:/g,""),10)-parseInt(t.posTime.replace(/:/g,""),10)});for(var d=0;d<o.length;d++){var u=o[d].posDate;if(8==u.length)var c=u.substr(4,2)+u.substr(6,2);else if(10==u.length)var c=u.substr(5,2)+u.substr(8,2);if(s[c]){var p=o[d];s[c].push(p)}else s[c]=[o[d]]}if(null!=n){var m=n-1;a=a[m]}for(var h=0===this.weekFunc(r,n,1)?7:this.weekFunc(r,n,1),f=Math.ceil((a+h-1)/7),p=[],v=0;v<f;v++){for(var g=[],y=1;y<8;y++){var S="",E=7*v+y-h+1;if(E>a||E<1)S=l.default.createElement("td",{style:{textAlign:"center",border:"1px solid #ccc"}});else{var C="",b="",w=""+(n>9?n:"0"+n)+(E>9?E:"0"+E),k=e[w];"1"===k?C="red":"2"===k&&(C="rgb(255, 187, 0)",b="1px solid rgb(255, 187, 0)");var x=s[w],D=[];"undefined"!=typeof x&&x.map(function(e,t){var a=e.posType;"check_in"==a||"trip_in"==a?D.push(l.default.createElement("p",{style:{color:"rgba(0,0,0,.65)"}},l.default.createElement("span",null,"到："),e.posTime)):"check_out"!=a&&"trip_out"!=a||D.push(l.default.createElement("p",{style:{color:"rgba(0,0,0,.65)"}},l.default.createElement("span",null,"退："),e.posTime))}),S=l.default.createElement("td",{key:w,style:{position:"relative",textAlign:"center",color:C,border:"1px solid #ccc"}},l.default.createElement("span",{style:{position:"absolute",top:"0",left:"0",width:"20px",height:"20px"}},l.default.createElement("p",{style:{color:C,border:b}},E)),l.default.createElement("div",{style:{maxHeight:"80px",overflow:"hidden",margin:"-10px 0 -10px 0"}},D))}g.push(S)}p.push(l.default.createElement("tr",{key:v,style:{height:"50px"}},g))}i.push(l.default.createElement("div",{style:{margin:"0 20px 0 0",float:"left",width:"100%",height:"500px"}},l.default.createElement("table",{style:{width:"100%",height:"500px"}},l.default.createElement("tbody",null,l.default.createElement("tr",{key:"row.0",style:{height:"30px"}},l.default.createElement("td",{key:"1",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"一"),l.default.createElement("td",{key:"2",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"二"),l.default.createElement("td",{key:"3",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"三"),l.default.createElement("td",{key:"4",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"四"),l.default.createElement("td",{key:"5",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"五"),l.default.createElement("td",{key:"6",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"六"),l.default.createElement("td",{key:"7",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"日")),p)))),this.setState({table:i})},weekFunc:function(e,t,a){var r=e%100,n=Math.ceil(e/100)-1,l=t;t<3&&(l+=12,r=(e-1)%100,n=Math.ceil((e-1)/100)-1);var i=(r+Math.floor(r/4)+Math.floor(n/4)-2*n+Math.floor(26*(l+1)/10)+a-1)%7;return i<0&&(i+=7),i},render:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0"+a);for(var r=0;r<=5;r++){var n,i,o=a-r;o<1?(n=t-1,i=12+o):(n=t-Math.floor(o/12),i=o%12);var d=n+""+(i>=10?i:"0"+i);S.push(d)}var u=this.state.noneDate?null:l.default.createElement(c.Spin,null,this.state.table);return l.default.createElement("div",{className:"grid-page",style:{width:"100%",padding:"20px 32px 20px 28px",overflowY:"scroll"}},l.default.createElement(s.default,{ref:"mxgBox",svcList:["user-pos/retrieve"]}),l.default.createElement(m,{value:this.state.monthTime,onChange:this.onChangeView},l.default.createElement(h,{value:S[5]},S[5]),l.default.createElement(h,{value:S[4]},S[4]),l.default.createElement(h,{value:S[3]},S[3]),l.default.createElement(h,{value:S[2]},S[2]),l.default.createElement(h,{value:S[1]},S[1]),l.default.createElement(h,{value:S[0]},S[0])),l.default.createElement("div",{style:{marginTop:"20px",width:"100%"}},this.state.loading?u:this.state.table))}});e.exports=E},function(e,t,a){"use strict";var r=a(1),n=a(633),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},tableFilter:"",recordSet:[],checkLog:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.campUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,tableFilter:a.tableFilter,checkLog:a.checkLog,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("user-pos",e,t)},onRetrieveCheckLog:function(e){var t=this,a=this.getServiceUrl("user-pos/get-by-userName");l.doCreateService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object?(t.checkLog=a.object,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","没有找到记录["+a.object+"]",t):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitCheckLog:function(e){return this.checkLog.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveCheckLog(e)}});e.exports=o},function(e,t,a){(function(e){"use strict";var t=a(1),r=a(635),n=a(3),l=a(11),i=t.createStore({listenables:[r],recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("hr-leaveLog",e,t)},onRetrieveLeaveQueryInfo:function(e,t,a,r){var l=this,i={};i.corpUuid=e,i.staffCode=t,i.date1=a,i.date2=r;var o=this.getServiceUrl("hr-leaveLog/retrieve_p");n.doRetrieveService(o,i,l.startPage,l.pageRow,l.totalRow).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(l.recordSet=t.object.list,l.totalRow=t.object.totalRow,l.corpUuid=e,l.fireEvent("retrieve","",l)):l.fireEvent("retrieve","处理错误["+t.errCode+"]["+t.errDesc+"]",l)},function(e){l.fireEvent("retrieve","调用服务错误",l)})},onInitLeaveQueryInfo:function(e,t,a,r){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveLeaveQueryInfo(e,t,a,r)},onRetrieveLeaveQueryPage:function(e,t,a,r,n,l){this.startPage=n,this.pageRow=l,this.onRetrieveLeaveQueryInfo(e,t,a,r)},onCreateLeaveQueryInfo:function(){var t=this.getServiceUrl("");n.recordCreate(this,e,t)},onUpdateLeaveQueryInfo:function(){var t=this.getServiceUrl();n.recordUpdate(this,e,t)},onDeleteLeaveQueryInfo:function(){var e=this.getServiceUrl();n.recordDelete(this,uuid,e)}});e.exports=i}).call(t,a(800)(e))},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(4)),s=a(7),d=r(s),u=a(637),c=r(u),p=a(636),m=r(p),h=(a(1),a(6)),f=o.Tabs.TabPane,v=l.default.createClass({displayName:"LeaveLogPage",getInitialState:function(){return{userUuid:""}},componentDidMount:function(){},onTabClick:function(){},render:function(){var e=h.getGridMargin(this,0);return l.default.createElement("div",{className:"tab-page",style:{padding:e.padding}},l.default.createElement("div",{style:{margin:e.margin}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["auth-app-role/retrieve","auth-app-role/remove","auth-app-func/retrieve","auth-app-func/remove"]})),l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(o.Tabs,{defaultActiveKey:"1",onTabClick:this.onTabClick,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(f,{tab:"休假信息",key:"1",style:{width:"100%",height:"100%"}},l.default.createElement(c.default,null)),l.default.createElement(f,{tab:"详细信息",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement(m.default,{userUuid:this.state.userUuid})))))}});e.exports=v},function(e,t,a){(function(e){"use strict";var t=a(1),r=a(638),n=a(3),l=a(11),i=t.createStore({listenables:[r],leavelog:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("hr-leave",e,t)},onRetrieveLeaveLogDetailInfo:function(e,t,a,r){var l=this,i={};i.corpUuid=e,i.staffCode=t,i.date1=a,i.date2=r;var o=this.getServiceUrl("hr-leave/retrieve_p");n.doRetrieveService(o,i,l.startPage,l.pageRow,l.totalRow).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(l.recordSet=t.object.detailList,l.totalRow=t.object.totalRow,l.corpUuid=e,l.fireEvent("retrieve","",l)):l.fireEvent("retrieve","处理错误["+t.errCode+"]["+t.errDesc+"]",l)},function(e){l.fireEvent("retrieve","调用服务错误",l)})},onInitLeaveLogDetailInfo:function(e,t,a,r){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveLeaveLogDetailInfo(e,t,a,r)},onRetrieveLeaveLogDetailPage:function(e,t,a,r,n,l){this.startPage=n,this.pageRow=l,this.onRetrieveLeaveLogDetailInfo(e,t,a,r)},onCreateLeaveLogDetailInfo:function(){var t=this.getServiceUrl("");n.recordCreate(this,e,t)},onUpdateLeaveLogDetailInfo:function(){var t=this.getServiceUrl();n.recordUpdate(this,e,t)},onDeleteLeaveLogDetailInfo:function(){var e=this.getServiceUrl();n.recordDelete(this,uuid,e)}});e.exports=i}).call(t,a(800)(e))},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(1),l.default.createClass({displayName:"OverBookPage",getInitialState:function(){return{}},render:function(){return l.default.createElement("div",null,"加班记录查询")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=(r(m),a(100)),f=r(h),v=a(1),g=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),y=(s.Select.Option,s.Input.Group),S=a(6),E=a(3),C=a(129),b=a(95),w=a(86),k=i.default.createClass({displayName:"CancelPaidLeaveApplyPage",getInitialState:function(){return{workDailySet:{},loading:!1,modal:!1,leaveApply:{},leave:{},leaveType:"",hints:{},validRules:[]}},mixins:[v.listenTo(b,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,workDailySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"releaseDay",desc:"销假日期",required:!0,max:"16"},{id:"spend",desc:"实修天数",required:!0,dataType:"number",max:"16"}]},initPage:function(e,t){this.state.hints={},E.copyValue(e,this.state.leaveApply),this.state.leaveType=e.leaveType;var a=e.accrued,r="0",n="0",l=a.indexOf(".");l>0?(r=a.substr(0,l),n=a.substr(l+1)):r=a,this.state.leaveApply.accruedDay=r,this.state.leaveApply.accruedHour=n,this.state.leaveApply.spend="",this.state.leaveApply.releaseDay=S.getToday()+"",this.state.loading=!1,this.state.leave=t,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var r=parseInt(e);if(r>18||r<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]"},handleOnSelected2:function(e,t){var a=this.state.leaveApply;a[e]=t,S.validator(this,a,e),this.setState({modal:this.state.modal,leaveType:t})},onClickSave:function(){if(S.formValidator(this,this.state.leaveApply)){var e=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=e.projName,this.setState({loading:!0}),w.cancelLeaveApply(this.state.leaveApply)}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=S.dateFormat,c=C.getRemnantFields(this),p=C.getRemnantFields2(this),m=this.state.leaveApply.status,h="待休假"===m,v=i.default.createElement(s.Form,{layout:e},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(g,n({},r,{label:"假期类型",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"text",name:"leaveType",id:"leaveType",value:E.getOptionName("HR系统","假期类型",this.state.leaveApply.leaveType,!1,this),readOnly:!0}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"剩余天数",required:!1,colon:!0,className:t}),c.bfFields))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(g,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(f.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(g,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,readOnly:!0}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(g,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,readOnly:!0}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(g,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,readOnly:!0}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(g,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,readOnly:!0}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"申请天数",required:!1,colon:!0,className:t}),p.readOnlySpendFields)),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"备注",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,readOnly:!0})))),i.default.createElement(g,n({},a,{label:"休假事由",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,readOnly:!0})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"销假日期",required:!0,colon:!0,className:t,help:o.releaseDayHint,validateStatus:o.releaseDayStatus}),i.default.createElement(s.DatePicker,{name:"releaseDay",id:"releaseDay",value:this.formatDate(this.state.leaveApply.releaseDay,d),format:d,onChange:this.handleOnSelDate.bind(this,"releaseDay",d)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"实休天数",required:!0,colon:!0,className:t,help:o.spendHint,validateStatus:o.spendStatus}),i.default.createElement(s.Input,{type:"text",name:"spend",id:"spend",value:this.state.leaveApply.spend,onChange:this.handleOnChange})))));return i.default.createElement(s.Modal,{visible:this.state.modal,width:"640px",title:"带薪假销假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/cancel"]}),i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!h},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},v)}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=(r(m),a(100)),f=r(h),v=a(209),g=r(v),y=a(1),S=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),E=(s.Select.Option,s.Input.Group),C=a(6),b=a(3),w=a(129),k=a(95),x=a(86),D=i.default.createClass({displayName:"CancelPaidLeavePage",getInitialState:function(){return{workDailySet:{},loading:!1,modal:!1,leaveApply:{},leave:{},leaveType:"",hints:{},validRules:[]}},mixins:[y.listenTo(k,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.setState({loading:!1,workDailySet:e})},componentDidMount:function(){this.state.validRules=[{id:"releaseDay",desc:"销假日期",required:!0,max:"16"},{id:"spend",desc:"实修天数",required:!0,max:"16"}],this.initPage(this.props.leaveApply,this.props.leave)},initPage:function(e,t){this.state.hints={},b.copyValue(e,this.state.leaveApply),this.state.leaveType=e.leaveType;var a=e.accrued,r="0",n="0",l=a.indexOf(".");l>0?(r=a.substr(0,l),n=a.substr(l+1)):r=a,this.state.leaveApply.accruedDay=r,this.state.leaveApply.accruedHour=n,this.state.leaveApply.spend="",this.state.leaveApply.releaseDay=C.getToday()+"",this.state.loading=!1,this.state.leave=t,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),this.setState({loading:!1})},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var r=parseInt(e);if(r>18||r<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]"},handleOnSelected2:function(e,t){var a=this.state.leaveApply;a[e]=t,C.validator(this,a,e),this.setState({modal:this.state.modal,leaveType:t})},onClickSave:function(){var e=this.refs.LeaveInput.state.accruedDay,t=this.refs.LeaveInput.state.accruedHour;if(t=parseInt(t)>0?"."+t:"",this.state.leaveApply.spend=e+t,C.formValidator(this,this.state.leaveApply)){var a=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=a.projName,this.setState({loading:!0}),x.cancelLeaveApply(this.state.leaveApply)}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=C.dateFormat,c=(w.getRemnantFields(this),w.getRemnantFields2(this),this.state.leaveApply.status),p="待休假"===c,m=i.default.createElement(s.Form,{layout:e,style:{width:"700px"}},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(S,n({},r,{label:"假期类型",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"text",name:"leaveType",id:"leaveType",value:b.getOptionName("HR系统","假期类型",this.state.leaveApply.leaveType,!1,this),readOnly:!0}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"剩余天数",required:!1,colon:!0,className:t}),i.default.createElement(g.default,{type:this.state.leaveType,readOnly:!0,value:this.state.leave,remainday:!0})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(S,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(f.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(S,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,readOnly:!0}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(S,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(E,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,readOnly:!0}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(S,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,readOnly:!0}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(S,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(E,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,readOnly:!0}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"申请天数",required:!1,colon:!0,className:t}),i.default.createElement(g.default,{ref:"LeaveInput",type:this.state.leaveType,readOnly:!0,value:this.state.leaveApply}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"备注",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,readOnly:!0})))),i.default.createElement(S,n({},a,{label:"休假事由",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,readOnly:!0})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"销假日期",required:!0,colon:!0,className:t,help:o.releaseDayHint,validateStatus:o.releaseDayStatus}),i.default.createElement(s.DatePicker,{name:"releaseDay",id:"releaseDay",value:this.formatDate(this.state.leaveApply.releaseDay,d),format:d,onChange:this.handleOnSelDate.bind(this,"releaseDay",d)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"实休天数",required:!0,colon:!0,className:t,help:o.spendHint,validateStatus:o.spendStatus}),i.default.createElement(g.default,{ref:"LeaveInput",type:this.state.leaveType,readOnly:!1,value:this.state.leaveApply,realLeave:!0})))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!p},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle,style:{marginLeft:"3px"}},"取消")));return i.default.createElement("div",{style:{padding:"24px 0 16px 20px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/cancel"]}),this.state.loading?i.default.createElement(s.Spin,null,m):m)}});t.default=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=(r(m),a(100)),f=r(h),v=a(1),g=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),y=(s.Select.Option,s.Input.Group),S=a(6),E=a(3),C=a(95),b=a(86),w=i.default.createClass({displayName:"UpdateUnpaidLeaveApplyPage",getInitialState:function(){return{workDailySet:{},loading:!1,modal:!1,leaveApply:{},hints:{},validRules:[]}},mixins:[v.listenTo(C,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,workDailySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"releaseDay",desc:"销假日期",required:!0,max:"16"},{id:"spend",desc:"实修天数",required:!0,dataType:"number",max:"16"}]},initPage:function(e){this.state.hints={},E.copyValue(e,this.state.leaveApply);var t=e.accrued,a="0",r="0",n=t.indexOf(".");n>0?(a=t.substr(0,n),r=t.substr(n+1)):a=t,this.state.leaveApply.accruedDay=a,this.state.leaveApply.accruedHour=r,this.state.leaveApply.spend="",this.state.leaveApply.releaseDay=S.getToday()+"",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){if(S.formValidator(this,this.state.leaveApply)){var e=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=e.projName,this.setState({loading:!0}),b.cancelLeaveApply(this.state.leaveApply)}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=S.dateFormat,c=this.state.leaveApply.status,p="待休假"===c;return i.default.createElement(s.Modal,{visible:this.state.modal,width:"640px",title:"无薪假销假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/update"]}),i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!p},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(s.Form,{layout:e},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(g,n({},r,{label:"假期类型",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"text",name:"leaveType",id:"leaveType",value:this.state.leaveApply.leaveType,readOnly:!0})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(g,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(f.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(g,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"beginDate",d),readOnly:!0}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(g,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange,readOnly:!0}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(g,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"endDate",d),readOnly:!0}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(g,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange,readOnly:!0}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"申请天数",required:!1,colon:!0,className:t}),i.default.createElement(s.Col,{className:"gutter-row",span:13},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"60%"},type:"text",name:"accruedDay",id:"accruedDay",value:this.state.leaveApply.accruedDay,readOnly:!1}),i.default.createElement(s.Input,{style:{width:"40%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0}))),i.default.createElement(s.Col,{className:"gutter-row",span:11},i.default.createElement(g,{help:o.accruedHourHint,validateStatus:o.accruedHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{
compact:!0},i.default.createElement(s.Input,{style:{width:"55%"},type:"text",name:"accruedHour",id:"accruedHour",value:this.state.leaveApply.accruedHour,readOnly:!1}),i.default.createElement(s.Input,{style:{width:"45%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"备注",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,readOnly:!0})))),i.default.createElement(g,n({},a,{label:"休假事由",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,readOnly:!0})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"销假日期",required:!0,colon:!0,className:t,help:o.releaseDayHint,validateStatus:o.releaseDayStatus}),i.default.createElement(s.DatePicker,{name:"releaseDay",id:"releaseDay",value:this.formatDate(this.state.leaveApply.releaseDay,d),format:d,onChange:this.handleOnSelDate.bind(this,"releaseDay",d)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"实休天数",required:!0,colon:!0,className:t,help:o.spendHint,validateStatus:o.spendStatus}),i.default.createElement(s.Input,{type:"text",name:"spend",id:"spend",value:this.state.leaveApply.spend,onChange:this.handleOnChange}))))))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=(r(m),a(100)),f=r(h),v=a(209),g=r(v),y=a(1),S=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),E=(s.Select.Option,s.Input.Group),C=a(6),b=a(3),w=a(95),k=a(86),x=i.default.createClass({displayName:"CancelUnpaidLeavePage",getInitialState:function(){return{workDailySet:{},loading:!1,modal:!1,leaveApply:{},hints:{},validRules:[]}},mixins:[y.listenTo(w,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.setState({loading:!1,workDailySet:e})},componentDidMount:function(){this.state.validRules=[{id:"releaseDay",desc:"销假日期",required:!0,max:"16"},{id:"spend",desc:"实修天数",required:!0,max:"16"}],this.initPage(this.props.leaveApply)},initPage:function(e){this.state.hints={},b.copyValue(e,this.state.leaveApply);var t=e.accrued,a="0",r="0",n=t.indexOf(".");n>0?(a=t.substr(0,n),r=t.substr(n+1)):a=t,this.state.leaveApply.accruedDay=a,this.state.leaveApply.accruedHour=r,this.state.leaveApply.spend="",this.state.leaveApply.releaseDay=C.getToday()+"",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),this.setState({loading:!1})},onClickSave:function(){var e=this.refs.LeaveInput.state.accruedDay,t=this.refs.LeaveInput.state.accruedHour;if(t=parseInt(t)>0?"."+t:"",this.state.leaveApply.spend=e+t,C.formValidator(this,this.state.leaveApply)){var a=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=a.projName,this.setState({loading:!0}),k.cancelLeaveApply(this.state.leaveApply)}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=C.dateFormat,c=this.state.leaveApply.status,p="待休假"===c,m=i.default.createElement(s.Form,{layout:e,style:{width:"700px"}},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(S,n({},r,{label:"假期类型",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"text",name:"leaveType",id:"leaveType",value:this.state.leaveApply.leaveType,readOnly:!0})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(S,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(f.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(S,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"beginDate",d),readOnly:!0}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(S,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(E,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange,readOnly:!0}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(S,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"endDate",d),readOnly:!0}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(S,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(E,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange,readOnly:!0}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"申请天数",required:!1,colon:!0,className:t}),i.default.createElement(g.default,{ref:"LeaveInput",type:"dayoff",readOnly:!0,value:this.state.leaveApply}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"备注",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,readOnly:!0})))),i.default.createElement(S,n({},a,{label:"休假事由",required:!1,colon:!0,className:t}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,readOnly:!0})),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"销假日期",required:!0,colon:!0,className:t,help:o.releaseDayHint,validateStatus:o.releaseDayStatus}),i.default.createElement(s.DatePicker,{name:"releaseDay",id:"releaseDay",value:this.formatDate(this.state.leaveApply.releaseDay,d),format:d,onChange:this.handleOnSelDate.bind(this,"releaseDay",d)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"实休天数",required:!0,colon:!0,className:t,help:o.spendHint,validateStatus:o.spendStatus}),i.default.createElement(g.default,{ref:"LeaveInput",type:"dayoff",readOnly:!1,value:this.state.leaveApply,realLeave:!0})))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!p},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消")));return i.default.createElement("div",{style:{padding:"24px 0 16px 20px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/cancel"]}),this.state.loading?i.default.createElement(s.Spin,null,m):m)}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=r(m),f=a(100),v=r(f),g=a(1),y=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),S=(s.Select.Option,s.Input.Group),E=a(6),C=(a(3),a(129)),b=a(95),w=a(86),k=i.default.createClass({displayName:"CreatePaidLeaveApplyPage",getInitialState:function(){return{afterChange:this.afterChange,leaveApplySet:{},loading:!1,modal:!1,leaveApply:{},leave:{},leave2:{},leaveType:"",hints:{},validRules:[]}},mixins:[g.listenTo(b,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,leaveApplySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假天数",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},clear:function(e){this.state.hints={},this.state.leaveApply.perName=window.loginData.authUser.perName,this.state.leaveApply.proposer=window.loginData.authUser.perName,this.state.leaveApply.staffCode=window.loginData.compUser.userCode,this.state.leaveApply.corpUuid=window.loginData.compUser.corpUuid,this.state.leaveApply.deptUuid=window.loginData.compUser.deptUuid,this.state.leaveApply.applyDay=E.getToday()+"",this.state.leaveApply.status="待审批",this.state.leaveApply.flowCode="cost.LEAVE",this.state.leaveApply.provNodes=[],this.state.leaveApply.leaveType="dayoff",this.state.leaveApply.beginDate="",this.state.leaveApply.beginHour="9",this.state.leaveApply.endDate="",this.state.leaveApply.endHour="18",this.state.leaveApply.accrued="",this.state.leaveApply.accruedHour="0",this.state.leaveApply.accruedDay="",this.state.leaveApply.memo2="",this.state.leaveApply.reason="",this.state.leaveApply.projUuid="",this.state.leaveApply.projName="",this.state.leaveType="dayoff",this.state.leave=e,this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var r=parseInt(e);if(r>18||r<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]"},afterChange:function(e,t){"beginDate"!==e&&"beginHour"!==e&&"endDate"!==e&&"endHour"!==e||C.calcLeafDays(this.state.leaveApply)},handleOnSelected2:function(e,t){var a=this.state.leaveApply;a[e]=t,E.validator(this,a,e),this.setState({modal:this.state.modal,leaveType:t})},onClickSave:function(){if(E.formValidator(this,this.state.leaveApply)){var e=C.isLeaveValid(this);if(e)return void E.errMsg(e);var t=parseInt(this.state.leaveApply.accruedHour)>0?"."+this.state.leaveApply.accruedHour:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+t,this.setState({loading:!0});var a=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=a.projName,w.createLeaveApply(this.state.leaveApply)}},setDefProj:function(e){this.state.leaveApply.projUuid=e.uuid,this.state.leaveApply.projName=e.projName},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=E.dateFormat,c=C.getRemnantFields(this),p=C.getRemnantFields2(this),m=i.default.createElement(s.Form,{layout:e},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"假期类型",required:!0,colon:!0,className:t,help:o.leaveTypeHint,validateStatus:o.leaveTypeStatus}),i.default.createElement(h.default,{name:"leaveType",id:"leaveType",value:this.state.leaveApply.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{label:"剩余天数",required:!1,colon:!0,className:t}),c.bfFields))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(y,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(v.default,{mode:"create",ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid"),setDefProj:this.setDefProj})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(y,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"beginDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(y,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(S,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(y,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"endDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(y,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(S,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"申请天数",required:!0,colon:!0,className:t}),p.spendFields)),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{label:"备注",required:!1,colon:!0,className:t,help:o.memo2Hint,validateStatus:o.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(y,n({},a,{label:"休假事由",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,onChange:this.handleOnChange,style:{height:"100px"}})));return i.default.createElement(s.Modal,{visible:this.state.modal,width:"640px",title:"申请带薪假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-leave/retrieve","leave_apply/create"]}),i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",disabled:!this.state.leave[this.state.leaveType]||0==this.state.leave[this.state.leaveType],onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},m)}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=r(m),f=a(100),v=r(f),g=a(209),y=r(g),S=a(1),E=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),C=(s.Select.Option,s.Input.Group),b=a(6),w=(a(3),a(129)),k=a(95),x=a(86),D=i.default.createClass({displayName:"CreatePaidLeavePage",getInitialState:function(){return{afterChange:this.afterChange,leaveApplySet:{},loading:!1,modal:!1,leaveApply:{},leave:{},leave2:{},leaveType:"",hints:{},validRules:[]}},mixins:[S.listenTo(k,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.setState({loading:!1,leaveApplySet:e})},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假天数",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}],this.clear(this.props.leave)},clear:function(e){this.state.hints={},this.state.leaveApply.perName=window.loginData.authUser.perName,this.state.leaveApply.proposer=window.loginData.authUser.perName,this.state.leaveApply.staffCode=window.loginData.compUser.userCode,this.state.leaveApply.corpUuid=window.loginData.compUser.corpUuid,this.state.leaveApply.deptUuid=window.loginData.compUser.deptUuid,this.state.leaveApply.applyDay=b.getToday()+"",this.state.leaveApply.status="待审批",this.state.leaveApply.flowCode="cost.LEAVE",this.state.leaveApply.provNodes=[],this.state.leaveApply.leaveType="dayoff",this.state.leaveApply.beginDate="",this.state.leaveApply.beginHour="9",this.state.leaveApply.endDate="",this.state.leaveApply.endHour="18",this.state.leaveApply.accrued="",this.state.leaveApply.accruedHour="0",this.state.leaveApply.accruedDay="",this.state.leaveApply.memo2="",this.state.leaveApply.reason="",this.state.leaveApply.projUuid="",this.state.leaveApply.projName="",this.state.leaveType="dayoff",this.state.leave=e,this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var r=parseInt(e);if(r>18||r<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]"},afterChange:function(e,t){"beginDate"!==e&&"beginHour"!==e&&"endDate"!==e&&"endHour"!==e||w.calcLeafDays(this.state.leaveApply)},handleOnSelected2:function(e,t){var a=this.state.leaveApply;a[e]=t,b.validator(this,a,e),this.setState({modal:this.state.modal,leaveType:t})},onClickSave:function(){if(b.formValidator(this,this.state.leaveApply)){var e=w.isLeaveValid(this);if(e)return void b.errMsg(e);this.state.leaveApply.accruedDay=this.refs.LeaveInput.state.accruedDay,this.state.leaveApply.accruedHour=this.refs.LeaveInput.state.accruedHour;var t=parseInt(this.state.leaveApply.accruedHour)>0?"."+this.state.leaveApply.accruedHour:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+t,this.setState({loading:!0});var a=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=a.projName,x.createLeaveApply(this.state.leaveApply)}},setDefProj:function(e){this.state.leaveApply.projUuid=e.uuid,this.state.leaveApply.projName=e.projName},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints,o=b.dateFormat,d=i.default.createElement(s.Form,{layout:e,style:{width:"700px"}},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"假期类型",required:!0,colon:!0,className:t,help:l.leaveTypeHint,validateStatus:l.leaveTypeStatus}),i.default.createElement(h.default,{name:"leaveType",id:"leaveType",value:this.state.leaveApply.leaveType,appName:"HR系统",optName:"假期类型",onSelect:this.handleOnSelected2.bind(this,"leaveType")}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"剩余天数",required:!1,colon:!0,className:t}),i.default.createElement(y.default,{type:this.state.leaveType,readOnly:!0,value:this.state.leave,remainday:!0})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(E,n({},a,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(v.default,{mode:"create",ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid"),setDefProj:this.setDefProj})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(E,{help:l.beginDateHint,validateStatus:l.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"beginDate",o)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(E,{help:l.beginHourHint,validateStatus:l.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(C,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(E,{help:l.endDateHint,validateStatus:l.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"endDate",o)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(E,{className:t,help:l.endHourHint,validateStatus:l.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(C,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"申请天数",required:!0,colon:!0,className:t}),i.default.createElement(y.default,{ref:"LeaveInput",type:this.state.leaveType,readOnly:!1,value:this.state.leaveApply}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"备注",required:!1,colon:!0,className:t,help:l.memo2Hint,validateStatus:l.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(E,n({},r,{label:"休假事由",required:!1,colon:!0,className:t,help:l.payMemoHint,validateStatus:l.payMemoStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,onChange:this.handleOnChange,style:{height:"100px"}})),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,disabled:!this.state.leave[this.state.leaveType]||0==this.state.leave[this.state.leaveType],loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")));return i.default.createElement("div",{style:{padding:"24px 0 16px 20px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/create"]}),this.state.loading?i.default.createElement(s.Spin,null,d):d)}});t.default=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=r(m),f=a(100),v=r(f),g=a(1),y=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),S=(s.Select.Option,s.Input.Group),E=a(6),C=(a(3),a(129)),b=a(95),w=a(86),k=i.default.createClass({displayName:"CreateUnpaidLeaveApplyPage",getInitialState:function(){return{afterChange:this.afterChange,leaveApplySet:{},loading:!1,modal:!1,leaveApply:{},hints:{},validRules:[]}},mixins:[g.listenTo(b,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,leaveApplySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"memo2",desc:"备注",required:!1,max:"512"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},clear:function(){this.state.hints={},this.state.leaveApply.perName=window.loginData.authUser.perName,this.state.leaveApply.proposer=window.loginData.authUser.perName,this.state.leaveApply.staffCode=window.loginData.compUser.userCode,this.state.leaveApply.corpUuid=window.loginData.compUser.corpUuid,this.state.leaveApply.deptUuid=window.loginData.compUser.deptUuid,this.state.leaveApply.applyDay=E.getToday()+"",this.state.leaveApply.status="待审批",this.state.leaveApply.flowCode="cost.LEAVE",this.state.leaveApply.provNodes=[],this.state.leaveApply.leaveType="",this.state.leaveApply.beginDate="",this.state.leaveApply.beginHour="9",this.state.leaveApply.endDate="",this.state.leaveApply.endHour="18",this.state.leaveApply.accrued="",this.state.leaveApply.accruedDay="",this.state.leaveApply.accruedHour="0",this.state.leaveApply.memo2="",this.state.leaveApply.reason="",this.state.leaveApply.projUuid="",this.state.leaveApply.projName="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var r=parseInt(e);if(r>18||r<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]";return""},afterChange:function(e,t){"beginDate"!==e&&"beginHour"!==e&&"endDate"!==e&&"endHour"!==e||C.calcLeafDays(this.state.leaveApply)},handleOnChange2:function(e){var t=this.state.leaveApply;t[e.target.id]=e.target.value;var a=this.checkValue(e.target.value,{id:e.target.id});this.state.hints[e.target.id+"Hint"]=a,E.validator(this,t,e.target.id),this.setState({loading:this.state.loading})},onClickSave:function(){if(E.formValidator(this,this.state.leaveApply)){var e=parseInt(this.state.leaveApply.accruedHour)>0?"."+this.state.leaveApply.accruedHour:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+e;var t=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=t.projName,this.setState({loading:!0}),w.createLeaveApply(this.state.leaveApply)}},setDefProj:function(e){this.state.leaveApply.projUuid=e.uuid,this.state.leaveApply.projName=e.projName},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=E.dateFormat;return i.default.createElement(s.Modal,{visible:this.state.modal,width:"640px",title:"申请无薪假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/create"]}),i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(s.Form,{layout:e},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(y,n({},r,{label:"假期类型",required:!0,colon:!0,className:t,help:o.leaveTypeHint,validateStatus:o.leaveTypeStatus}),i.default.createElement(h.default,{name:"leaveType",id:"leaveType",value:this.state.leaveApply.leaveType,appName:"HR系统",optName:"假期类型2",onSelect:this.handleOnSelected.bind(this,"leaveType")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(y,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(v.default,{mode:"create",ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid"),setDefProj:this.setDefProj})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(y,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"beginDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(y,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(S,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(y,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"endDate",d)}))),i.default.createElement(s.Col,{
span:"11"},i.default.createElement(y,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(S,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"申请天数",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{className:"gutter-row",span:13},i.default.createElement(y,{help:o.accruedDayHint,validateStatus:o.accruedDayStatus},i.default.createElement(S,{compact:!0},i.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"accruedDay",id:"accruedDay",value:this.state.leaveApply.accruedDay,onChange:this.handleOnChange,readOnly:!1}),i.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))),i.default.createElement(s.Col,{className:"gutter-row",span:11},i.default.createElement(y,{help:o.accruedHourHint,validateStatus:o.accruedHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(S,{compact:!0},i.default.createElement(s.Input,{style:{width:"55%"},type:"text",name:"accruedHour",id:"accruedHour",value:this.state.leaveApply.accruedHour,onChange:this.handleOnChange,readOnly:!1}),i.default.createElement(s.Input,{style:{width:"45%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{label:"备注",required:!1,colon:!0,className:t,help:o.memo2Hint,validateStatus:o.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(y,n({},a,{label:"休假事由",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,onChange:this.handleOnChange,style:{height:"100px"}}))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=r(m),f=a(100),v=r(f),g=a(209),y=r(g),S=a(1),E=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),C=(s.Select.Option,s.Input.Group),b=a(6),w=(a(3),a(129)),k=a(95),x=a(86),D=i.default.createClass({displayName:"CreateUnpaidLeavePage",getInitialState:function(){return{afterChange:this.afterChange,leaveApplySet:{},loading:!1,modal:!1,leaveApply:{},hints:{},validRules:[]}},mixins:[S.listenTo(k,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.setState({loading:!1,leaveApplySet:e})},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"memo2",desc:"备注",required:!1,max:"512"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}],this.clear()},clear:function(){this.state.hints={},this.state.leaveApply.perName=window.loginData.authUser.perName,this.state.leaveApply.proposer=window.loginData.authUser.perName,this.state.leaveApply.staffCode=window.loginData.compUser.userCode,this.state.leaveApply.corpUuid=window.loginData.compUser.corpUuid,this.state.leaveApply.deptUuid=window.loginData.compUser.deptUuid,this.state.leaveApply.applyDay=b.getToday()+"",this.state.leaveApply.status="待审批",this.state.leaveApply.flowCode="cost.LEAVE",this.state.leaveApply.provNodes=[],this.state.leaveApply.leaveType="",this.state.leaveApply.beginDate="",this.state.leaveApply.beginHour="9",this.state.leaveApply.endDate="",this.state.leaveApply.endHour="18",this.state.leaveApply.accrued="",this.state.leaveApply.accruedDay="",this.state.leaveApply.accruedHour="0",this.state.leaveApply.memo2="",this.state.leaveApply.reason="",this.state.leaveApply.projUuid="",this.state.leaveApply.projName="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var r=parseInt(e);if(r>18||r<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]";return""},afterChange:function(e,t){"beginDate"!==e&&"beginHour"!==e&&"endDate"!==e&&"endHour"!==e||w.calcLeafDays(this.state.leaveApply)},handleOnChange2:function(e){var t=this.state.leaveApply;t[e.target.id]=e.target.value;var a=this.checkValue(e.target.value,{id:e.target.id});this.state.hints[e.target.id+"Hint"]=a,b.validator(this,t,e.target.id),this.setState({loading:this.state.loading})},onClickSave:function(){if(b.formValidator(this,this.state.leaveApply)){this.state.leaveApply.accruedDay=this.refs.LeaveInput.state.accruedDay,this.state.leaveApply.accruedHour=this.refs.LeaveInput.state.accruedHour;var e=this.state.leaveApply.accruedHour,t=parseInt(e)>0?"."+e:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+t;var a=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=a.projName,this.setState({loading:!0}),x.createLeaveApply(this.state.leaveApply)}},setDefProj:function(e){this.state.leaveApply.projUuid=e.uuid,this.state.leaveApply.projName=e.projName},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints,o=b.dateFormat,d=i.default.createElement(s.Form,{layout:e,style:{width:"700px"}},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(E,n({},a,{label:"假期类型",required:!0,colon:!0,className:t,help:l.leaveTypeHint,validateStatus:l.leaveTypeStatus}),i.default.createElement(h.default,{name:"leaveType",id:"leaveType",value:this.state.leaveApply.leaveType,appName:"HR系统",optName:"假期类型2",onSelect:this.handleOnSelected.bind(this,"leaveType")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(E,n({},a,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(v.default,{mode:"create",ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid"),setDefProj:this.setDefProj})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(E,{help:l.beginDateHint,validateStatus:l.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"beginDate",o)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(E,{help:l.beginHourHint,validateStatus:l.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(C,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(E,{help:l.endDateHint,validateStatus:l.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,o),format:o,onChange:this.handleOnSelDate.bind(this,"endDate",o)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(E,{className:t,help:l.endHourHint,validateStatus:l.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(C,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"申请天数",required:!0,colon:!0,className:t}),i.default.createElement(y.default,{ref:"LeaveInput",type:"dayoff",readOnly:!1,value:this.state.leaveApply}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},a,{label:"备注",required:!1,colon:!0,className:t,help:l.memo2Hint,validateStatus:l.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(E,n({},r,{label:"休假事由",required:!1,colon:!0,className:t,help:l.payMemoHint,validateStatus:l.payMemoStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,onChange:this.handleOnChange,style:{height:"100px"}})),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消")));return i.default.createElement("div",{style:{padding:"24px 0 16px 20px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/create"]}),this.state.loading?i.default.createElement(s.Spin,null,d):d)}});t.default=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=(r(m),a(100)),f=r(h),v=a(1),g=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),y=(s.Select.Option,s.Input.Group),S=a(6),E=a(3),C=a(129),b=a(95),w=a(86),k=i.default.createClass({displayName:"CancelPaidLeaveApplyPage",getInitialState:function(){return{afterChange:this.afterChange,workDailySet:{},loading:!1,modal:!1,leaveApply:{},leave:{},leaveType:"",hints:{},validRules:[]}},mixins:[v.listenTo(b,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,workDailySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"accrued",desc:"休假天数",required:!1,dataType:"number",validator:this.checkValue,max:"16"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},initPage:function(e,t){this.state.hints={},E.copyValue(e,this.state.leaveApply),this.state.leaveType=e.leaveType;var a=e.accrued,r="0",n="0",l=a.indexOf(".");l>0?(r=a.substr(0,l),n=a.substr(l+1)):r=a,this.state.leaveApply.accruedDay=r,this.state.leaveApply.accruedHour=n,this.state.loading=!1,this.state.leave=t,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var r=parseInt(e);if(r>18||r<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]"},afterChange:function(e,t){"beginDate"!==e&&"beginHour"!==e&&"endDate"!==e&&"endHour"!==e||C.calcLeafDays(this.state.leaveApply)},handleOnSelected2:function(e,t){var a=this.state.leaveApply;a[e]=t,S.validator(this,a,e),this.setState({modal:this.state.modal,leaveType:t})},onClickSave:function(){if(S.formValidator(this,this.state.leaveApply)){var e=parseInt(this.state.leaveApply.accruedHour)>0?"."+this.state.leaveApply.accruedHour:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+e;var t=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=t.projName,this.setState({loading:!0}),w.updateLeaveApply(this.state.leaveApply)}},onClickRevoke:function(){this.setState({loading:!0}),w.revokeLeaveApply(this.state.leaveApply)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=S.dateFormat,c=C.getRemnantFields(this),p=C.getRemnantFields2(this),m=!1,h=[],v=this.state.leaveApply.provNodes;v&&(h=v.map(function(e,t){return i.default.createElement("div",{className:"card-div",style:{width:200}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid red"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,e.provName),i.default.createElement("p",null,"(",e.provStatus,", ",e.provDate,")"))))}),v.length>0&&(m=!0));var b=!1,w={color:"red"},k=this.state.leaveApply.status;"撤销"!==k&&"已销假"!==k||(m=!0,b=!0,w=null);var x=this.state.leaveApply.nextRole;if(x){var D=i.default.createElement("div",{className:"card-div",style:{width:200}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid red"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,x),i.default.createElement("p",null,"(最后期限：",this.state.leaveApply.remDate,")"))));h.push(D)}var N=220*h.length+10+"px";return i.default.createElement(s.Modal,{visible:this.state.modal,width:"640px",title:"修改带薪假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/update"]}),i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:m},"保存")," ",i.default.createElement(s.Button,{key:"btnRevoke",size:"large",onClick:this.onClickRevoke,style:w,disabled:b},"撤销"),i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(s.Form,{layout:e},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"假期类型",required:!1,colon:!0,className:t,help:o.leaveTypeHint,validateStatus:o.leaveTypeStatus}),i.default.createElement(s.Input,{type:"text",name:"leaveType",id:"leaveType",value:E.getOptionName("HR系统","假期类型",this.state.leaveApply.leaveType,!1,this),disabled:!0}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"剩余天数",required:!1,colon:!0,className:t}),c.bfFields))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(g,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(f.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(g,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"beginDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(g,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(g,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"endDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(g,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"申请天数",required:!1,colon:!0,className:t}),p.spendFields)),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"备注",required:!1,colon:!0,className:t,help:o.memo2Hint,validateStatus:o.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{label:"休假事由",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,onChange:this.handleOnChange})),i.default.createElement(g,{layout:"vertical",label:"审批状态",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus},i.default.createElement("div",{style:{width:"100%",padding:"14px",border:"1px solid #eee",overflowX:"scroll"}},i.default.createElement("div",{style:{width:N,height:"120px"}},h)))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=(r(m),a(100)),f=r(h),v=a(209),g=r(v),y=a(1),S=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),E=(s.Select.Option,s.Input.Group),C=a(6),b=a(3),w=a(129),k=a(95),x=a(86),D=i.default.createClass({displayName:"UpdatePaidLeavePage",getInitialState:function(){return{afterChange:this.afterChange,workDailySet:{},loading:!1,modal:!1,leaveApply:{},leave:{},leaveType:"",hints:{},validRules:[]}},mixins:[y.listenTo(k,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.setState({loading:!1,workDailySet:e})},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"reason",desc:"休假事由",required:!1,max:"2048"}],this.initPage(this.props.leaveApply,this.props.leave)},initPage:function(e,t){this.state.hints={},b.copyValue(e,this.state.leaveApply),this.state.leaveType=e.leaveType,console.log("leaveApply",e,t);var a=e.accrued,r="0",n="0",l=a.indexOf(".");l>0?(r=a.substr(0,l),n=a.substr(l+1)):r=a,this.state.leaveApply.accruedDay=r,this.state.leaveApply.accruedHour=n,this.state.leave=t,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({loading:!1})},checkValue:function(e,t,a){if("beginHour"===t.id||"endHour"===t.id){var r=parseInt(e);if(r>18||r<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]"},afterChange:function(e,t){"beginDate"!==e&&"beginHour"!==e&&"endDate"!==e&&"endHour"!==e||w.calcLeafDays(this.state.leaveApply)},handleOnSelected2:function(e,t){var a=this.state.leaveApply;a[e]=t,C.validator(this,a,e),this.setState({modal:this.state.modal,leaveType:t})},onClickSave:function(){if(C.formValidator(this,this.state.leaveApply)){var e=w.isLeaveValid(this);if(e)return void C.errMsg(e);this.state.leaveApply.accruedDay=this.refs.LeaveInput.state.accruedDay,this.state.leaveApply.accruedHour=this.refs.LeaveInput.state.accruedHour;var t=this.state.leaveApply.accruedHour,a=parseInt(t)>0?"."+t:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+a;var r=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=r.projName,this.setState({loading:!0}),x.updateLeaveApply(this.state.leaveApply)}},onClickRevoke:function(){this.setState({loading:!0}),this.state.leaveApply.accruedDay=this.refs.LeaveInput.state.accruedDay,this.state.leaveApply.accruedHour=this.refs.LeaveInput.state.accruedHour;var e=this.state.leaveApply.accruedHour,t=parseInt(e)>0?"."+e:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+t,x.revokeLeaveApply(this.state.leaveApply)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=C.dateFormat,c=!1,p=[],m=this.state.leaveApply.provNodes;m&&(p=m.map(function(e,t){return i.default.createElement("div",{className:"card-div",style:{width:200}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid red"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,e.provName),i.default.createElement("p",null,"(",e.provStatus,", ",e.provDate,")"))))}),m.length>0&&(c=!0));var h=!1,v={color:"red"},y=this.state.leaveApply.status;"撤销"!==y&&"已销假"!==y||(c=!0,h=!0,v=null);var w=this.state.leaveApply.nextRole;if(w){var k=i.default.createElement("div",{className:"card-div",style:{width:200}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid red"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,w),i.default.createElement("p",null,"(最后期限：",this.state.leaveApply.remDate,")"))));p.push(k)}var x=220*p.length+10+"px",D=i.default.createElement(s.Form,{layout:e,style:{width:"700px"}},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"假期类型",required:!1,colon:!0,className:t,help:o.leaveTypeHint,validateStatus:o.leaveTypeStatus}),i.default.createElement(s.Input,{type:"text",name:"leaveType",id:"leaveType",value:b.getOptionName("HR系统","假期类型",this.state.leaveApply.leaveType,!1,this),disabled:!0}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"剩余天数",required:!1,colon:!0,className:t}),i.default.createElement(g.default,{type:this.state.leaveType,readOnly:!0,value:this.state.leave,remainday:!0})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(S,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(f.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(S,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"beginDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(S,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(E,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(S,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"endDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(S,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(E,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"申请天数",required:!1,colon:!0,className:t}),i.default.createElement(g.default,{ref:"LeaveInput",type:this.state.leaveType,readOnly:!1,value:this.state.leaveApply}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"备注",required:!1,colon:!0,className:t,help:o.memo2Hint,validateStatus:o.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(S,n({},a,{label:"休假事由",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,onChange:this.handleOnChange})),i.default.createElement(S,{layout:"vertical",label:"审批状态",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus},i.default.createElement("div",{style:{width:"100%",padding:"14px",border:"1px solid #eee",overflowX:"scroll"}},i.default.createElement("div",{style:{width:x,height:"120px"}},p))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:c},"保存")," ",i.default.createElement(s.Button,{key:"btnRevoke",size:"large",onClick:this.onClickRevoke,style:v,disabled:h},"撤销"),i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle,style:{marginLeft:"3px"}},"取消")));return i.default.createElement("div",{style:{padding:"24px 0 16px 20px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/update"]}),this.state.loading?i.default.createElement(s.Spin,null,D):D)}});t.default=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=(r(m),a(100)),f=r(h),v=a(1),g=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),y=(s.Select.Option,s.Input.Group),S=a(6),E=a(3),C=a(129),b=a(95),w=a(86),k=i.default.createClass({displayName:"UpdateUnpaidLeaveApplyPage",getInitialState:function(){return{afterChange:this.afterChange,workDailySet:{},loading:!1,modal:!1,leaveApply:{},hints:{},validRules:[]}},mixins:[v.listenTo(b,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,workDailySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"memo2",desc:"备注",required:!1,max:"512"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}]},initPage:function(e){this.state.hints={},E.copyValue(e,this.state.leaveApply);var t=e.accrued,a="0",r="0",n=t.indexOf(".");n>0?(a=t.substr(0,n),r=t.substr(n+1)):a=t,this.state.leaveApply.accruedDay=a,this.state.leaveApply.accruedHour=r,this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},checkValue:function(e,t){if("beginHour"===t.id||"endHour"===t.id){var a=parseInt(e);if(a>18||a<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]"},afterChange:function(e,t){"beginDate"!==e&&"beginHour"!==e&&"endDate"!==e&&"endHour"!==e||C.calcLeafDays(this.state.leaveApply)},handleOnChange2:function(e){var t=this.state.leaveApply;t[e.target.id]=e.target.value;var a=this.checkValue(e.target.value,{id:e.target.id});this.state.hints[e.target.id+"Hint"]=a,S.validator(this,t,e.target.id),this.setState({loading:this.state.loading})},onClickSave:function(){if(S.formValidator(this,this.state.leaveApply)){var e=parseInt(this.state.leaveApply.accruedHour)>0?"."+this.state.leaveApply.accruedHour:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+e;var t=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=t.projName,this.setState({loading:!0}),w.updateLeaveApply(this.state.leaveApply)}},onClickRevoke:function(){this.setState({loading:!0}),w.revokeLeaveApply(this.state.leaveApply)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=S.dateFormat,c=!1,p=[],m=this.state.leaveApply.provNodes;m&&(p=m.map(function(e,t){return i.default.createElement("div",{className:"card-div",style:{width:200
}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,e.provName),i.default.createElement("p",null,"(",e.provStatus,", ",e.provDate,")"))))}),m.length>0&&(c=!0));var h=!1,v={color:"red"},E=this.state.leaveApply.status;"撤销"!==E&&"已销假"!==E||(c=!0,h=!0,v=null);var C=this.state.leaveApply.nextRole;if(C){var b=i.default.createElement("div",{className:"card-div",style:{width:200}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid red"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,C),i.default.createElement("p",null,"(最后期限：",this.state.leaveApply.remDate,")"))));p.push(b)}var w=220*p.length+10+"px";return i.default.createElement(s.Modal,{visible:this.state.modal,width:"640px",title:"修改无薪假",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/update"]}),i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:c},"保存")," ",i.default.createElement(s.Button,{key:"btnRevoke",size:"large",onClick:this.onClickRevoke,style:v,disabled:h},"撤销"),i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(s.Form,{layout:e},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(g,n({},r,{label:"假期类型",required:!1,colon:!0,className:t,help:o.leaveTypeHint,validateStatus:o.leaveTypeStatus}),i.default.createElement(s.Input,{type:"text",name:"leaveType",id:"leaveType",value:this.state.leaveApply.leaveType,disabled:!0})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(g,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(f.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(g,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"beginDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(g,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(g,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"endDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(g,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"申请天数",required:!1,colon:!0,className:t}),i.default.createElement(s.Col,{className:"gutter-row",span:13},i.default.createElement(g,{help:o.accruedDayHint,validateStatus:o.accruedDayStatus},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"70%"},type:"text",name:"accruedDay",id:"accruedDay",value:this.state.leaveApply.accruedDay,onChange:this.handleOnChange,readOnly:!1}),i.default.createElement(s.Input,{style:{width:"30%",textAlign:"center"},className:"gutter-row",defaultValue:"天",readOnly:!0})))),i.default.createElement(s.Col,{className:"gutter-row",span:11},i.default.createElement(g,{help:o.accruedHourHint,validateStatus:o.accruedHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(y,{compact:!0},i.default.createElement(s.Input,{style:{width:"55%"},type:"text",name:"accruedHour",id:"accruedHour",value:this.state.leaveApply.accruedHour,onChange:this.handleOnChange,readOnly:!1}),i.default.createElement(s.Input,{style:{width:"45%",textAlign:"center"},className:"gutter-row",defaultValue:"小时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(g,n({},l,{label:"备注",required:!1,colon:!0,className:t,help:o.memo2Hint,validateStatus:o.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{label:"休假事由",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,onChange:this.handleOnChange})),i.default.createElement(g,{layout:"vertical",label:"审批状态",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus},i.default.createElement("div",{style:{width:"100%",padding:"14px",border:"1px solid #eee",overflowX:"scroll"}},i.default.createElement("div",{style:{width:w,height:"120px"}},p)))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(12),h=(r(m),a(100)),f=r(h),v=a(209),g=r(v),y=a(1),S=(s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),E=(s.Select.Option,s.Input.Group),C=a(6),b=a(3),w=a(129),k=a(95),x=a(86),D=i.default.createClass({displayName:"UpdateUnpaidLeavePage",getInitialState:function(){return{afterChange:this.afterChange,workDailySet:{},loading:!1,modal:!1,leaveApply:{},hints:{},validRules:[]}},mixins:[y.listenTo(k,"onServiceComplete"),(0,p.default)("leaveApply")],onServiceComplete:function(e){this.setState({loading:!1,workDailySet:e})},componentDidMount:function(){this.state.validRules=[{id:"leaveType",desc:"假期类型",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"beginHour",desc:"开始时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"endHour",desc:"结束时",required:!0,dataType:"number",validator:this.checkValue,max:"12"},{id:"memo2",desc:"备注",required:!1,max:"512"},{id:"reason",desc:"休假原因",required:!1,max:"2048"}],this.initPage(this.props.leaveApply)},initPage:function(e){this.state.hints={},b.copyValue(e,this.state.leaveApply);var t=e.accrued,a="0",r="0",n=t.indexOf(".");n>0?(a=t.substr(0,n),r=t.substr(n+1)):a=t,this.state.leaveApply.accruedDay=a,this.state.leaveApply.accruedHour=r,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({loading:!1})},checkValue:function(e,t){if("beginHour"===t.id||"endHour"===t.id){var a=parseInt(e);if(a>18||a<9)return"[请输入9~18]"}else if("accruedDay"===t.id){if(parseInt(e)>365)return"[请输入0~365]"}else if("accruedHour"===t.id&&parseInt(e)>7)return"[请输入0~7]"},afterChange:function(e,t){"beginDate"!==e&&"beginHour"!==e&&"endDate"!==e&&"endHour"!==e||w.calcLeafDays(this.state.leaveApply)},handleOnChange2:function(e){var t=this.state.leaveApply;t[e.target.id]=e.target.value;var a=this.checkValue(e.target.value,{id:e.target.id});this.state.hints[e.target.id+"Hint"]=a,C.validator(this,t,e.target.id),this.setState({loading:this.state.loading})},onClickSave:function(){if(C.formValidator(this,this.state.leaveApply)){this.state.leaveApply.accruedDay=this.refs.LeaveInput.state.accruedDay,this.state.leaveApply.accruedHour=this.refs.LeaveInput.state.accruedHour;var e=this.state.leaveApply.accruedHour,t=parseInt(e)>0?"."+e:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+t;var a=this.refs.userProj.getUserProjNode();this.state.leaveApply.projName=a.projName,this.setState({loading:!0}),x.updateLeaveApply(this.state.leaveApply)}},onClickRevoke:function(){this.setState({loading:!0}),this.state.leaveApply.accruedDay=this.refs.LeaveInput.state.accruedDay,this.state.leaveApply.accruedHour=this.refs.LeaveInput.state.accruedHour;var e=this.state.leaveApply.accruedHour,t=parseInt(e)>0?"."+e:"";this.state.leaveApply.accrued=this.state.leaveApply.accruedDay+t,x.revokeLeaveApply(this.state.leaveApply)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},o=this.state.hints,d=C.dateFormat,c=!1,p=[],m=this.state.leaveApply.provNodes;m&&(p=m.map(function(e,t){return i.default.createElement("div",{className:"card-div",style:{width:200}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,e.provName),i.default.createElement("p",null,"(",e.provStatus,", ",e.provDate,")"))))}),m.length>0&&(c=!0));var h=!1,v={color:"red"},y=this.state.leaveApply.status;"撤销"!==y&&"已销假"!==y||(c=!0,h=!0,v=null);var b=this.state.leaveApply.nextRole;if(b){var w=i.default.createElement("div",{className:"card-div",style:{width:200}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid red"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,b),i.default.createElement("p",null,"(最后期限：",this.state.leaveApply.remDate,")"))));p.push(w)}var k=220*p.length+10+"px",x=i.default.createElement(s.Form,{layout:e,style:{width:"700px"}},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(S,n({},r,{label:"假期类型",required:!1,colon:!0,className:t,help:o.leaveTypeHint,validateStatus:o.leaveTypeStatus}),i.default.createElement(s.Input,{type:"text",name:"leaveType",id:"leaveType",value:this.state.leaveApply.leaveType,disabled:!0})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:12},i.default.createElement(S,n({},r,{label:"项目组",required:!1,colon:!0,className:t}),i.default.createElement(f.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.leaveApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"开始日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(S,{help:o.beginDateHint,validateStatus:o.beginDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.leaveApply.beginDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"beginDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(S,{help:o.beginHourHint,validateStatus:o.beginHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(E,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"beginHour",id:"beginHour",value:this.state.leaveApply.beginHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0})))))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"结束日期",required:!0,colon:!0,className:t}),i.default.createElement(s.Col,{span:"13"},i.default.createElement(S,{help:o.endDateHint,validateStatus:o.endDateStatus},i.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.leaveApply.endDate,d),format:d,onChange:this.handleOnSelDate.bind(this,"endDate",d)}))),i.default.createElement(s.Col,{span:"11"},i.default.createElement(S,{className:t,help:o.endHourHint,validateStatus:o.endHourStatus,style:{margin:"0 0 0 8px"}},i.default.createElement(E,{compact:!0},i.default.createElement(s.Input,{style:{width:"65%"},type:"text",name:"endHour",id:"endHour",value:this.state.leaveApply.endHour,onChange:this.handleOnChange}),i.default.createElement(s.Input,{style:{width:"35%",textAlign:"center"},defaultValue:"时",readOnly:!0}))))))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"申请天数",required:!1,colon:!0,className:t}),i.default.createElement(g.default,{ref:"LeaveInput",type:"dayoff",readOnly:!1,value:this.state.leaveApply}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"备注",required:!1,colon:!0,className:t,help:o.memo2Hint,validateStatus:o.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.leaveApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(S,n({},a,{label:"休假事由",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",value:this.state.leaveApply.reason,onChange:this.handleOnChange})),i.default.createElement(S,{layout:"vertical",label:"审批状态",required:!1,colon:!0,className:t,help:o.payMemoHint,validateStatus:o.payMemoStatus},i.default.createElement("div",{style:{width:"100%",padding:"14px",border:"1px solid #eee",overflowX:"scroll"}},i.default.createElement("div",{style:{width:k,height:"120px"}},p))),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:c},"保存")," ",i.default.createElement(s.Button,{key:"btnRevoke",size:"large",onClick:this.onClickRevoke,style:v,disabled:h},"撤销"),i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle,style:{marginLeft:"3px"}},"取消")));return i.default.createElement("div",{style:{padding:"24px 0 16px 20px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["leave_apply/update"]}),this.state.loading?i.default.createElement(s.Spin,null,x):x)}});t.default=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(637),p=r(c),m=a(636),h=r(m),f=a(634),v=r(f),g=a(990),y=r(g),S=a(992),E=r(S),C=a(994),b=r(C),w=a(996),k=r(w),x=a(988),D=r(x),N=a(986),P=r(N),I=a(413),j=r(I),U=a(1),R=a(6),O=(a(3),u.Tabs.TabPane),T=a(95),L=a(86),H=a(412),M=a(312),A=l.default.createClass({displayName:"LeavePage",getInitialState:function(){return{leaveSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,errMsg:""},loading:!1,leaveLoading:!1,leave:{},userUuid:""}},mixins:[U.listenTo(T,"onServiceComplete"),U.listenTo(H,"onServiceComplete2")],onServiceComplete:function(e){this.setState({loading:!1,leaveSet:e})},onServiceComplete2:function(e){"retrieve"===e.operation&&this.setState({leaveLoading:!1,leave:e.leavelogper||{}})},componentDidMount:function(){if(this.setState({loading:!0}),window.loginData.compUser){this.setState({loading:!0,leaveLoading:!0});var e={corpUuid:window.loginData.compUser.corpUuid,staffCode:window.loginData.compUser.userCode};L.initLeaveApply(e);var t=window.loginData.compUser.corpUuid,a=window.loginData.compUser.userCode;M.initLeaveLogPerInfo(t,a)}},render:function(){for(var e=R.getGridMargin(this,0),t=this.state.leaveSet.recordSet,a=null,r=null,n=null,i=null,o=0;o<t.length;o++)"已销假"!=t[o].status&&"撤销"!=t[o].status&&"待休假"!=t[o].status&&("病假"===t[o].leaveType||"事假"===t[o].leaveType||"其他无薪假期"===t[o].leaveType?a=l.default.createElement(O,{tab:"修改无薪假",key:"1",style:{width:"100%",height:"100%"}},l.default.createElement(k.default,{leaveApply:t[o]})):r=l.default.createElement(O,{tab:"修改带薪假",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement(b.default,{leaveApply:t[o],leave:this.state.leave}))),"待休假"==t[o].status&&("病假"===t[o].leaveType||"事假"===t[o].leaveType||"其他无薪假期"===t[o].leaveType?n=l.default.createElement(O,{tab:"无薪假销假",key:"7",style:{width:"100%",height:"100%"}},l.default.createElement(D.default,{leaveApply:t[o]})):i=l.default.createElement(O,{tab:"带薪假销假",key:"8",style:{width:"100%",height:"100%"}},l.default.createElement(P.default,{leaveApply:t[o],leave:this.state.leave})));return l.default.createElement("div",{className:"tab-page",style:{padding:e.padding}},l.default.createElement("div",{style:{margin:e.margin}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["leave_apply/retrieve"]})),l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(u.Tabs,{defaultActiveKey:"1",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},a?a:l.default.createElement(O,{tab:"无薪假申请",key:"1",style:{width:"100%",height:"100%"}},l.default.createElement(E.default,null)),r?r:l.default.createElement(O,{tab:"带薪假申请",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement(y.default,{leave:this.state.leave})),n?n:"",i?i:"",l.default.createElement(O,{tab:"剩余假期",key:"3",style:{width:"100%",height:"100%"}},l.default.createElement(p.default,null)),l.default.createElement(O,{tab:"剩余假期明细",key:"4",style:{width:"100%",height:"100%"}},l.default.createElement(h.default,{userUuid:this.state.userUuid})),l.default.createElement(O,{tab:"休假记录",key:"5",style:{width:"100%",height:"100%"}},l.default.createElement(v.default,null)),l.default.createElement(O,{tab:"休假申请记录",key:"6",style:{width:"100%",height:"100%"}},l.default.createElement(j.default,null)))))}});e.exports=A},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(100),u=r(d),c=a(654),p=r(c),m=a(7),h=r(m),f=a(9),v=r(f),g=a(21),y=r(g),S=a(1),E=s.Form.Item,C=(s.Select.Option,a(6)),b=(a(3),a(414)),w=a(313),k="",x=i.default.createClass({displayName:"CreateOverWorkApplyPage",getInitialState:function(){return{overWorkApplySet:{},loading:!1,modal:!1,overWorkApply:{},hints:{},validRules:[]}},mixins:[S.listenTo(b,"onServiceComplete"),(0,v.default)("overWorkApply"),(0,y.default)()],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,overWorkApplySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"开始日期",required:!0,max:64},{id:"endDate",desc:"结束日期",required:!0,max:64},{id:"projUuid",desc:"项目名称",required:!0,max:128},{id:"dateType",desc:"日期类型",max:64},{id:"ordUuid",desc:"订单名称",max:128},{id:"memo2",desc:"备注",max:512},{id:"reason",desc:"加班原因",required:!0,max:512}]},clear:function(e){this.state.hints={},this.state.overWorkApply.uuid="",this.state.overWorkApply.filter=e,this.state.overWorkApply.beginDate="",this.state.overWorkApply.projUuid="",this.state.overWorkApply.flowCode="cost.OVERWORK",this.state.overWorkApply.endDate="",this.state.overWorkApply.dateType="",this.state.overWorkApply.ordUuid="",this.state.overWorkApply.memo2="",this.state.overWorkApply.reason="",this.state.overWorkApply.status="待审批",this.state.overWorkApply.applyDay=C.getToday()+"",this.state.overWorkApply.staffCode=window.loginData.compUser.userCode,this.state.overWorkApply.corpUuid=window.loginData.compUser.corpUuid,this.state.overWorkApply.staffCode=window.loginData.compUser.userCode,this.state.overWorkApply.perName=window.loginData.authUser.perName,this.state.overWorkApply.proposer=window.loginData.authUser.perName,this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){if(C.formValidator(this,this.state.overWorkApply)){this.setState({loading:!0});var e=this.refs.userProj.getUserProjNode(),t=this.refs.ordName.getOrdNameNode();this.state.overWorkApply.projName=e.projName,this.state.overWorkApply.pmName=e.pmName,this.state.overWorkApply.ordName=t.ordName,this.state.overWorkApply.dateType=k,w.createOverWorkApply(this.state.overWorkApply)}},dayToString:function(e){return e=e.toString(),e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)},getNewDay:function(e,t){var e=e.split("-"),a=new Date(e[1]+"-"+e[2]+"-"+e[0]),r=Math.abs(a)+24*t*60*60*1e3,n=new Date(r),l=n.getFullYear(),i=n.getMonth()+1;i<10&&(i="0"+i);var o=n.getDate();return o<10&&(o="0"+o),l+"-"+i+"-"+o},getDayLength:function(e,t){var a,r,n,l;return a=e.split("-"),r=new Date(a[1]+"-"+a[2]+"-"+a[0]),a=t.split("-"),n=new Date(a[1]+"-"+a[2]+"-"+a[0]),l=parseInt(Math.abs(r-n)/1e3/60/60/24)},calculatedDate:function(){var e=this.state.overWorkApply.beginDate,t=this.state.overWorkApply.endDate,a=[];if(e&&t)for(var r=this.getDayLength(this.dayToString(e),this.dayToString(t)),n=0;n<r+1;n++)a.push(this.getNewDay(this.dayToString(e),n).replace(/-/g,""));if(""!==e&&""!==t){k="工作日";for(var n=0;n<=r;n++){var l=this.getDateType(String(a[n]));if("2"==l){k="节假日";break}"1"==l&&(k="周末")}}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints;return this.calculatedDate(),i.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"加班申请",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(h.default,{ref:"mxgBox",svcList:["over_work_apply/create"]}),i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(s.Form,{layout:e},i.default.createElement(s.Row,{type:"flex"},i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"开始日期",required:!0,colon:!0,help:l.beginDateHint,validateStatus:l.beginDateStatus}),i.default.createElement(s.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.overWorkApply.beginDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"结束日期",required:!0,colon:!0,help:l.endDateHint,validateStatus:l.endDateStatus}),i.default.createElement(s.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.overWorkApply.endDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})))),i.default.createElement(s.Row,{type:"flex"},i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"项目名称",required:!0,colon:!0,help:l.projUuidHint,validateStatus:l.projUuidStatus}),i.default.createElement(u.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.overWorkApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"订单名称",colon:!0,help:l.ordUuidHint,validateStatus:l.ordUuidStatus}),i.default.createElement(p.default,{ref:"ordName",name:"ordUuid",id:"ordUuid",value:this.state.overWorkApply.ordUuid,onSelect:this.handleOnSelected.bind(this,"ordUuid"),projUuid:this.state.overWorkApply.projUuid})))),i.default.createElement(s.Row,{type:"flex"},i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"日期类型",colon:!0,help:l.dateTypeHint,validateStatus:l.dateTypeStatus}),i.default.createElement(s.Input,{type:"text",name:"dateType",id:"dateType",value:k,onChange:this.handleOnChange,disabled:!0}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"备注",colon:!0,help:l.memo2Hint,validateStatus:l.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.overWorkApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(E,n({},a,{className:t,label:"加班原因",required:!0,colon:!0,help:l.reasonHint,validateStatus:l.reasonStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",style:{height:"100px"},value:this.state.overWorkApply.reason,onChange:this.handleOnChange}))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(100),u=r(d),c=a(654),p=r(c),m=a(7),h=r(m),f=a(9),v=r(f),g=a(21),y=r(g),S=a(1),E=s.Form.Item,C=(s.Select.Option,a(6)),b=a(3),w=a(414),k=a(313),x="",D=i.default.createClass({displayName:"UpdateOverWorkApplyPage",getInitialState:function(){return{overWorkApplySet:{},loading:!1,modal:!1,overWorkApply:{},hints:{},validRules:[]}},mixins:[S.listenTo(w,"onServiceComplete"),(0,v.default)("overWorkApply"),(0,y.default)()],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,overWorkApplySet:e}))},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"开始日期",required:!0,max:64},{id:"endDate",desc:"结束日期",required:!0,max:64},{id:"projName",desc:"项目名称",required:!0,max:128},{id:"dateType",desc:"日期类型",max:64},{id:"ordUuid",desc:"订单名称",max:128},{id:"memo2",desc:"备注",max:512},{id:"reason",desc:"加班原因",required:!0,max:512}]},initPage:function(e){this.state.hints={},b.copyValue(e,this.state.overWorkApply),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){if(C.formValidator(this,this.state.overWorkApply)){this.setState({loading:!0});var e=this.refs.userProj.getUserProjNode(),t=this.refs.ordName.getOrdNameNode();this.state.overWorkApply.projName=e.projName,this.state.overWorkApply.ordName=t.ordName,this.state.overWorkApply.dateType=x,k.updateOverWorkApply(this.state.overWorkApply)}},onClickRevoke:function(){this.setState({loading:!0}),this.state.overWorkApply.status="撤销",k.revokeOverWorkApply(this.state.overWorkApply)},dayToString:function(e){return e=e.toString(),e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)},getNewDay:function(e,t){var e=e.split("-"),a=new Date(e[1]+"-"+e[2]+"-"+e[0]),r=Math.abs(a)+24*t*60*60*1e3,n=new Date(r),l=n.getFullYear(),i=n.getMonth()+1;i<10&&(i="0"+i);var o=n.getDate();return o<10&&(o="0"+o),l+"-"+i+"-"+o},getDayLength:function(e,t){var a,r,n,l;return a=e.split("-"),r=new Date(a[1]+"-"+a[2]+"-"+a[0]),a=t.split("-"),n=new Date(a[1]+"-"+a[2]+"-"+a[0]),l=parseInt(Math.abs(r-n)/1e3/60/60/24)},calculatedDate:function(){var e=this.state.overWorkApply.beginDate,t=this.state.overWorkApply.endDate,a=[];if(e&&t)for(var r=this.getDayLength(this.dayToString(e),this.dayToString(t)),n=0;n<r+1;n++)a.push(this.getNewDay(this.dayToString(e),n).replace(/-/g,""));if(""!==e&&""!==t){x="工作日";for(var n=0;n<=r;n++){var l=this.getDateType(String(a[n]));if("2"==l){x="节假日";break}"1"==l&&(x="周末")}}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=[],o=!1,d=!1,c=this.state.overWorkApply.status;"撤销"!==c&&"已销假"!==c||(o=!0,d=!0);var m=this.state.overWorkApply.provNodes;m&&(l=m.map(function(e,t){return i.default.createElement("div",{className:"card-div",style:{width:200}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid red"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,e.provName),i.default.createElement("p",null,"(",e.provStatus,", ",e.provDate,")"))))}),m.length>0&&(o=!0));220*l.length+10+"px";this.calculatedDate();var f=this.state.hints;return i.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"修改申请",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(h.default,{ref:"mxgBox",svcList:["overWorkApply/update"]}),i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:o},"保存")," ",i.default.createElement(s.Button,{key:"btnRevoke",size:"large",onClick:this.onClickRevoke,style:{color:"red"},disabled:d},"撤销"),i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(s.Form,{layout:e},i.default.createElement(s.Row,{type:"flex"},i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"开始日期",required:!0,colon:!0,help:f.beginDateHint,validateStatus:f.beginDateStatus}),i.default.createElement(s.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.overWorkApply.beginDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"结束日期",required:!0,colon:!0,help:f.endDateHint,validateStatus:f.endDateStatus}),i.default.createElement(s.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.overWorkApply.endDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})))),i.default.createElement(s.Row,{type:"flex"},i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"项目名称",required:!0,colon:!0,help:f.projUuidHint,validateStatus:f.projUuidStatus}),i.default.createElement(u.default,{ref:"userProj",name:"projUuid",id:"projUuid",value:this.state.overWorkApply.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"订单名称",colon:!0,help:f.ordUuidHint,validateStatus:f.ordUuidStatus}),i.default.createElement(p.default,{ref:"ordName",name:"ordUuid",id:"ordUuid",value:this.state.overWorkApply.ordUuid,onSelect:this.handleOnSelected.bind(this,"ordUuid"),projUuid:this.state.overWorkApply.projUuid
})))),i.default.createElement(s.Row,{type:"flex"},i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"日期类型",colon:!0,help:f.dateTypeHint,validateStatus:f.dateTypeStatus}),i.default.createElement(s.Input,{type:"text",name:"dateType",id:"dateType",value:x,onChange:this.handleOnChange,disabled:!0}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(E,n({},r,{className:t,label:"备注",colon:!0,help:f.memo2Hint,validateStatus:f.memo2Status}),i.default.createElement(s.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.overWorkApply.memo2,onChange:this.handleOnChange})))),i.default.createElement(E,n({},a,{className:t,label:"加班原因",required:!0,colon:!0,help:f.reasonHint,validateStatus:f.reasonStatus}),i.default.createElement(s.Input,{type:"textarea",name:"reason",id:"reason",style:{height:"100px"},value:this.state.overWorkApply.reason,onChange:this.handleOnChange})),i.default.createElement(E,n({layout:"vertical"},a,{label:"审批状态",required:!1,colon:!0,className:t,help:f.payMemoHint,validateStatus:f.payMemoStatus}),i.default.createElement("div",{style:{width:"100%",padding:"14px",border:"1px solid #eee",overflowX:"scroll"}},i.default.createElement("div",{style:{height:"120px"}},l)))))}});t.default=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(998),p=r(c),m=a(999),h=r(m),f=a(1),v=(s.Input.Search,a(6)),g=(a(3),a(414)),y=a(313),S="",E=10,C=l.default.createClass({displayName:"OverWorkApplyPage",getInitialState:function(){return{overWorkApplySet:{recordSet:[],errMsg:""},loading:!1,filter:{}}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,overWorkApplySet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.setState({loading:!0});var t=this.state.filter;t.corpUuid=window.loginData.compUser.corpUuid,t.staffCode=window.loginData.compUser.userCode,y.retrieveOverWorkApplyPage(t,this.state.overWorkApplySet.startPage,E)},onChangePage:function(e){this.state.overWorkApplySet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){E=t,this.handleQueryClick()},componentDidMount:function(){this.setState({loading:!0});var e=this.state.filter;e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,y.initOverWorkApply(e)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},render:function(){var e=this,t=v.filter(this.state.overWorkApplySet.recordSet,S),a=[{title:"日期类型",dataIndex:"dateType",key:"dateType",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"申请日期",dataIndex:"applyDay",key:"applyDay",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"状态",dataIndex:"status",key:"status",width:140},{title:"操作",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改员工加班申请"},l.default.createElement(s.Icon,{type:v.iconUpdate})))}}],r=v.getGridMargin(this),n={showQuickJumper:!0,total:this.state.overWorkApplySet.totalRow,pageSize:this.state.overWorkApplySet.pageRow,current:this.state.overWorkApplySet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return l.default.createElement("div",{className:"grid-page",style:{padding:r.padding}},l.default.createElement("div",{style:{margin:r.margin}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["overWorkApply/retrieve","overWorkApply/remove"]}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(s.Button,{icon:v.iconAdd,type:"primary",title:"增加员工加班申请",onClick:this.handleOpenCreateWindow}),l.default.createElement(s.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})))),l.default.createElement("div",{className:"grid-body"},l.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:n,size:"middle",bordered:v.tableBorder})),l.default.createElement(p.default,{ref:"createWindow"}),l.default.createElement(h.default,{ref:"updateWindow"}))}});e.exports=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(2),o=r(i),s=a(5),d=(r(s),a(4)),u=a(7),c=r(u),p=a(9),m=r(p),h=a(19),f=r(h),v=a(1),g=(d.DatePicker.MonthPicker,d.DatePicker.RangePicker,d.Tabs.TabPane),y=d.Form.Item,S=(d.Select.Option,a(6),a(3)),E=a(643),C=a(415),b=o.default.createClass({displayName:"ChkFlowPage",getInitialState:function(){return{chkFlow:{},chkFlowObj:{},loading:!1,modal:!1,html:"",errMsg:"",hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,m.default)("chkFlow")],onServiceComplete:function(e){"check"===e.operation&&(""===e.errMsg?(this.setState({loading:!0}),this.goBack()):this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"nodeStatus",desc:"节点审批状态：通过，拒绝",required:!0,max:"24"},{id:"checkMemo",desc:"审批说明",required:!0,max:"24"}];var e=this.props.obj;this.initPage(e),this.clear()},initPage:function(e){this.state.hints={};var t={};t.nodeUuid=e.nextuuid,t.chkUuid=e.uuid,t.perName=window.loginData.authUser.perName,t.staffCode=window.loginData.compUser.userCode,S.copyValue(t,this.state.chkFlow),S.copyValue(e,this.state.chkFlowObj);var a=e.formUrl,r=e.formUuid;this.onGetHtml(r,a),this.state.loading=!1},getServiceUrl:function(e){var t=e.indexOf("/"),a=(e.substr(2,t-3),e.substr(t+1));return S.costUrl+a},onGetHtml:function(e,t){var a=this,r=this.getServiceUrl(t);S.doCreateService(r,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?a.onSuccess(e.object):a.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,r){a.showError("未知错误")})},showError:function(e){this.setState({errMsg:e})},onSuccess:function(e){this.setState({html:e})},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},clear:function(){this.state.chkFlow.nodeStatus="同意",this.state.chkFlow.checkMemo=""},onClickSave:function(){this.setState({loading:!0}),C.createChkFlow(this.state.chkFlow)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,i=this.state.html,s=[],u=this.state.chkFlowObj.node;if(void 0!=l(this.state.chkFlowObj.flowName))var p=this.state.chkFlowObj.flowName;u&&(s=u.map(function(e,t){return"未审"===e.nodeStatus?o.default.createElement("div",{className:"card-div",style:{width:200}},o.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid #FFA6FF"}},o.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},o.default.createElement("p",null,e.nodeName),o.default.createElement("p",null,"(",e.nodeStatus,", ",e.roleName,")")))):o.default.createElement("div",{className:"card-div",style:{width:200},title:e.checkMemo},o.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid #ccc"}},o.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},o.default.createElement("p",null,e.nodeName,"(",e.provName,", ",e.provCode,")"),o.default.createElement("p",null,"(",e.nodeStatus,", ",e.checkDate,")"))))})),i&&(i=o.default.createElement("div",{style:{width:"100%",height:"100%",border:"1px solid #eee"},dangerouslySetInnerHTML:{__html:i}}));var m=o.default.createElement(g,{tab:p+"审批 ",key:"2",style:{width:"100%",height:"100%"}},o.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},o.default.createElement(c.default,{ref:"mxgBox",svcList:["chk-flow/check"]}),o.default.createElement(d.Form,{layout:e,style:{width:"100%",maxWidth:"800px"}},o.default.createElement("div",{style:{paddingLeft:"55px",paddingBottom:"20px",width:"100%"}},i),o.default.createElement("div",{style:{paddingLeft:"55px",paddingBottom:"20px",width:"100%"}},o.default.createElement(y,{layout:"vertical",label:"审批状态",required:!1,colon:!0,className:t,help:r.payMemoHint,validateStatus:r.payMemoStatus},o.default.createElement("div",{style:{width:"100%",padding:"14px",border:"1px solid #eee",overflowX:"auto"}},o.default.createElement("div",{style:{width:h,height:"120px"}},s)))),o.default.createElement(d.Row,null,o.default.createElement(y,n({},a,{label:"审批结果",required:!0,colon:!0,className:t,help:r.nodeStatusHint,validateStatus:r.nodeStatusStatus}),o.default.createElement(f.default,{name:"nodeStatus",id:"nodeStatus",value:this.state.chkFlow.nodeStatus,appName:"流程管理",optName:"审批状态",onChange:this.onRadioChange}))),o.default.createElement(y,n({},a,{label:"审批说明",required:!1,colon:!0,className:t,help:r.checkMemoHint,validateStatus:r.checkMemoStatus}),o.default.createElement(d.Input,{type:"textarea",name:"checkMemo",id:"checkMemo",value:this.state.chkFlow.checkMemo,onChange:this.handleOnChange,style:{height:"100px"}})),o.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},className:t},o.default.createElement(d.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(d.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))),";")),h=220*s.length+10+"px";return o.default.createElement("div",{style:{overflow:"hidden",height:"100%"}},o.default.createElement(d.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},o.default.createElement(g,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),m))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),p=r(c),m=a(19),h=(r(m),a(1),s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Tabs.TabPane),f=s.Form.Item,v=(s.Select.Option,a(6),a(3)),g=i.default.createClass({displayName:"ChkFlowViewPage",getInitialState:function(){return{chkFlow:{},chkFlowObj:{},loading:!1,modal:!1,html:"",errMsg:"",hints:{},validRules:[]}},mixins:[(0,p.default)("chkFlow")],componentDidMount:function(){var e=this.props.obj;this.initPage(e),this.clear()},initPage:function(e){this.state.hints={};var t={};t.nodeUuid=e.nextuuid,t.chkUuid=e.uuid,t.perName=e.perName,t.staffCode=e.staffCode,v.copyValue(t,this.state.chkFlow),v.copyValue(e,this.state.chkFlowObj);var a=e.formUrl,r=e.formUuid;this.onGetHtml(r,a),this.state.loading=!1},getServiceUrl:function(e){var t=e.indexOf("/"),a=(e.substr(2,t-3),e.substr(t+1));return v.costUrl+a},onGetHtml:function(e,t){var a=this,r=this.getServiceUrl(t);v.doCreateService(r,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?a.onSuccess(e.object):a.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,r){a.showError("未知错误")})},showError:function(e){this.setState({errMsg:e})},onSuccess:function(e){this.setState({html:e})},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},clear:function(){},render:function(){var e="horizontal",t="form-item-"+e,a=this.state.hints,r=this.state.html;console.log(this.state);var l=[],o=this.state.chkFlowObj.node;if(console.log(this.state.chkFlowObj),void 0!=n(this.state.chkFlowObj.flowName))var d=this.state.chkFlowObj.flowName;o&&(l=o.map(function(e,t){return"未审"===e.nodeStatus?i.default.createElement("div",{className:"card-div",style:{width:200}},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid #FFA6FF"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,e.nodeName),i.default.createElement("p",null,"(",e.nodeStatus,", ",e.roleName,")")))):i.default.createElement("div",{className:"card-div",style:{width:200},title:e.checkMemo},i.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%",border:"1px solid #ccc"}},i.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},i.default.createElement("p",null,e.nodeName,"(",e.provName,", ",e.provCode,")"),i.default.createElement("p",null,"(",e.nodeStatus,", ",e.checkDate,")"))))})),r&&(r=i.default.createElement("div",{style:{width:"100%",height:"100%",border:"1px solid #eee"},dangerouslySetInnerHTML:{__html:r}}));var c=i.default.createElement(h,{tab:d+"审批 ",key:"2",style:{width:"100%",height:"100%"}},i.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["chk-flow/check"]}),i.default.createElement(s.Form,{layout:e,style:{width:"100%",maxWidth:"800px"}},i.default.createElement("div",{style:{paddingLeft:"55px",paddingBottom:"20px",width:"100%"}},r),i.default.createElement("div",{style:{paddingLeft:"55px",paddingBottom:"20px",width:"100%"}},i.default.createElement(f,{layout:"vertical",label:"审批状态",required:!1,colon:!0,className:t,help:a.payMemoHint,validateStatus:a.payMemoStatus},i.default.createElement("div",{style:{width:"100%",padding:"14px",border:"1px solid #eee",overflowX:"auto"}},i.default.createElement("div",{style:{width:p,height:"120px"}},l))))),";")),p=220*l.length+10+"px";return i.default.createElement("div",{style:{overflow:"hidden",height:"100%"}},i.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},i.default.createElement(h,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),c))}});t.default=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),p=r(c),m=a(639),h=r(m),f=a(1002),v=r(f),g=a(1),y=a(6),S=(a(3),a(1004)),E=a(641),C=10,b=l.default.createClass({displayName:"ProvFlowPage",getInitialState:function(){return{flowSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,obj:{},action:"query",filterValue:""}},mixins:[g.listenTo(S,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,flowSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=this.getPastSixtyDay(),a=y.getToday(),r={};r.nextUserStaffCode=window.loginData.compUser.userCode,r.corpUuid=window.loginData.compUser.corpUuid,r.applyDate1=t,r.applyDate2=a,r.flowUuid=this.state.filterValue,E.retrieveChkFlowPage(r,this.state.flowSet.startPage,C)},componentDidMount:function(){var e=this.getPastSixtyDay(),t=y.getToday(),a={};a.nextUserStaffCode=window.loginData.compUser.userCode,a.corpUuid=window.loginData.compUser.corpUuid,a.applyDate1=e,a.applyDate2=t,this.setState({loading:!0}),E.initChkFlow(a,this.state.flowSet.startPage,C)},getPastSixtyDay:function(){var e=(new Date).getTime(),t=5184e6,a=e-t,r=new Date(a),n=r.getFullYear(),l=r.getMonth()+1,i=r.getDate();return 1e4*n+100*l+i},onGoBack:function(){this.setState({action:"query"})},onClickFlow:function(e){this.setState({action:"chk",obj:e})},handleOnSelectedFlow:function(e){this.state.filterValue=e,this.handleQueryClick()},onChangePage:function(e){this.state.flowSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){C=t,this.handleQueryClick()},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=this.state.flowSet.recordSet,r=[{title:"流程名称",dataIndex:"flowName",key:"flowName",width:140},{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"申请人",dataIndex:"applyName",key:"applyName",width:140},{title:"申请日期",dataIndex:"applyDate",key:"applyDate",width:140,render:function(e,t){return y.formatDate(e,y.dateFormat)}},{title:"状态",dataIndex:"flowStatus",key:"flowStatus",width:100},{title:"更多操作",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickFlow.bind(e,a)},l.default.createElement(u.Icon,{type:"bars"})))}}],n=null,i=y.getGridMargin(this),o="query"===this.state.action?"":"none",s={showQuickJumper:!0,total:this.state.flowSet.totalRow,pageSize:this.state.flowSet.pageRow,current:this.state.flowSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},c=l.default.createElement("div",{className:"grid-page",style:{padding:i.padding,display:o}},l.default.createElement("div",{style:{margin:i.margin}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["chk-flow/findFour"]}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(u.Button,{icon:y.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),l.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},l.default.createElement(h.default,{placeholder:"选择",style:{textAlign:"left",width:y.searchWidth},corpUuid:t,value:this.state.filterValue,onSelect:this.handleOnSelectedFlow})))),l.default.createElement("div",{className:"grid-body"},l.default.createElement(u.Table,{columns:r,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,expandedRowRender:function(e){return l.default.createElement("div",null,l.default.createElement("p",null,e.eventDesc))},pagination:s,size:"middle",bordered:y.tableBorder})));return"chk"===this.state.action&&(n=l.default.createElement(v.default,{onBack:this.onGoBack,obj:this.state.obj})),l.default.createElement("div",null,c,n)}});e.exports=b},function(e,t,a){"use strict";var r=a(1),n=a(641),l=a(3),i=a(11),o=r.createStore({listenables:[n],checkObj:{},filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.flowUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,checkObj:a.checkObj,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("chk-flow",e,t)},onRetrieveChkFlow:function(e){var t=this,a=this.getServiceUrl("chk-flow/findFour");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("findFour","",t)):t.fireEvent("findFour","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("findFour","调用服务错误",t)})},onRetrieveChkFlowPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveChkFlow(e)},onInitChkFlow:function(e,t,a){return this.recordSet.length>0&&l.compareTo(this.filter,e)&&this.startPage===t&&this.pageRow===a?void this.fireEvent("findFour","",this):(this.startPage=t,this.pageRow=a,void this.onRetrieveChkFlowPage(e,t,a))}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=a(642),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.flowUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("flow-def",e,t)},onRetrieveFlow:function(e){var t=this,a=this.getServiceUrl("flow-def/get-by-corpUuid");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitFlow:function(e){return this.recordSet.length>0&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveFlow(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(7)),s=r(o),d=a(9),u=r(d),c=a(12),p=(r(c),a(4)),m=a(1),h=a(6),f=(a(3),p.DatePicker.MonthPicker,p.DatePicker.RangePicker,p.Form.Item,p.Select.Option,a(1007)),v=a(644),g=a(416),y=l.default.createClass({displayName:"AllowLogPage",getInitialState:function(){return{allowLogSet:{recordSet:[],operation:"",errMsg:""},allowLog:{},loading:!1}},mixins:[m.listenTo(v,"onServiceComplete"),(0,u.default)("allowLog")],onServiceComplete:function(e){if("retrieve_p"===e.operation){var t=e.recordSet.length>0?e.recordSet[0]:{};this.setState({loading:!1,allowLog:t,allowLogSet:e})}},componentDidMount:function(){this.initPage()},getPastHalfYear:function(){var e=(new Date).getTime(),t=15768e6,a=e-t,r=new Date(a),n=r.getFullYear(),l=r.getMonth()+1;r.getDate();return 100*n+l},initPage:function(e){if(window.loginData.compUser){this.setState({loading:!0});var t={},a=h.getMonth(),r=this.getPastHalfYear();t.corpUuid=window.loginData.compUser.corpUuid,t.staffCode=window.loginData.compUser.userCode,t.date1=r+"01",t.date2=a+"31",g.initHrAllowLog(t)}},onClickDetail:function(e){this.setState({allowLog:e})},getFeeDate:function(e){var t="";return e.beginDate?t=e.endDate?e.beginDate+" ~ "+e.endDate:e.beginDate+" ~ ":e.endDate&&(t=" ~ "+e.endDate),t},render:function(){var e=this,t=(window.loginData.compUser.corpUuid,[{title:"发放日期",dataIndex:"payDate",key:"payDate",width:140,render:function(e,t){return h.formatDate(e,h.dateFormat)}},{title:"报销类型",dataIndex:"allowType",key:"allowType",width:140},{title:"项目名称",dataIndex:"projName",key:"projName",width:200},{title:"费用日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(t,a){return e.getFeeDate(a)}},{title:"报销金额",dataIndex:"payAmount",key:"payAmount",width:140},{title:"",key:"action",width:60,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.onClickDetail.bind(e,a),title:"详情"},l.default.createElement(p.Icon,{type:h.iconDetail})))}}]),a=this.state.allowLogSet.recordSet;return l.default.createElement("div",{style:{padding:"24px 30px 30px 30px"}},l.default.createElement(s.default,{ref:"mxgBox",svcList:["hr-allow-log/retrieve_p"]}),l.default.createElement(p.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:h.tableBorder}),l.default.createElement(f,{allowLog:this.state.allowLog}))}});e.exports=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(12),p=(r(c),a(4)),m=a(1),h=a(6),f=a(3),v=(p.DatePicker.MonthPicker,p.DatePicker.RangePicker,p.Form.Item),g=(p.Select.Option,p.Tabs.TabPane,a(644)),y=(a(416),i.default.createClass({displayName:"AllowDetail",getInitialState:function(){return{allowLogSet:{operation:"",errMsg:""},allowLog:{},loading:!1}},mixins:[m.listenTo(g,"onServiceComplete"),(0,u.default)("allowLog")],onServiceComplete:function(e){"retrieve"===e.operation&&this.setState({loading:!1,allowLogSet:e})},componentDidMount:function(){this.initPage(this.props.allowLog)},componentWillReceiveProps:function(e){this.initPage(e.allowLog)},initPage:function(e){f.copyValue(e,this.state.allowLog)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},l=i.default.createElement(p.Form,{layout:e,style:{width:"100%",maxWidth:"700px"}},i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"任职部门"}),i.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.allowLog.deptName,readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"报销类型"}),i.default.createElement(p.Input,{type:"text",name:"allowType",id:"allowType",value:f.getOptionName("HR系统","报销类型",this.state.allowLog.allowType,!0,this),readOnly:!0}))),i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"填表日期"}),i.default.createElement(p.Input,{type:"text",name:"applyDate",id:"applyDate",value:h.formatDate(this.state.allowLog.applyDate,h.dateFormat),readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"项目编号"}),i.default.createElement(p.Input,{type:"text",name:"projCode",id:"projCode",value:this.state.allowLog.projCode,readOnly:!0}))),i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"项目名称"}),i.default.createElement(p.Input,{type:"text",name:"projName",id:"projName",value:this.state.allowLog.projName,readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"报销事项"}),i.default.createElement(p.Input,{type:"text",name:"allowDesc",id:"allowDesc",value:this.state.allowLog.allowDesc,readOnly:!0}))),i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"费用日期"}),i.default.createElement(p.Col,{span:"10"},i.default.createElement(v,null,i.default.createElement(p.Input,{type:"text",name:"beginDate",id:"beginDate",value:h.formatDate(this.state.allowLog.beginDate,h.dateFormat),readOnly:!0}))),i.default.createElement(p.Col,{span:"4",style:{textAlign:"center"}},"到"),i.default.createElement(p.Col,{span:"10"},i.default.createElement(v,{className:t},i.default.createElement(p.Input,{type:"text",name:"endDate",id:"endDate",value:h.formatDate(this.state.allowLog.endDate,h.dateFormat),readOnly:!0})))))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"报销金额"}),i.default.createElement(p.Input,{type:"text",name:"payAmount",id:"payAmount",value:this.state.allowLog.payAmount,readOnly:!0}))),i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"发票张数"}),i.default.createElement(p.Input,{type:"text",name:"memo2",id:"memo2",value:this.state.allowLog.memo2,readOnly:!0})))),i.default.createElement(v,n({},a,{className:t,label:"报销说明"}),i.default.createElement(p.Input,{type:"textarea",name:"payMemo",id:"payMemo",value:this.state.allowLog.payMemo,style:{height:"100px"},readOnly:!0})),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"发放日期"}),i.default.createElement(p.Input,{type:"text",name:"payDate",id:"payDate",value:h.formatDate(this.state.allowLog.payDate,h.dateFormat),readOnly:!0}))),i.default.createElement(p.Col,{span:"12"},i.default.createElement(v,n({},r,{className:t,label:"银行卡号"}),i.default.createElement(p.Input,{type:"text",name:"bankCard",id:"bankCard",value:this.state.allowLog.bankCard,readOnly:!0})))));this.state.hints;return i.default.createElement("div",{style:{padding:"20px 0 16px 0",height:"100%",overflowY:"auto"}},this.state.loading?i.default.createElement(p.Spin,null,l):l)}}));e.exports=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(7)),u=r(d),c=a(1010),p=r(c),m=a(21),h=r(m),f=a(4),v=a(1),g=a(6),y=(a(3),f.Form.Item),S=f.Tabs.TabPane,E=a(1011),C=a(1009),b=a(1012),w=a(1013),k=a(645),x=i.default.createClass({displayName:"BenefitsPage",getInitialState:function(){return{benefitsSet:{hbu:{},hbList:[],operation:"",errMsg:""},loading:!1,selectKey:"1"}},mixins:[v.listenTo(w,"onServiceComplete"),(0,h.default)()],onServiceComplete:function(e){"retrieve_p"===e.operation&&this.setState({loading:!1,benefitsSet:e})},componentDidMount:function(){if(window.loginData.compUser){var e={};e.staffCode=window.loginData.compUser.userCode,e.corpUuid=window.loginData.compUser.corpUuid,this.setState({loading:!0}),k.initHrBenefits(e)}},onTabChange:function(e){this.setState({selectKey:e})},render:function(){var e=window.loginData.compUser.corpUuid,t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:10},wrapperCol:"vertical"==t?null:{span:14}},l=(i.default.createElement(E,{insuName:this.getInsuName(e,this.state.benefitsSet.hbu.insuName)}),i.default.createElement(f.Form,{layout:t,style:{width:"100%",maxWidth:"800px"}},i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"员工编号",className:a}),i.default.createElement(f.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.benefitsSet.hbu.staffCode,readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"任职部门",className:a}),i.default.createElement(f.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.benefitsSet.hbu.deptName,readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"生效日期",className:a}),i.default.createElement(f.Input,{type:"text",name:"effectDate",id:"effectDate",value:g.formatDate(this.state.benefitsSet.hbu.effectDate,g.dateFormat),readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"工资卡",className:a}),i.default.createElement(f.Input,{type:"text",name:"salaryCard",id:"salaryCard",value:this.state.benefitsSet.hbu.salaryCard,readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"报销卡",className:a}),i.default.createElement(f.Input,{type:"text",name:"reimCard",id:"reimCard",value:this.state.benefitsSet.hbu.reimCard,readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"基本工资",className:a}),i.default.createElement(f.Input,{type:"text",name:"salary",id:"salary",value:this.state.benefitsSet.hbu.salary,readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"绩效工资",className:a}),i.default.createElement(f.Input,{type:"text",name:"salary2",id:"salary2",value:this.state.benefitsSet.hbu.salary2,
readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"岗位津贴",className:a}),i.default.createElement(f.Input,{type:"text",name:"salary3",id:"salary3",value:this.state.benefitsSet.hbu.salary3,readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"项目经费",className:a}),i.default.createElement(f.Input,{type:"text",name:"salary7",id:"salary7",value:this.state.benefitsSet.hbu.salary7,readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"加班补贴基数",className:a}),i.default.createElement(f.Input,{type:"text",name:"salary6",id:"salary6",value:this.state.benefitsSet.hbu.salary6,readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"笔记本补贴",className:a}),i.default.createElement(f.Input,{type:"text",name:"devAllow",id:"devAllow",value:this.state.benefitsSet.hbu.devAllow,readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"社保基数",className:a}),i.default.createElement(f.Input,{type:"text",name:"insuBase",id:"insuBase",value:this.state.benefitsSet.hbu.insuBase,readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"公积金基数",className:a}),i.default.createElement(f.Input,{type:"text",name:"cpfBase",id:"cpfBase",value:this.state.benefitsSet.hbu.cpfBase,readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"社保类型",className:a}),i.default.createElement(f.Input,{type:"text",ref:"insuName",name:"insuName",id:"insuName",value:this.getInsuName(e,this.state.benefitsSet.hbu.insuName),readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"补贴类型",className:a}),i.default.createElement(f.Input,{type:"text",ref:"allowName",name:"allowName",id:"allowName",value:this.getAllowName(e,this.state.benefitsSet.hbu.allowName),readOnly:!0}))),i.default.createElement(f.Col,{span:"8"},i.default.createElement(y,n({},r,{label:"差旅级别",className:a}),i.default.createElement(f.Input,{type:"text",name:"tripName",id:"tripName",value:this.getTripName(e,this.state.benefitsSet.hbu.tripName),readOnly:!0})))))),o=null,s=null,d=null;return 1==this.state.selectKey?o=i.default.createElement(E,{insuName:this.getInsuName(e,this.state.benefitsSet.hbu.insuName)}):2==this.state.selectKey?s=i.default.createElement(C,{allowName:this.getAllowName(e,this.state.benefitsSet.hbu.allowName)}):3==this.state.selectKey&&(d=i.default.createElement(b,{tripName:this.getTripName(e,this.state.benefitsSet.hbu.tripName)})),i.default.createElement("div",null,i.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-benefits/retrieve_p","hr-benefits/retrieveTable"]}),i.default.createElement(p.default,{hbList:this.state.benefitsSet.hbList}),this.state.loading?i.default.createElement(f.Spin,null,l):l,i.default.createElement("div",{className:"tab-page",style:{padding:"10px 0 16px 16px"}},i.default.createElement(f.Tabs,{ref:"insuTabs",activeKey:this.state.selectKey,onChange:this.onTabChange},i.default.createElement(S,{tab:"社保",key:"1"},o),i.default.createElement(S,{tab:"补贴",key:"2"},s),i.default.createElement(S,{tab:"差旅",key:"3"},d)))))}});e.exports=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(4),p=a(1),m=(a(6),a(3),c.Form.Item),h=(c.Select.Option,a(111)),f=a(81),v=i.default.createClass({displayName:"AllowNameForm",getInitialState:function(){return{allowanceSet:{recordSet:[],operation:"",errMsg:""},loading:!1,allowance:{},allowName:""}},mixins:[p.listenTo(h,"onServiceComplete"),(0,u.default)("allowance")],onServiceComplete:function(e){"retrieve"===e.operation&&(this.setState({loading:!1,allowanceSet:e}),this.findList())},findList:function(){var e=this,t=this.state.allowanceSet.recordSet;""!=this.state.allowName&&t.map(function(t,a){e.state.allowName==t.allowName&&e.setState({loading:!1,allowance:t})})},componentDidMount:function(){this.initPage(this.props.allowName)},componentWillReceiveProps:function(e){this.initPage(e.allowName)},initPage:function(e){if(window.loginData.compUser){this.setState({loading:!0,allowName:e});var t=window.loginData.compUser.corpUuid;f.initHrAllowance(t)}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}};return i.default.createElement("div",{style:{padding:"10px 24px 30px 24px",width:"100%",maxWidth:"600px"}},i.default.createElement(c.Form,{layout:e},i.default.createElement(m,n({},a,{label:"补贴名称",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"allowName",id:"allowName",value:this.state.allowance.allowName,readOnly:!0})),i.default.createElement(m,n({},a,{label:"补贴说明",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"allowDesc",id:"allowDesc",value:this.state.allowance.allowDesc,readOnly:!0})),i.default.createElement(m,n({},a,{label:"生效日期",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"effectDate",id:"effectDate",value:this.state.allowance.effectDate,readOnly:!0})),i.default.createElement(m,n({},a,{label:"交通补贴",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"traffic",id:"traffic",value:this.state.allowance.traffic,readOnly:!0})),i.default.createElement(m,n({},a,{label:"通讯补贴",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"phone",id:"phone",value:this.state.allowance.phone,readOnly:!0})),i.default.createElement(m,n({},a,{label:"餐补",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"food",id:"food",value:this.state.allowance.food,readOnly:!0})),i.default.createElement(m,n({},a,{label:"服装补贴",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"clothing",id:"clothing",value:this.state.allowance.clothing,readOnly:!0})),i.default.createElement(m,n({},a,{label:"高温补贴",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"highTemp",id:"highTemp",value:this.state.allowance.highTemp,readOnly:!0})),i.default.createElement(m,n({},a,{label:"户外补贴",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"outDoor",id:"outDoor",value:this.state.allowance.outDoor,readOnly:!0}))))}});e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(7)),s=(r(o),a(21)),d=r(s),u=a(4),c=(a(1),a(6)),p=(u.Form.Item,l.default.createClass({displayName:"BenefitsTable",getInitialState:function(){return{}},mixins:[(0,d.default)()],render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=[{title:"基本工资",dataIndex:"salary",key:"salary",width:140},{title:"绩效工资",dataIndex:"salary2",key:"salary2",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return c.formatDate(e,c.dateFormat)}},{title:"社保基数",dataIndex:"insuBase",key:"insuBase",width:140},{title:"公积金基数",dataIndex:"cpfBase",key:"cpfBase",width:140},{title:"社保类型",dataIndex:"insuName",key:"insuName",width:140,render:function(a,r){return e.getInsuName(t,r.insuName)}},{title:"补贴类型",dataIndex:"allowName",key:"allowName",width:140,render:function(a,r){return e.getAllowName(t,r.allowName)}}],r=this.props.hbList;return l.default.createElement("div",{style:{padding:"10px 30px 30px 30px"}},l.default.createElement(u.Table,{columns:a,dataSource:r,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:c.tableBorder}))}}));e.exports=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(4),p=a(1),m=(a(6),a(3),c.Form.Item),h=(c.Select.Option,a(115)),f=a(85),v=i.default.createClass({displayName:"InsuNameForm",getInitialState:function(){return{insuranceSet:{recordSet:[],operation:"",errMsg:""},loading:!1,insurance:{},insuName:""}},mixins:[p.listenTo(h,"onServiceComplete"),(0,u.default)("insurance")],onServiceComplete:function(e){"get-by-corp_uuid"===e.operation&&(this.setState({loading:!1,insuranceSet:e}),this.findList())},findList:function(){var e=this,t=this.state.insuranceSet.recordSet;""!=this.state.insuName&&t.map(function(t,a){e.state.insuName==t.insuName&&e.setState({loading:!1,insurance:t})})},componentDidMount:function(){this.initPage(this.props.insuName)},componentWillReceiveProps:function(e){this.initPage(e.insuName)},initPage:function(e){if(window.loginData.compUser){this.setState({loading:!0,insuName:e});var t=window.loginData.compUser.corpUuid;f.initHrInsurance(t)}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}};return i.default.createElement("div",{style:{padding:"10px 24px 30px 24px",width:"100%",maxWidth:"600px"}},i.default.createElement(c.Form,{layout:e},i.default.createElement(m,n({},a,{label:"社保名称",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"insuName",id:"insuName",value:this.state.insurance.insuName,readOnly:!0})),i.default.createElement(m,n({},a,{label:"医疗保险",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"health",id:"health",value:this.state.insurance.health,readOnly:!0})),i.default.createElement(m,n({},a,{label:"养老保险",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"pension",id:"pension",value:this.state.insurance.pension,readOnly:!0})),i.default.createElement(m,n({},a,{label:"生育保险",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"maternity",id:"maternity",value:this.state.insurance.maternity,readOnly:!0})),i.default.createElement(m,n({},a,{label:"工伤保险",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"injury",id:"injury",value:this.state.insurance.injury,readOnly:!0})),i.default.createElement(m,n({},a,{label:"失业保险",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"jobless",id:"jobless",value:this.state.insurance.jobless,readOnly:!0})),i.default.createElement(m,n({},a,{label:"公积金",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"accumulation",id:"accumulation",value:this.state.insurance.accumulation,readOnly:!0})),i.default.createElement(m,n({},a,{label:"生效日期",colon:!0,className:t}),i.default.createElement(c.Input,{type:"text",name:"effectDate",id:"effectDate",value:this.state.insurance.effectDate,readOnly:!0}))))}});e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=(r(s),a(4)),u=a(1),c=(d.Input.Search,a(6)),p=(a(3),a(259)),m=a(186),h=a(189),f=a(148),v=a(112),g=a(82),y="",S=l.default.createClass({displayName:"TripNameTable",getInitialState:function(){return{tripParamSet:{recordSet:[],operation:"",errMsg:""},bizTripSet:{recordSet:[],operation:"",errMsg:""},loading:!1,cityMap:{},tripName:"",trip:{},tripUuid:"",corpUuid:window.loginData.compUser.corpUuid}},mixins:[u.listenTo(p,"onServiceComplete"),u.listenTo(h,"onCityComplete"),u.listenTo(v,"onTripComplete")],onServiceComplete:function(e){this.setState({loading:!1,tripParamSet:e})},onCityComplete:function(e){var t={};e.recordSet.map(function(e,a){t[e.uuid]=e.cityType}),this.setState({cityMap:t})},onTripComplete:function(e){"retrieve"===e.operation&&(this.setState({loading:!1,bizTripSet:e}),this.findList())},findList:function(){var e=this,t=this.state.bizTripSet.recordSet;""!=this.state.tripName&&t.map(function(t,a){e.state.tripName==t.tripName&&e.setState({loading:!1,trip:t,tripUuid:t.uuid})}),m.initHrBizTripParam(this.state.tripUuid)},getCityType:function(e){var t=this.state.cityMap[e];return null===t||""===t||"undefined"==typeof t?e:t},componentDidMount:function(){this.initPage(this.props.tripName);var e=window.loginData.compUser,t=null===e?"":e.corpUuid;f.initHrTripCity(t)},componentWillReceiveProps:function(e){this.initPage(e.tripName)},initPage:function(e){if(window.loginData.compUser){this.setState({loading:!0,tripName:e});var t=window.loginData.compUser.corpUuid;g.initHrBizTrip(t)}},render:function(){var e=this,t=c.filter(this.state.tripParamSet.recordSet,y),a=[{title:"城市类型",dataIndex:"cityType",key:"cityType",width:140,render:function(t,a){return e.getCityType(a.cityType)}},{title:"出差补贴",dataIndex:"allowance",key:"allowance",width:200},{title:"交通补贴",dataIndex:"traffic",key:"traffic",width:140},{title:"住宿",dataIndex:"hotelMemo",key:"hotelMemo",width:300}];return l.default.createElement("div",{style:{padding:"10px 30px 30px 30px"}},l.default.createElement(d.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:c.tableBorder}))}});e.exports=S},function(e,t,a){"use strict";var r=a(1),n=a(645),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:"",tableFilter:"",hbu:{},hbList:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,tableFilter:a.tableFilter,hbu:a.hbu,hbList:a.hbList,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("hr-benefits",e,t)},onRetrieveHrBenefits:function(e){var t=this,a=this.getServiceUrl("hr-benefits/retrieve_p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?null!==a.object.hbu||null!==a.object.hbList?(t.hbu=a.object.hbu,t.hbList=a.object.hbList,t.filter=e,t.fireEvent("retrieve_p","",t)):t.fireEvent("retrieve_p","没有找到记录["+a.object.hbu+"]",t):t.fireEvent("retrieve_p","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve_p","调用服务错误",t)})},onInitHrBenefits:function(e){return this.hbu.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve_p","",this):void this.onRetrieveHrBenefits(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(7)),s=(r(o),a(9)),d=(r(s),a(4)),u=(a(1),a(6)),c=(d.Form.Item,l.default.createClass({displayName:"ContactTablePage",getInitialState:function(){return{}},render:function(){var e=[{title:"合同编号",dataIndex:"contCode",key:"contCode",width:140},{title:"岗位",dataIndex:"jobName",key:"jobName",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return u.formatDate(e,u.dateFormat)}},{title:"失效日期",dataIndex:"expiryDate",key:"expiryDate",width:140,render:function(e,t){return u.formatDate(e,u.dateFormat)}},{title:"签订日期",dataIndex:"signDate",key:"signDate",width:140,render:function(e,t){return u.formatDate(e,u.dateFormat)}}],t=this.props.hcList;return l.default.createElement("div",{style:{padding:"20px 32px 20px 28px"}},l.default.createElement(d.Table,{columns:e,dataSource:t,rowKey:function(e){return e.uuid},loading:this.props.loading,pagination:!1,size:"middle",bordered:u.tableBorder}))}}));e.exports=c},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(4),m=a(12),h=(r(m),a(1)),f=a(6),v=a(3),g=p.Form.Item,y=(p.Select.Option,p.Tabs.TabPane,a(1014)),S=a(1016),E=a(646),C=i.default.createClass({displayName:"ContactPage",getInitialState:function(){return{contractSet:{hc:{},hcList:[],operation:"",errMsg:""},loading:!1}},mixins:[h.listenTo(S,"onServiceComplete"),(0,c.default)("contract")],onServiceComplete:function(e){"retrieve_p"===e.operation&&this.setState({loading:!1,contractSet:e})},componentDidMount:function(){this.initPage()},initPage:function(){if(window.loginData.compUser){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,E.initHrContract(e)}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=(this.state.hints,i.default.createElement(p.Form,{layout:e,style:{width:"600px"}},i.default.createElement(g,n({},a,{className:t,label:"合同编号"}),i.default.createElement(p.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.contractSet.hc.contCode,readOnly:!0})),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"合同版本"}),i.default.createElement(p.Input,{type:"text",name:"contVer",id:"contVer",value:this.state.contractSet.hc.contVer,readOnly:!0}))),i.default.createElement(p.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"岗位"}),i.default.createElement(p.Input,{type:"text",name:"jobName",id:"jobName",value:this.state.contractSet.hc.jobName,readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"签订日期"}),i.default.createElement(p.Input,{type:"text",name:"signDate",id:"signDate",value:f.formatDate(this.state.contractSet.hc.signDate,f.dateFormat),readOnly:!0}))),i.default.createElement(p.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"HR人员"}),i.default.createElement(p.Input,{type:"text",name:"hrName",id:"hrName",value:this.state.contractSet.hc.hrName,readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"生效日期"}),i.default.createElement(p.Input,{type:"text",name:"effectDate",id:"effectDate",value:f.formatDate(this.state.contractSet.hc.effectDate,f.dateFormat),readOnly:!0}))),i.default.createElement(p.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"失效日期"}),i.default.createElement(p.Input,{type:"text",name:"expiryDate",id:"expiryDate",value:f.formatDate(this.state.contractSet.hc.expiryDate,f.dateFormat),readOnly:!0})))),i.default.createElement(p.Row,null,i.default.createElement(p.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"签订地点"}),i.default.createElement(p.Input,{type:"text",name:"signLoc",id:"signLoc",value:this.state.contractSet.hc.signLoc,readOnly:!0}))),i.default.createElement(p.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"签订方式"}),i.default.createElement(p.Input,{type:"text",name:"signType",id:"signType",value:v.getOptionName("简历系统","签订方式",this.state.contractSet.hc.signType,!0,this),readOnly:!0}))))));return i.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_contract/retrieve_p","hr_contract/retrieveDetail"]}),this.state.loading?i.default.createElement(p.Spin,null,l):l,i.default.createElement(y,{hcList:this.state.contractSet.hcList}))}});e.exports=C},function(e,t,a){"use strict";var r=a(1),n=a(646),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},tableFilter:"",hc:{},hcList:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,tableFilter:a.tableFilter,hc:a.hc,hcList:a.hcList,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("hr_contract",e,t)},onRetrieveHrContract:function(e){var t=this,a=this.getServiceUrl("hr_contract/retrieve_p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object?(t.hc=a.object.hc,null===t.hc&&(t.hc={}),t.hcList=a.object.hcList,t.filter=e,t.fireEvent("retrieve_p","",t)):t.fireEvent("retrieve_p","没有找到记录["+a.object+"]",t):t.fireEvent("retrieve_p","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve_p","调用服务错误",t)})},onRetrieveHrContractPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrContract(e)},onInitHrContract:function(e){return null!==this.hc&&this.hc.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve_p","",this):void this.onRetrieveHrContract(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(7)),u=r(d),c=a(21),p=r(c),m=a(4),h=a(1),f=a(6),v=m.Form.Item,g=a(1018),y=a(647),S=i.default.createClass({displayName:"DevicePage",getInitialState:function(){return{deviceSet:{device:{},operation:"",errMsg:""},loading:!1}},mixins:[h.listenTo(g,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){"retrieve_p"===e.operation&&this.setState({loading:!1,deviceSet:e})},componentDidMount:function(){if(window.loginData.compUser){var e={};e.staffCode=window.loginData.compUser.userCode,e.corpUuid=window.loginData.compUser.corpUuid,this.setState({loading:!0}),y.initHrDevice(e)}},render:function(){var e=(window.loginData.compUser.corpUuid,"horizontal"),t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=i.default.createElement(m.Form,{layout:e,style:{width:"640px"}},i.default.createElement(m.Row,null,i.default.createElement(m.Col,{span:"12"},i.default.createElement(v,n({},r,{label:"员工编号",className:t}),i.default.createElement(m.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.deviceSet.device.staffCode,readOnly:!0}))),i.default.createElement(m.Col,{span:"12"},i.default.createElement(v,n({},r,{label:"任职部门",className:t}),i.default.createElement(m.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.deviceSet.device.deptName,readOnly:!0})))),i.default.createElement(m.Row,null,i.default.createElement(m.Col,{span:"12"},i.default.createElement(v,n({},r,{label:"设备名称",className:t}),i.default.createElement(m.Input,{type:"text",name:"devName",id:"devName",value:this.state.deviceSet.device.devName,readOnly:!0}))),i.default.createElement(m.Col,{span:"12"},i.default.createElement(v,n({},r,{label:"采购价格",className:t}),i.default.createElement(m.Input,{type:"text",name:"devPrice",id:"devPrice",value:this.state.deviceSet.device.devPrice,readOnly:!0})))),i.default.createElement(m.Row,null,i.default.createElement(m.Col,{span:"12"},i.default.createElement(v,n({},r,{label:"补贴金额",className:t}),i.default.createElement(m.Input,{type:"text",name:"devAllow",id:"devAllow",value:this.state.deviceSet.device.devAllow,readOnly:!0})))),i.default.createElement(m.Row,null,i.default.createElement(m.Col,{span:"12"},i.default.createElement(v,n({},r,{label:"开始月份",className:t}),i.default.createElement(m.Input,{type:"text",name:"effectDate",id:"effectDate",value:f.formatMonth(this.state.deviceSet.device.effectDate,f.monthFormat),readOnly:!0}))),i.default.createElement(m.Col,{span:"12"},i.default.createElement(v,n({},r,{label:"结束月份",className:t}),i.default.createElement(m.Input,{type:"text",name:"expiryDate",id:"expiryDate",value:f.formatMonth(this.state.deviceSet.device.expiryDate,f.monthFormat),readOnly:!0})))),i.default.createElement(v,n({},a,{label:"备注",className:t}),i.default.createElement(m.Input,{type:"textarea",name:"appMemo",id:"appMemo",value:this.state.deviceSet.device.appMemo,readOnly:!0})));return i.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["hr_device/retrieve_p"]}),this.state.loading?i.default.createElement(m.Spin,null,l):l)}});e.exports=S},function(e,t,a){"use strict";var r=a(1),n=a(647),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:"",recordSet:[],device:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({recordSet:a.recordSet,filter:a.filter,device:a.device,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("hr_device",e,t)},onRetrieveHrDevice:function(e){var t=this,a=this.getServiceUrl("hr_device/retrieve_p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object?(t.device=a.object,t.filter=e,t.fireEvent("retrieve_p","",t)):t.fireEvent("retrieve_p","没有找到记录["+a.object+"]",t):t.fireEvent("retrieve_p","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve_p","调用服务错误",t)})},onInitHrDevice:function(e){return this.device.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve_p","",this):void this.onRetrieveHrDevice(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(7)),s=r(o),d=a(21),u=r(d),c=a(4),p=(a(1),a(6)),m=(c.Form.Item,l.default.createClass({displayName:"EmpJobTable",getInitialState:function(){return{}},mixins:[(0,u.default)()],render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=[{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return p.formatDate(e,p.dateFormat)}},{title:"员工类型",dataIndex:"empType",key:"empType",width:140},{title:"员工级别",dataIndex:"empLevel",key:"empLevel",width:140,render:function(a,r){return e.getLevelName(t,r.empLevel)}},{title:"技术级别",dataIndex:"techLevel",key:"techLevel",width:140},{title:"管理级别",dataIndex:"manLevel",key:"manLevel",width:140},{title:"技术岗位",dataIndex:"techName",key:"techUuid",width:140},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:140}],r=this.props.ejList;return l.default.createElement("div",{style:{padding:"20px 30px 20px 30px"}},l.default.createElement(s.default,{ref:"mxgBox",svcList:["hr_emp_job/retrieveDetail"]}),l.default.createElement(c.Table,{columns:a,dataSource:r,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:p.tableBorder}))}}));e.exports=m},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(7)),u=r(d),c=a(1019),p=r(c),m=a(21),h=r(m),f=a(4),v=a(1),g=a(6),y=a(3),S=f.Form.Item,E=a(1021),C=a(648),b=i.default.createClass({displayName:"EmpJobPage",getInitialState:function(){return{empJobSet:{eju:{},ejList:[],operation:"",errMsg:""},loading:!1}},mixins:[v.listenTo(E,"onServiceComplete"),(0,h.default)()],onServiceComplete:function(e){"retrieve_p"===e.operation&&this.setState({loading:!1,empJobSet:e})},componentDidMount:function(){if(window.loginData.compUser){var e={};e.staffCode=window.loginData.compUser.userCode,e.corpUuid=window.loginData.compUser.corpUuid,this.setState({loading:!0}),C.initHrEmpJob(e)}},render:function(){var e=window.loginData.compUser.corpUuid,t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:4},wrapperCol:"vertical"==t?null:{span:20}},l={labelCol:"vertical"==t?null:{span:8},wrapperCol:"vertical"==t?null:{span:16}},o=i.default.createElement(f.Form,{layout:t,style:{width:"100%",maxWidth:"600px"}},i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"员工编号",className:a}),i.default.createElement(f.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.empJobSet.eju.staffCode,readOnly:!0}))),i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"任职部门",className:a}),i.default.createElement(f.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.empJobSet.eju.deptName,readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"员工类型",className:a}),i.default.createElement(f.Input,{type:"text",name:"empType",id:"empType",value:y.getOptionName("HR系统","员工类型",this.state.empJobSet.eju.empType,!1,this),readOnly:!0}))),i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"员工级别",className:a}),i.default.createElement(f.Input,{type:"text",name:"empLevel",id:"empLevel",value:this.getLevelName(e,this.state.empJobSet.eju.empLevel),readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"技术级别",className:a}),i.default.createElement(f.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.empJobSet.eju.techLevel,readOnly:!0}))),i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"管理级别",className:a}),i.default.createElement(f.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.empJobSet.eju.manLevel,readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"技术岗位",className:a}),i.default.createElement(f.Input,{type:"text",name:"techUuid",id:"techUuid",value:this.state.empJobSet.eju.techName,readOnly:!0}))),i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"管理岗位",className:a}),i.default.createElement(f.Input,{type:"text",name:"manUuid",id:"manUuid",value:this.state.empJobSet.eju.manName,readOnly:!0})))),i.default.createElement(S,n({},r,{label:"调整原因",className:a}),i.default.createElement(f.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.empJobSet.eju.chgReason,readOnly:!0})),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},l,{label:"生效日期",className:a}),i.default.createElement(f.Input,{type:"text",name:"effectDate",id:"effectDate",value:g.formatDate(this.state.empJobSet.eju.effectDate,g.dateFormat),readOnly:!0})))));return i.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["hr_emp_job/retrieve_p","hr_emp_job/retrieveDetail"]}),this.state.loading?i.default.createElement(f.Spin,null,o):o,i.default.createElement(p.default,{ejList:this.state.empJobSet.ejList}))}});e.exports=b},function(e,t,a){"use strict";var r=a(1),n=a(648),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:"",tableFilter:"",eju:{},ejList:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,tableFilter:a.tableFilter,eju:a.eju,ejList:a.ejList,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("hr_emp_job",e,t)},onRetrieveHrEmpJob:function(e){var t=this,a=this.getServiceUrl("hr_emp_job/retrieve_p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?null!==a.object.eju||null!==a.object.ejList?(t.eju=a.object.eju,t.ejList=a.object.ejList,t.filter=e,t.fireEvent("retrieve_p","",t)):t.fireEvent("retrieve_p","没有找到记录["+a.object.eju+"]",t):t.fireEvent("retrieve_p","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve_p","调用服务错误",t)})},onInitHrEmpJob:function(e){return this.eju.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve_p","",this):void this.onRetrieveHrEmpJob(e);
}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(7)),s=(r(o),a(4)),d=(a(1),a(6)),u=a(3),c=(s.Form.Item,l.default.createClass({displayName:"EmpSalaryTable",getInitialState:function(){return{}},render:function(){var e=this,t=[{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"调前薪水",dataIndex:"befSalary",key:"befSalary",width:140},{title:"调后薪水",dataIndex:"aftSalary",key:"aftSalary",width:140},{title:"申请日期",dataIndex:"applyDate",key:"applyDate",width:140,render:function(e,t){return d.formatDate(e,d.dateFormat)}},{title:"执行月份",dataIndex:"chgMonth",key:"chgMonth",width:140,render:function(e,t){return d.formatMonth(e,d.monthFormat)}},{title:"调整类型",dataIndex:"chgType",key:"chgType",width:140,render:function(t,a){return u.getOptionName("HR系统","薪资调整类型",a.chgType,!1,e)}}],a=this.props.hesList;return l.default.createElement("div",{style:{padding:"20px 30px 20px 30px"}},l.default.createElement(s.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:d.tableBorder}))}}));e.exports=c},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(7)),u=r(d),c=a(1022),p=r(c),m=a(21),h=r(m),f=a(4),v=a(1),g=a(6),y=a(3),S=f.Form.Item,E=a(1024),C=a(649),b=i.default.createClass({displayName:"EmpSalaryPage",getInitialState:function(){return{empSalarySet:{hesu:{},hesList:[],operation:"",errMsg:""},loading:!1}},mixins:[v.listenTo(E,"onServiceComplete"),(0,h.default)()],onServiceComplete:function(e){"retrieve_p"===e.operation&&this.setState({loading:!1,empSalarySet:e})},componentDidMount:function(){if(window.loginData.compUser){var e={};e.staffCode=window.loginData.compUser.userCode,e.corpUuid=window.loginData.compUser.corpUuid,this.setState({loading:!0}),C.initHrEmpSalary(e)}},render:function(){var e=(window.loginData.compUser.corpUuid,"horizontal"),t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=i.default.createElement(f.Form,{layout:e,style:{width:"640px"}},i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"员工编号",className:t}),i.default.createElement(f.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.empSalarySet.hesu.staffCode,readOnly:!0}))),i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"任职部门",className:t}),i.default.createElement(f.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.empSalarySet.hesu.deptName,readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"申请人",className:t}),i.default.createElement(f.Input,{type:"text",name:"applyName",id:"applyName",value:this.state.empSalarySet.hesu.applyName,readOnly:!0}))),i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"申请日期",className:t}),i.default.createElement(f.Input,{type:"text",name:"applyDate",id:"applyDate",value:g.formatDate(this.state.empSalarySet.hesu.applyDate,g.dateFormat),readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"调整类型",className:t}),i.default.createElement(f.Input,{type:"text",name:"chgType",id:"chgType",value:y.getOptionName("HR系统","薪资调整类型",this.state.empSalarySet.hesu.chgType,!1,this),readOnly:!0}))),i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"员工类型",className:t}),i.default.createElement(f.Input,{type:"text",name:"empType",id:"empType",value:y.getOptionName("HR系统","员工类型",this.state.empSalarySet.hesu.empType,!1,this),readOnly:!0})))),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"调前薪水",className:t}),i.default.createElement(f.Input,{type:"text",name:"befSalary",id:"befSalary",value:this.state.empSalarySet.hesu.befSalary,readOnly:!0}))),i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"调后薪水",className:t}),i.default.createElement(f.Input,{type:"text",name:"aftSalary",id:"aftSalary",value:this.state.empSalarySet.hesu.aftSalary,readOnly:!0})))),i.default.createElement(S,n({},a,{label:"调整原因",className:t}),i.default.createElement(f.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.empSalarySet.hesu.chgReason,readOnly:!0})),i.default.createElement(f.Row,null,i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"生效日期",className:t}),i.default.createElement(f.Input,{type:"text",name:"effectDate",id:"effectDate",value:g.formatDate(this.state.empSalarySet.hesu.effectDate,g.dateFormat),readOnly:!0}))),i.default.createElement(f.Col,{span:"12"},i.default.createElement(S,n({},r,{label:"执行月份",className:t}),i.default.createElement(f.Input,{type:"text",name:"chgMonth",id:"chgMonth",value:g.formatMonth(this.state.empSalarySet.hesu.chgMonth,g.monthFormat),readOnly:!0})))));return i.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(u.default,{ref:"mxgBox",svcList:["hr-emp-salary/retrieve_p","hr_emp_Salary/retrieveTable"]}),this.state.loading?i.default.createElement(f.Spin,null,l):l,i.default.createElement(p.default,{hesList:this.state.empSalarySet.hesList}))}});e.exports=b},function(e,t,a){"use strict";var r=a(1),n=a(649),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:"",tableFilter:"",hesu:{},hesList:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,tableFilter:a.tableFilter,hesu:a.hesu,hesList:a.hesList,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("hr-emp-salary",e,t)},onRetrieveHrEmpSalary:function(e){var t=this,a=this.getServiceUrl("hr-emp-salary/retrieve_p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?null!==a.object.hesu||null!==a.object.hesList?(t.hesu=a.object.hesu,t.hesList=a.object.hesList,t.filter=e,t.fireEvent("retrieve_p","",t)):t.fireEvent("retrieve_p","没有找到记录["+a.object.hesu+"]",t):t.fireEvent("retrieve_p","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve_p","调用服务错误",t)})},onInitHrEmpSalary:function(e){return this.hesu.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve_p","",this):void this.onRetrieveHrEmpSalary(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),n=a(651),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],employee:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({deptUuid:a.deptUuid,recordSet:a.recordSet,employee:a.employee,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("hr-employee",e,t)},onRetrieveHrEmployee:function(e){var t=this,a=this.getServiceUrl("hr-employee/retrieve-p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object?(t.employee=a.object,t.filter=e,t.fireEvent("retrieve-p","",t)):t.fireEvent("retrieve-p","没有找到记录["+a.object+"]",t):t.fireEvent("retrieve-p","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve-p","调用服务错误",t)})},onRetrieveHrEmployeePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrEmployee(e)},onInitHrEmployee:function(e){return this.employee.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve-p","",this):void this.onRetrieveHrEmployee(e)}});e.exports=o},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactMixin=__webpack_require__(5),_reactMixin2=_interopRequireDefault(_reactMixin),_ServiceMsg=__webpack_require__(7),_ServiceMsg2=_interopRequireDefault(_ServiceMsg),_ModalForm=__webpack_require__(9),_ModalForm2=_interopRequireDefault(_ModalForm),_antd=__webpack_require__(4),Reflux=__webpack_require__(1),Common=__webpack_require__(6),Utils=__webpack_require__(3),FormItem=_antd.Form.Item,MonthPicker=_antd.DatePicker.MonthPicker,Option=_antd.Select.Option,TabPane=_antd.Tabs.TabPane,SalaryItemStore=__webpack_require__(188),SalaryItemActions=__webpack_require__(147),SalaryListPage=_react2.default.createClass({displayName:"SalaryListPage",getInitialState:function(){return{salaryItemSet:{recordSet:[],errMsg:""},loading:!1,salaryLoading:!1,salary:{},user:{},salaryList:{},objList:{},salaryBody:{}}},mixins:[Reflux.listenTo(SalaryItemStore,"onServiceComplete")],onServiceComplete:function(e){e.recordSet=Common.sortTable(e.recordSet,"itemIndex"),this.setState({salaryItemSet:e}),this.fillterList()},fillterList:function(){var e=[],t=this.state.salaryItemSet.recordSet;t.map(function(t,a){var r={groupName:t.groupName,itemIndex:t.itemIndex,itemName:t.itemName,itemCode:t.itemCode,uuid:t.uuid};e.push(r)});for(var a={},r=0;r<e.length;r++){var n=e[r].groupName;if(a[n]){var l=e[r];a[n].push(l)}else a[n]=[e[r]]}if("create"===this.props.action){for(var i={},r=0;r<e.length;r++){var o=e[r].itemCode;i[o]||(i[o]="")}this.state.salaryBody=i}this.setState({salaryList:e,objList:a})},onValueChange:function(e,t,a){var r=this.state.salaryBody;r[e.itemCode]=a.target.value,this.setState({salaryBody:r})},componentDidMount:function(){SalaryItemActions.initHrSalaryItem(window.loginData.compUser.corpUuid),"create"!=this.props.action&&this.initPage(this.props.salary)},componentWillReceiveProps:function(e){"create"!=this.props.action&&this.initPage(e.salary)},initPage:function initPage(salary){Utils.copyValue(salary,this.state.salary);var JsonStr=this.state.salary.salaryBody,salaryBody=eval("("+JsonStr+")");"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({salaryBody:salaryBody})},clear:function(){},render:function(){var e=this,t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:8},wrapperCol:"vertical"==t?null:{span:16}},n=(!this.props.salary.userUuid,window.loginData.compUser.corpUuid,this.state.objList),l=[];for(var i in n){var o=null;n[i].map(function(t,n){null===o?o=_react2.default.createElement(_antd.Col,{span:"12"},_react2.default.createElement(FormItem,_extends({},r,{label:t.itemName,className:a}),_react2.default.createElement(_antd.Input,{style:{zIndex:"2"},type:"text",name:t.uuid,id:t.uuid,value:e.state.salaryBody?e.state.salaryBody[t.itemCode]:"",readOnly:!0}))):(l.push(_react2.default.createElement(_antd.Row,null,o,_react2.default.createElement(_antd.Col,{span:"12"},_react2.default.createElement(FormItem,_extends({},r,{label:t.itemName,className:a}),_react2.default.createElement(_antd.Input,{style:{zIndex:"2"},type:"text",name:t.uuid,id:t.uuid,value:e.state.salaryBody?e.state.salaryBody[t.itemCode]:"",readOnly:!0}))))),o=null)}),null!==o&&l.push(_react2.default.createElement(_antd.Row,null,o))}var s=_react2.default.createElement(_antd.Form,{layout:t},l);return _react2.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},this.state.loading?_react2.default.createElement(_antd.Spin,null,s):s)}});module.exports=SalaryListPage},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(7)),u=(r(d),a(1026)),c=r(u),p=a(9),m=r(p),h=a(4),f=a(1),v=a(6),g=a(3),y=h.Form.Item,S=a(652),E=(a(417),i.default.createClass({displayName:"SalaryLogDetail",getInitialState:function(){return{salaryLogSet:{operation:"",errMsg:""},salaryLog:{},loading:!1}},mixins:[f.listenTo(S,"onServiceComplete"),(0,m.default)("salaryLog")],onServiceComplete:function(e){"retrieve"===e.operation&&this.setState({loading:!1,salaryLogSet:e})},componentDidMount:function(){this.initPage(this.props.salaryLog)},componentWillReceiveProps:function(e){this.initPage(e.salaryLog)},initPage:function(e){g.copyValue(e,this.state.salaryLog)},render:function(){var e=(window.loginData.compUser.corpUuid,"horizontal"),t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=i.default.createElement(h.Form,{layout:e,style:{width:"640px"}},i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},a,{label:"员工编号",className:t}),i.default.createElement(h.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.salaryLog.staffCode,readOnly:!0}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},a,{label:"部门名称",className:t}),i.default.createElement(h.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.salaryLog.deptName,readOnly:!0})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},a,{label:"银行卡号",className:t}),i.default.createElement(h.Input,{type:"text",name:"bankCard",id:"bankCard",value:this.state.salaryLog.bankCard,readOnly:!0})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},a,{label:"工资单名称",className:t}),i.default.createElement(h.Input,{type:"text",name:"salaryName",id:"salaryName",value:this.state.salaryLog.salaryName,readOnly:!0}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},a,{label:"绩效分数",className:t}),i.default.createElement(h.Input,{type:"text",name:"performScore",id:"performScore",value:this.state.salaryLog.performScore,readOnly:!0})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},a,{label:"发放月份",className:t}),i.default.createElement(h.Input,{type:"text",name:"salaryMonth",id:"salaryMonth",value:v.formatMonth(this.state.salaryLog.salaryMonth,v.monthFormat),readOnly:!0}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},a,{label:"发薪日期",className:t}),i.default.createElement(h.Input,{type:"text",name:"payDate",id:"payDate",value:v.formatDate(this.state.salaryLog.payDate,v.dateFormat),readOnly:!0})))));return i.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},this.state.loading?i.default.createElement(h.Spin,null,r):r,i.default.createElement("div",{style:{width:"640px"}},i.default.createElement(c.default,{salary:this.state.salaryLog})))}}));e.exports=E},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(8),_reactDom2=_interopRequireDefault(_reactDom),_reactMixin=__webpack_require__(5),_reactMixin2=_interopRequireDefault(_reactMixin),_ServiceMsg=__webpack_require__(7),_ServiceMsg2=_interopRequireDefault(_ServiceMsg),_antd=__webpack_require__(4),_ModalForm=__webpack_require__(9),_ModalForm2=_interopRequireDefault(_ModalForm),Reflux=__webpack_require__(1),Common=__webpack_require__(6),Utils=__webpack_require__(3),FormItem=_antd.Form.Item,TabPane=_antd.Tabs.TabPane,SalaryLogDetail=__webpack_require__(1027),SalaryLogStore=__webpack_require__(652),SalaryLogActions=__webpack_require__(417),SalaryLogPage=_react2.default.createClass({displayName:"SalaryLogPage",getInitialState:function(){return{salaryLogSet:{recordSet:[],operation:"",errMsg:""},salaryLogHtml:"",salaryLog:{},selectKey:"1",loading:!1}},mixins:[Reflux.listenTo(SalaryLogStore,"onServiceComplete"),(0,_ModalForm2.default)("salaryLog")],onServiceComplete:function onServiceComplete(data){if("retrieve_p"===data.operation){var salaryLog=data.recordSet.length>0?data.recordSet[0]:{};data.recordSet.map(function(node,i){if(void 0===node.grossPay&&null!==node.salaryBody){var salaryBody=eval("("+node.salaryBody+")");node.grossPay=salaryBody.grossPay,node.netPay=salaryBody.netPay}}),this.setState({loading:!1,salaryLog:salaryLog,salaryLogSet:data}),this.getHtml(salaryLog)}else if("retrieve_p2"===data.operation){var salaryLogHtml=data.salaryLogHtml;this.setState({loading:!1,salaryLogHtml:salaryLogHtml})}},componentDidMount:function(){this.initPage()},getPastHalfYear:function(){var e=(new Date).getTime(),t=15768e6,a=e-t,r=new Date(a),n=r.getFullYear(),l=r.getMonth()+1;r.getDate();return 100*n+l},initPage:function(){if(window.loginData.compUser){this.setState({loading:!0});var e={},t=Common.getMonth(),a=this.getPastHalfYear();e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,e.date1=a+"01",e.date2=t+"31",SalaryLogActions.initHrSalaryLog(e)}},getHtml:function(e){var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.staffCode=window.loginData.compUser.userCode,t.uuid=e.uuid,SalaryLogActions.retrieveHtmlSalaryLog(t)},onClickDetail:function(e){this.setState({salaryLog:e}),"1"===this.state.selectKey&&this.getHtml(e)},onTabChange:function(e){2==e&&this.initPage(),this.setState({selectKey:e})},render:function(){var e=this,t=(window.loginData.compUser.corpUuid,this.state.salaryLogHtml),a=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:140},{title:"发放月份",dataIndex:"salaryMonth",key:"salaryMonth",width:140,render:function(e,t){return Common.formatDate(e,Common.dateFormat)}},{title:"发薪日期",dataIndex:"payDate",key:"payDate",width:140,render:function(e,t){return Common.formatDate(e,Common.dateFormat)}},{title:"绩效分数",dataIndex:"performScore",key:"performScore",width:140},{title:"应发工资",dataIndex:"grossPay",key:"grossPay",width:140},{title:"税后工资",dataIndex:"netPay",key:"netPay",width:140},{title:"",key:"action",width:60,render:function(t,a){return _react2.default.createElement("span",null,_react2.default.createElement("a",{href:"#",onClick:e.onClickDetail.bind(e,a),title:"详情"},_react2.default.createElement(_antd.Icon,{type:Common.iconDetail})))}}],r=this.state.salaryLogSet.recordSet;return _react2.default.createElement("div",{style:{padding:"24px 30px 30px 30px"}},_react2.default.createElement(_ServiceMsg2.default,{ref:"mxgBox",svcList:["hr-salary-log/retrieve_p"]}),_react2.default.createElement(_antd.Table,{columns:a,dataSource:r,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:Common.tableBorder}),_react2.default.createElement("div",{className:"tab-page",style:{padding:"10px 0 16px 16px"}},_react2.default.createElement(_antd.Tabs,{ref:"insuTabs",defaultActiveKey:"1",onChange:this.onTabChange},_react2.default.createElement(TabPane,{tab:"工资单",key:"1"},_react2.default.createElement("div",{style:{height:"100%",width:"600px"},dangerouslySetInnerHTML:{__html:t}})),_react2.default.createElement(TabPane,{tab:"详情",key:"2"},_react2.default.createElement(SalaryLogDetail,{salaryLog:this.state.salaryLog})))))}});module.exports=SalaryLogPage},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(5),o=(r(i),a(7)),s=(r(o),a(9)),d=(r(s),a(4)),u=(a(1),a(6)),c=a(3),p=(d.Form.Item,l.default.createClass({displayName:"WorkTablePage",getInitialState:function(){return{}},render:function(){var e=this,t=[{title:"变更类型",dataIndex:"chgType",key:"chgType",width:140,render:function(t,a){return c.getOptionName("HR系统","薪资调整类型",a.chgType,!0,e)}},{title:"调前说明",dataIndex:"befMemo",key:"befMemo",width:140},{title:"调后说明",dataIndex:"aftMemo",key:"aftMemo",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return u.formatDate(e,u.dateFormat)}}],a=this.props.hwlList;return l.default.createElement("div",{style:{padding:"20px 30px 20px 30px"}},l.default.createElement(d.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:u.tableBorder}))}}));e.exports=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(12),m=(r(p),a(4)),h=a(1),f=a(6),v=a(3),g=m.Form.Item,y=(m.Select.Option,m.Tabs.TabPane,a(1029)),S=a(1031),E=a(653),C=i.default.createClass({displayName:"WorkLogPage",getInitialState:function(){return{workLogSet:{hwlu:{},hwlList:[],operation:"",errMsg:""},loading:!1}},mixins:[h.listenTo(S,"onServiceComplete"),(0,c.default)("workLog")],onServiceComplete:function(e){"retrieve_p"===e.operation&&this.setState({loading:!1,workLogSet:e})},componentDidMount:function(){this.initPage()},initPage:function(e){if(window.loginData.compUser){this.setState({loading:!0});var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.staffCode=window.loginData.compUser.userCode,E.initHrWorkLog(t)}},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=(this.state.hints,i.default.createElement(m.Form,{layout:e,style:{width:"640px"}},i.default.createElement(m.Row,null,i.default.createElement(m.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"部门名称"}),i.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.workLogSet.hwlu.deptName,readOnly:!0}))),i.default.createElement(m.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"变更类型"}),i.default.createElement(m.Input,{type:"text",name:"chgType",id:"chgType",value:v.getOptionName("HR系统","薪资调整类型",this.state.workLogSet.hwlu.chgType,!0,this),readOnly:!0})))),i.default.createElement(m.Row,null,i.default.createElement(m.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"申请人"}),i.default.createElement(m.Input,{type:"text",name:"applyName",id:"applyName",value:this.state.workLogSet.hwlu.applyName,readOnly:!0}))),i.default.createElement(m.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"申请日期"}),i.default.createElement(m.Input,{type:"text",name:"applyDate",id:"applyDate",value:f.formatDate(this.state.workLogSet.hwlu.applyDate,f.dateFormat),readOnly:!0})))),i.default.createElement(g,n({},a,{className:t,label:"调前说明"}),i.default.createElement(m.Input,{type:"textarea",name:"befMemo",id:"befMemo",value:this.state.workLogSet.hwlu.befMemo,readOnly:!0})),i.default.createElement(g,n({},a,{className:t,label:"调后说明"}),i.default.createElement(m.Input,{type:"textarea",name:"aftMemo",id:"aftMemo",value:this.state.workLogSet.hwlu.aftMemo,readOnly:!0})),i.default.createElement(g,n({},a,{className:t,label:"变更原因"}),i.default.createElement(m.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.workLogSet.hwlu.chgReason,style:{height:"100px"},readOnly:!0})),i.default.createElement(m.Row,null,i.default.createElement(m.Col,{span:"12"},i.default.createElement(g,n({},r,{className:t,label:"生效日期"}),i.default.createElement(m.Input,{type:"text",name:"effectDate",id:"effectDate",value:f.formatDate(this.state.workLogSet.hwlu.effectDate,f.dateFormat),readOnly:!0}))))));return i.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["hr_work_log/retrieve_p","hr_work_log/retrieveDetail"]}),this.state.loading?i.default.createElement(m.Spin,null,l):l,i.default.createElement(y,{hwlList:this.state.workLogSet.hwlList}))}});e.exports=C},function(e,t,a){"use strict";var r=a(1),n=a(653),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},tableFilter:"",hwlu:{},hwlList:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,tableFilter:a.tableFilter,hwlu:a.hwlu,hwlList:a.hwlList,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("hr_work_log",e,t)},onRetrieveHrWorkLog:function(e){var t=this,a=this.getServiceUrl("hr_work_log/retrieve_p");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?null!==a.object.hwlu||null!==a.object.hwlList?(t.hwlu=a.object.hwlu,t.hwlList=a.object.hwlList,t.filter=e,t.fireEvent("retrieve_p","",t)):t.fireEvent("retrieve_p","没有找到记录["+a.object.hwlu+"]",t):t.fireEvent("retrieve_p","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve_p","调用服务错误",t)})},onRetrieveHrWorkLogPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrWorkLog(e)},onInitHrWorkLog:function(e){return this.hwlu.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve_p","",this):void this.onRetrieveHrWorkLog(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(23),o=r(i),s={children:l.default.PropTypes.node},d=l.default.createClass({displayName:"BiziPageIndex",getInitialState:function(){return{navItems:[{name:"休假申请",to:"/avt/flow/LeavePage/"},{name:"加班申请",to:"/avt/flow/OverWorkApplyPage/"}]}},render:function(){return l.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/avt/flow/LeavePage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(23),o=r(i),s={children:l.default.PropTypes.node},d=l.default.createClass({displayName:"BiziPageIndex",getInitialState:function(){return{navItems:[{name:"待审批事务",to:"/avt/flow/TodoFlowPage/"},{name:"已审批事务",to:"/avt/flow/ProvFlowPage/"}]}},render:function(){return l.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/avt/flow/TodoFlowPage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(23),o=r(i),s={children:l.default.PropTypes.node},d=l.default.createClass({displayName:"CheckPageIndex",getInitialState:function(){return{navItems:[{name:"考勤查询",to:"/avt/check/CheckQueryPage/"},{name:"出勤日志",to:"/avt/check/CheckLogPage/"},{name:"休假记录",to:"/avt/check/LeaveQueryPage/"},{name:"工资单查询",to:"/avt/hr/SalaryLogPage/"},{name:"报销单查询",to:"/avt/hr/AllowLogPage/"}]}},render:function(){return l.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/avt/check/CheckQueryPage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(23),o=r(i),s={children:l.default.PropTypes.node},d=l.default.createClass({displayName:"HrPageIndex",getInitialState:function(){return{navItems:[{name:"基本信息",to:"/avt/hr/PersonInfoPage/"},{name:"合同查询",to:"/avt/hr/ContactPage/"},{name:"工作变更",to:"/avt/hr/WorkLogPage/"},{name:"岗位查询",to:"/avt/hr/EmpJobPage/"},{name:"调薪记录",to:"/avt/hr/EmpSalaryPage/"},{name:"薪资福利",to:"/avt/hr/BenefitsPage/"},{name:"笔记本补贴",to:"/avt/hr/DevicePage/"}]}},render:function(){return l.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/avt/hr/PersonInfoPage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(8),s=(r(o),a(5)),d=(r(s),a(13)),u=a(4),c=a(18),p=r(c),m=a(29),h=r(m),f=(a(17),a(1),u.Form.Item),v=a(6),g=a(3),y=a(22),S=(0,d.withRouter)(i.default.createClass({displayName:"LoginPage2",getInitialState:function(){y.loadContext()&&this.props.router.push({pathname:v.avtHome,state:{from:"login"}});var e="";return"单公司"===v.corpStruct&&(e=v.corpUuid),{user:{userName:"",passwd:"",corpUuid:e},loading:!1,isRemember:!0,errMsg:"",hints:{},validRules:[]}},componentDidMount:function(){y.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",v.formValidator(this,this.state.user)){var a=g.authUrl+"auth-user/login",r=v.calcMD5(t),n={};n.password=r,n.username=this.state.user.userName;var l=this;this.setState({loading:!0}),g.loginService(a,n).then(function(e,t,a){l.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?l.loginSuccess(e.object):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.state.loading=!1,l.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=v.corpUuid;var t=g.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var r=this;this.setState({loading:!0}),g.loginService(t,a).then(function(e,t,a){r.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?r.loginSuccess(e.object):r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){r.state.loading=!1,r.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;y.saveLoginData(e,t);var a=this;g.downAppMenu("个人查询中心","AVT").then(function(e){a.state.loading=!1,a.props.router.push({pathname:v.avtHome,state:{from:"login"}})},function(e){a.state.loading=!1,a.showError(e)})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,v.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var r=this.state.user;r[e]=t,this.setState({user:r})},onUserNameFinished:function(e){"单公司"!==v.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},l=this.state.hints,o="单公司"===v.corpStruct?null:i.default.createElement(f,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:l.compUuidHint,validateStatus:l.compUuidStatus},i.default.createElement(h.default,{name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp}));return i.default.createElement("div",{style:{width:"100%"}},i.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},i.default.createElement(u.Form,{layout:t},i.default.createElement(f,n({},r,{label:"",colon:!0,style:{marginBottom:"20px"},help:l.userNameHint,validateStatus:l.userNameStatus}),i.default.createElement(u.Input,{prefix:i.default.createElement(u.Icon,{type:"user",style:{fontSize:13}}),placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),i.default.createElement(f,n({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:l.passwdHint,
validateStatus:l.passwdStatus}),i.default.createElement(u.Input,{prefix:i.default.createElement(u.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),o,i.default.createElement(f,null,i.default.createElement(p.default,{message:e,toggle:this.onDismiss}),i.default.createElement(u.Checkbox,{id:"remember",checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),i.default.createElement(u.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%"},loading:this.state.loading},"登录"),v.resMode?null:i.default.createElement(u.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px"},loading:this.state.loading},"快速登录")))))}}));e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(23),o=r(i),s={children:l.default.PropTypes.node},d=l.default.createClass({displayName:"ProjPageIndex",getInitialState:function(){return{navItems:[{name:"项目信息",to:"/avt/proj/ProjInfoPage/"},{name:"临时项目",to:"/avt/proj/ProjTempPage/"},{name:"组员维护",to:"/avt/proj/ResGroupManPage/"}]}},render:function(){return l.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/avt/proj/ProjInfoPage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=(r(n),a(13),a(1036)),i=r(l),o=a(630),s=r(o),d=a(61),u=r(d),c=[{path:"/",component:i.default},{path:"/avt.html",component:i.default},{path:"/main/",component:s.default,childRoutes:[{path:"passwd/",component:a(38)},{path:"logout/",component:a(37)}]},a(1057),{path:"*",component:u.default}];t.default=c},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(4)),d=a(30),u=r(d),c=a(7),p=r(c),m=a(9),h=r(m),f=a(12),v=r(f),g=a(1),y=s.Form.Item,S=s.Select.Option,E=s.Tabs.TabPane,C=a(6),b=a(3),w=a(655),k=a(418),x=a(170),D=a(135),N=i.default.createClass({displayName:"DailyWorkOptPage",getInitialState:function(){return{workDailySet:{checkList:[],projList:[],taskList:[],errMsg:""},loading:!1,orderList:[],workDaily:{},hints:{},validRules:[],activeKey:"2",fromTime:"",toTime:"",teamList:[],projSelectOptions:i.default.createElement(S,{key:"-",value:""},"--"),orderSelectOptions:i.default.createElement(S,{key:"-",value:""},"--")}},mixins:[g.listenTo(w,"onServiceComplete"),g.listenTo(x,"onServiceComplete2"),(0,h.default)("workDaily"),(0,u.default)()],onServiceComplete:function(e){if("create"===e.operation||"remove"===e.operation||"update"===e.operation)""===e.errMsg?this.goBack():this.setState({loading:!1,workDailySet:e});else if("retrieve"===e.operation){var t=[],a=this.state.workDaily;if(e.checkList&&e.checkList.length>0?(e.checkList.map(function(e,a){void 0!==e.projName&&null!==e.projName&&""!==e.projName&&t.push({projUuid:e.projUuid,teamUuid:e.teamUuid,projName:e.projName,teamName:e.teamName,projLoc:e.projLoc,workHour:e.workHour,overHour:e.overHour,fromTime:e.checkIn,toTime:e.checkOut})}),a.projUuid=e.checkList[0].projUuid,a.teamUuid=e.checkList[0].teamUuid):e.projList&&e.projList.length>0&&(e.projList.map(function(e,r){if(void 0!==e.resName&&null!==e.resName&&""!==e.resName){var n=e.beginTime,l=e.endTime;e.beginDate!==a.workDate&&(n="00:00"),e.endDate!==a.workDate&&(l="24:00"),t.push({projUuid:e.resUuid,teamUuid:e.teamUuid,projName:e.resName,teamName:e.teamName,projLoc:e.resLoc,beginTime:n,endTime:l})}}),a.projUuid=e.projList[0].resUuid,a.teamUuid=e.projList[0].teamUuid),this.state.teamList=t,this.prepareWorkHour(a.teamUuid),this.state.projSelectOptions=t.map(function(e){return i.default.createElement(S,{key:e.projUuid,value:e.projUuid},e.projName)}),e.taskList&&e.taskList.length>0&&(this.state.orderSelectOptions=e.taskList.map(function(e){return"当前任务"===e.tastStatus&&(a.orderUuid=e.ordUuid,a.orderName=e.ordName,a.itemUuid=e.itemUuid,a.itemName=e.itemName),i.default.createElement(S,{key:e.ordUuid,value:e.ordUuid},e.ordName)})),!e.checkList||0===e.checkList.length){var r=window.loginData.compUser.corpUuid,n=window.loginData.compUser.userCode,l=window.loginData.authUser.userId,o=this.props.obj.workDaily.workDate;D.getCheckInfo(r,n,l,o)}this.setState({loading:!1,workDailySet:e})}},onServiceComplete2:function(e){var t="",a="";e.posSet.map(function(e){"booking"!==e.posType&&"free"!==e.posType&&((e.posTime<=t||""===t)&&(t=e.posTime),e.posTime>=a&&(a=e.posTime))}),this.state.fromTime=t,this.state.toTime=a,this.state.workDaily.fromTime=t,this.state.workDaily.toTime=a,this.prepareWorkHour(this.state.workDaily.teamUuid),this.setState({loading:this.state.loading})},prepareWorkHour:function(e){var t=this.state.workDaily;t.overHour="0",t.workHour="8",t.checkHour="8";for(var a=null,r=this.state.teamList,n=r.length,l=0;l<n;l++)if(r[l].teamUuid===e){a=r[l];break}if(null!==a){if(void 0!==a.workHour&&null!==a.workHour&&""!==a.workHour){t.fromTime=a.fromTime,t.toTime=a.toTime,t.overHour=a.overHour,t.checkHour=a.workHour;var i=parseInt(a.overHour)+parseInt(a.workHour);return void(t.workHour=""+i)}var o=this.state.fromTime,s=this.state.toTime;if(""!==o&&null!==o&&""!==s&&null!==s&&o!==s){o<a.beginTime&&(o=a.beginTime),s>=a.endTime&&(s=a.endTime),t.fromTime=o,t.toTime=s;var d=this.getWorkHour(o,s);if(d.m>45&&(d.h=d.h+1),d.h>0&&d.h<8&&(a.beginTime>="09:00"||a.endTime<="18:00")){var u=a.beginTime>="09:00"?a.beginTime:"09:00",c=a.endTime<="18:00"?a.endTime:"18:00",p=this.getWorkHour(u,c);p.m>45&&(p.h=p.h+1),t.workHour=""+p.h}t.checkHour=""+d.h}else t.workHour="",t.checkHour=""}},getWorkHour:function(e,t){if(e===t||void 0===e||null===e||""===e||void 0===t||null===t||""===t)return{h:0,m:0};var a=parseInt(e.substr(0,2)),r=parseInt(t.substr(0,2)),n=parseInt(e.substr(3,2)),l=parseInt(t.substr(3,2)),i=r-a;a<=12&&r>12&&(i-=1),a<=18&&r>19&&(i-=1);var o=l-n;return o<0&&(i-=1,o=60+o),{h:i,m:o}},compareTime:function(e,t){for(var a=[e],r=e.split(":"),n=t.split(":"),l=0;l<3;l++){if(r[l]<n[l])return a.push(t),a;if(r[l]>n[l])return a.unshift(t),a}return a.push(t),a},componentDidMount:function(){this.state.validRules=[{id:"workDate",desc:"报告日期",required:!1,max:"16"},{id:"workMonth",desc:"考勤月",required:!1,max:"16"},{id:"projUuid",desc:"项目组",required:!0,max:"24"},{id:"teamUuid",desc:"项目小组",required:!1,max:"24"},{id:"orderUuid",desc:"订单名称",required:!1,max:"128"},{id:"itemName",desc:"任务名称",required:!1,max:"128"},{id:"fromTime",desc:"开始时间",required:!1,validator:this.checkTime,max:"16"},{id:"toTime",desc:"结束时间",required:!1,validator:this.checkTime,max:"16"},{id:"checkHour",desc:"考勤工时",required:!1,max:"16"},{id:"workHour",desc:"有效工时",required:!0,max:"16"},{id:"overHour",desc:"加班工时",required:!1,max:"16"},{id:"workCity",desc:"所在城市",required:!1,max:"128"},{id:"workType",desc:"工作类型",required:!1,max:"32"},{id:"repBody",desc:"工作内容",required:!1,max:"3600"}],this.clear();var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,e.chkDate=this.props.obj.workDaily.workDate,this.setState({loading:!0}),k.initProjTask(e)},checkTime:function(e,t,a){if(e){var r=e.length;if(5===r){var n=/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/;if(0==n.test(e))return"请输入正确的时间【hh:mm】"}else{if(8!==r)return"请输入正确的时间【hh:mm】";var l=/^(([0-1][0-9])|(2[0-3])):([0-5][0-9]):([0-5][0-9])$/;if(0==l.test(e))return"请输入正确的时间【hh:mm:ss】"}}},clear:function(){var e=this;this.state.hints={},this.state.workDaily={},this.props.obj.orderList.length>0&&(this.state.activeKey="3",this.props.obj.orderList.map(function(t,a){var r={};b.copyValue(t,r),e.state.orderList.push(r)})),this.state.workDaily.staffCode=window.loginData.compUser.userCode,this.state.workDaily.corpUuid=window.loginData.compUser.corpUuid,this.state.workDaily.workDate=this.props.obj.workDaily.workDate,this.state.workDaily.workMonth=this.props.obj.workDaily.workDate.substr(0,6),this.state.workDaily.workType="工作",this.setState({loading:!1}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},getProjName:function(e){for(var t=this.state.teamList,a=t.length,r=0;r<a;r++)if(t[r].projUuid===e.projUuid)return e.projName=t[r].projName,e.projName;return e.projName="",e.projName},onClickSave:function(){C.formValidator(this,this.state.workDaily)&&(this.setState({loading:!0}),this.getProjName(this.state.workDaily),k.createWorkDaily(this.state.workDaily))},onClickUpdate:function(e){C.formValidator(this,this.state.orderList[e])&&(this.setState({loading:!0}),this.getProjName(this.state.orderList[e]),k.updateWorkDaily(this.state.orderList[e]))},onClickDelete:function(e){var t=order.orderName;t||(t=order.projName),s.Modal.confirm({title:"删除确认",content:"是否删除工作日报【"+t+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),k.deleteWorkDaily(e.uuid)},goBack:function(){this.props.onBack()},onTabChange:function(e){this.setState({activeKey:e}),"1"===e&&this.props.onBack()},handleOnChange2:function(e,t){var a=this.state.orderList[e];a[t.target.id]=t.target.value,C.validator(this,a,t.target.id),this.setState({loading:this.state.loading})},handleOnSelected2:function(e,t,a,r){var n=e==-1?n=this.state.workDaily:this.state.orderList[e];if(n[t]!==a){if(n[t]=a,"orderUuid"===t){n.orderName=r.props.children;for(var l=this.state.workDailySet.taskList,e=0;e<l.length;e++){var i=l[e];i.ordUuid===a&&(n.orderName=i.ordName,n.itemUuid=i.itemUuid,n.itemName=i.itemName)}}else"teamUuid"===t&&e===-1&&this.prepareWorkHour(a);C.validator(this,n,t),this.setState({loading:this.state.loading})}},render:function(){var e=this,t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:4},wrapperCol:"vertical"==t?null:{span:20}},l={labelCol:"vertical"==t?null:{span:8},wrapperCol:"vertical"==t?null:{span:16}},o=this.state.hints,d=this.state.workDailySet.taskList;void 0!==d&&null!==d||(d=[]);var u=[];this.state.orderList.map(function(c,m){var h=e.state.orderList[m].projUuid,f=[];e.state.teamList.map(function(e,t){e.projUuid===h&&""!==e.teamUuid&&f.push(i.default.createElement(S,{key:e.teamUuid,value:e.teamUuid},e.teamName))});var g=[];d.map(function(e,t){e.projUuid===h&&""!==e.ordUuid&&g.push(i.default.createElement(S,{key:e.ordUuid,value:e.ordUuid},e.ordName))});var C=c.orderName;C||(C=c.projName),u.push(i.default.createElement(E,{tab:C,key:3+m,style:{width:"100%",height:"100%"}},i.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(p.default,{ref:"mxgBox",svcList:["work_daily/update","work_daily/retrieve"]}),i.default.createElement(s.Form,{layout:t,style:{width:"100%",maxWidth:"800px"}},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"日期",colon:!0,help:o.workDateHint,validateStatus:o.workDateStatus}),i.default.createElement(s.Input,{type:"text",name:"workDate",id:"workDate",value:e.state.orderList[m].workDate,disabled:!0}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"考勤月份",colon:!0,help:o.workMonthHint,validateStatus:o.workMonthStatus}),i.default.createElement(s.Input,{type:"text",name:"workMonth",id:"workMonth",value:e.state.orderList[m].workMonth,onChange:e.handleOnChange2.bind(e,m)})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"项目组",required:!0,colon:!0,help:o.projUuidHint,validateStatus:o.projUuidStatus}),i.default.createElement(s.Select,{name:"projUuid",id:"projUuid",value:e.state.orderList[m].projUuid,onSelect:e.handleOnSelected2.bind(e,m,"projUuid")},e.state.projSelectOptions))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"项目小组",colon:!0,help:o.teamUuidHint,validateStatus:o.teamUuidStatus}),i.default.createElement(s.Select,{name:"teamUuid",id:"teamUuid",value:e.state.orderList[m].teamUuid,onSelect:e.handleOnSelected2.bind(e,m,"teamUuid")},f)))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"订单名称",required:!1,colon:!0,help:o.orderUuidHint,validateStatus:o.orderUuidStatus}),i.default.createElement(s.Select,{name:"orderUuid",id:"orderUuid",value:e.state.orderList[m].orderUuid,onSelect:e.handleOnSelected2.bind(e,m,"orderUuid")},g))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"任务名称",colon:!0,help:o.itemNameHint,validateStatus:o.itemNameStatus}),i.default.createElement(s.Input,{type:"text",name:"itemName",id:"itemName",value:e.state.orderList[m].itemName,onChange:e.handleOnChange2.bind(e,m),disabled:!0})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"开始时间",colon:!0,help:o.fromTimeHint,validateStatus:o.fromTimeStatus}),i.default.createElement(s.Input,{type:"text",name:"fromTime",id:"fromTime",value:e.state.orderList[m].fromTime,onChange:e.handleOnChange2.bind(e,m)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"结束时间",colon:!0,help:o.toTimeHint,validateStatus:o.toTimeStatus}),i.default.createElement(s.Input,{type:"text",name:"toTime",id:"toTime",value:e.state.orderList[m].toTime,onChange:e.handleOnChange2.bind(e,m)})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"考勤工时",colon:!0,help:o.checkHourHint,validateStatus:o.checkHourStatus}),i.default.createElement(s.Input,{type:"text",name:"checkHour",id:"checkHour",value:e.state.orderList[m].checkHour,onChange:e.handleOnChange2.bind(e,m)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"有效工时",required:!0,colon:!0,help:o.workHourHint,validateStatus:o.workHourStatus}),i.default.createElement(s.Input,{type:"text",name:"workHour",id:"workHour",value:e.state.orderList[m].workHour,onChange:e.handleOnChange2.bind(e,m)})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"加班工时",colon:!0,help:o.overHourHint,validateStatus:o.overHourStatus}),i.default.createElement(s.Input,{type:"text",name:"overHour",id:"overHour",value:e.state.orderList[m].overHour,onChange:e.handleOnChange2.bind(e,m)}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"所在城市",colon:!0,help:o.workCityHint,validateStatus:o.workCityStatus}),i.default.createElement(s.Input,{type:"text",name:"workCity",id:"workCity",value:e.state.orderList[m].workCity,onChange:e.handleOnChange2.bind(e,m)})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"工作类型",colon:!0,help:o.workTypeHint,validateStatus:o.workTypeStatus}),i.default.createElement(v.default,{name:"workType",id:"workType",value:e.state.orderList[m].workType,appName:"项目管理",optName:"工作类型",onSelect:e.handleOnSelected2.bind(e,m,"workType")})))),i.default.createElement(y,n({},r,{label:"工作内容",colon:!0,className:a,help:o.repBodyHint,validateStatus:o.repBodyStatus}),i.default.createElement(s.Input,{type:"textarea",name:"repBody",id:"repBody",value:e.state.orderList[m].repBody,onChange:e.handleOnChange2.bind(e,m),style:{height:"200px"}})),i.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},className:a},i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:e.onClickUpdate.bind(e,m),loading:e.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnDelete",size:"large",onClick:e.onClickDelete.bind(e,c),style:{color:"red"}},"删除")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:e.goBack},"取消"))))))});var c=this.state.workDaily,m=!1,h=null,f=c.projUuid,g=[];if(this.state.teamList.map(function(e,t){e.projUuid===f&&void 0!==e.projLoc&&null!==e.projLoc&&""!==e.projLoc&&(c.workCity=e.projLoc),e.projUuid===f&&""!==e.teamUuid&&(c.teamUuid===e.teamUuid&&(m=!0),null===h&&(h=e),g.push(i.default.createElement(S,{key:e.teamUuid,value:e.teamUuid},e.teamName)))}),!m&&null!==h){var C=null===h?"":h.teamUuid;c.teamUuid=C,this.prepareWorkHour(C)}m=!1;var b=null,w=[];return d.map(function(e,t){e.projUuid===f&&""!==e.ordUuid&&(c.orderUuid===e.ordUuid&&(m=!0),null===b&&(b=e),w.push(i.default.createElement(S,{key:e.ordUuid,value:e.ordUuid},e.ordName)))}),m||(null!==b?(c.orderUuid=b.ordUuid,c.orderName=b.ordName,c.itemUuid=b.itemUuid,c.itemName=b.itemName):(c.orderUuid="",c.orderName="",c.itemUuid="",c.itemName="")),i.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},i.default.createElement(s.Tabs,{activeKey:this.state.activeKey,onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},i.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),u,i.default.createElement(E,{tab:"新报工单",key:"2",style:{width:"100%",height:"100%"}},i.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(p.default,{ref:"mxgBox",svcList:["work_daily/create","work_daily/retrieve"]}),i.default.createElement(s.Form,{layout:t,style:{width:"100%",maxWidth:"800px"}},i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"日期",colon:!0,help:o.workDateHint,validateStatus:o.workDateStatus}),i.default.createElement(s.Input,{type:"text",name:"workDate",id:"workDate",value:this.state.workDaily.workDate,onChange:this.handleOnChange,disabled:!0}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"考勤月份",colon:!0,help:o.workMonthHint,validateStatus:o.workMonthStatus}),i.default.createElement(s.Input,{type:"text",name:"workMonth",id:"workMonth",value:this.state.workDaily.workMonth,onChange:this.handleOnChange})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"项目组",required:!0,colon:!0,help:o.projUuidHint,validateStatus:o.projUuidStatus}),i.default.createElement(s.Select,{name:"projUuid",id:"projUuid",value:this.state.workDaily.projUuid,onSelect:this.handleOnSelected.bind(this,"projUuid")},this.state.projSelectOptions))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"项目小组",colon:!0,help:o.teamUuidHint,validateStatus:o.teamUuidStatus}),i.default.createElement(s.Select,{name:"teamUuid",id:"teamUuid",value:this.state.workDaily.teamUuid,onSelect:this.handleOnSelected2.bind(this,-1,"teamUuid")},g)))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"订单名称",required:!1,colon:!0,help:o.orderUuidHint,validateStatus:o.orderUuidStatus}),i.default.createElement(s.Select,{name:"orderUuid",id:"orderUuid",value:this.state.workDaily.orderUuid,onSelect:this.handleOnSelected2.bind(this,-1,"orderUuid")},w))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"任务名称",colon:!0,help:o.itemNameHint,validateStatus:o.itemNameStatus}),i.default.createElement(s.Input,{type:"text",name:"itemName",id:"itemName",value:this.state.workDaily.itemName,onChange:this.handleOnChange,disabled:!0})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"开始时间",colon:!0,help:o.fromTimeHint,validateStatus:o.fromTimeStatus}),i.default.createElement(s.Input,{type:"text",name:"fromTime",id:"fromTime",value:this.state.workDaily.fromTime,onChange:this.handleOnChange}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"结束时间",colon:!0,help:o.toTimeHint,validateStatus:o.toTimeStatus}),i.default.createElement(s.Input,{type:"text",name:"toTime",id:"toTime",value:this.state.workDaily.toTime,onChange:this.handleOnChange})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"考勤工时",colon:!0,help:o.checkHourHint,validateStatus:o.checkHourStatus}),i.default.createElement(s.Input,{type:"text",name:"checkHour",id:"checkHour",value:this.state.workDaily.checkHour,onChange:this.handleOnChange}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"有效工时",required:!0,colon:!0,help:o.workHourHint,validateStatus:o.workHourStatus}),i.default.createElement(s.Input,{type:"text",name:"workHour",id:"workHour",value:this.state.workDaily.workHour,onChange:this.handleOnChange})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"加班工时",colon:!0,help:o.overHourHint,validateStatus:o.overHourStatus}),i.default.createElement(s.Input,{type:"text",name:"overHour",id:"overHour",value:this.state.workDaily.overHour,onChange:this.handleOnChange}))),i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"所在城市",colon:!0,help:o.workCityHint,validateStatus:o.workCityStatus}),i.default.createElement(s.Input,{type:"text",name:"workCity",id:"workCity",value:this.state.workDaily.workCity,onChange:this.handleOnChange})))),i.default.createElement(s.Row,null,i.default.createElement(s.Col,{span:"12"},i.default.createElement(y,n({},l,{className:a,label:"工作类型",colon:!0,help:o.workTypeHint,validateStatus:o.workTypeStatus}),i.default.createElement(v.default,{name:"workType",id:"workType",value:this.state.workDaily.workType,appName:"项目管理",optName:"工作类型",onSelect:this.handleOnSelected.bind(this,"workType")})))),i.default.createElement(y,n({},r,{label:"工作内容",colon:!0,className:a,help:o.repBodyHint,validateStatus:o.repBodyStatus}),i.default.createElement(s.Input,{type:"textarea",name:"repBody",id:"repBody",value:this.state.workDaily.repBody,onChange:this.handleOnChange,style:{height:"200px"}})),i.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},className:a},i.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(4),m=a(1039),h=r(m),f=a(1),v=(a(6),a(3),p.Radio.Group),g=p.Radio.Button,y=(p.DatePicker.MonthPicker,p.Form.Item,a(655)),S=a(418),E=a(114),C=a(84),b=[],w=l.default.createClass({displayName:"DailyWorkPage",getInitialState:function(){return{dailyWorkSet:{recordSet:[],operation:"",errMsg:""},loading:!1,year:"",month:"",monthTime:"",date:[31,28,31,30,31,30,31,31,30,31,30,31],table:[],holidayMap:{},dailyWorkMap:{},filter:{},action:"table",obj:{}}},mixins:[f.listenTo(y,"onServiceComplete"),f.listenTo(E,"onServiceComplete1"),(0,c.default)("user-pos")],onServiceComplete:function(e){var t=this.state.date,a=this.state.year;t[1]=a%4!=0||a%100==0&&a%400!=0?28:29;var r={};e.recordSet.length>0&&e.recordSet.map(function(e,t){r[e.workDate.substr(4)]||(r[e.workDate.substr(4)]=[]),r[e.workDate.substr(4)].push(e)}),this.state.dailyWorkSet=e,this.state.dailyWorkMap=r;var a=this.state.year;C.initHoliday(a)},onServiceComplete1:function(e){var t={};0!=e.recordSet.length&&e.recordSet.map(function(e,a){t[e.date]=e.flag}),this.createTable(t),this.setState({loading:!1,holidayMap:t})},componentDidMount:function(){var e={},t=b[0],a=t.substr(0,4),r=t.substr(4,1);if(1==r)var n=t.substr(4,2);else if(0==r)var n=t.substr(5,1);e.workDate1=t+"01",e.workDate2=t+"31",e.staffCode=window.loginData.compUser.userCode,e.corpUuid=window.loginData.compUser.corpUuid,S.initWorkDaily(e),this.setState({loading:!0,filter:e,year:a,month:n,monthTime:t})},onChangeView:function(e){var t={},a=e.target.value,r=a.substr(0,4),n=a.substr(4,1);if(1==n)var l=a.substr(4,2);else if(0==n)var l=a.substr(5,1);t.workDate1=a+"01",t.workDate2=a+"31",t.staffCode=window.loginData.compUser.userCode,t.corpUuid=window.loginData.compUser.corpUuid,S.initWorkDaily(t),this.setState({loading:!0,filter:t,year:r,month:l,monthTime:a})},openOptPage:function(e,t){var a={};"update"===e?(a.workDaily={workDate:t[0].workDate},a.orderList=t):"create"===e&&(a.workDaily={workDate:t},a.orderList=[]),this.setState({action:"opt",obj:a})},onBack:function(){this.setState({action:"table"})},weekFunc:function(e,t,a){var r=e%100,n=Math.ceil(e/100)-1,l=t;t<3&&(l+=12,r=(e-1)%100,n=Math.ceil((e-1)/100)-1);var i=(r+Math.floor(r/4)+Math.floor(n/4)-2*n+Math.floor(26*(l+1)/10)+a-1)%7;return i<0&&(i+=7),i},createTable:function(e){var t=this.state.dailyWorkMap,a=this.state.date,r=this.state.year,n=parseInt(this.state.month),i=[];if(null!=n){var o=n-1;a=a[o]}for(var s=0===this.weekFunc(r,n,1)?7:this.weekFunc(r,n,1),d=Math.ceil((a+s-1)/7),u=[],c=0;c<d;c++){for(var p=[],m=1;m<8;m++){var h="",f=7*c+m-s+1;if(f>a||f<1)h=l.default.createElement("td",{style:{textAlign:"center",border:"1px solid #ccc"}});else{var v="",g="",y=""+(n>9?n:"0"+n)+(f>9?f:"0"+f),S=e[y];"1"===S?v="red":"2"===S&&(v="rgb(255, 187, 0)",g="1px solid rgb(255, 187, 0)");var E=t[y],C=[];"undefined"!=typeof E&&E.map(function(e,t){var a=e.orderName;a||(a=e.projName),C.push(l.default.createElement("p",{style:{color:"rgba(0,0,0,.65)"}},a,"（",e.checkHour,"）"))}),h=C.length>0?l.default.createElement("td",{onClick:this.openOptPage.bind(this,"update",E),key:y,style:{position:"relative",textAlign:"left",color:v,border:"1px solid #ccc"}},l.default.createElement("span",{style:{position:"absolute",top:"0",left:"6px",width:"20px",height:"20px"}},l.default.createElement("p",{style:{color:v,border:g}},f)),l.default.createElement("div",{style:{maxHeight:"80px",overflow:"hidden",margin:"-10px 0 -10px 6px"}},C)):l.default.createElement("td",{onClick:this.openOptPage.bind(this,"create",r+y),key:y,style:{position:"relative",textAlign:"center",color:v,border:"1px solid #ccc"}},l.default.createElement("span",{style:{position:"absolute",top:"0",left:"0",width:"20px",height:"20px"}},l.default.createElement("p",{style:{color:v,border:g}},f)))}p.push(h)}u.push(l.default.createElement("tr",{key:c,style:{height:"50px"}},p))}i.push(l.default.createElement("div",{style:{margin:"0 20px 0 0",float:"left",width:"100%",height:"500px"}},l.default.createElement("table",{style:{width:"100%",height:"500px"}},l.default.createElement("tbody",null,l.default.createElement("tr",{key:"row.0",style:{height:"30px"}},l.default.createElement("td",{key:"1",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"一"),l.default.createElement("td",{key:"2",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"二"),l.default.createElement("td",{key:"3",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"三"),l.default.createElement("td",{key:"4",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"四"),l.default.createElement("td",{key:"5",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"五"),l.default.createElement("td",{key:"6",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"六"),l.default.createElement("td",{key:"7",style:{width:"14%",textAlign:"center",border:"1px solid #ccc"}},"日")),u)))),this.setState({table:i})},render:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,r=this.state.table;a<10&&(a="0"+a);for(var n=0;n<=5;n++){var i,o,s=a-n;s<1?(i=t-1,o=12+s):(i=t-Math.floor(s/12),o=s%12);var u=i+""+(o>=10?o:"0"+o);b.push(u)}var c=null;return"table"===this.state.action?c=l.default.createElement("div",{className:"grid-page",style:{width:"100%",padding:"20px 32px 20px 28px",overflowY:"scroll"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["work_daily/retrieve"]}),l.default.createElement(v,{value:this.state.monthTime,onChange:this.onChangeView},l.default.createElement(g,{value:b[5]},b[5]),l.default.createElement(g,{value:b[4]},b[4]),l.default.createElement(g,{value:b[3]},b[3]),l.default.createElement(g,{value:b[2]},b[2]),l.default.createElement(g,{value:b[1]},b[1]),l.default.createElement(g,{value:b[0]},b[0])),l.default.createElement("div",{style:{marginTop:"20px",width:"100%"}},this.state.loading?l.default.createElement(p.Spin,null,r):r)):"opt"===this.state.action&&(c=l.default.createElement(h.default,{onBack:this.onBack,obj:this.state.obj})),l.default.createElement("div",null,c)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(735),m=r(p),h=a(4),f=a(1),v=a(6),g=h.Form.Item,y=(a(14),a(314)),S=a(249),E=i.default.createClass({displayName:"CreateProjInfoPage",getInitialState:function(){return{projInfoSet:{operation:"",errMsg:""},loading:!1,modal:!1,projInfo:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("projInfo")],onServiceComplete:function(e){if(this.state.modal&&"create"===e.operation)if(""===e.errMsg){var t=e.recordSet.length,a=e.recordSet[t-1];a.ordCode=this.state.projInfo.ordCode,a.ordName=this.state.projInfo.ordName,a.itemCode=this.state.projInfo.itemCode,a.itemName=this.state.projInfo.itemName,this.setState({modal:!1})}else this.setState({loading:!1,projInfoSet:e})},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"},{id:"roleName",desc:"承担角色",required:!1,max:"64"}]},clear:function(){this.state.hints={},this.state.projInfo.uuid="",this.state.projInfo.corpUuid=window.loginData.compUser.corpUuid,this.state.projInfo.proUuid=this.props.projUuid,this.state.projInfo.staffCode=window.loginData.compUser.userCode,this.state.projInfo.perName=window.loginData.authUser.perName,this.state.projInfo.beginDate=""+v.getToday(),this.state.projInfo.beginTime="09:00",this.state.projInfo.roleName="",this.state.projInfo.manStatus="入组",this.state.loading=!1,this.state.projInfoSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){v.formValidator(this,this.state.projInfo)&&(this.state.projInfoSet.operation="",this.setState({loading:!0}),this.state.projInfo.projUuid=this.props.projUuid,this.state.projInfo.staffCode=window.loginData.compUser.userCode,this.state.projInfo.corpUuid=this.state.projInfo.corpUuid,this.state.projInfo.perName=window.loginData.authUser.perName,this.state.projInfo.proUuid=this.props.projUuid,S.createProjMember(this.state.projInfo))},onSelectProjTask:function(e){this.state.projInfo.taskUuid=e.uuid,this.state.projInfo.staffCode=e.userUuid,this.state.projInfo.ordCode=e.ordCode,this.state.projInfo.ordName=e.ordName,this.state.projInfo.itemCode=e.itemCode,this.state.projInfo.itemName=e.itemName,this.setState({user:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints,o=this.props.projUuid;return i.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"增加任务",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,
footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-task-member/create"]}),i.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(h.Form,{layout:e},i.default.createElement("div",{style:{borderBottom:"1px solid #ccc",marginBottom:"16px"}},i.default.createElement(m.default,{style:{width:"400px",margin:"0 0 15px 22px"},projUuid:o,showError:this.showError,onSelectProjTask:this.onSelectProjTask})),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"订单编号",required:!1,colon:!0,className:t,help:l.ordCodeHint,validateStatus:l.ordCodeStatus}),i.default.createElement(h.Input,{type:"text",name:"ordCode",id:"ordCode",disabled:!0,value:this.state.projInfo.ordCode,onChange:this.handleOnChange}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"订单名称",required:!1,colon:!0,className:t,help:l.ordNameHint,validateStatus:l.ordNameStatus}),i.default.createElement(h.Input,{type:"text",name:"ordName",id:"ordName",disabled:!0,value:this.state.projInfo.ordName,onChange:this.handleOnChange})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"任务编号",required:!1,colon:!0,className:t,help:l.itemCodeHint,validateStatus:l.itemCodeStatus}),i.default.createElement(h.Input,{type:"text",name:"itemCode",id:"itemCode",disabled:!0,value:this.state.projInfo.itemCode,onChange:this.handleOnChange}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"任务名称",required:!1,colon:!0,className:t,help:l.itemNameHint,validateStatus:l.itemNameStatus}),i.default.createElement(h.Input,{type:"text",name:"itemName",id:"itemName",disabled:!0,value:this.state.projInfo.itemName,onChange:this.handleOnChange})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"入组日期",required:!0,colon:!0,className:t,help:l.beginDateHint,validateStatus:l.beginDateStatus}),i.default.createElement(h.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projInfo.beginDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",v.dateFormat)}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:l.beginTimeHint,validateStatus:l.beginTimeStatus}),i.default.createElement(h.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.projInfo.beginTime,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:l.roleNameHint,validateStatus:l.roleNameStatus}),i.default.createElement(h.Input,{type:"textarea",name:"roleName",id:"roleName",value:this.state.projInfo.roleName,onChange:this.handleOnChange}))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1041),p=r(c),m=a(1043),h=r(m),f=a(1),v=a(6),g=(a(3),a(314)),y=a(249),S=l.default.createClass({displayName:"ProjInfoTablePage",getInitialState:function(){return{projInfoSet:{recordSet:[],errMsg:""},loading:!1,projUuid:this.props.projUuid}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projInfoSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,e.projUuid=this.props.projUuid,y.retrieveProjMember(e)},componentDidMount:function(e){},componentWillReceiveProps:function(e){if(e.projUuid!==this.props.projUuid){this.setState({loading:!0});var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.staffCode=window.loginData.compUser.userCode,t.projUuid=e.projUuid,y.initProjMember(t)}},handleOpenCreateWindow:function(e){var t=window.loginData.compUser.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},handleUpdateClick:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle()),t.stopPropagation()},handleRemoveClick:function(e){u.Modal.confirm({title:v.removeTitle,content:"是否删除选中的任务 【"+e.ordName+"】",okText:v.removeOkText,cancelText:v.removeCancelText,onOk:this.handleRemoveClick2.bind(this,e)}),event.stopPropagation()},handleRemoveClick2:function(e){this.setState({loading:!0}),y.deleteProjMember(e.uuid)},render:function(){var e=this,t=this.state.projInfoSet.recordSet,a=[{title:"编号",dataIndex:"ordCode",key:"ordCode",width:140},{title:"名称",dataIndex:"ordName",key:"ordName",width:140},{title:"客户",dataIndex:"custName",key:"custName",width:140},{title:"最终客户",dataIndex:"realCust",key:"realCust",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.handleUpdateClick.bind(e,t),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.handleRemoveClick.bind(e,t),title:"删除任务"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];v.getGridMargin(this);return l.default.createElement("div",{style:{padding:"10px 0 0 0"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-task-member/user-task","proj-task-member/remove"]}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement("span",{style:{fontSize:"12pt"}},"我参与的订单和任务"),l.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加任务",onClick:this.handleOpenCreateWindow,style:{marginLeft:"16px"}}),l.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),l.default.createElement("div",{style:{textAlign:"right",width:"100%"}})),l.default.createElement("div",{className:"grid-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),l.default.createElement(p.default,{ref:"createWindow",projUuid:this.props.projUuid}),l.default.createElement(h.default,{ref:"updateWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(19),m=r(p),h=a(4),f=a(1),v=a(6),g=a(3),y=h.Form.Item,S=(h.Select.Option,a(314)),E=a(249),C=i.default.createClass({displayName:"UpdateProjInfoPage",getInitialState:function(){return{projInfoSet:{operation:"",errMsg:""},loading:!1,modal:!1,projInfo:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("projInfo")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,projInfoSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"},{id:"roleName",desc:"承担角色",required:!1,max:"64"},{id:"manStatus",desc:"状态：入组、离组",required:!1,max:"16"},{id:"endDate",desc:"离组日期",required:!1,max:"24"},{id:"endTime",desc:"离组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.projInfo)},initPage:function(e){this.state.hints={},g.copyValue(e,this.state.projInfo),this.state.loading=!1,this.state.projInfoSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){v.formValidator(this,this.state.projInfo)&&(this.state.projInfoSet.operation="",this.setState({loading:!0}),E.updateProjMember(this.state.projInfo))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints;return i.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改任务",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-task-member/update"]}),i.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(h.Form,{layout:e},i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"订单编号",required:!1,colon:!0,className:t,help:l.ordCodeHint,validateStatus:l.ordCodeStatus}),i.default.createElement(h.Input,{type:"text",name:"ordCode",id:"ordCode",disabled:!0,value:this.state.projInfo.ordCode,onChange:this.handleOnChange}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"订单名称",required:!1,colon:!0,className:t,help:l.ordNameHint,validateStatus:l.ordNameStatus}),i.default.createElement(h.Input,{type:"text",name:"ordName",id:"ordName",disabled:!0,value:this.state.projInfo.ordName,onChange:this.handleOnChange})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"任务编号",required:!1,colon:!0,className:t,help:l.itemCodeHint,validateStatus:l.itemCodeStatus}),i.default.createElement(h.Input,{type:"text",name:"itemCode",id:"itemCode",disabled:!0,value:this.state.projInfo.itemCode,onChange:this.handleOnChange}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"任务名称",required:!1,colon:!0,className:t,help:l.itemNameHint,validateStatus:l.itemNameStatus}),i.default.createElement(h.Input,{type:"text",name:"itemName",id:"itemName",disabled:!0,value:this.state.projInfo.itemName,onChange:this.handleOnChange})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"入组日期",required:!0,colon:!0,className:t,help:l.beginDateHint,validateStatus:l.beginDateStatus}),i.default.createElement(h.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projInfo.beginDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",v.dateFormat)}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:l.beginTimeHint,validateStatus:l.beginTimeStatus}),i.default.createElement(h.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.projInfo.beginTime,onChange:this.handleOnChange})))),i.default.createElement(y,n({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:l.roleNameHint,validateStatus:l.roleNameStatus}),i.default.createElement(h.Input,{type:"textarea",name:"roleName",id:"roleName",value:this.state.projInfo.roleName,onChange:this.handleOnChange})),i.default.createElement(h.Row,null,i.default.createElement(y,n({},a,{label:"人员状态",required:!1,colon:!0,className:t,help:l.manStatusHint,validateStatus:l.manStatusStatus}),i.default.createElement(m.default,{name:"manStatus",id:"manStatus",value:this.state.projInfo.manStatus,appName:"项目管理",optName:"订单人员状态",onChange:this.onRadioChange}))),i.default.createElement(h.Row,{style:{display:"入组"===this.state.projInfo.manStatus?"none":"block"}},i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"离组日期",required:!1,colon:!0,className:t,help:l.endDateHint,validateStatus:l.endDateStatus}),i.default.createElement(h.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.projInfo.endDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",v.dateFormat)}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"离组时间",required:!1,colon:!0,className:t,help:l.endTimeHint,validateStatus:l.endTimeStatus}),i.default.createElement(h.Input,{type:"text",name:"endTime",id:"endTime",value:this.state.projInfo.endTime,onChange:this.handleOnChange}))))))}});t.default=C},function(e,t,a){"use strict";var r=a(1),n=a(657),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},projInfo:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,projInfo:a.projInfo,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),t.indexOf("没有找到记录")>=0&&(t=""),i.showError("proj-member",e,t)},onRetrieveProjMember:function(e){var t=this,a=this.getServiceUrl("proj-member/user-proj");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?a.object?(t.projInfo=a.object.list[0],t.filter=e,t.fireEvent("user-proj","",t)):t.fireEvent("user-proj","没有找到记录["+a.object+"]",t):t.fireEvent("user-proj","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("user-proj","调用服务错误",t)})},onInitProjMember:function(e){return this.projInfo.uuid&&l.compareTo(this.filter,e)?void this.fireEvent("user-proj","",this):void this.onRetrieveProjMember(e)},onUpdateProjMember1:function(e){var t=this.getServiceUrl("proj-member/update"),a=this;return l.compareTo(a.projInfo,e)?(console.log("数据没有变更"),void a.fireEvent("update","",a)):void l.doUpdateService(t,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(l.copyValue(e.object,a.projInfo),a.fireEvent("update","",a)):a.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent("update",l.getResErrMsg(e),a)})}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(735),m=r(p),h=a(4),f=a(1),v=a(6),g=h.Form.Item,y=(a(14),a(419)),S=a(315),E=i.default.createClass({displayName:"CreateProjTempPage",getInitialState:function(){return{projTempSet:{errMsg:""},loading:!1,modal:!1,projTemp:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("projTemp")],onServiceComplete:function(e){if(this.state.modal&&"create"===e.operation)if(""===e.errMsg){var t=e.recordSet.length,a=e.recordSet[t-1];a.ordCode=this.state.projTemp.ordCode,a.ordName=this.state.projTemp.ordName,a.itemCode=this.state.projTemp.itemCode,a.itemName=this.state.projTemp.itemName,this.setState({modal:!1})}else this.setState({loading:!1,projTempSet:e})},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"},{id:"roleName",desc:"承担角色",required:!1,max:"64"}]},clear:function(){this.state.hints={},this.state.projTemp.uuid="",this.state.projTemp.corpUuid=window.loginData.compUser.corpUuid,this.state.projTemp.proUuid=this.props.projUuid,this.state.projTemp.staffCode=window.loginData.compUser.userCode,this.state.projTemp.perName=window.loginData.authUser.perName,this.state.projTemp.beginDate=""+v.getToday(),this.state.projTemp.beginTime="09:00",this.state.projTemp.roleName="",this.state.projTemp.manStatus="入组",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){v.formValidator(this,this.state.projTemp)&&(this.setState({loading:!0}),this.state.projTemp.projUuid=this.props.projUuid,this.state.projTemp.staffCode=window.loginData.compUser.userCode,this.state.projTemp.perName=window.loginData.authUser.perName,this.state.projTemp.corpUuid=this.state.projTemp.corpUuid,this.state.projTemp.proUuid=this.props.projUuid,S.createProjTemp(this.state.projTemp))},onSelectProjTask:function(e){this.state.projTemp.taskUuid=e.uuid,this.state.projTemp.staffCode=e.userUuid,this.state.projTemp.ordCode=e.ordCode,this.state.projTemp.ordName=e.ordName,this.state.projTemp.itemCode=e.itemCode,this.state.projTemp.itemName=e.itemName,this.setState({user:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints,o=this.props.projUuid;return i.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"增加任务",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-task-member/create"]}),i.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(h.Form,{layout:e},i.default.createElement("div",{style:{borderBottom:"1px solid #ccc",marginBottom:"16px"}},i.default.createElement(m.default,{style:{width:"400px",margin:"0 0 15px 22px"},projUuid:o,showError:this.showError,onSelectProjTask:this.onSelectProjTask})),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"订单编号",required:!1,colon:!0,className:t,help:l.ordCodeHint,validateStatus:l.ordCodeStatus}),i.default.createElement(h.Input,{type:"text",name:"ordCode",id:"ordCode",disabled:!0,value:this.state.projTemp.ordCode,onChange:this.handleOnChange}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"订单名称",required:!1,colon:!0,className:t,help:l.ordNameHint,validateStatus:l.ordNameStatus}),i.default.createElement(h.Input,{type:"text",name:"ordName",id:"ordName",disabled:!0,value:this.state.projTemp.ordName,onChange:this.handleOnChange})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"任务编号",required:!1,colon:!0,className:t,help:l.itemCodeHint,validateStatus:l.itemCodeStatus}),i.default.createElement(h.Input,{type:"text",name:"itemCode",id:"itemCode",disabled:!0,value:this.state.projTemp.itemCode,onChange:this.handleOnChange}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"任务名称",required:!1,colon:!0,className:t,help:l.itemNameHint,validateStatus:l.itemNameStatus}),i.default.createElement(h.Input,{type:"text",name:"itemName",id:"itemName",disabled:!0,value:this.state.projTemp.itemName,onChange:this.handleOnChange})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"入组日期",required:!0,colon:!0,className:t,help:l.beginDateHint,validateStatus:l.beginDateStatus}),i.default.createElement(h.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projTemp.beginDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",v.dateFormat)}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(g,n({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:l.beginTimeHint,validateStatus:l.beginTimeStatus}),i.default.createElement(h.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.projTemp.beginTime,onChange:this.handleOnChange})))),i.default.createElement(g,n({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:l.roleNameHint,validateStatus:l.roleNameStatus}),i.default.createElement(h.Input,{type:"textarea",name:"roleName",id:"roleName",value:this.state.projTemp.roleName,onChange:this.handleOnChange}))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1045),p=r(c),m=a(1047),h=r(m),f=a(1),v=a(6),g=(a(3),a(419)),y=a(315),S=l.default.createClass({displayName:"ProjTempTablePage",getInitialState:function(){return{projTempSet:{recordSet:[],operation:"",errMsg:""},loading:!1,projUuid:this.props.projUuid}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projTempSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,e.projUuid=this.props.projUuid,y.retrieveProjTemp(e)},componentDidMount:function(e){},componentWillReceiveProps:function(e){if(e.projUuid!==this.props.projUuid){this.setState({loading:!0});var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.staffCode=window.loginData.compUser.userCode,t.projUuid=e.projUuid,y.initProjTemp(t)}},handleOpenCreateWindow:function(e){var t=window.loginData.compUser.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},handleUpdateClick:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle()),t.stopPropagation()},handleRemoveClick:function(e){u.Modal.confirm({title:v.removeTitle,content:"是否删除选中的任务 【"+e.ordName+"】",okText:v.removeOkText,cancelText:v.removeCancelText,onOk:this.handleRemoveClick2.bind(this,e)}),event.stopPropagation()},handleRemoveClick2:function(e){this.setState({loading:!0}),y.deleteProjTemp(e.uuid)},render:function(){var e=this,t=this.state.projTempSet.recordSet,a=this.props.projUuid,r=[{title:"编号",dataIndex:"ordCode",key:"ordCode",width:140},{title:"名称",dataIndex:"ordName",key:"ordName",width:140},{title:"客户",dataIndex:"custName",key:"custName",width:140},{title:"最终客户",dataIndex:"realCust",key:"realCust",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"承担角色",dataIndex:"roleDesc",key:"roleDesc",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.handleUpdateClick.bind(e,t),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.handleRemoveClick.bind(e,t),title:"删除任务"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}];v.getGridMargin(this);return l.default.createElement("div",{style:{padding:"10px 0 0 0"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-task-member/user-task","proj-task-member/remove"]}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement("span",{style:{fontSize:"12pt"}},"我参与的订单和任务"),l.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加任务",onClick:this.handleOpenCreateWindow,style:{marginLeft:"16px"}}),l.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),l.default.createElement("div",{style:{textAlign:"right",width:"100%"}})),l.default.createElement("div",{className:"grid-body"},l.default.createElement(u.Table,{columns:r,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),l.default.createElement(p.default,{ref:"createWindow",projUuid:a}),l.default.createElement(h.default,{ref:"updateWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(19),m=r(p),h=a(4),f=a(1),v=a(6),g=a(3),y=h.Form.Item,S=(h.Select.Option,a(419)),E=a(315),C=i.default.createClass({displayName:"UpdateProjTempPage",getInitialState:function(){return{projTempSet:{operation:"",errMsg:""},loading:!1,modal:!1,projTemp:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,c.default)("projTemp")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,projTempSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"},{id:"roleName",desc:"承担角色",required:!1,max:"64"},{id:"manStatus",desc:"状态：入组、离组",required:!1,max:"16"},{id:"endDate",desc:"离组日期",required:!1,max:"24"},{id:"endTime",desc:"离组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.projTemp)},initPage:function(e){this.state.hints={},g.copyValue(e,this.state.projTemp),this.state.loading=!1,this.state.projTempSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){v.formValidator(this,this.state.projTemp)&&(this.state.projTempSet.operation="",this.setState({loading:!0}),E.updateProjTemp(this.state.projTemp))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.hints;return i.default.createElement(h.Modal,{visible:this.state.modal,width:"540px",title:"修改任务",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-task-member/update"]}),i.default.createElement(h.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(h.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(h.Form,{layout:e},i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"订单编号",required:!1,colon:!0,className:t,help:l.ordCodeHint,validateStatus:l.ordCodeStatus}),i.default.createElement(h.Input,{type:"text",name:"ordCode",id:"ordCode",disabled:!0,value:this.state.projTemp.ordCode,onChange:this.handleOnChange}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"订单名称",required:!1,colon:!0,className:t,help:l.ordNameHint,validateStatus:l.ordNameStatus}),i.default.createElement(h.Input,{type:"text",name:"ordName",id:"ordName",disabled:!0,value:this.state.projTemp.ordName,onChange:this.handleOnChange})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"任务编号",required:!1,colon:!0,className:t,help:l.itemCodeHint,validateStatus:l.itemCodeStatus}),i.default.createElement(h.Input,{type:"text",name:"itemCode",id:"itemCode",disabled:!0,value:this.state.projTemp.itemCode,onChange:this.handleOnChange}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"任务名称",required:!1,colon:!0,className:t,help:l.itemNameHint,validateStatus:l.itemNameStatus}),i.default.createElement(h.Input,{type:"text",name:"itemName",id:"itemName",disabled:!0,value:this.state.projTemp.itemName,onChange:this.handleOnChange})))),i.default.createElement(h.Row,null,i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"入组日期",required:!0,colon:!0,className:t,help:l.beginDateHint,validateStatus:l.beginDateStatus}),i.default.createElement(h.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projTemp.beginDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",v.dateFormat)}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:l.beginTimeHint,validateStatus:l.beginTimeStatus}),i.default.createElement(h.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.projTemp.beginTime,onChange:this.handleOnChange})))),i.default.createElement(y,n({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:l.roleNameHint,validateStatus:l.roleNameStatus}),i.default.createElement(h.Input,{type:"textarea",name:"roleName",id:"roleName",value:this.state.projTemp.roleName,onChange:this.handleOnChange})),i.default.createElement(h.Row,null,i.default.createElement(y,n({},a,{label:"人员状态",required:!1,colon:!0,className:t,help:l.manStatusHint,validateStatus:l.manStatusStatus}),i.default.createElement(m.default,{name:"manStatus",id:"manStatus",value:this.state.projTemp.manStatus,appName:"项目管理",optName:"订单人员状态",onChange:this.onRadioChange}))),i.default.createElement(h.Row,{style:{display:"入组"===this.state.projTemp.manStatus?"none":"block"}},i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"离组日期",required:!1,colon:!0,className:t,help:l.endDateHint,validateStatus:l.endDateStatus}),i.default.createElement(h.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.projTemp.endDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",v.dateFormat)}))),i.default.createElement(h.Col,{span:"12"},i.default.createElement(y,n({},r,{label:"离组时间",required:!1,colon:!0,className:t,help:l.endTimeHint,validateStatus:l.endTimeStatus}),i.default.createElement(h.Input,{type:"text",name:"endTime",id:"endTime",value:this.state.projTemp.endTime,onChange:this.handleOnChange}))))))}});t.default=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(4),c=a(79),p=r(c),m=a(1),h=(a(6),a(6),a(3)),f=u.Form.Item,v=(u.Select.Option,a(658)),g=a(420),y=a(1046),S=i.default.createClass({displayName:"ProjTempFormPage",getInitialState:function(){return{projTempSet:{recordSet:[],errMsg:""},loading:!1,projTemp:{}}},mixins:[m.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){"update"===e.operation&&this.setState({loading:!1,projTempSet:e})},componentDidMount:function(){var e={};h.copyValue(this.props.proj,e),this.setState({projTemp:e})},handleOnSelected1:function(e,t){var a=this.state.projTemp;a[e]=t,this.setState({projTemp:a})},handleOnChange:function(e){var t=this.state.projTemp;t[e.target.id]=e.target.value,this.setState({loading:this.state.loading})},goBack:function(){this.props.goBack&&this.props.goBack()},onClickSave:function(){this.setState({loading:!0}),g.updateProjTemp(this.state.projTemp)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},l=this.state.projTemp.projUuid;
l||(l="");var o=(this.state.hints,i.default.createElement(u.Form,{layout:e,style:{width:"600px"}},i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"员工编号",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"staffCode",id:"staffCode",disabled:!0,value:this.state.projTemp.staffCode}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"员工姓名",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"perName",id:"perName",disabled:!0,value:this.state.projTemp.perName})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"所在项目",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"projName",id:"projName",disabled:!0,value:this.state.projTemp.projName}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"入组日期",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"beginDate",id:"beginDate",disabled:!0,value:this.state.projTemp.beginDate})))),i.default.createElement(u.Row,null,i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"项目经理",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"pmName",id:"pmName",disabled:!0,value:this.state.projTemp.pmName}))),i.default.createElement(u.Col,{span:"12"},i.default.createElement(f,n({},r,{label:"所在小组",colon:!0,className:t}),i.default.createElement(p.default,{name:"teamUuid",id:"teamUuid",projUuid:l,value:this.state.projTemp.teamUuid,onChange:this.handleOnSelected1.bind(this,"teamUuid")})))),i.default.createElement(f,n({},a,{label:"承担角色",colon:!0,className:t}),i.default.createElement(u.Input,{type:"text",name:"roleName",id:"roleName",value:this.state.projTemp.roleName,onChange:this.handleOnChange})),i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/update"]}),i.default.createElement(u.Button,{key:"btnOK",type:"primary",size:"middle",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(u.Button,{key:"btnClose",size:"middle",onClick:this.goBack},"返回"))));return i.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_temp_member/update"]}),i.default.createElement("div",{style:{fontSize:"12pt",padding:"0 0 16px 24px"}},"我所在的项目组"),this.state.loading?i.default.createElement(u.Spin,null,o):o,i.default.createElement(y,{projUuid:l}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=r(s),u=(a(13),a(4)),c=a(1),p=u.Input.Search,m=(a(3),a(6)),h=a(658),f=a(420),v=a(1048),g="",y=l.default.createClass({displayName:"ProjTempPage",getInitialState:function(){return{projTempSet:{recordSet:[],errMsg:""},loading:!1,action:"query",projTemp:{}}},mixins:[c.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projTempSet:e})},componentDidMount:function(e){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.staffCode=window.loginData.compUser.userCode,f.initProjTemp(e)},handleProjClick:function(e,t){this.state.projTemp=e,this.setState({action:"form"})},goBack:function(){this.setState({action:"query"})},onFilterRecord:function(e){g=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=m.filter(this.state.projTempSet.recordSet,g),a="query"===this.state.action?"":"none",r=m.getCardMargin(this),n=t.map(function(t,a){return l.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},l.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleProjClick.bind(e,t),title:"点击进入临时组"},l.default.createElement("div",{className:"ant-card-head"},l.default.createElement("h3",{className:"ant-card-head-title"},t.projCode)),l.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"66px",overflow:"hidden"}},t.projName,"(",t.pmName,")")))}),i=l.default.createElement("div",{className:"grid-page",style:{padding:r.padding,display:a}},l.default.createElement("div",{style:{margin:r.margin}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_temp_member/user-temp-proj"]}),l.default.createElement("div",{className:"toolbar-card"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement("div",{style:{paddingTop:"16px",paddingRight:"4px",display:"inline"}},t.length,"个临时项目组")),l.default.createElement("div",{style:{textAlign:"right",width:"100%"}},l.default.createElement(p,{placeholder:"查找记录",style:{width:m.searchWidth},value:g,onChange:this.onFilterRecord})))),this.state.loading?l.default.createElement(u.Spin,{tip:"正在努力加载数据...",style:{minHeight:"200px"}},n):l.default.createElement("div",{className:"card-body"},n)),o=null;return"form"===this.state.action&&(o=l.default.createElement(v,{proj:this.state.projTemp,goBack:this.goBack})),l.default.createElement("div",{style:{width:"100%",height:"100%"}},i,o)}});e.exports=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(19),m=r(p),h=a(77),f=r(h),v=a(67),g=r(v),y=a(4),S=a(1),E=a(6),C=y.Form.Item,b=(y.Select.Option,a(317)),w=a(250),k=i.default.createClass({displayName:"CreateResBigGroupPage",getInitialState:function(){return{teamGrpSet:{operation:"",errMsg:""},loading:!1,modal:!1,teamGrp:{},hints:{},validRules:[]}},mixins:[S.listenTo(b,"onServiceComplete"),(0,c.default)("teamGrp")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,teamGrpSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"grpCode",desc:"小组编号",required:!1,max:"64"},{id:"grpName",desc:"小组名称",required:!1,max:"64"},{id:"grpLevel",desc:"小组级别：大组、中组、小组",required:!1,max:"24"},{id:"baseCity",desc:"归属地",required:!1,max:"64"},{id:"pmCode",desc:"组长编号",required:!1,max:"64"},{id:"pmName",desc:"组长姓名",required:!1,max:"32"},{id:"grpDesc",desc:"小组说明",required:!1,max:"512"}]},clear:function(){this.state.hints={},this.state.teamGrp.puuid=this.props.puuid,this.state.teamGrp.corpUuid=window.loginData.compUser.corpUuid,this.state.teamGrp.grpCode=this.props.grpCode+". ",this.state.teamGrp.poolUuid=this.props.poolUuid,this.state.teamGrp.teamUuid=this.props.teamUuid,this.state.teamGrp.grpName="",this.state.teamGrp.grpLevel="小组",this.state.teamGrp.baseCity="",this.state.teamGrp.pmCode="",this.state.teamGrp.pmName="",this.state.teamGrp.grpDesc="",this.state.loading=!1,this.state.teamGrpSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectProj:function(e){this.state.teamGrp.pmUuid=e.uuid,this.state.teamGrp.pmCode=e.staffCode,this.state.teamGrp.pmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){E.formValidator(this,this.state.teamGrp)&&(this.state.teamGrpSet.operation="",this.setState({loading:!0}),w.createResTeamGrp(this.state.teamGrp))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},l=this.state.hints,o=window.loginData.compUser.corpUuid;return i.default.createElement(y.Modal,{visible:this.state.modal,width:"580px",title:"增加小组",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["res-team-grp/create"]}),i.default.createElement(y.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(y.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(y.Form,{layout:e},i.default.createElement(y.Row,null,i.default.createElement(y.Col,{span:"12"},i.default.createElement(C,n({},r,{label:"小组编号",required:!0,colon:!0,className:t,help:l.grpCodeHint,validateStatus:l.grpCodeStatus}),i.default.createElement(y.Input,{type:"text",name:"grpCode",id:"grpCode",value:this.state.teamGrp.grpCode,onChange:this.handleOnChange}))),i.default.createElement(y.Col,{span:"12"},i.default.createElement(C,n({},r,{label:"小组名称",required:!1,colon:!0,className:t,help:l.grpNameHint,validateStatus:l.grpNameStatus}),i.default.createElement(y.Input,{type:"text",name:"grpName",id:"grpName",value:this.state.teamGrp.grpName,onChange:this.handleOnChange})))),i.default.createElement(y.Row,null,i.default.createElement(y.Col,{span:"12"},i.default.createElement(C,n({},r,{label:"小组级别",required:!1,colon:!0,className:t,help:l.grpLevelHint,validateStatus:l.grpLevelStatus}),i.default.createElement(m.default,{name:"grpLevel",id:"grpLevel",appName:"项目管理",optName:"小组级别",value:this.state.teamGrp.grpLevel,onChange:this.onRadioChange}))),i.default.createElement(y.Col,{span:"12"},i.default.createElement(C,n({},r,{label:"归属地",required:!1,colon:!0,className:t,help:l.baseCityHint,validateStatus:l.baseCityStatus}),i.default.createElement(f.default,{name:"baseCity",id:"baseCity",paramName:"城市",value:this.state.teamGrp.baseCity,onChange:this.handleOnSelected.bind(this,"baseCity")})))),i.default.createElement(y.Row,null,i.default.createElement(C,n({},a,{label:"组长",required:!1,colon:!0,className:t,help:l.pmNameHint,validateStatus:l.pmNameStatus,style:{marginLeft:"-14px"}}),i.default.createElement(g.default,{corpUuid:o,showError:this.showError,ref:"empSearchBox",type:"text",name:"pmName",id:"pmName",value:this.state.teamGrp.pmName,onSelectMember:this.onSelectProj}))),i.default.createElement(y.Row,null,i.default.createElement(y.Col,{span:"12"},i.default.createElement(C,n({},r,{label:"组长编号",required:!1,colon:!0,className:t,help:l.pmCodeHint,validateStatus:l.pmCodeStatus}),i.default.createElement(y.Input,{type:"text",name:"pmCode",id:"pmCode",value:this.state.teamGrp.pmCode,onChange:this.handleOnChange,disabled:!0}))),i.default.createElement(y.Col,{span:"12"},i.default.createElement(C,n({},r,{label:"组长姓名",required:!1,colon:!0,className:t,help:l.pmNameHint,validateStatus:l.pmNameStatus}),i.default.createElement(y.Input,{type:"text",name:"pmName",id:"pmName",value:this.state.teamGrp.pmName,onChange:this.handleOnChange,disabled:!0})))),i.default.createElement(C,n({},a,{label:"小组说明",required:!1,colon:!0,className:t,help:l.grpDescHint,validateStatus:l.grpDescStatus,style:{marginLeft:"-12px"}}),i.default.createElement(y.Input,{type:"textarea",name:"grpDesc",id:"grpDesc",value:this.state.teamGrp.grpDesc,onChange:this.handleOnChange}))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(4),m=a(67),h=r(m),f=a(1),v=a(6),g=p.Form.Item,y=(p.Select.Option,a(421)),S=a(316),E=i.default.createClass({displayName:"CreateResSmallGroupPage",getInitialState:function(){return{teamGrpSet:{operation:"",errMsg:""},loading:!1,modal:!1,teamGrp:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("teamGrp")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,teamGrpSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"phoneno",desc:"电话",required:!1,max:"32"},{id:"resStatus",desc:"当前状态：资源池、项目、事务",required:!1,max:"32"},{id:"resName",desc:"项目名称",required:!1,max:"128"}]},clear:function(){this.state.hints={},this.state.teamGrp.corpUuid=window.loginData.compUser.corpUuid,this.state.teamGrp.poolUuid=this.props.poolUuid,this.state.teamGrp.groupUuid=this.props.uuid,this.state.teamGrp.staffCode="",this.state.teamGrp.perName="",this.state.teamGrp.phoneno="",this.state.teamGrp.resStatus="",this.state.teamGrp.resName="",this.state.loading=!1,this.state.teamGrpSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectProj:function(e){this.state.teamGrp.groupUuid=e.uuid,this.state.teamGrp.staffCode=e.staffCode,this.state.teamGrp.perName=e.perName,this.state.teamGrp.resStatus=e.resStatus,this.state.teamGrp.phoneno=e.phoneno,this.state.teamGrp.resName=e.resName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){v.formValidator(this,this.state.teamGrp)&&(this.state.teamGrpSet.operation="",this.setState({loading:!0}),this.state.teamGrp.groupUuid=this.props.uuid,S.createResTeamGrp(this.state.teamGrp))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,l=window.loginData.compUser.corpUuid;return i.default.createElement(p.Modal,{visible:this.state.modal,width:"580px",title:"增加小组成员",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/create"]}),i.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(p.Form,{layout:e},i.default.createElement(p.Row,null,i.default.createElement(h.default,{style:{width:"70%",margin:"0 10px 20px 0px",float:"left"},corpUuid:l,showError:this.showError,ref:"empSearchBox",onSelectMember:this.onSelectProj}),i.default.createElement(p.Button,{style:{float:"left"},key:"btnClose",size:"middle",onClick:this.toggle},"查询")),i.default.createElement(g,n({},a,{label:"员工编号",required:!0,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),i.default.createElement(p.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.teamGrp.staffCode,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),i.default.createElement(p.Input,{type:"text",name:"perName",id:"perName",value:this.state.teamGrp.perName,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"电话",required:!1,colon:!0,className:t,help:r.phonenoHint,validateStatus:r.phonenoStatus}),i.default.createElement(p.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.teamGrp.phoneno,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"当前状态",required:!1,colon:!0,className:t,help:r.resStatusHint,validateStatus:r.resStatusStatus}),i.default.createElement(p.Input,{type:"text",name:"resStatus",id:"resStatus",value:this.state.teamGrp.resStatus,onChange:this.handleOnChange})),i.default.createElement(g,n({},a,{label:"项目名称",required:!1,colon:!0,className:t,help:r.resNameHint,validateStatus:r.resNameStatus}),i.default.createElement(p.Input,{type:"text",name:"resName",id:"resName",value:this.state.teamGrp.resName,onChange:this.handleOnChange}))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1050),p=r(c),m=a(1054),h=r(m),f=a(1),v=(u.Input.Search,a(6)),g=(a(3),a(317)),y=a(250),S=l.default.createClass({displayName:"ResBigGroupPage",getInitialState:function(){return{teamGrpSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,teamGrpSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.teamGrpSet.operation="";var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.grpCode=this.props.grpCode,y.retrieveResTeamGrp(t)},componentDidMount:function(){this.setState({loading:!0}),this.state.grpCode="";var e={},t=this.props.grpCode;null!==t&&(this.state.grpCode=t),e.grpCode=t,e.corpUuid=window.loginData.compUser.corpUuid,y.retrieveResTeamGrp(e)},componentWillReceiveProps:function(e){this.setState({loading:!0}),this.state.grpCode="";var t={},a=e.grpCode;null!==a&&(this.state.grpCode=a),t.grpCode=a,t.corpUuid=window.loginData.compUser.corpUuid,y.retrieveResTeamGrp(t)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()},handleUpdateClick:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},handleRemoveClick:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的组员维护 【"+e.grpName+"】",okText:"确定",cancelText:"取消",onOk:this.handleRemoveClick2.bind(this,e)})},handleRemoveClick2:function(e){this.setState({loading:!0}),this.state.teamGrpSet.operation="",y.deleteResTeamGrp(e.uuid)},render:function(){var e=this,t=this.state.teamGrpSet.recordSet,a=[{title:"小组编号",dataIndex:"grpCode",key:"grpCode",width:140},{title:"小组名称",dataIndex:"grpName",key:"grpName",width:140},{title:"组长姓名",dataIndex:"pmName",key:"pmName",width:140},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"小组级别",dataIndex:"grpLevel",key:"grpLevel",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return l.default.createElement("span",null,l.default.createElement("a",{href:"#",onClick:e.handleUpdateClick.bind(e,t),title:"修改"},l.default.createElement(u.Icon,{type:v.iconUpdate})),l.default.createElement("span",{className:"ant-divider"}),l.default.createElement("a",{href:"#",onClick:e.handleRemoveClick.bind(e,t),title:"删除任务"},l.default.createElement(u.Icon,{type:v.iconRemove})))}}],r=v.getGridMargin(this),n=this.props.uuid,i=this.props.grpCode,o=this.props.poolUuid,s=this.props.teamUuid;return l.default.createElement("div",{className:"grid-page",style:{padding:r.padding}},l.default.createElement("div",{style:{margin:r.margin}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-team-grp/retrieve","res-team-grp/remove"]}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加小组",onClick:this.handleOpenCreateWindow}),l.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})))),l.default.createElement("div",{className:"grid-body"},l.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),l.default.createElement(p.default,{ref:"createWindow",puuid:n,grpCode:i,poolUuid:o,teamUuid:s}),l.default.createElement(h.default,{ref:"updateWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1051),p=r(c),m=a(1),h=(u.Input.Search,a(6)),f=(a(3),a(421)),v=a(316),g=l.default.createClass({displayName:"ResSmallGroupPage",getInitialState:function(){return{teamGrpSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[m.listenTo(f,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,teamGrpSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.teamGrpSet.operation="";var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.groupUuid=this.props.uuid,v.retrieveResTeamGrp(t)},componentDidMount:function(){this.setState({loading:!0}),this.state.groupUuid="";var e={},t=this.props.uuid;null!==t&&(this.state.groupUuid=t),e.groupUuid=t,e.corpUuid=window.loginData.compUser.corpUuid,v.retrieveResTeamGrp(e)},componentWillReceiveProps:function(e){this.setState({loading:!0}),this.state.groupUuid="";var t={},a=e.uuid;null!==a&&(this.state.groupUuid=a),t.groupUuid=a,t.corpUuid=window.loginData.compUser.corpUuid,v.retrieveResTeamGrp(t)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()},render:function(){var e=this.state.teamGrpSet.recordSet,t=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:140},{title:"状态",dataIndex:"resStatus",key:"resStatus",width:140},{title:"项目名称",dataIndex:"resName",key:"resName",width:140}],a=h.getGridMargin(this);return l.default.createElement("div",{className:"grid-page",style:{padding:a.padding}},l.default.createElement("div",{style:{margin:a.margin}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-team-grp/retrieve"]}),l.default.createElement("div",{className:"toolbar-table"},l.default.createElement("div",{style:{float:"left"}},l.default.createElement(u.Button,{icon:h.iconAdd,type:"primary",title:"增加小组成员",onClick:this.handleOpenCreateWindow}),l.default.createElement(u.Button,{icon:h.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})))),l.default.createElement("div",{className:"grid-body"},l.default.createElement(u.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:h.tableBorder})),l.default.createElement(p.default,{ref:"createWindow",uuid:this.props.uuid,poolUuid:this.props.poolUuid}))}});e.exports=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),i=r(l),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),p=a(19),m=r(p),h=a(77),f=r(h),v=a(67),g=r(v),y=a(4),S=a(1),E=a(6),C=a(3),b=y.Form.Item,w=(y.Select.Option,a(317)),k=a(250),x=i.default.createClass({displayName:"UpdateResBigGroupPage",getInitialState:function(){return{teamGrpSet:{operation:"",errMsg:""},loading:!1,modal:!1,teamGrp:{},hints:{},validRules:[]}},mixins:[S.listenTo(w,"onServiceComplete"),(0,c.default)("teamGrp")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,teamGrpSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"grpCode",desc:"小组编号",required:!1,max:"64"},{id:"grpName",desc:"小组名称",required:!1,max:"64"},{id:"grpLevel",desc:"小组级别：大组、中组、小组",required:!1,max:"24"},{id:"baseCity",desc:"归属地",required:!1,max:"64"},{id:"pmCode",desc:"组长编号",required:!1,max:"64"},{id:"pmName",desc:"组长姓名",required:!1,max:"32"},{id:"grpDesc",desc:"小组说明",required:!1,max:"512"}]},initPage:function(e){this.state.hints={},C.copyValue(e,this.state.teamGrp),this.state.loading=!1,this.state.teamGrpSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectProj:function(e){this.state.teamGrp.pmUuid=e.uuid,this.state.teamGrp.pmCode=e.staffCode,this.state.teamGrp.pmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){E.formValidator(this,this.state.teamGrp)&&(this.state.teamGrpSet.operation="",this.setState({loading:!0}),k.updateResTeamGrp(this.state.teamGrp))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},l=this.state.hints,o=window.loginData.compUser.corpUuid;return i.default.createElement(y.Modal,{visible:this.state.modal,width:"580px",title:"增加组员维护",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[i.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},i.default.createElement(d.default,{ref:"mxgBox",svcList:["res-team-grp/create"]}),i.default.createElement(y.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",i.default.createElement(y.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},i.default.createElement(y.Form,{layout:e},i.default.createElement(y.Row,null,i.default.createElement(y.Col,{span:"12"},i.default.createElement(b,n({},r,{label:"小组编号",required:!0,colon:!0,className:t,help:l.grpCodeHint,validateStatus:l.grpCodeStatus}),i.default.createElement(y.Input,{type:"text",name:"grpCode",id:"grpCode",value:this.state.teamGrp.grpCode,onChange:this.handleOnChange}))),i.default.createElement(y.Col,{span:"12"},i.default.createElement(b,n({},r,{label:"小组名称",required:!1,colon:!0,className:t,help:l.grpNameHint,validateStatus:l.grpNameStatus}),i.default.createElement(y.Input,{type:"text",name:"grpName",id:"grpName",value:this.state.teamGrp.grpName,onChange:this.handleOnChange})))),i.default.createElement(y.Row,null,i.default.createElement(y.Col,{span:"12"},i.default.createElement(b,n({},r,{label:"小组级别",required:!1,colon:!0,className:t,help:l.grpLevelHint,validateStatus:l.grpLevelStatus}),i.default.createElement(m.default,{name:"grpLevel",id:"grpLevel",appName:"项目管理",optName:"小组级别",value:this.state.teamGrp.grpLevel,onChange:this.onRadioChange}))),i.default.createElement(y.Col,{span:"12"},i.default.createElement(b,n({},r,{label:"归属地",required:!1,colon:!0,className:t,help:l.baseCityHint,validateStatus:l.baseCityStatus}),i.default.createElement(f.default,{name:"baseCity",id:"baseCity",paramName:"城市",value:this.state.teamGrp.baseCity,onChange:this.handleOnSelected.bind(this,"baseCity")})))),i.default.createElement(y.Row,null,i.default.createElement(b,n({},a,{label:"组长",required:!1,colon:!0,className:t,help:l.pmNameHint,validateStatus:l.pmNameStatus,style:{marginLeft:"-14px"}}),i.default.createElement(g.default,{corpUuid:o,showError:this.showError,ref:"empSearchBox",type:"text",name:"pmName",id:"pmName",value:this.state.teamGrp.pmName,onSelectMember:this.onSelectProj}))),i.default.createElement(y.Row,null,i.default.createElement(y.Col,{span:"12"},i.default.createElement(b,n({},r,{label:"组长编号",required:!1,colon:!0,className:t,help:l.pmCodeHint,validateStatus:l.pmCodeStatus}),i.default.createElement(y.Input,{type:"text",name:"pmCode",id:"pmCode",value:this.state.teamGrp.pmCode,onChange:this.handleOnChange,disabled:!0}))),i.default.createElement(y.Col,{span:"12"},i.default.createElement(b,n({},r,{label:"组长姓名",required:!1,colon:!0,className:t,help:l.pmNameHint,validateStatus:l.pmNameStatus}),i.default.createElement(y.Input,{type:"text",name:"pmName",id:"pmName",value:this.state.teamGrp.pmName,onChange:this.handleOnChange,disabled:!0})))),i.default.createElement(b,n({},a,{label:"小组说明",required:!1,colon:!0,className:t,help:l.grpDescHint,validateStatus:l.grpDescStatus,style:{marginLeft:"-12px"}}),i.default.createElement(y.Input,{type:"textarea",name:"grpDesc",id:"grpDesc",value:this.state.teamGrp.grpDesc,onChange:this.handleOnChange}))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(2),l=r(n),i=a(8),o=(r(i),a(5)),s=(r(o),a(7)),d=(r(s),a(4)),u=a(1052),c=r(u),p=a(1053),m=r(p),h=a(1),f=(d.Input.Search,d.Tabs.TabPane),v=(a(6),a(3),a(1056)),g=a(659),y=(a(317),a(250),a(421),a(316),l.default.createClass({displayName:"ResGroupManPage",getInitialState:function(){return{teamGrpSet:{recordSet:[],operation:"",errMsg:""},loading:!1,selectKey:"1"}},mixins:[h.listenTo(v,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,teamGrpSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,g.initResTeamGrp(e)},onTabChange:function(e){this.setState({selectKey:e})},render:function(){var e=this.state.teamGrpSet.recordSet,t=[],a="",r="";if(null!=e)for(var n=0;n<e.length;n++){var i=e[n].grpLevel,o=e[n].grpCode,s=e[n].uuid,u=e[n].poolUuid,p=e[n].teamUuid;if(this.state.selectKey===s?a=l.default.createElement(m.default,{uuid:s,poolUuid:u}):this.state.selectKey===o&&(r=l.default.createElement(c.default,{grpCode:o,uuid:s,poolUuid:u,teamUuid:p})),"大组"===i){var h=l.default.createElement(f,{tab:e[n].grpName+"(大组)",key:o,style:{width:"100%",height:"100%"}},r);t.push(h)}else if("小组"===i){var h=l.default.createElement(f,{tab:e[n].grpName+"(小组)",key:s,style:{width:"100%",height:"100%"}},a);t.push(h)}else{var h=l.default.createElement(f,{tab:e[n].grpName+"(中组)",key:n+1,style:{width:"100%",height:"100%"}},l.default.createElement(c.default,{grpCode:o,uuid:s,poolUuid:u,teamUuid:p}));t.push(h)}}else console.log("kong");return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(d.Tabs,{activeKey:this.state.selectKey,onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},t))}}));e.exports=y},function(e,t,a){"use strict";var r=a(1),n=a(659),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),i.showError("res-team-grp",e,t)},onRetrieveResTeamGrp:function(e){var t=this,a=this.getServiceUrl("res-team-grp/retrieve");l.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResTeamGrpPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResTeamGrp(e)},onInitResTeamGrp:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResTeamGrp(e)},onCreateResTeamGrp:function(e){var t=this.getServiceUrl("res-team-grp/create");l.recordCreate(this,e,t)},onUpdateResTeamGrp:function(e){var t=this.getServiceUrl("res-team-grp/update");l.recordUpdate(this,e,t)},onDeleteResTeamGrp:function(e){var t=this.getServiceUrl("res-team-grp/remove");l.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=a(630),l=r(n),i=a(36),o=r(i),s=a(650),d=r(s),u=a(631),c=r(u),p=a(380),m=r(p),h=a(656),f=r(h),v=a(640),g=r(v),y=a(413),S=r(y);e.exports={path:"/avt",component:l.default,indexRoute:{component:o.default},childRoutes:[{path:"/avt/resume/ResumePage/",component:a(539),indexRoute:{component:m.default},childRoutes:[a(575)]},{path:"/avt/proj/DailyWorkPage/",component:a(1040)},{path:"/avt/",component:a(1035),indexRoute:{component:d.default},childRoutes:[{path:"hr/PersonInfoPage/",component:a(650)},{path:"hr/ContactPage/",component:a(1015)},{path:"hr/WorkLogPage/",component:a(1030)},{path:"hr/EmpJobPage/",component:a(1020)},{path:"hr/EmpSalaryPage/",component:a(1023)},{path:"hr/BenefitsPage/",component:a(1008)},{path:"hr/DevicePage/",component:a(1017)}]},{path:"/avt/",component:a(1034),indexRoute:{component:c.default},childRoutes:[{path:"check/CheckQueryPage/",component:a(631)},{path:"check/CheckLogPage/",component:a(979)},{path:"check/OverBookPage/",component:a(984)},{path:"check/LeaveQueryPage/",component:a(634)},{
path:"check/LeaveLogPage/",component:a(982)},{path:"hr/SalaryLogPage/",component:a(1028)},{path:"hr/AllowLogPage/",component:a(1006)}]},{path:"/avt/",component:a(1037),indexRoute:{component:f.default},childRoutes:[{path:"proj/ProjInfoPage/",component:a(656)},{path:"proj/ProjTempPage/",component:a(1049)},{path:"proj/ResGroupManPage/",component:a(1055)}]},{path:"/avt/",component:a(1033),indexRoute:{component:g.default},childRoutes:[{path:"flow/TodoFlowPage/",component:a(640)},{path:"flow/ProvFlowPage/",component:a(1003)}]},{path:"/avt/",component:a(1032),indexRoute:{component:S.default},childRoutes:[{path:"flow/LeaveApplyPage/",component:a(413)},{path:"flow/LeavePage/",component:a(997)},{path:"flow/OverWorkApplyPage/",component:a(1e3)}]}]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=r(n),i=a(7),o=r(i),s=a(4),d=a(1),u=a(6),c=a(744),p=a(507),m=l.default.createClass({displayName:"SelectProjTask",getInitialState:function(){return{projTaskSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectProjTask:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projTaskSet:e,selectIndex:-1,selectProjTask:{}})},componentDidMount:function(){},clear:function(e){this.state.projTaskSet=e,this.state.selectIndex=-1,this.state.selectProjTask={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectProjTask(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.projTaskSet.startPage=e;var t=this.state.projTaskSet.filter;p.retrieveProjTaskPage(t,e,this.state.projTaskSet.pageRow)},render:function(){var e=[{title:"订单编号",dataIndex:"ordCode",key:"ordCode",width:140},{title:"订单名称",dataIndex:"ordName",key:"ordName",width:100},{title:"任务编号",dataIndex:"itemCode",key:"itemCode",width:140},{title:"任务名称",dataIndex:"itemName",key:"itemName",width:240}],t=this.state.projTaskSet.recordSet,a={showQuickJumper:!0,total:this.state.projTaskSet.totalRow,pageSize:this.state.projTaskSet.pageRow,current:this.state.projTaskSet.startPage,size:"large",onChange:this.onChangePage};return l.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择订单任务",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},l.default.createElement("div",{style:{padding:"0 8px 0 8px"}},l.default.createElement(o.default,{ref:"mxgBox",svcList:["proj_task/retrieve"]}),l.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=m},,,function(e,t,a){"use strict";var r=a(1),n=a(738),l=a(3),i=a(11),o=r.createStore({listenables:[n],filter:{},recordSet:[],init:function(){},getServiceUrl:function(e){return l.projUrl+e},fireEvent:function(e,t,a){a.trigger({recordSet:a.recordSet,filter:a.filter,operation:e,errMsg:t}),i.showError("proj",e,t)},onRetrieveUserProj:function(e){if(!e.corpUuid&&!e.parentUuid)return e={},recordSet=[],void t.fireEvent("retrieve","",t);var t=this,a=this.getServiceUrl("proj_info/user-proj");l.doRetrieveService(a,e,0,0,0).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitUserProj:function(e){return this.recordSet.length>0&&l.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveUserProj(e)}});e.exports=o}]);