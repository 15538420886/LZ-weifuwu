!function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),a(51),a(50);var i=a(2),n=r(i),l=a(8),o=r(l),s=a(42),d=r(s),u=a(13),c=a(1428),m=r(c),h=a(28),p=r(h);if("undefined"!=typeof document){var f=document.getElementById("app"),g=void 0;window.addEventListener("DOMContentLoaded",function(){g=a(52)}),o.default.render(n.default.createElement(u.Router,{onUpdate:function(){window.scrollTo(0,0),g&&g.run()},history:u.browserHistory,routes:m.default}),f)}t.default=function(e,t){var a=(0,u.createMemoryHistory)(),r=a.createLocation(e.path);(0,u.match)({routes:m.default,location:r},function(e,a,r){var i=d.default.renderToString(n.default.createElement(u.RouterContext,r)),l=p.default.rewind(),o='<!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset="utf-8">\n          <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n          '+l.title.toString()+"\n          "+l.meta.toString()+'\n          <link rel=icon href=/assets/favicon.ico>\n          <link rel="stylesheet" href="/react_lz.css"/>\n          <link rel="stylesheet" href="/assets/docs.css"/>\n        </head>\n        <body style="width:100%; margin:0;padding:0; background-color:#fefefe">\n          <div id="app" style="width:100%; height:100%">'+i+'</div>\n          <script src="/react_lz.js"></script>\n          <script src="/assets/prism.js" data-manual></script>\n          <script src="/common.js"></script>\n          <script src="/proj.js"></script>\n        </body>\n      </html>';t(null,o)})}},function(e,t,a){e.exports=a(10)(1160)},function(e,t,a){e.exports=a(10)(1)},function(e,t,a){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(17),n=a(53),l=a(24);e.exports={initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}console.log(this)},actionFlowNo:1,lzOptions:{},lzOptionsWait:{},loadOptions:function(e,t,a){var r=this.lzOptions[e];if(null!==r&&"undefined"!=typeof r){var n=r[t];return null!==a&&a(null===n||"undefined"==typeof n?[]:n),n}var l=this.lzOptionsWait[e];if(null!==l&&"undefined"!=typeof l)return void l.push({name:t,func:a});l=[{name:t,func:a}],this.lzOptionsWait[e]=l;var o=this,s="";s=this.localDict?"/dict/"+e+".js":this.paramUrl+"app-info/dict?appName="+encodeURI(e),i.getScript(s,function(){var t={};null!==dict&&dict.map(function(e,a){t[e.indexName]=e}),o.lzOptions[appName]=t,l=o.lzOptionsWait[e],l.map(function(e,a){var r=t[e.name];null!==e.func&&e.func(null===r||"undefined"==typeof r?[]:r,e.name)}),o.lzOptionsWait[e]=null})},getOptionName:function(e,t,a,r,i){var n=this.lzOptions[e];if(null===n||"undefined"==typeof n){var l=null,o=this.lzOptionsWait[e];return null!==o&&"undefined"!=typeof o||(l=function(){i.setState({loading:i.state.loading})}),this.loadOptions(e,t,l),a}var s=n[t];if(null!==s&&"undefined"!=typeof s)for(var d=s.codeData.length,u=0;u<d;u++){var c=s.codeData[u];if(c.codeValue===a)return r&&a!==c.codeDesc?a+"-"+c.codeDesc:c.codeDesc}return a},getOptionName2:function(e,t,a){var r="",e=e.split(";");return e.map(function(e,t){var i=e.indexOf("=");if(i>0){var n=e.substr(0,i),l=e.substr(1+i);r=a&&n!==l?n+"-"+l:n}else r=n}),r},findRecordName:function(e,t,a,r){for(var i=t.length,n=0;n<i;n++){var o=t[n];if(o.uuid===e)return void l.findName(r,e,o[a])}l.findName(r,e,e)},sessionID:"",saveSessionID:function(e,t){null!=e.errCode&&""!=e.errCode&&"000000"!=e.errCode||(t.sessionID=e.object.sessionId,window.sessionStorage.setItem("sessionID",t.sessionID))},getSessionID:function(){return""===this.sessionID&&(this.sessionID=window.sessionStorage.getItem("sessionID")),this.sessionID},fz_setCookie:function(e,t,a){var r="";if(a){var i=new Date;i.setTime(i.getTime()+864e5*a),r=";expires="+i.toGMTString()}document.cookie=e+"="+(null==t?"":escape(t))+r+";path=/"},fmtGetUrl:function(e){var t=e.indexOf("corp");if(t>=0)return e;if(void 0===window.loginData)return e;var a=window.loginData.compUser;return null===a||""===a.corpUuid||void 0===a.corpUuid?e:(t=e.indexOf("?"),e=t>=0?e+"&corp="+a.corpUuid:e+"?corp="+a.corpUuid)},ajaxBody:function(e,t,a){if(t.term="web","undefined"!=typeof window.loginData){var r=window.loginData.compUser;t.corp=null===r?"":r.corpUuid}else t.corp="";return{type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}},loginService:function(e,t){var a=this,r=new n(function(r,n){var l={flowNo:"0",term:"web",object:t};i.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(l),dataType:"json",success:function(e,t,r){a.saveSessionID(e,a)},xhrFields:{withCredentials:!0},crossDomain:!0}).done(r).fail(n)});return r},doDeployService:function(e,t){var a=new n(function(a,r){i.ajax({type:"post",url:e,contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done(a).fail(r)});return a},fetch:function(e){var t=new n(function(t,a){i.get(e).done(t).fail(a)});return t},doJsonService:function(e,t){var a=this.ajaxBody(e,t),r=new n(function(e,t){i.ajax(a).done(e).fail(t)});return r},doGetService:function(e){e=this.fmtGetUrl(e);var t=new n(function(t,a){i.get(e).done(t).fail(a)});return t},doRetrieveService:function(e,t,a,r,l){var o={pageRow:r,startPage:a,totalRow:l,object:t},s={flowNo:"0",object:o},d=this.ajaxBody(e,s),u=new n(function(e,t){i.ajax(d).done(e).fail(t)});return u},doTextService:function(e,t,a,r,l){var o={flowNo:"111111",object:"1"},s=this.ajaxBody(e,o),d=new n(function(e,t){i.ajax(s).done(e).fail(t)});return d},doGetRecordService:function(e,t){var a={flowNo:"0",object:t},r=this.ajaxBody(e,a),l=new n(function(e,t){i.ajax(r).done(e).fail(t)});return l},doCreateService:function(e,t){var a={flowNo:"0",object:t},r=this.ajaxBody(e,a),l=new n(function(e,t){i.ajax(r).done(e).fail(t)});return l},doUpdateService:function(e,t){var a={flowNo:"0",object:t},r=this.ajaxBody(e,a),l=new n(function(e,t){i.ajax(r).done(e).fail(t)});return l},doRemoveService:function(e,t){var a={flowNo:"0",object:t},r=this.ajaxBody(e,a),l=new n(function(e,t){i.ajax(r).done(e).fail(t)});return l},doUploadService:function(e,t,a){var r=new FormData,l={flowNo:"0",object:t};if(l.term="web","undefined"!=typeof window.loginData){var o=window.loginData.compUser;l.corp=null===o?"":o.corpUuid}else l.corp="";r.append("reqObject",JSON.stringify(l));var s=0,d=!0,u=!1,c=void 0;try{for(var m,h=a[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var p=m.value;r.append("file_"+s,p),s++}}catch(e){u=!0,c=e}finally{try{!d&&h.return&&h.return()}finally{if(u)throw c}}var f={type:"post",url:this.fmtGetUrl(e),data:r,dataType:"json",cache:!1,contentType:!1,processData:!1,xhrFields:{withCredentials:!0},crossDomain:!0};return new n(function(e,t){i.ajax(f).done(e).fail(t)})},copyValue:function(e,t){for(var a in e)try{t[a]=e[a]}catch(e){}},deepCopyValue:function(e){var t=e instanceof Array?[]:{};for(var a in e)null!==e[a]?t[a]="object"===r(e[a])?this.deepCopyValue(e[a]):e[a]:t[a]=e[a]=null;return t},compareTo:function(e,t){for(var a in e)try{if(t[a]!==e[a])return!1}catch(e){return!1}for(var a in t)try{if(t[a]!==e[a])return!1}catch(e){return!1}return!0},findRecord:function(e,t){for(var a=e.recordSet.length-1;a>=0;a--)if(e.recordSet[a].uuid===t)return a;return-1},getResErrMsg:function(e){if(void 0!==e&&null!==e){var t=e.responseJSON;if(void 0!==t&&null!==t){var a=t.message;if(void 0!==a&&null!==a)return a}}return"调用服务错误"},recordCreate:function(e,t,a,i){var n=this,l=e;this.doCreateService(a,t).then(function(e){if(null==e.errCode||""==e.errCode||"000000"==e.errCode){if(void 0===i||null===i){var t=r(e.object.list);if("object"===t&&e.object.list.constructor===Array)for(var a=e.object.list.length,n=0;n<a;n++)l.recordSet.push(e.object.list[n]);else l.recordSet.push(e.object)}else i(l,e.object);l.totalRow=l.totalRow+1,l.fireEvent("create","",l)}else l.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",l)},function(e){l.fireEvent("create",n.getResErrMsg(e),l)})},recordUpdate:function(e,t,a,r){var i=this,n=e,l=this.findRecord(e,t.uuid);if(l<0)return void n.fireEvent("update","没有找到记录["+t.uuid+"]",n);if(this.compareTo(n.recordSet[l],t))return console.log("数据没有变更"),void n.fireEvent("update","",n);var i=this;this.doUpdateService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(void 0===r||null===r?i.copyValue(e.object,n.recordSet[l]):r(n,n.recordSet[l],e.object),n.fireEvent("update","",n)):n.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",n)},function(e){n.fireEvent("update",i.getResErrMsg(e),n)})},recordDelete:function(e,t,a){console.log(e,t,a);var r=e,i=this.findRecord(e,t);if(i<0)return void r.fireEvent("remove","没有找到记录["+t+"]",r);var n=this;this.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.recordSet.splice(i,1),r.totalRow=r.totalRow-1,r.fireEvent("remove","",r)):r.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("remove",n.getResErrMsg(e),r)})},recordDeleteMore:function(e,t,a){var r=e,i=this.findRecord(e,t);if(i<0)return void r.fireEvent("remove","没有找到记录["+t+"]",r);var n=this;this.doRemoveService(a,t).then(function(e){console.log(e),null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.recordSet.splice(i,1),r.fireEvent("remove","",r)):r.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("remove",n.getResErrMsg(e),r)})},recordRetrieve:function(e,t,a,r,i){var l=this,o=new n(function(n,o){l.doRetrieveService(e,t,a,r,i).then(function(e){record?null==e.errCode||""==e.errCode||"000000"==e.errCode?n(e.object):o("处理错误["+e.errCode+"]["+e.errDesc+"]"):o("查询数据时错误")},function(e){o(JSON.stringify(e))})});return o},selModName:"",selectedApp:null,menuMap:{},getAppMenu:function(e){var t=window.sessionStorage.getItem("loadedMenu");if(null===t||void 0===t||""===t)return null;for(var a=!1,r=t.split(","),i=r.length-1;i>=0;i--)if(e===r[i]){a=!0;break}if(!a)return null;var n=this.menuMap[e];if(void 0!==n&&null!==n)return n;var l=window.sessionStorage.getItem("menu."+e);return void 0!==l&&null!==l?(n=JSON.parse(l),this.menuMap[e]=n,this.selModName=e,window.sessionStorage.setItem("activeMenu",e),n):null},setSelectedApp:function(e){if(this.selectedApp=null,"undefined"!=typeof window.loginData){var t=null,a=window.loginData.compUser;if(null===a){var r=window.loginData.authUser;if("admin"!==r.userName)return;t=[{appCode:"MA"}]}else t=a.appAuthList;if(null!==t){"*"===e.charAt(0)&&(e=e.substr(1));for(var i=t.length,n=0;n<i;n++){var l=t[n];if(l.appCode===e){this.selectedApp=l,window.sessionStorage.setItem("activeApp",e);break}}}}},saveAppMenu:function(e,t){void 0!==t&&null!==t||(t=[]);var a={};t.map(function(e,t){a[e.menuPath]=e.roleName}),this.menuMap[e]=a,window.sessionStorage.setItem("menu."+e,JSON.stringify(a));var r=window.sessionStorage.getItem("loadedMenu");r=null===r||void 0===r||""===r?e:r+","+e,window.sessionStorage.setItem("loadedMenu",r)},setActiveMenuName:function(e){this.selModName=e,window.sessionStorage.setItem("activeMenu",e)},checkMenuPriv:function(e){if(null===this.selectedApp){var t=window.sessionStorage.getItem("activeApp");null!==t&&void 0!==t&&this.setSelectedApp(t);var a=window.sessionStorage.getItem("activeMenu");null!==a&&void 0!==a&&this.getAppMenu(a)}if(""===this.selModName)return 1;var r=this.menuMap[this.selModName];if(void 0===r||null===r)return this.checkRole?0:2;var i=r[e];if(void 0===i||null===i)return this.checkRole?0:2;if(i.indexOf("*")>=0)return 1;if(null===this.selectedApp)return this.checkRole?0:2;var n=window.loginData.compUser;if(null===n&&"MA"===this.selectedApp.appCode){var l=window.loginData.authUser;if("admin"===l.userName)return 1}var o=this.selectedApp.roleList;if(null===o||void 0===o)return this.checkRole?0:2;for(var s=o.split(","),d=s.length-1;d>=0;d--){var u=","+s[d]+",";if(i.indexOf(u)>=0)return 1}return this.checkRole?0:2},checkAppPriv:function(e){if("undefined"==typeof window.loginData)return this.checkRole?0:2;var t=window.loginData.compUser;if(null===t){if("MA"===e){var a=window.loginData.authUser;if("admin"===a.userName)return 1}return this.checkRole?0:2}if("*"===e.charAt(0))return 1;if(null!==t.appAuthList)for(var r=t.appAuthList.length,i=0;i<r;i++){var n=t.appAuthList[i];if(n.appCode===e)return 1}return this.checkRole?0:2},downAppMenu:function(e,t){var a=this,r=new n(function(r,i){var n=a.getAppMenu(e);if(n)return a.setSelectedApp(t),a.setActiveMenuName(e),void r(n);var l=a.authUrl+"fnt-app-menu/appName";a.doCreateService(l,e).then(function(n){null==n.errCode||""==n.errCode||"000000"==n.errCode?(a.saveAppMenu(e,n.object),a.setSelectedApp(t),a.setActiveMenuName(e),r(n.object)):i("下载菜单错误["+n.errCode+"]["+n.errDesc+"]")},function(e){i("下载菜单错误")})});return r}}},function(e,t,a){e.exports=a(10)(541)},function(e,t,a){e.exports=a(10)(1032)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,a="",r="0123456789ABCDEF";for(t=0;t<=3;t++)a+=r.charAt(e>>8*t+4&15)+r.charAt(e>>8*t&15);return a}function n(e){var t,a=(e.length+8>>6)+1,r=new Array(16*a);for(t=0;t<16*a;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<t%4*8;return r[t>>2]|=128<<t%4*8,r[16*a-2]=8*e.length,r}function l(e,t){var a=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(a>>16);return r<<16|65535&a}function o(e,t){return e<<t|e>>>32-t}function s(e,t,a,r,i,n){return l(o(l(l(t,e),l(r,n)),i),a)}function d(e,t,a,r,i,n,l){return s(t&a|~t&r,e,t,i,n,l)}function u(e,t,a,r,i,n,l){return s(t&r|a&~r,e,t,i,n,l)}function c(e,t,a,r,i,n,l){return s(t^a^r,e,t,i,n,l)}function m(e,t,a,r,i,n,l){return s(a^(t|~r),e,t,i,n,l)}function h(){this.regDate3=/^[1-2]\d{6,7}$/,this.regEmail=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,this.regPhone=/^((\(\d{1,5}\))|(\d{1,5}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?$/,this.regPhones=/^(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?([,|;](\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,5})?)*$/,this.regMobile=/^((\(\d{3}\))|(\d{3}\-))?1[34578]\d{9}$/,this.regUrl=/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,this.className=/^([_a-z0-9]+\.)*[A-Z][_A-Za-z0-9]+$/,this.regIdCard15=/^\d{15}(\d{2}[A-Za-z0-9])?$/,this.regIdCard18=/^\d{17}(?:\d|x|X)$/,this.regMoney=/^[-\+]?\d+(\.\d{0,2})?$/,this.regNumber=/^\d+$/,this.regZip=/^[0-9]\d{5}$/,this.regQQ=/^[1-9]\d{3,9}$/,this.regInteger=/^[-\+]?\d+$/,this.regDouble=/^[-\+]?\d+(\.\d+)?$/,this.regEnglish=/^[A-Za-z]+$/,this.regEnglish2=/^[A-Za-z\s]+$/,this.regChinese=/^[\u0391-\uFFE5]+$/,this.regUnSafe=/^(([A-Z]*|[a-z]*|\d*|[-_\~!@#\$%\^&\*\.\(\)\[\]\{\}<>\?\\\/\'\"]*)|.{0,5})$|\s/,this.regNotChar=/^[^`~!@#$%^&*()+=|\\\][\]\{\}:;'\,.<>\/?]{1}[^`~!@$%^&()+=|\\\][\]\{\}:;'\,.<>?]{0,19}$/,this.regChar=/[(\/)(\\)(')(")(<)(>)]/g}function p(e,t,a){var r=/^\d+$/;if(4!=e.length||0==e)return!1;if(!r.test(e))return!1;var i=parseInt(e)%4==0&&parseInt(e)%100!=0||parseInt(e)%400==0;if(!t||0==t)return!1;if(!r.test(t))return!1;var n=parseInt(t,10);if(n>12)return!1;if(!a||0==a)return!1;if(!r.test(a))return!1;var l=[29,31,28,31,30,31,30,31,31,30,31,30,31];return 2==n&&i&&(n=0),!(a>l[n])}function f(e,t){if(e.length!=t.length)return"请按格式【"+t+"】输入日期";for(var a="",r="",i="",n=e.split(""),l=t.split(""),o=n.length,s=0;s<o;s++)if("y"===l[s])a+=n[s];else if("m"===l[s])r+=n[s];else if("d"===l[s])i+=n[s];else if(l[s]!==n[s])return"请按格式【"+t+"】输入日期";return 0==p(a,r,i)?"请输入正确的日期!":""}function g(e){var t=18==e.length?h.regIdCard18:h.regIdCard15;if(0==t.test(e))return"请输入有效的身份证号码!";var a="",r="",i="";if(18==e.length?(a=e.substr(6,4),r=e.substr(10,2),i=e.substr(12,2)):15==e.length&&(a="19"+e.substr(6,2),r=e.substr(8,2),i=e.substr(10,2)),0==p(a,r,i))return"日期的取值范围不正确!";var n=v(e);return null!=n?"请输入有效的身份证号码!":void 0}function v(e){if(18!=e.length)return null;var t=C(e),a=e.substring(17).toUpperCase();return t!=a?t:null}function C(e){for(var t="1,0,X,9,8,7,6,5,4,3,2".split(","),a="7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2".split(","),r=0,i=0;i<17;i++)r+=parseInt(e.substring(i,i+1))*a[i];var n=r%11,l=t[n];return l}function b(e,t){if(t.length>6){var a=t.substr(0,5);if("date:"===a||"date："===a){var r=t.substr(5);return f(e,r)}}if("idcard18"===t){if(18!==e.length)return"请输入18位身份证号码"}else if("idcard"===t&&18!==e.length&&15!==e.length)return"请输入身份证号码";for(var i=R.length-1;i>=0;i--){var n=R[i];if(n.type==t)return n.isValid(e)}return"未知的数据类型["+t+"]"}function y(e){var t,a=348;for(t=32768;t>8;t>>=1)a+=M[e-1900]&t?1:0;return a+S(e)}function S(e){return E(e)?65536&M[e-1900]?30:29:0}function E(e){return 15&M[e-1900]}function w(e,t){return M[e-1900]&65536>>t?30:29}function x(e,t,a){var r,i=0,n=0,l=(Date.UTC(e,t,a)-Date.UTC(1900,0,31))/864e5;for(this.dayCyl=l+40,this.monCyl=14,r=1900;r<2050&&l>0;r++)n=y(r),l-=n,this.monCyl+=12;for(l<0&&(l+=n,r--,this.monCyl-=12),this.year=r,this.yearCyl=r-1864,i=E(r),this.isLeap=!1,r=1;r<13&&l>0;r++)i>0&&r==i+1&&0==this.isLeap?(--r,this.isLeap=!0,n=S(this.year)):n=w(this.year,r),1==this.isLeap&&r==i+1&&(this.isLeap=!1),l-=n,0==this.isLeap&&this.monCyl++;0==l&&i>0&&r==i+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--r,--this.monCyl)),l<0&&(l+=n,--r,--this.monCyl),this.month=r,this.day=l+1}var k=a(2),j=r(k),N=a(4),P=N.Tree.TreeNode,D=(a(17),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);e.exports={eMailList:["icerno.com","opssino.com","gmail.com","163.com","qq.com","sina.com","sina.com.cn"],initConf:function(e){for(var t in e)try{this[t]=e[t]}catch(e){}},check:function(e,t,a){var r=""===t||null===t||"undefined"==typeof t;if(e.required===!0&&r)return"请输入【"+e.desc+"】";if(r)return"";if(e.max>0&&t.length>e.max)return"【"+e.desc+"】最多输入【"+e.max+"】个字符";if(e.min>0&&t.length<e.min)return"【"+e.desc+"】至少输入【"+e.max+"】个字符";if(""!==e.dataType&&null!==e.dataType&&"undefined"!=typeof e.dataType){var i=b(t,e.dataType);if(""!==i&&null!==i&&"undefined"!=typeof i)return i}if(null!==e.pattern&&"undefined"!=typeof e.pattern&&0==e.pattern.test(t))return""===e.patternPrompt||null===e.patternPrompt||"undefined"==typeof e.patternPrompt?"请输入正确的内容!":e.patternPrompt;if(""!==e.validator&&null!==e.validator&&"undefined"!=typeof e.validator){var i=e.validator(t,e,a);if(""!==i&&null!==i&&"undefined"!=typeof i)return i}return""},checkDataType:function(e,t){return b(e,t)},setError:function(e,t,a){""===a||null===a||"undefined"==typeof a?(e.state.hints[t+"Status"]="",e.state.hints[t+"Hint"]=""):(e.state.hints[t+"Status"]="error",e.state.hints[t+"Hint"]=j.default.createElement("span",{className:"errorHint"},a))},validator:function(e,t,a){var r=this,i=e.state.validRules;if(0===i.length)return!0;var n=!0;if(""===a||null===a||"undefined"==typeof a)e.state.hints={},i.map(function(a,i){var l=t[a.id];a.whitespace||null==l||(l=l.replace(/(^\s*)|(\s*$)/g,""),t[a.id]=l);var o=r.check(a,l,e);""!==o&&(r.setError(e,a.id,o),n=!1)});else for(var l=i.length-1;l>=0;l--){var o=i[l];if(o.id===a){var s=t[a],d=this.check(o,s,e);this.setError(e,a,d),""!==d?n=!1:"number"===o.dataType&&""!==s&&(t[a]=""+parseInt(s));break}}return n},formValidator:function(e,t){var a=this.validator(e,t);if(!a){var r=e.state.hints;e.setState({hints:r})}return a},formatDate:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{6,7}$/;if(!a.test(e))return e;var r=e.substr(0,4),i=e.substr(4,2),n=e.substr(6,2);1==n.length&&(n="0"+n);var l=D[parseInt("1"+i)-101],o=t;return o=o.replace(/YYYY/g,r),o=o.replace(/YY/g,r.substring(2)),o=o.replace(/MM/g,i),o=o.replace(/MON/g,l),o=o.replace(/DD/g,n)},formatMonth:function(e,t){if(null===e||""===e||"undefined"==typeof e)return"";var a=/^[1-2]\d{5}$/;if(!a.test(e))return e;var r=e.substr(0,4),i=e.substr(4,2),n=D[parseInt("1"+i)-101],l=t;return l=l.replace(/YYYY/g,r),l=l.replace(/YY/g,r.substring(2)),l=l.replace(/MM/g,i),l=l.replace(/MON/g,n)},getToday:function(){var e=new Date;return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()},getMonth:function(){var e=new Date;return 100*e.getFullYear()+(e.getMonth()+1)},getLunar:function(e,t,a){var r=new x(e,t-1,a),a=""+(100*r.month+r.day);return r.month<10&&(a="0"+a),a},timeDiff:function(e,t){var a=e.substr(0,2)+":"+e.substr(2,2),r=t.substr(0,2)+":"+t.substr(2,2),a=new Date("2017/6/16 "+a).getTime(),r=new Date("2017/6/16 "+r).getTime(),i=r-a,n=i/1e3/60;return{h:Math.floor(n/60),m:n%60,dm:n}},timeDiff2:function(e,t){var a=new Date("2017/6/16 "+e).getTime(),r=new Date("2017/6/16 "+t).getTime(),i=r-a,n=i/1e3/60;return{h:Math.floor(n/60),m:n%60,dm:n}},initTreeNodes:function(e,t){var a=this,r=[],i={};e.map(function(n,l){var o=t(n,e);r.push(o),i[o.key]=o,o.children=[],a.initTreeNode(o,n)}),r.map(function(e,t){""!==e.pid&&(e.pNode=i[e.pid],"undefined"==typeof e.pNode&&(e.pNode=null),null!==e.pNode&&e.pNode.children.push(e))});var n=[],l=[];if(r.map(function(e,t){null===e.pNode&&(""!==e.pid?l.push(e):n.push(e))}),l.length>0){var o={key:"__unknow",pid:"",title:"未关联节点",disableCheckbox:!0,disabled:!1,pNode:null,children:l,object:null};n.push(o),l.map(function(e,t){e.pNode=o})}return r.map(function(e,t){e.isLeaf=0===e.children.length,e.isLeaf&&(e.children=null)}),n},initTreeNodes2:function(e,t,a,r){var i=this;if(0===e.length)return[];var n=[],l={};e.map(function(e,a){var r=t(e);n.push(r),l[r.key]=r,r.children=[],i.initTreeNode(r,e)});var o=[];return a.map(function(e,t){var a=r(e);o.push(a),a.children=null,i.initTreeNode(a,e),a.pNode=l[a.pid],"undefined"==typeof a.pNode&&(a.pNode=null),null!==a.pNode&&a.pNode.children.push(a)}),n},initTreeNodes3:function(e,t,a){var r=this;if(0===e.length)return[];var i=[],n={};return e.map(function(l,o){var s=a(l,e),d=n[s.pid];null!==d&&"undefined"!=typeof d||(d=t(l,e),d.children=[],r.initTreeNode(d,null),i.push(d),n[d.key]=d),r.initTreeNode(s,l),s.pNode=d,s.children=null,d.children.push(s)}),i},initTreeNode:function(e,t){e.object=t,e.pNode=null,null!==e.pid&&"undefined"!=typeof e.pid||(e.pid=""),null!==e.disabled&&"undefined"!=typeof e.disabled||(e.disabled=!1),null!==e.disableCheckbox&&"undefined"!=typeof e.disableCheckbox||(e.disableCheckbox=!1)},prepareTreeNodes:function(e){var t=this;return e.isLeaf||null==e.children?j.default.createElement(P,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf}):j.default.createElement(P,{title:e.title,key:e.key,disabled:e.disabled,disableCheckbox:e.disableCheckbox,isLeaf:e.isLeaf},e.children.map(function(e,a){return t.prepareTreeNodes(e)}))},getCardMargin:function(e,t){var a=0===t?0:t>1?t:58,r=e.refs.mxgBox;if(null!==r&&"undefined"!=typeof r)for(var i=r.state.hints,n=i.length,l=0;l<n;l++)if(""!==i[l]){a+=26;break}var o={};return o.padding=a+"px 0 0 0",o.margin="-"+a+"px 0 0 0",o},getGridMargin:function(e,t){var a=0===t?0:t>1?t:58,r=e.refs.mxgBox;if(null!==r&&"undefined"!=typeof r)for(var i=r.state.hints,n=i.length,l=0;l<n;l++)if(""!==i[l]){a+=26;break}var o={};return o.padding=a+"px 0 0 0",o.margin="-"+a+"px 0 0 0",o},calcMD5:function(e){var t,a=n(e),r=1732584193,o=-271733879,s=-1732584194,h=271733878;for(t=0;t<a.length;t+=16){var p=r,f=o,g=s,v=h;r=d(r,o,s,h,a[t+0],7,-680876936),h=d(h,r,o,s,a[t+1],12,-389564586),s=d(s,h,r,o,a[t+2],17,606105819),o=d(o,s,h,r,a[t+3],22,-1044525330),r=d(r,o,s,h,a[t+4],7,-176418897),h=d(h,r,o,s,a[t+5],12,1200080426),s=d(s,h,r,o,a[t+6],17,-1473231341),o=d(o,s,h,r,a[t+7],22,-45705983),r=d(r,o,s,h,a[t+8],7,1770035416),h=d(h,r,o,s,a[t+9],12,-1958414417),s=d(s,h,r,o,a[t+10],17,-42063),o=d(o,s,h,r,a[t+11],22,-1990404162),r=d(r,o,s,h,a[t+12],7,1804603682),h=d(h,r,o,s,a[t+13],12,-40341101),s=d(s,h,r,o,a[t+14],17,-1502002290),o=d(o,s,h,r,a[t+15],22,1236535329),r=u(r,o,s,h,a[t+1],5,-165796510),h=u(h,r,o,s,a[t+6],9,-1069501632),s=u(s,h,r,o,a[t+11],14,643717713),o=u(o,s,h,r,a[t+0],20,-373897302),r=u(r,o,s,h,a[t+5],5,-701558691),h=u(h,r,o,s,a[t+10],9,38016083),s=u(s,h,r,o,a[t+15],14,-660478335),o=u(o,s,h,r,a[t+4],20,-405537848),r=u(r,o,s,h,a[t+9],5,568446438),h=u(h,r,o,s,a[t+14],9,-1019803690),s=u(s,h,r,o,a[t+3],14,-187363961),o=u(o,s,h,r,a[t+8],20,1163531501),r=u(r,o,s,h,a[t+13],5,-1444681467),h=u(h,r,o,s,a[t+2],9,-51403784),s=u(s,h,r,o,a[t+7],14,1735328473),o=u(o,s,h,r,a[t+12],20,-1926607734),r=c(r,o,s,h,a[t+5],4,-378558),h=c(h,r,o,s,a[t+8],11,-2022574463),s=c(s,h,r,o,a[t+11],16,1839030562),o=c(o,s,h,r,a[t+14],23,-35309556),r=c(r,o,s,h,a[t+1],4,-1530992060),h=c(h,r,o,s,a[t+4],11,1272893353),s=c(s,h,r,o,a[t+7],16,-155497632),o=c(o,s,h,r,a[t+10],23,-1094730640),r=c(r,o,s,h,a[t+13],4,681279174),h=c(h,r,o,s,a[t+0],11,-358537222),s=c(s,h,r,o,a[t+3],16,-722521979),o=c(o,s,h,r,a[t+6],23,76029189),r=c(r,o,s,h,a[t+9],4,-640364487),h=c(h,r,o,s,a[t+12],11,-421815835),s=c(s,h,r,o,a[t+15],16,530742520),o=c(o,s,h,r,a[t+2],23,-995338651),r=m(r,o,s,h,a[t+0],6,-198630844),h=m(h,r,o,s,a[t+7],10,1126891415),s=m(s,h,r,o,a[t+14],15,-1416354905),o=m(o,s,h,r,a[t+5],21,-57434055),r=m(r,o,s,h,a[t+12],6,1700485571),h=m(h,r,o,s,a[t+3],10,-1894986606),s=m(s,h,r,o,a[t+10],15,-1051523),o=m(o,s,h,r,a[t+1],21,-2054922799),r=m(r,o,s,h,a[t+8],6,1873313359),h=m(h,r,o,s,a[t+15],10,-30611744),s=m(s,h,r,o,a[t+6],15,-1560198380),o=m(o,s,h,r,a[t+13],21,1309151649),r=m(r,o,s,h,a[t+4],6,-145523070),h=m(h,r,o,s,a[t+11],10,-1120210379),s=m(s,h,r,o,a[t+2],15,718787259),o=m(o,s,h,r,a[t+9],21,-343485551),r=l(r,p),o=l(o,f),s=l(s,g),h=l(h,v)}return i(r)+i(o)+i(s)+i(h)},strSort:function(e,t){return e.localeCompare(t)},isMatched:function(e,t){for(var a in e)try{var r=e[a];if(null!==r&&"string"==typeof r&&r.indexOf(t)>=0)return!0}catch(e){}return!1},filter:function(e,t){var a=this;if(null===t||"undefined"==typeof t||""===t)return e;var r=[];return e.map(function(e,i){a.isMatched(e,t)&&r.push(e)}),r},sortTable:function(e,t,a){var r=null;return r=a?function(e,a){var r=e[t],i=a[t];return i.localeCompare(r)}:function(e,a){var r=e[t],i=a[t];return r.localeCompare(i)},e.sort(r)},isIncNumber:function(e){if(null===e||""===e)return!1;for(var t=e.length-1;t>=0;t--){var a=e.charAt(t);if(a>="0"&&a<="9")return!0}return!1},infoMsg:function(e){N.Modal.info({title:"提示",content:e})},succMsg:function(e){N.Modal.success({title:"成功",content:e})},errMsg:function(e){N.Modal.error({title:"错误",content:e})},warnMsg:function(e){N.Modal.warning({title:"警告",content:e})}};var h=new h,R=[{type:"int",isValid:function(e){if(0==h.regInteger.test(e))return"请输入整数!"}},{type:"double",isValid:function(e){if(0==h.regDouble.test(e))return"请输入Double数据，比如：55.069!"}},{type:"money",isValid:function(e){if(0==h.regMoney.test(e))return"请输入金额，比如：2355.00!"}},{type:"email",isValid:function(e){if(0==h.regEmail.test(e))return"请输入电子邮件地址!"}},{type:"idcard",isValid:g},{type:"idcard18",isValid:g},{type:"phone",isValid:function(e){if(0==h.regPhone.test(e))return"请输入电话号码!"}},{type:"phones",isValid:function(e){if(0==h.regPhones.test(e))return"请输入电话号码，[,]分割!"}},{type:"mobile",isValid:function(e){if(0==h.regMobile.test(e))return"请输入手机号码!"}},{type:"zip",isValid:function(e){if(0==h.regZip.test(e))return"请输入六位数字的邮政编码!"}},{type:"url",isValid:function(e){if(0==h.regUrl.test(e.toLowerCase()))return"请输入HTTP地址!"}},{type:"classname",isValid:function(e){if(0==h.className.test(e))return"请输入有效的类名称!"}},{type:"qq",isValid:function(e){if(0==h.regQQ.test(e))return"请输入QQ号!"}},{type:"number",isValid:function(e){if(0==h.regNumber.test(e))return"请输入数字!"}},{type:"汉字",isValid:function(e){if(0==h.regChinese.test(e))return"请输入汉字!"}},{type:"字母",isValid:function(e){if(0==h.regEnglish2.test(e))return"请输入字母或空格!"}}],M=new Array(19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(5),o=(r(l),a(1)),s=(a(11),a(34)),d={svcList:n.default.PropTypes.array},u=n.default.createClass({displayName:"ServiceMsg",getInitialState:function(){return{svcMsg:{resName:"",operation:"",errMsg:""},hints:[]}},mixins:[o.listenTo(s,"onServiceComplete")],onServiceComplete:function(e){e.errMsg.indexOf("[AUTH09]")>=0&&window.sessionStorage.removeItem("loginData"),this.setState({svcMsg:e})},componentDidMount:function(){this.clear()},clear:function(){this.state.hints=[];for(var e=this.props.svcList.length,t=0;t<e;t++)this.state.hints.push("")},showError:function(e){var t=this.state.hints,a=t.length;a>0&&(t[0]=e),this.setState({hints:t})},onClose:function(){for(var e=this.state.hints,t=e.length,a=0;a<t;a++)e[a]="";this.setState({hints:e})},render:function(){var e=this.state.svcMsg;if(null!=e&&null!==e.operation&&""!==e.operation){for(var t=e.resName+"/"+e.operation,a=this.props.svcList.length,r=0;r<a;r++)if(this.props.svcList[r]===t){this.state.hints[r]=e.errMsg;break}this.state.svcMsg=null}for(var i="",a=this.state.hints.length,r=0;r<a&&(i=this.state.hints[r],null===i||""===i);r++);return""===i?null:n.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},n.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),n.default.createElement("span",{className:"ant-alert-message"},i),n.default.createElement("span",{className:"ant-alert-description"}),n.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},n.default.createElement("i",{className:"anticon anticon-cross"})))}});u.propTypes=d,e.exports=u},function(e,t,a){e.exports=a(10)(12)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=(r(i),a(65)),l=r(n),o=a(6);e.exports=function(e,t){return{toggle:function(){this.beforeClose&&this.state.modal&&this.beforeClose(),this.setState({modal:!this.state.modal})},formatDate:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,l.default)(e,"YYYYMMDD"):""},formatMonth:function(e,t){return null!==e&&""!==e&&"undefined"!=typeof e?(0,l.default)(e,"YYYYMM"):""},handleOnChange:function(a){var r=this.state[e];r[a.target.id]=a.target.value;var i=!0;t!==!0&&(i=o.validator(this,r,a.target.id)),i&&this.state.afterChange&&this.state.afterChange(a.target.id,a.target.value),this.setState({loading:this.state.loading})},onRadioChange:function(a){var r=this.state[e],i=""+a.target.value;r[a.target.id]=i;var n=!0;t!==!0&&(n=o.validator(this,r,a.target.id)),n&&this.state.afterChange&&this.state.afterChange(a.target.id,i),this.setState({loading:this.state.loading})},handleCheckBox:function(a){var r=this.state[e],i=a.target.checked?"1":"0";r[a.target.id]=i;var n=!0;t!==!0&&(n=o.validator(this,r,a.target.id)),n&&this.state.afterChange&&this.state.afterChange(a.target.id,i),this.setState({loading:this.state.loading})},handleOnSelected:function(a,r){var i=this.state[e];i[a]=r;var n=!0;t!==!0&&(n=o.validator(this,i,a)),n&&this.state.afterChange&&this.state.afterChange(a,r),this.setState({loading:this.state.loading})},handleOnSelDate:function(a,r,i,n){if(null==n||0==n.length)n="";else{
if(n.length!=r.length)return;for(var l="",s="",d="",u=n.split(""),c=r.split(""),m=u.length,h=0;h<m;h++)if("Y"===c[h])l+=u[h];else if("M"===c[h])s+=u[h];else if("D"===c[h])d+=u[h];else if(c[h]!==u[h])return void console.log("日期错误",a,monthFormat,monthString);n=l+s+d}var p=this.state[e];p[a]=n;var f=!0;t!==!0&&(f=o.validator(this,p,a)),f&&this.state.afterChange&&this.state.afterChange(a,n),this.setState({loading:this.state.loading})},handleOnSelMonth:function(a,r,i,n){if(null==n||0==n.length)n="";else{if(n.length!=r.length)return;for(var l="",s="",d=n.split(""),u=r.split(""),c=d.length,m=0;m<c;m++)if("Y"===u[m])l+=d[m];else if("M"===u[m])s+=d[m];else if(u[m]!==d[m])return void console.log("日期错误",a,r,n);n=l+s}var h=this.state[e];h[a]=n;var p=!0;t!==!0&&(p=o.validator(this,h,a)),p&&this.state.afterChange&&this.state.afterChange(a,n),this.setState({loading:this.state.loading})}}}},function(e,t){e.exports=react_lz},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["showError"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(4),d=a(3),u=s.Select.Option,c=o.default.createClass({displayName:"DictSelect",getInitialState:function(){return{opts:[],loading:!1}},showOptions:function(e){var t=e.codeData;null!==t&&"undefined"!=typeof t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props,t=e.appName,a=e.optName;this.state.loading=!0,d.loadOptions(t,a,this.showOptions)},selectMultiValue:function(e){if(this.props.onSelect){var t=this.props.value,a=t?t.split(","):[];a.push(e),t=a.join(","),this.props.onSelect(t)}},deselectMultiValue:function(e){if(this.props.onSelect){for(var t=this.props.value,a=t?t.split(","):[],r=0;r<a.length;r++)if(a[r]===e){a.splice(r,1);break}t=a.join(","),this.props.onSelect(t)}},render:function(){var e,t=this.props,a=(t.appName,t.optName,t.showCode),r=t.required,l=t.mode,d=t.onSelect,c=t.value,m=i(t,["appName","optName","showCode","required","mode","onSelect","value"]);e=a?this.state.opts.map(function(e,t){return o.default.createElement(u,{key:e.codeValue,value:e.codeValue},e.codeValue,"-",e.codeDesc)}):this.state.opts.map(function(e,t){return o.default.createElement(u,{key:e.codeValue,value:e.codeValue},e.codeDesc)});var h;if("multiple"===l){var p=c?c.split(","):[];h=o.default.createElement(s.Select,n({mode:"multiple",value:p,onSelect:this.selectMultiValue,onDeselect:this.deselectMultiValue},m),e)}else h=r?o.default.createElement(s.Select,n({value:c,onSelect:d},m),e):o.default.createElement(s.Select,n({value:c,onSelect:d},m),o.default.createElement(u,{value:""},"--"),e);return this.state.loading?o.default.createElement(s.Spin,null,h):h}});t.default=c},function(e,t,a){e.exports=a(10)(1049)},function(e,t,a){"use strict";var r=a(13),i=a(6);e.exports={selectedGroup:null,selectedProj:null,selectedPool:null,selectedBiziProj:null,selectedOutCorp:null,selectedDispProj:null,goBackUrl:null,lastUrl:null,openProjGroupPage:function(e,t){null!==e&&(this.goBackUrl="/proj/group/ProjGroupPage/",this.selectedGroup=e,r.browserHistory.push({pathname:"/proj/group/ProjPage/",state:{fromDashboard:!0}}))},goBackProjGroupMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/group/ProjGroupPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedProj=null,this.selectedGroup=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedProj=e,r.browserHistory.push({pathname:"/proj/proj2/ProjMemberPage/",state:{fromDashboard:!0}}))},goBackProjMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/proj/ProjPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedProj=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openResPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedPool=e,r.browserHistory.push({pathname:"/proj/res2/ResMemberPage/",state:{fromDashboard:!0}}))},goBackResMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/res/PoolPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedPool=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openGroupPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedGroup=e,r.browserHistory.push({pathname:"/proj/group/ProjPage/",state:{fromDashboard:!0}}))},goBackGroupMain:function(e){this.selectedGroup=null,null===this.goBackUrl&&(this.goBackUrl="/proj/group/ProjGroupPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedGroup=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openOutCorpPage:function(e,t){null!==e&&(this.goBackUrl="/proj/out/CorpPage/",this.selectedOutCorp=e,r.browserHistory.push({pathname:"/proj/out2/StaffPage/",state:{fromDashboard:!0}}))},goBackOutMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/out/CorpPage/");var t=this.goBackUrl;this.goBackUrl=null,this.selectedOutCorp=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openBiziProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ProjPage/",this.selectedBiziProj=e,r.browserHistory.push({pathname:"/proj/bizi2/BiziMemberPage/",state:{fromDashboard:!0}}))},goBackBiziProjMain:function(e){this.selectedBiziProj=null,null===this.goBackUrl&&(this.goBackUrl="/proj/bizi/BiziProjPage/");var t=this.goBackUrl;this.goBackUrl=null,r.browserHistory.push({pathname:t,state:{fromDashboard:!0}})},openGroupResPage:function(e,t){null!==e&&(this.goBackUrl="/proj/group/PoolPage/",this.selectedPool=e,r.browserHistory.push({pathname:"/proj/res2/ResMemberPage/",state:{fromDashboard:!0}}))},openGroupProjPage:function(e,t){null!==e&&(this.lastUrl=this.goBackUrl,this.goBackUrl="/proj/group/ProjPage/",this.selectedProj=e,r.browserHistory.push({pathname:"/proj/proj2/ProjMemberPage/",state:{fromDashboard:!0}}))},openGroupBiziProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/group/BiziProjPage/",this.selectedBiziProj=e,r.browserHistory.push({pathname:"/proj/bizi2/BiziMemberPage/",state:{fromDashboard:!0}}))},openInitProjPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj2/ProjQueryPage/",this.selectedProj=e,r.browserHistory.push({pathname:"/proj/proj2/BatchInputPage/",state:{fromDashboard:!0}}))},openResChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedPool=e,r.browserHistory.push({pathname:"/proj/res2/UserCheckPage/",state:{fromDashboard:!0}}))},openGroupChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedGroup=e,r.browserHistory.push({pathname:"/proj/group/GroupCheckPage/",state:{fromDashboard:!0}}))},openProjChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedProj=e,r.browserHistory.push({pathname:"/proj/proj2/UserCheckPage/",state:{fromDashboard:!0}}))},openBiziProjChkPage:function(e,t){null!==e&&(this.goBackUrl="/proj/proj/ChkProjPage/",this.selectedBiziProj=e,r.browserHistory.push({pathname:"/proj/bizi2/UserCheckPage/",state:{fromDashboard:!0}}))},calcBeginMonth:function(e,t){if(!e||!t){var a=Math.floor(i.getToday()/100);return""+a}var r=0,n=0,l=Math.floor(e/1e4),o=Math.floor(e%1e4/100),s=t?t.split("."):[],t=s[0]?s[0]:0,d=s[1]?s[1]:0;if(r=l-t,o-d>0){var a=o-d;n=a>9?""+a:"0"+a}else{--r;var a=12+o-d;n=a>9?""+a:"0"+a}return""!==n&&void 0!==n||(n="00"),r+n},getWorkYears:function(e){var t=i.getToday();if(!e||e==Math.floor(t/100))return{year:"00",month:"00"};var a=0,r=0,n=Math.floor(e/100),l=e%100,o=Math.floor(t/1e4),s=Math.floor(t%1e4/100);return a=o-n,s-l>0?r=s-l:(--a,r=12+s-l),a=a>9?a:"0"+a,r=r>9?r:"0"+r,{year:a,month:r}},getDisplayWorkYears:function(e){var t=i.getToday();if(!e||e==Math.floor(t/100))return{year:"",month:""};var a=0,r=0,n=Math.floor(e/100),l=e%100,o=Math.floor(t/1e4),s=Math.floor(t%1e4/100);return a=o-n,s-l>0?r=s-l:(--a,r=12+s-l),a=0===a?"":""+a,r=0===r?"":""+r,{y:a,m:r}},getColumnWorkYears:function(e){var t=i.getToday();if(!e||e==Math.floor(t/100))return"无";var a=0,r=0,n=Math.floor(e/100),l=e%100,o=Math.floor(t/1e4),s=Math.floor(t%1e4/100);return a=o-n,s-l>0?r=s-l:(--a,r=12+s-l),0===r?0===a?"无":""+a+"年":""+a+"年"+r+"月"},calcCheckDate:function(e,t,a,r){var n=0,l=0,o=0;if(void 0!==a&&null!==a&&a.length>0){var s=a[0];n=s.beginHour,l=s.endHour,s.beginDate!==e.chkDate&&(n=9),s.endDate!==e.chkDate&&(l=18),n<9&&(n=9),l>18&&(l=18),o=l-n,n<=12&&l>12&&(o-=1),e.leaveType=s.leaveType,e.leaveHour=""+o}var d=[],u="",c="",m=-1,h=-1,p=0,f=0;if(void 0!==t&&null!==t&&t.length>0){for(var g=t.length,v=0;v<g;v++){var C=t[v];"booking"!==C.posType&&"free"!==C.posType&&d.push(C)}i.sortTable(d,"posTime",!1),g=d.length;for(var v=0;v<g;v++){var C=d[v];c=c+C.posType+": "+C.posTime+";    "}if(g>1){var b=d[0],y=d[g-1];m=parseInt(b.posTime.substr(0,2)),h=parseInt(y.posTime.substr(0,2)),p=parseInt(b.posTime.substr(3,2)),f=parseInt(y.posTime.substr(3,2)),u=h-m,m<=12&&h>12&&(u-=1),m<=18&&h>19&&(u-=1);var S=f-p;S<0&&(u-=1,S=60+S),u=""+u+":"+S,e.checkIn=b.posTime,e.checkOut=y.posTime}else 1===g&&(e.checkIn=d[0].posTime)}e.checkHour=u,e.checkLogger=c,o<8&&r&&this.calcWorkHour(e,m,p,h,f,n,l)},calcWorkHour:function(e,t,a,r,i,n,l){if(e.workHour="0",!(t<0||r<0)){console.log("chkData",e);var o=parseInt(e.fromHour.substr(0,2)),s=parseInt(e.toHour.substr(0,2)),d=parseInt(e.fromHour.substr(3,2)),u=parseInt(e.toHour.substr(3,2));if(o<=9&&s>=18&&"0"===e.dateType){var c=parseInt(e.leaveHour);return void(e.workHour=""+(8-c))}"0"===e.dateType?((t<o||o>=9)&&(t=o,a=d),(r>s||s<=18)&&(r=s,i=u)):((t<o||t===o&&a<d)&&(t=o,a=d),(r>s||r===s&&i>u)&&(r=s,i=u));var m=r-t;t<=12&&r>12&&(m-=1),t<=18&&r>19&&(m-=1);var h=i-a;if(h<-20?m-=1:h>40&&(m+=1),"0"!==e.dateType)return void(e.overHour=""+m);if(0===n||0===l)return void(e.workHour=""+m);n<o&&(n=o),l>s&&(l=s);var p=l-n;n<=12&&l>12&&(p-=1),e.workHour=""+(m-p)}}}},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["getResumeByID","getResumeByIdCode","updateResume","addIntro","updateIntro","delIntro","addContact","updateContact","delContact","addReview","updateReview","delReview","addIdentity","updateIdentity","delIdentity","addOther","updateOther","delOther","addFamily","updateFamily","delFamily","addSocial","updateSocial","delSocial","addSoHonor","updateSoHonor","delSoHonor","addBenefit","updateBenefit","delBenefit","addEmerg","updateEmerg","delEmerg","addTrain","updateTrain","delTrain","addLang","updateLang","delLang","addCert","updateCert","delCert","addTechSkill","updateTechSkill","delTechSkill","addProjSkill","updateProjSkill","delProjSkill","addBiziSkill","updateBiziSkill","delBiziSkill","addOtherSkill","updateOtherSkill","delOtherSkill","addEdu","updateEdu","delEdu","addPrac","updatePrac","delPrac","addHonor","updateHonor","delHonor","addHonor2","updateHonor2","delHonor2","addWsProj","updateWsProj","delWsProj","addWsIssue","updateWsIssue","delWsIssue","addWsThesis","updateWsThesis","delWsThesis","addPeComp","updatePeComp","delPeComp","addPeProj","updatePeProj","delPeProj","addWorkHonor","updateWorkHonor","delWorkHonor","addWorkFailure","updateWorkFailure","delWorkFailure","addCompReview","updateCompReview","delCompReview","addProjReview","updateProjReview","delProjReview"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(15),n=a(3),l=a(11),o=r.createStore({listenables:[i],resumeID:"",userID:"",person:"",init:function(){},getServiceUrl:function(e){return n.resumeUrl+e},fireEvent:function(e,t,a,r){r.trigger({resumeID:r.resumeID,userID:r.userID,person:r.person,resource:e,operation:t,errMsg:a}),l.showError(e,t,a)},recordCreate:function(e,t,a){var r=this,i={filter:this.resumeID,object:t};n.doCreateService(a,i).then(function(t){if(null==t.errCode||""==t.errCode||"000000"==t.errCode){var a=r.person[e];null!==a&&"undefined"!=typeof a||(a=[],r.person[e]=a),a.push(t.object),r.person[e+"Pos"]=a.length-1,r.fireEvent(e,"create","",r)}else r.fireEvent(e,"create","处理错误["+t.errCode+"]["+t.errDesc+"]",r)},function(t){r.fireEvent(e,"create","调用服务错误",r)})},recordUpdate:function(e,t,a){for(var r=-1,i=t.uuid,l=this.person[e],o=l.length-1;o>=0;o--)if(l[o].uuid===i){r=o;break}var s=this;if(r<0)return void s.fireEvent(e,"update","没有找到记录["+i+"]",s);var d={filter:this.resumeID,object:t};n.doUpdateService(a,d).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(n.copyValue(t.object,l[r]),s.person[e+"Pos"]=r,s.fireEvent(e,"update","",s)):s.fireEvent(e,"update","处理错误["+t.errCode+"]["+t.errDesc+"]",s)},function(t){s.fireEvent(e,"update","调用服务错误",s)})},recordDelete:function(e,t,a){for(var r=-1,i=this.person[e],l=i.length-1;l>=0;l--)if(i[l].uuid===t){r=l;break}var o=this;if(r<0)return void o.fireEvent(e,"remove","没有找到记录["+t+"]",o);var s={filter:this.resumeID,object:t};n.doRemoveService(a,s).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(i.splice(r,1),r<i.length?o.person[e+"Pos"]=r:i.length>0?o.person[e+"Pos"]=i.length-1:o.person[e+"Pos"]=-1,o.fireEvent(e,"remove","",o)):o.fireEvent(e,"remove","处理错误["+t.errCode+"]["+t.errDesc+"]",o)},function(t){o.fireEvent(e,"remove","调用服务错误",o)})},onGetResumeByID:function(e){var t=this;if(this.resumeID===e)return void t.fireEvent("person","find","",t);var a={};a.id=e;var r=this.getServiceUrl("resPerson/find-resume");n.doGetRecordService(r,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.person=e.object,t.resumeID=e.object.id,t.fireEvent("person","find","",t)):t.fireEvent("person","find","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("person","find","调用服务错误",t)})},onGetResumeByIdCode:function(e){var t=this;if(t.person&&this.userID===e)return void t.fireEvent("person","find","",t);var a={};a.idCode=e;var r=this.getServiceUrl("resPerson/find-resume2");n.doGetRecordService(r,a).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.person=a.object,t.resumeID=a.object.id,t.userID=e,t.fireEvent("person","find","",t)):a.object?t.fireEvent("person","find","处理错误["+a.errCode+"]["+a.errDesc+"]",t):t.fireEvent("person","noResume","",t)},function(e){t.fireEvent("person","find","调用服务错误",t)})},recordDeleteById:function(e,t,a){for(var r=-1,i=e.recordSet.length-1;i>=0;i--)if(e.recordSet[i].id===t){r=i;break}var l=e;return r<0?void l.fireEvent("person","del-resume","没有找到记录["+t+"]",l):void n.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(l.recordSet.splice(r,1),l.totalRow=l.totalRow-1,l.fireEvent("del-resume","",l)):l.fireEvent("person","del-resume","处理错误["+e.errCode+"]["+e.errDesc+"]",l)},function(e){l.fireEvent("person","del-resume","调用服务错误",l)})},onUpdateResume:function(e){var t=this,a=this.getServiceUrl("resPerson/update-resume");n.doUpdateService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(n.copyValue(e.object,t.person),t.fireEvent("person","update","",t)):t.fireEvent("person","update","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("person","update","调用服务错误",t)})},onAddIntro:function(e){var t=this.getServiceUrl("resPeIntro/create");this.recordCreate("introList",e,t)},onUpdateIntro:function(e){var t=this.getServiceUrl("resPeIntro/update");this.recordUpdate("introList",e,t)},onDelIntro:function(e){var t=this.getServiceUrl("resPeIntro/remove");this.recordDelete("introList",e,t)},onAddContact:function(e){var t=this.getServiceUrl("resPeContact/create");this.recordCreate("contactList",e,t)},onUpdateContact:function(e){var t=this.getServiceUrl("resPeContact/update");this.recordUpdate("contactList",e,t)},onDelContact:function(e){var t=this.getServiceUrl("resPeContact/remove");this.recordDelete("contactList",e,t)},onAddReview:function(e){var t=this.getServiceUrl("resPeReview/create");this.recordCreate("reviewList",e,t)},onUpdateReview:function(e){var t=this.getServiceUrl("resPeReview/update");this.recordUpdate("reviewList",e,t)},onDelReview:function(e){var t=this.getServiceUrl("resPeReview/remove");this.recordDelete("reviewList",e,t)},onAddIdentity:function(e){var t=this.getServiceUrl("resPeIdentity/create");this.recordCreate("identityList",e,t)},onUpdateIdentity:function(e){var t=this.getServiceUrl("resPeIdentity/update");this.recordUpdate("identityList",e,t)},onDelIdentity:function(e){var t=this.getServiceUrl("resPeIdentity/remove");this.recordDelete("identityList",e,t)},onAddOther:function(e){var t=this.getServiceUrl("resPeOther/create");this.recordCreate("otherList",e,t)},onUpdateOther:function(e){var t=this.getServiceUrl("resPeOther/update");this.recordUpdate("otherList",e,t)},onDelOther:function(e){var t=this.getServiceUrl("resPeOther/remove");this.recordDelete("otherList",e,t)},onAddEdu:function(e){var t=this.getServiceUrl("pe-edu/create");this.recordCreate("eduList",e,t)},onUpdateEdu:function(e){var t=this.getServiceUrl("pe-edu/update");this.recordUpdate("eduList",e,t)},onDelEdu:function(e){var t=this.getServiceUrl("pe-edu/remove");this.recordDelete("eduList",e,t)},onAddHonor:function(e){var t=this.getServiceUrl("edu-honor/create");this.recordCreate("honorList",e,t)},onUpdateHonor:function(e){var t=this.getServiceUrl("edu-honor/update");this.recordUpdate("honorList",e,t)},onDelHonor:function(e){var t=this.getServiceUrl("edu-honor/remove");this.recordDelete("honorList",e,t)},onAddHonor2:function(e){var t=this.getServiceUrl("edu-honor2/create");this.recordCreate("honor2List",e,t)},onUpdateHonor2:function(e){var t=this.getServiceUrl("edu-honor2/update");this.recordUpdate("honor2List",e,t)},onDelHonor2:function(e){var t=this.getServiceUrl("edu-honor2/remove");this.recordDelete("honor2List",e,t)},onAddPrac:function(e){var t=this.getServiceUrl("edu-prac/create");this.recordCreate("pracList",e,t)},onUpdatePrac:function(e){var t=this.getServiceUrl("edu-prac/update");this.recordUpdate("pracList",e,t)},onDelPrac:function(e){var t=this.getServiceUrl("edu-prac/remove");this.recordDelete("pracList",e,t)},onAddPeComp:function(e){var t=this.getServiceUrl("peComp/create");this.recordCreate("peCompList",e,t)},onUpdatePeComp:function(e){var t=this.getServiceUrl("peComp/update");this.recordUpdate("peCompList",e,t)},onDelPeComp:function(e){var t=this.getServiceUrl("peComp/remove");this.recordDelete("peCompList",e,t)},onAddPeProj:function(e){var t=this.getServiceUrl("peProj/create");this.recordCreate("peProjList",e,t)},onUpdatePeProj:function(e){var t=this.getServiceUrl("peProj/update");this.recordUpdate("peProjList",e,t)},onDelPeProj:function(e){var t=this.getServiceUrl("peProj/remove");this.recordDelete("peProjList",e,t)},onAddWorkHonor:function(e){var t=this.getServiceUrl("work-honor/create");this.recordCreate("workHonorList",e,t)},onUpdateWorkHonor:function(e){var t=this.getServiceUrl("work-honor/update");this.recordUpdate("workHonorList",e,t)},onDelWorkHonor:function(e){var t=this.getServiceUrl("work-honor/remove");this.recordDelete("workHonorList",e,t)},onAddTrain:function(e){var t=this.getServiceUrl("resPeTrain/create");this.recordCreate("trainList",e,t)},onUpdateTrain:function(e){var t=this.getServiceUrl("resPeTrain/update");this.recordUpdate("trainList",e,t)},onDelTrain:function(e){var t=this.getServiceUrl("resPeTrain/remove");this.recordDelete("trainList",e,t)},onAddCert:function(e){var t=this.getServiceUrl("resPeCert/create");this.recordCreate("certList",e,t)},onUpdateCert:function(e){var t=this.getServiceUrl("resPeCert/update");this.recordUpdate("certList",e,t)},onDelCert:function(e){var t=this.getServiceUrl("resPeCert/remove");this.recordDelete("certList",e,t)},onAddTechSkill:function(e){var t=this.getServiceUrl("resTechSkill/create");this.recordCreate("techSkillList",e,t)},onUpdateTechSkill:function(e){var t=this.getServiceUrl("resTechSkill/update");this.recordUpdate("techSkillList",e,t)},onDelTechSkill:function(e){var t=this.getServiceUrl("resTechSkill/remove");this.recordDelete("techSkillList",e,t)},onAddProjSkill:function(e){var t=this.getServiceUrl("resProjSkill/create");this.recordCreate("projSkillList",e,t)},onUpdateProjSkill:function(e){var t=this.getServiceUrl("resProjSkill/update");this.recordUpdate("projSkillList",e,t)},onDelProjSkill:function(e){var t=this.getServiceUrl("resProjSkill/remove");this.recordDelete("projSkillList",e,t)},onAddBiziSkill:function(e){var t=this.getServiceUrl("resBiziSkill/create");this.recordCreate("biziSkillList",e,t)},onUpdateBiziSkill:function(e){var t=this.getServiceUrl("resBiziSkill/update");this.recordUpdate("biziSkillList",e,t)},onDelBiziSkill:function(e){var t=this.getServiceUrl("resBiziSkill/remove");this.recordDelete("biziSkillList",e,t)},onAddLang:function(e){var t=this.getServiceUrl("resPeLang/create");this.recordCreate("langList",e,t)},onUpdateLang:function(e){var t=this.getServiceUrl("resPeLang/update");this.recordUpdate("langList",e,t)},onDelLang:function(e){var t=this.getServiceUrl("resPeLang/remove");this.recordDelete("langList",e,t)},onAddOtherSkill:function(e){var t=this.getServiceUrl("resOtherSkill/create");this.recordCreate("otherSkillList",e,t)},onUpdateOtherSkill:function(e){var t=this.getServiceUrl("resOtherSkill/update");this.recordUpdate("otherSkillList",e,t)},onDelOtherSkill:function(e){var t=this.getServiceUrl("resOtherSkill/remove");this.recordDelete("otherSkillList",e,t)},onAddWsProj:function(e){var t=this.getServiceUrl("ws-proj/create");this.recordCreate("wsProjList",e,t)},onUpdateWsProj:function(e){var t=this.getServiceUrl("ws-proj/update");this.recordUpdate("wsProjList",e,t)},onDelWsProj:function(e){var t=this.getServiceUrl("ws-proj/remove");this.recordDelete("wsProjList",e,t)},onAddWsThesis:function(e){var t=this.getServiceUrl("resWsThesis/create");this.recordCreate("wsThesisList",e,t)},onUpdateWsThesis:function(e){var t=this.getServiceUrl("resWsThesis/update");this.recordUpdate("wsThesisList",e,t)},onDelWsThesis:function(e){var t=this.getServiceUrl("resWsThesis/remove");this.recordDelete("wsThesisList",e,t)},onAddWsIssue:function(e){var t=this.getServiceUrl("ws-issue/create");this.recordCreate("wsIssueList",e,t)},onUpdateWsIssue:function(e){var t=this.getServiceUrl("ws-issue/update");this.recordUpdate("wsIssueList",e,t)},onDelWsIssue:function(e){var t=this.getServiceUrl("ws-issue/remove");this.recordDelete("wsIssueList",e,t)},onAddFamily:function(e){var t=this.getServiceUrl("resPeFamily/create");this.recordCreate("familyList",e,t)},onUpdateFamily:function(e){var t=this.getServiceUrl("resPeFamily/update");this.recordUpdate("familyList",e,t)},onDelFamily:function(e){var t=this.getServiceUrl("resPeFamily/remove");this.recordDelete("familyList",e,t)},onAddSocial:function(e){var t=this.getServiceUrl("resPeSocial/create");this.recordCreate("socialList",e,t)},onUpdateSocial:function(e){var t=this.getServiceUrl("resPeSocial/update");this.recordUpdate("socialList",e,t)},onDelSocial:function(e){var t=this.getServiceUrl("resPeSocial/remove");this.recordDelete("socialList",e,t)},onAddBenefit:function(e){var t=this.getServiceUrl("resPeBenefit/create");this.recordCreate("benefitList",e,t)},onUpdateBenefit:function(e){var t=this.getServiceUrl("resPeBenefit/update");this.recordUpdate("benefitList",e,t)},onDelBenefit:function(e){var t=this.getServiceUrl("resPeBenefit/remove");this.recordDelete("benefitList",e,t)},onAddSoHonor:function(e){var t=this.getServiceUrl("resSoHonor/create");this.recordCreate("soHonorList",e,t)},onUpdateSoHonor:function(e){var t=this.getServiceUrl("resSoHonor/update");this.recordUpdate("soHonorList",e,t)},onDelSoHonor:function(e){var t=this.getServiceUrl("resSoHonor/remove");this.recordDelete("soHonorList",e,t)},onAddEmerg:function(e){var t=this.getServiceUrl("resPeEmerg/create");this.recordCreate("emergList",e,t)},onUpdateEmerg:function(e){var t=this.getServiceUrl("resPeEmerg/update");this.recordUpdate("emergList",e,t)},onDelEmerg:function(e){var t=this.getServiceUrl("resPeEmerg/remove");this.recordDelete("emergList",e,t)}});e.exports=o},function(e,t,a){e.exports=a(10)(785)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l={toggle:n.default.PropTypes.func,message:n.default.PropTypes.string},o=n.default.createClass({displayName:"ErrorMsg",getInitialState:function(){return{}},onClose:function(e){this.props.toggle()},render:function(){return""===this.props.message?null:n.default.createElement("div",{"data-show":"true",className:"ant-alert ant-alert-error",style:{textAlign:"left"}},n.default.createElement("i",{className:"anticon anticon-cross-circle ant-alert-icon"}),n.default.createElement("span",{className:"ant-alert-message"},this.props.message),n.default.createElement("span",{className:"ant-alert-description"}),"undefined"!=typeof this.props.toggle?n.default.createElement("a",{className:"ant-alert-close-icon",onClick:this.onClose},n.default.createElement("i",{className:"anticon anticon-cross"})):"")}});o.propTypes=l,e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(4),d=a(3),u=s.Radio.Group,c=s.Radio.Button,m={display:"block",height:"30px",lineHeight:"30px"},h=o.default.createClass({displayName:"DictRadio",getInitialState:function(){return{opts:[],loading:!1}},showOptions:function(e){var t=e.codeData;null!==t&&"undefined"!=typeof t||(t=[]),this.setState({opts:t,loading:!1})},componentWillMount:function(){var e=this.props,t=e.appName,a=e.optName;this.state.loading=!0,d.loadOptions(t,a,this.showOptions)},render:function(){var e=this.props,t=(e.appName,e.optName,e.showCode),a=e.layout,r=e.radioStyle,l=e.type,d=e.id,h=i(e,["appName","optName","showCode","layout","radioStyle","type","id"]),p=r;"vertical"===a&&(null!==p&&"undefined"!=typeof p||(p=m));var f;f=t?this.state.opts.map(function(e,t){return"button"===l?o.default.createElement(c,{id:d,key:e.codeValue,style:p,value:e.codeValue},e.codeValue,"-",e.codeDesc):o.default.createElement(s.Radio,{id:d,key:e.codeValue,style:p,value:e.codeValue},e.codeValue,"-",e.codeDesc)}):this.state.opts.map(function(e,t){return"button"===l?o.default.createElement(c,{id:d,key:e.codeValue,style:p,value:e.codeValue},e.codeDesc):o.default.createElement(s.Radio,{id:d,key:e.codeValue,style:p,value:e.codeValue},e.codeDesc)});var g=o.default.createElement(u,n({id:d},h),f);return this.state.loading?o.default.createElement(s.Spin,null,g):g}});t.default=h},function(e,t,a){"use strict";a(13);e.exports={resumeApp:{},envApp:{},createContext:function(e){this.resumeApp={uuid:e,appName:e,appCode:e}}}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=(r(i),a(1)),l=a(116),o=a(89),s=a(72),d=a(115),u=a(85),c=a(111),m=a(81),h=a(112),p=a(82),f=a(114),g=a(84);e.exports=function(){return{getInitialState:function(){return{waitPages2:{},obj2:null}},_getNullValue:function(e,t){if(this.state.obj2=null,null===e||"undefined"==typeof e||""===e)return"";var a=this.state.waitPages2[t];return null!==a&&"undefined"!=typeof a?e:null},_getResultValue:function(e,t){var a=this.state.obj2;return null!==a&&a.resName===t?a.name:(this.state.waitPages2[t]=this,e)},_fireEvent:function(e){var t=this.state.waitPages2[e];null!==t&&"undefined"!=typeof t&&(this.state.waitPages2[e]=null,t.setState({loading:t.state.loading}))},mixins:[n.listenTo(l,"_onFindComplete"),n.listenTo(o,"_onLevelComplete"),n.listenTo(d,"_onInsuComplete"),n.listenTo(c,"_onAllowComplete"),n.listenTo(h,"_onTripComplete"),n.listenTo(f,"_onDateComplete")],_onFindComplete:function(e){this.state.obj2=e},_onLevelComplete:function(e){this._fireEvent("hr_level")},getLevelName:function(e,t){var a=this._getNullValue(t,"hr_level");return null===a&&(s.getLevelName(e,t),a=this._getResultValue(t,"hr_level")),a},_onInsuComplete:function(e){this._fireEvent("hr-insurance")},getInsuName:function(e,t){var a=this._getNullValue(t,"hr-insurance");return null===a&&(u.getInsuName(e,t),a=this._getResultValue(t,"hr-insurance")),a},_onAllowComplete:function(e){this._fireEvent("hr-allowance")},getAllowName:function(e,t){var a=this._getNullValue(t,"hr-allowance");return null===a&&(m.getAllowName(e,t),a=this._getResultValue(t,"hr-allowance")),a},_onTripComplete:function(e){this._fireEvent("hr_trip")},getTripName:function(e,t){var a=this._getNullValue(t,"hr_trip");return null===a&&(p.getTripName(e,t),a=this._getResultValue(t,"hr_trip")),a},_onDateComplete:function(e){this._fireEvent("holiday")},getDateType:function(e){var t=e.substr(0,4),a=e.substr(4),r=this._getNullValue(a,"holiday");return null===r&&(g.getDateType(t,a),r=this._getResultValue(a,"holiday")),r}}}},function(e,t,a){"use strict";var r=a(17),i=a(6),n=a(3);e.exports={loadContext:function(){var e=window.sessionStorage.getItem("loginData");if(null!==e&&"undefined"!=typeof e){var t=window.sessionStorage.getItem("utilConf"),a=window.sessionStorage.getItem("commonConf");if(null!==t&&"undefined"!=typeof t&&null!==a&&"undefined"!=typeof a){var r=JSON.parse(t),l=JSON.parse(a);return n.initConf(r),i.initConf(l),window.loginData=JSON.parse(e),!0}}return!1},downConfig:function(e){var t=e,a="/config.js",l=window.location.href;l.startsWith("https:")&&(a="/config-s.js"),t.setState({loading:!0}),r.getScript(a,function(){n.initConf(utilConf),i.initConf(commonConf),window.sessionStorage.setItem("utilConf",JSON.stringify(utilConf)),window.sessionStorage.setItem("commonConf",JSON.stringify(commonConf)),"单公司"!==i.corpStruct&&t.onConfigLoaded(),t.setState({loading:!1})})},saveLoginData:function(e,t){try{for(var a=null,r=e.compUser.length,i=0;i<r;i++)if(e.compUser[i].corpUuid===t){a=e.compUser[i];break}e.compUser=a,console.log(e),window.loginData=e,window.sessionStorage.setItem("loginData",JSON.stringify(e))}catch(e){console.log(e)}try{window.sessionStorage.setItem("loadedMenu","")}catch(e){console.log(e)}}}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(13),o=a(4),s=(o.Layout.Header,o.Layout.Content,o.Layout.Footer,o.Layout.Sider),d=o.Menu.SubMenu,u=a(3),c={children:n.default.PropTypes.node,navItems:n.default.PropTypes.array,activeNode:n.default.PropTypes.string},m=n.default.createClass({displayName:"LeftMenu",getInitialState:function(){return{collapsed:!1,mode:"inline"}},onCollapse:function(e){this.setState({collapsed:e,mode:e?"vertical":"inline"})},handleClick:function(e){var t=e.key,a="",r=t.indexOf("?");r>0&&(a=t.substring(1+r),t=t.substring(0,r));var i={fromDashboard:!0};if(""!==a){var n=a.split("&");n.map(function(e,t){if(r=e.indexOf("="),r>0){var a=e.substring(0,r),n=e.substring(1+r);i[a]=n}})}l.browserHistory.push({pathname:t,query:i})},render:function(){var e=[],t=this.props.activeNode;return"undefined"!=typeof t&&this.props.navItems.map(function(a,r){"undefined"!=typeof a.childItems&&a.childItems.map(function(r,i){t===r.to&&e.push(a.to)})}),n.default.createElement(o.Layout,{style:{backgroundColor:"#fefefe",height:"100%"}},n.default.createElement(s,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,className:"left-side"},n.default.createElement(o.Menu,{theme:"light",mode:this.state.mode,defaultOpenKeys:e,defaultSelectedKeys:[t],onClick:this.handleClick,className:"left-side"},this.props.navItems.map(function(e,t){var a="rgba(0,0,0,.65)",r=u.checkMenuPriv(e.to);if(2===r)a="red";else if(0===r)return null;if("undefined"==typeof e.childItems){var i="file";return"undefined"!=typeof e.icon&&(i=e.icon),n.default.createElement(o.Menu.Item,{key:e.to},n.default.createElement("span",{
className:"red"===a?"errorHint":"nav-text"},n.default.createElement(o.Icon,{type:i}),n.default.createElement("span",null,e.name)))}var i="setting";"undefined"!=typeof e.icon&&(i=e.icon);var l=[];return e.childItems.map(function(e,t){var a="rgba(0,0,0,.65)",r=u.checkMenuPriv(e.to);2===r&&(a="red");var i="file";"undefined"!=typeof e.icon&&(i=e.icon),l.push(n.default.createElement(o.Menu.Item,{key:e.to},n.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},n.default.createElement(o.Icon,{type:i}),n.default.createElement("span",null,e.name))))}),0===l.length?null:n.default.createElement(d,{key:e.to,title:n.default.createElement("span",{style:{color:a}},n.default.createElement(o.Icon,{type:i}),n.default.createElement("span",null,e.name))},l)}))),n.default.createElement("div",{style:{height:"100%",width:"100%",overflowX:"hidden"}},this.props.children))}});m.propTypes=c,e.exports=m},function(e,t,a){"use strict";var r=a(1),i=r.createActions([{findName:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(146),c=r(u),m=a(1),h=d.Input.Search,p=a(6),f=a(3),g=a(99),v=a(75),C={children:o.default.PropTypes.node,corpUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectEmpLoyee:o.default.PropTypes.func},b=o.default.createClass({displayName:"SearchEmployee",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{EmployeeSet:{recordSet:[],operation:"",errMsg:""},filterValue:e,hint:"",corpUuid:window.loginData.compUser.corpUuid,showError:this.props.showError,onSelectEmpLoyee:this.props.onSelectEmpLoyee,loading:!1}},mixins:[m.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectEmployeePage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到员工":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectEmpLoyee(e.recordSet[0]):a>1&&(this.refs.SelectEmployeePage.clear(e),this.refs.SelectEmployeePage.toggle());this.setState({loading:!1,EmployeeSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.corpUuid=this.state.corpUuid,p.isIncNumber(e)?t.staffCode=e:t.perName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveHrEmployeePage(t,1,10)},render:function(){var e=this.props,t=(e.corpUuid,e.showError,e.onSelectEmpLoyee,e.style),a=(e.value,i(e,["corpUuid","showError","onSelectEmpLoyee","style","value"])),r={},l=t;""!==this.state.hint&&(l={},f.copyValue(t,r),f.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px",paddingTop:"16px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectEmployeePage",onSelectEmpLoyee:this.state.onSelectEmpLoyee}))}});b.propTypes=C,e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=(r(i),a(17),a(3));e.exports=function(){return{getInitialState:function(){return{__actionName:"",__upUrl:"",__xlsFields:[],__xlsOptList:[],__xlsData:{},__xlsFile:null,__callback:null}},downXlsTempFile:function(e){var t=this;this.state.__actionName="down",this.state.__upUrl="",this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData={},this.state.__xlsFile=null,this.state.__callback=null,e.map(function(e,a){var r=e.opts;if(void 0===r){var i={};n.copyValue(e,i),t.state.__xlsFields.push(i)}else t._addXlsField(e,t)}),this._doDownTempFile()},downXlsTempFile2:function(e,t,a){var r=this;this.state.__actionName="down2",this.state.__upUrl="",this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData=JSON.stringify(t),this.state.__xlsFile=null,this.state.__callback=a,e.map(function(e,t){var a=e.opts;if(void 0===a){var i={};n.copyValue(e,i),r.state.__xlsFields.push(i)}else r._addXlsField(e,r)}),this._doDownTempFile()},uploadXlsFile:function(e,t,a,r,i){var l=this;this.state.__actionName="up",this.state.__upUrl=e,this.state.__xlsFields=[],this.state.__xlsOptList=[],this.state.__xlsData=t,this.state.__xlsFile=r,this.state.__callback=i,a.map(function(e,t){var a=e.opts;if(void 0===a){var r={};n.copyValue(e,r),l.state.__xlsFields.push(r)}else l._addXlsField(e,l)}),this._doUploadFile()},_addXlsField:function(e,t){var a={};a.id=e.id,a.name=e.name,a.title=e.title;var r=e.opts;if("#"!==r.charAt(0))return a.opts=r,void t.state.__xlsFields.push(a);r=r.substr(1);var i=r.indexOf(".");if(i<=0)return void t.state.__xlsFields.push(a);var l=r.substr(0,i),o=r.substr(1+i),s=n.loadOptions(l,o,t._onGetOptions);if(void 0!==s){var d=[];return s.codeData.map(function(e,t){d.push(e.codeValue+"="+e.codeDesc)}),a.opts=d.join(","),void t.state.__xlsFields.push(a)}t.state.__xlsFields.push(a);var u={name:o,field:a};t.state.__xlsOptList.push(u)},_onGetOptions:function(e,t){if(void 0!==t){var a=[];"down"===this.state.__actionName?e.codeData.map(function(e,t){a.push(e.codeDesc)}):"up"===this.state.__actionName&&e.codeData.map(function(e,t){a.push(e.codeValue+"="+e.codeDesc)});var r=!1,i=this.state.__xlsOptList;if(i.map(function(e,i){e.name===t&&null!==e.field&&(r=!0,e.field.opts=a.join(","),e.field=null)}),r){var n=this.state.__actionName;"down"===n||"down2"===n?this._doDownTempFile():"up"===n&&this._doUploadFile()}}},_doDownTempFile:function(){for(var e=this.state.__xlsOptList,t=e.length,a=0;a<t;a++)if(null!==e[a].field)return;var r=JSON.stringify(this.state.__xlsFields);if("down2"===this.state.__actionName)this.state.__callback.downFile(r,this.state.__xlsData);else{var i=n.paramUrl+"xlsx-file/down-temp?param="+encodeURI(r);if(void 0!==window.loginData){var l=window.loginData.compUser;null!==l&&""!==l.corpUuid&&void 0!==l.corpUuid&&(i=i+"&corp="+l.corpUuid)}window.location.href=i}},_doUploadFile:function(){for(var e=this.state.__xlsOptList,t=e.length,a=0;a<t;a++)if(null!==e[a].field)return void console.log("optList[i].field",e[a].field);var r={data:this.state.__xlsData,fields:this.state.__xlsFields},i=this.state.__upUrl,l=[this.state.__xlsFile],o=this.state.__callback;n.doUploadService(i,r,l).then(function(e){var t="",a=null;null==e.errCode||""==e.errCode||"000000"==e.errCode?a=e.object:t="导入数据错误["+e.errCode+"]["+e.errDesc+"]",void 0!==o&&null!==o&&o(t,a)},function(e){var t="上传文件错误";void 0!==o&&null!==o&&o(t,null)})}}}},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveCompUser","initCompUser"]);e.exports=i},function(e,t,a){e.exports=a(10)(1025)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1),c=d.Select.Option,m=a(35),h=a(27),p=o.default.createClass({displayName:"CompSelect",getInitialState:function(){return{compSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[u.listenTo(m,"onServiceComplete")],onServiceComplete:function(e){this.state.compSet=e,this.setState({loading:!1});var t=this.props.value,a=e.recordSet;if("retrieve"===e.operation&&""===e.errMsg&&a.length>0){var r=window.localStorage.corpUuid;t=void 0===r||""===r?a[0].corpUuid:r,this.props.onLoaded(t)}},loadCorps:function(){void 0!==localStorage.corpUuid&&""!==localStorage.corpUuid&&void 0!==localStorage.userName&&""!==localStorage.userName&&"retrieve"!==this.state.compSet.operation&&(this.setState({loading:!0}),h.initCompUser(localStorage.userName))},loadData:function(e){this.setState({compSet:{recordSet:[],operation:"",errMsg:""},loading:!0}),h.initCompUser(e)},render:function(){var e=this.props,t=e.value,a=i(e,["value"]),r=t,l=this.state.compSet.recordSet,s=(window.localStorage,l.map(function(e,t){return o.default.createElement(c,{key:e.corpUuid,value:e.corpUuid},e.compName)}));s.push(o.default.createElement(c,{key:"#",value:"#"},"个人用户"));var u=null===r||""===r?o.default.createElement(d.Select,n({},a,{placeholder:"选择用户登入的身份"}),s):o.default.createElement(d.Select,n({},a,{value:r}),s);return this.state.loading?o.default.createElement(d.Spin,null,u):u}});e.exports=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=(r(i),a(1)),l=a(116),o=a(172),s=a(127),d=a(151),u=a(117),c=a(280),m=a(174);e.exports=function(){return{getInitialState:function(){return{waitPages:{},obj:null}},_getNullValue_2:function(e,t){if(this.state.obj=null,null===e||"undefined"==typeof e||""===e)return"";var a=this.state.waitPages[t];return null!==a&&"undefined"!=typeof a?e:null},_getResultValue_2:function(e,t){var a=this.state.obj;return null!==a&&a.resName===t?a.name:(this.state.waitPages[t]=this,e)},_fireEvent_2:function(e){var t=this.state.waitPages[e];null!==t&&"undefined"!=typeof t&&(this.state.waitPages[e]=null,t.setState({loading:t.state.loading}))},mixins:[n.listenTo(l,"_onFindComplete_2"),n.listenTo(o,"_onTeamComplete"),n.listenTo(d,"_onResTeamComplete"),n.listenTo(c,"_onResPoolComplete")],_onFindComplete_2:function(e){this.state.obj=e},_onTeamComplete:function(e){this._fireEvent_2("proj_team")},getTeamName:function(e,t){if(void 0===e||null===e||""===e)return t;var a=this._getNullValue_2(t,"proj_team");return null===a&&(s.getTeamName(e,t),a=this._getResultValue_2(t,"proj_team")),a},_onResTeamComplete:function(e){this._fireEvent_2("res_team")},getResTeamName:function(e,t){if(void 0===e||null===e||""===e)return t;var a=this._getNullValue_2(t,"res_team");return null===a&&(u.getTeamName(e,t),a=this._getResultValue_2(t,"res_team")),a},_onResPoolComplete:function(e){this._fireEvent_2("res_pool")},getResPoolName:function(e){var t=window.loginData.compUser.corpUuid,a=this._getNullValue_2(e,"res_pool");return null===a&&(m.getPoolName(t,e),a=this._getResultValue_2(e,"res_pool")),a}}}},,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createCompUser","deleteCompUser","updateCompUser","retrieveCompUser","retrieveCompUserPage","initCompUser","getCompUser"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(28),o=r(l),s=a(13),d=a(4),u=d.Layout.Header,c=d.Layout.Content,m=(d.Layout.Footer,a(22)),h=a(3),p={children:n.default.PropTypes.node,navItems:n.default.PropTypes.array,activeNode:n.default.PropTypes.string,offsetLeft:n.default.PropTypes.string,home:n.default.PropTypes.string},f=n.default.createClass({displayName:"TopBar",getInitialState:function(){return null},goHome:function(e){var t=this.props.home;null!==t&&"undefined"!=typeof t||(t="/main/DeskPage/"),h.setActiveMenuName(""),"@"===t.charAt(0)?document.location.href=t.substr(1):s.browserHistory.push({pathname:t})},handleMenuClick:function(e){"1"===e.key?s.browserHistory.push({pathname:"/main/passwd/"}):"2"===e.key?document.location.href="/index.html":console.log("handleMenuClick",e)},handleClick:function(e){var t=e.key,a="",r=t.indexOf("?");r>0&&(a=t.substring(1+r),t=t.substring(0,r));var i={fromDashboard:!0};if(""!==a){var n=a.split("&");n.map(function(e,t){if(r=e.indexOf("="),r>0){var a=e.substring(0,r),n=e.substring(1+r);i[a]=n}})}s.browserHistory.push({pathname:t,query:i})},render:function(){if((null===window.loginData||"undefined"==typeof window.loginData)&&!m.loadContext())return s.browserHistory.push({pathname:"/index.html"}),null;var e=n.default.createElement(d.Menu,{onClick:this.handleMenuClick},n.default.createElement(d.Menu.Item,{key:"1"},"修改密码"),n.default.createElement(d.Menu.Item,{key:"2"},"用户签退")),t=this.props.offsetLeft;null!==t&&"undefined"!=typeof t||(t="200px");var a=[this.props.activeNode];return n.default.createElement("div",{style:{width:"100%",height:"100%",padding:"38px 0 0"}},n.default.createElement(o.default,{titleTemplate:"隆正互联 - %s",title:"管理软件",defaultTitle:"管理软件",meta:[{name:"隆正互联"}]}),n.default.createElement(u,{style:{margin:"-38px 0 0",height:"38px",lineHeight:"38px",paddingLeft:"36px",paddingRight:"24px"}},n.default.createElement("div",{style:{float:"left",color:"#EFEFEF"}},"隆正软件"),n.default.createElement(d.Menu,{theme:"dark",mode:"horizontal",defaultSelectedKeys:a,onClick:this.handleClick,style:{lineHeight:"38px",float:"left",paddingLeft:t}},this.props.navItems.map(function(e,t){var a="hsla(0, 0%, 100%, .67)",r=h.checkMenuPriv(e.to);if(2===r)a="red";else if(0===r)return null;var i="file";return"undefined"!=typeof e.icon&&(i=e.icon),n.default.createElement(d.Menu.Item,{key:e.to},n.default.createElement("span",null,n.default.createElement(d.Icon,{type:i}),n.default.createElement("span",{className:"red"===a?"errorHint":"nav-text"},e.name)))})),n.default.createElement("div",{style:{float:"right",color:"#EFEFEF"}},n.default.createElement(d.Icon,{type:"home",onClick:this.goHome,title:"返回主页",style:{padding:"0 8px 0 0",cursor:"pointer"}}),n.default.createElement(d.Dropdown,{overlay:e},n.default.createElement(d.Icon,{type:"setting",style:{cursor:"pointer"}})))),n.default.createElement(c,{style:{width:"100%",height:"100%",padding:"0 0px"}},this.props.children))}});f.propTypes=p,e.exports=f},function(e,t,a){"use strict";var r=a(1),i=a(11),n=r.createStore({listenables:[i],init:function(){},onShowError:function(e,t,a){this.trigger({resName:e,operation:t,errMsg:a})}});e.exports=n},function(e,t,a){"use strict";var r=a(1),i=a(27),n=a(3),l=a(11),o=r.createStore({listenables:[i],username:"",recordSet:[],init:function(){},getServiceUrl:function(e){return n.authUrl+e},fireEvent:function(e,t,a){a.trigger({username:a.username,recordSet:a.recordSet,operation:e,errMsg:t}),l.showError("comp-user",e,t)},onRetrieveCompUser:function(e){var t=this,a={};a.username=e;var r=this.getServiceUrl("comp-user/get-by-username");n.doGetRecordService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.username=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitCompUser:function(e){return this.recordSet.length>0&&this.username===e?void this.fireEvent("retrieve","",this):void this.onRetrieveCompUser(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(8),d=(r(s),a(5)),u=(r(d),a(13)),c=a(4),m=a(18),h=r(m),p=a(29),f=r(p),g=a(63),v=r(g),C=a(64),b=r(C),y=a(62),S=r(y),E=(a(17),a(1),c.Form.Item),w=a(6),x=a(3),k=a(22),j=(0,u.withRouter)(o.default.createClass({displayName:"LoginPage2",getInitialState:function(){var e=window.localStorage,t="1"===e.isRemember,a=t?e.userName:"",r="";"单公司"===w.corpStruct?r=w.corpUuid:t&&(r=e.corpUuid);var i=window.sessionStorage.getItem("loginData");if(null!==i&&"undefined"!=typeof i){var n=!1,l=this.props.location;if(null!==l&&"undefined"!=typeof l){var o=l.pathname;""!==o&&(""!==l.search?n=!0:"/"!==o&&"/index.html"!==o&&"/test.html"!==o&&(n=!0))}n&&k.loadContext()?this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}}):window.sessionStorage.removeItem("loginData")}return{user:{userName:a,passwd:"",corpUuid:r},loading:!1,isRemember:t,errMsg:"",hints:{},action:"login",validRules:[]}},componentDidMount:function(){k.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",w.formValidator(this,this.state.user)){var a=x.authUrl+"auth-user/login",r=w.calcMD5(t),i={};i.password=r,i.username=this.state.user.userName;var n=this;this.setState({loading:!0}),x.loginService(a,i).then(function(e,a,r){n.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?"11111111"==t||"12345678"==t?n.setState({action:"modify"}):n.loginSuccess(e.object):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.state.loading=!1,n.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=w.corpUuid;var t=x.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var r=this;this.setState({loading:!0}),x.loginService(t,a).then(function(e,t,a){r.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?r.loginSuccess(e.object):r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){r.state.loading=!1,r.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;k.saveLoginData(e,t);var a=window.localStorage;a.isRemember=this.state.isRemember?"1":"0",a.userName=this.state.isRemember?this.state.user.userName:"",a.corpUuid=this.state.isRemember?this.state.user.corpUuid:"",this.props.router.push({pathname:"/main/DeskPage/",state:{from:"login"}})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,w.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var r=this.state.user;r[e]=t,this.setState({user:r})},onUserNameFinished:function(e){"单公司"!==w.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},onGoBack:function(){this.setState({action:"login"})},reqPsd:function(){this.setState({action:"request"})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},l=this.state.user.userName,s=this.state.hints,d="login"===this.state.action?"":"none",u={imageSize:"5",zoom:"4",title:"icerno"};u.data="http://124.202.135.197:18580/apk/icerno.apk";var m=JSON.stringify(u);m=encodeURI(m),m=m.replace(/&/g,"%26");var p="/param_s/QRCode/create?data="+m,g="单公司"===w.corpStruct?null:o.default.createElement(E,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:s.compUuidHint,validateStatus:s.compUuidStatus},o.default.createElement(f.default,{style:{opacity:".9"},name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp})),C=o.default.createElement("div",i({style:{width:"100%"}},"style",{display:d}),o.default.createElement("div",{style:{width:"300px",height:"300px",position:"fixed",margin:"-150px -150px",top:"50%",left:"50%"}},o.default.createElement(c.Form,{layout:t},o.default.createElement(E,n({},r,{label:"",colon:!0,style:{marginBottom:"20px"},help:s.userNameHint,validateStatus:s.userNameStatus}),o.default.createElement(c.Input,{prefix:o.default.createElement(c.Icon,{type:"user",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),o.default.createElement(E,n({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:s.passwdHint,validateStatus:s.passwdStatus}),o.default.createElement(c.Input,{prefix:o.default.createElement(c.Icon,{type:"lock",style:{fontSize:13}}),style:{opacity:".9"},placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),g,o.default.createElement(E,null,o.default.createElement(h.default,{message:e,toggle:this.onDismiss}),o.default.createElement(c.Checkbox,{id:"remember",style:{color:"#fff",opacity:".9"},checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),o.default.createElement("a",{onClick:this.reqPsd,style:{float:"right",marginTop:"1px",color:"#fff"}},"忘记密码？"),o.default.createElement(c.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%",opacity:".9"},loading:this.state.loading},"登录"),w.resMode?null:o.default.createElement(c.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px",opacity:".9"},loading:this.state.loading},"快速登录")))),o.default.createElement("div",{style:{padding:"15px 0 0 15px"}},o.default.createElement("img",{src:p,style:{width:80,height:80}}),o.default.createElement("p",{style:{color:"#FFFFFF",paddingTop:"6px"}},"android 客户端"))),y=null;return"modify"===this.state.action?y=o.default.createElement(v.default,{onBack:this.onGoBack}):"request"===this.state.action&&(y=o.default.createElement(b.default,{userName:l,onBack:this.onGoBack})),o.default.createElement("div",{style:{width:"100%",height:"100%",background:"#0e1a53",opacity:".92"}},o.default.createElement(S.default,null),C,y)}}));e.exports=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=(r(s),a(4),a(3),n.default.createClass({displayName:"LogoutPage",getInitialState:function(){return{loading:!1}},componentDidMount:function(){},render:function(){return n.default.createElement("div",{className:"grid-page"},"用户签退")}}));e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(8),s=(r(o),a(5)),d=(r(s),a(4)),u=a(18),c=r(u),m=d.Form.Item,h=a(6),p=a(3),f=l.default.createClass({displayName:"PasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,h.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",h.formValidator(this,this.state.passwd)){var t=p.authUrl+"auth-user/update-pwd",a={},r=this.state.passwd.oldPasswd,i=this.state.passwd.newPasswd,n=this.state.passwd.confirmPad;i!=n?h.warnMsg("两次输入需要一致！"):(a.oldPasswd=r,a.newPasswd=i);var l=this;p.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?h.succMsg("密码修改成功！"):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",r="form-item-"+a,n={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return l.default.createElement("div",{style:{width:"100%"}},l.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},l.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px"}},"修改密码"),l.default.createElement(d.Form,{layout:a},l.default.createElement(m,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),l.default.createElement(m,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"text",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),l.default.createElement(m,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"text",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),l.default.createElement(m,null,l.default.createElement(c.default,{message:e,toggle:this.onDismiss}),l.default.createElement(d.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=f},function(e,t,a){"use strict";var r=a(57),i=a(41),n=a(60);r.inject();var l={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:n};e.exports=l},function(e,t){"use strict";var a={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=a},function(e,t,a){"use strict";function r(e,t){var a;try{return p.injection.injectBatchingStrategy(m),a=h.getPooled(t),v++,a.perform(function(){var r=g(e,!0),i=c.mountComponent(r,a,null,s(),f,0);return t||(i=u.addChecksumToMarkup(i)),i},null)}finally{v--,h.release(a),v||p.injection.injectBatchingStrategy(d)}}function i(e){return o.isValidElement(e)?void 0:l("46"),r(e,!1)}function n(e){return o.isValidElement(e)?void 0:l("47"),r(e,!0)}var l=a(44),o=a(49),s=a(55),d=a(56),u=(a(45),a(58)),c=a(54),m=a(40),h=a(59),p=a(46),f=a(48),g=a(47),v=(a(43),0);e.exports={renderToString:i,renderToStaticMarkup:n}},function(e,t,a){"use strict";e.exports=a(39)},function(e,t,a){e.exports=a(10)(13)},function(e,t,a){e.exports=a(10)(14)},function(e,t,a){e.exports=a(10)(36)},function(e,t,a){e.exports=a(10)(40)},function(e,t,a){e.exports=a(10)(468)},function(e,t,a){e.exports=a(10)(473)},function(e,t,a){e.exports=a(10)(48)},function(e,t,a){e.exports=a(10)(761)},function(e,t,a){e.exports=a(10)(762)},function(e,t,a){e.exports=a(10)(784)},function(e,t,a){e.exports=a(10)(799)},function(e,t,a){e.exports=a(10)(82)},function(e,t,a){e.exports=a(10)(966)},function(e,t,a){e.exports=a(10)(976)},function(e,t,a){e.exports=a(10)(977)},function(e,t,a){e.exports=a(10)(982)},function(e,t,a){e.exports=a(10)(988)},function(e,t,a){e.exports=a(10)(990)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=(a(13),n.default.createClass({displayName:"IndexPage",getInitialState:function(){return null},render:function(){return console.log(this.props.location),n.default.createElement("div",null,n.default.createElement("h1",null,"404 - Not Found"))}}));e.exports=l},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.vx=-.5+Math.random(),this.vy=-.5+Math.random(),this.radius=2*Math.random(),this.color=new n}function n(e){e=e||0,this.colorValue=function(e){return Math.floor(255*Math.random()+e)},this.createColorStyle=function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},this.r=this.colorValue(e),this.g=this.colorValue(e),this.b=this.colorValue(e),this.style=this.createColorStyle(this.r,this.g,this.b)}var l=a(2),o=r(l),s=a(8),d=(r(s),a(5));r(d);i.prototype={draw:function(e){e.beginPath(),e.fillStyle=this.color.style,e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()}};var u=o.default.createClass({displayName:"CanvasDotePage",getInitialState:function(){return{mousePosition:{x:30*window.innerWidth/100,y:30*window.innerHeight/100},dots:{nb:190,distance:100,d_radius:80,array:[]},canvas:{},ctx:{}}},componentDidMount:function(){var e=this.state.canvas,t=this.state.ctx,a=this.state.dots;e=this.refs.canvasDote,t=e.getContext("2d"),e.width=window.innerWidth,e.height=window.innerHeight,t.lineWidth=.3,t.strokeStyle=new n(150).style;var r=190;e.width<700?r=80:e.width<1e3&&(r=110),a.nb=r,this.state.canvas=e,this.state.ctx=t,this.state.dots=a,this.createDots(),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},createColorStyle:function(e,t,a){return"rgba("+e+","+t+","+a+", 0.8)"},mixComponents:function(e,t,a,r){return(e*t+a*r)/(t+r)},averageColorStyles:function(e,t){var a=e.color,r=t.color,i=this.mixComponents(a.r,e.radius,r.r,t.radius),n=this.mixComponents(a.g,e.radius,r.g,t.radius),l=this.mixComponents(a.b,e.radius,r.b,t.radius);return this.createColorStyle(Math.floor(i),Math.floor(n),Math.floor(l))},createDots:function(){for(var e=this.state.dots,t=this.state.canvas,a=0;a<e.nb;a++)e.array.push(new i(t))},moveDots:function(){for(var e=this.state.canvas,t=this.state.dots,a=0;a<t.nb;a++){var r=t.array[a];r.y<0||r.y>e.height?(r.vx=r.vx,r.vy=-r.vy):(r.x<0||r.x>e.width)&&(r.vx=-r.vx,r.vy=r.vy),r.x+=r.vx,r.y+=r.vy}this.setState({canvas:e})},connectDots:function(){for(var e=this.state.dots,t=this.state.mousePosition,a=this.state.ctx,r=0;r<e.nb;r++)for(var i=0;i<e.nb;i++){var n=e.array[r],l=e.array[i];n.x-l.x<e.distance&&n.y-l.y<e.distance&&n.x-l.x>-e.distance&&n.y-l.y>-e.distance&&n.x-t.x<e.d_radius&&n.y-t.y<e.d_radius&&n.x-t.x>-e.d_radius&&n.y-t.y>-e.d_radius&&(a.beginPath(),a.strokeStyle=this.averageColorStyles(n,l),a.moveTo(n.x,n.y),a.lineTo(l.x,l.y),a.stroke(),a.closePath())}this.setState({dots:e})},drawDots:function(e,t){for(var a=0;a<t.nb;a++){var r=t.array[a];r.draw(e)}this.setState({ctx:e})},animateDots:function(e,t,a){t.clearRect(0,0,e.width,e.height),this.moveDots(),this.connectDots(),this.drawDots(t,a),requestAnimationFrame(this.animateDots.bind(this,e,t,a))},onMouseMove:function(e){this.state.mousePosition.x=e.pageX,this.state.mousePosition.y=e.pageY,this.setState({mousePosition:this.state.mousePosition})},onMouseLeave:function(e){var t=this.state.canvas;this.state.mousePosition.x=t.width/3,this.state.mousePosition.y=t.height/3,this.setState({mousePosition:this.state.mousePosition})},render:function(){return o.default.createElement("div",null,o.default.createElement("canvas",{ref:"canvasDote",width:"1000px",height:"700px",style:{position:"absolute"},onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave}))}});e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(8),s=(r(o),a(5)),d=(r(s),a(4)),u=a(18),c=r(u),m=a(6),h=d.Form.Item,p=a(6),f=a(3),g=l.default.createClass({displayName:"ModPasswdPage",getInitialState:function(){return{passwd:{oldPasswd:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[]}},
componentDidMount:function(){this.state.validRules=[{id:"oldPasswd",desc:"原密码",required:!0,max:"16"},{id:"newPasswd",desc:"新密码",required:!0,max:"16"}]},handleOnChange:function(e){var t=this.state.passwd;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({passwd:t})},clickUpdatePwd:function(e){if(this.state.errMsg="",p.formValidator(this,this.state.passwd)){var t=f.authUrl+"auth-user/update-pwd",a={},r=this.state.passwd.oldPasswd,i=this.state.passwd.newPasswd,n=this.state.passwd.confirmPad;i!=n?m.warnMsg("两次输入需要一致！"):(a.oldPasswd=r,a.newPasswd=i);var l=this;f.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(m.succMsg("密码修改成功！"),l.props.onBack()):l.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){l.showError("未知错误")})}},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",r="form-item-"+a,n={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}};return l.default.createElement("div",{style:{width:"100%"}},l.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},l.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"40px",fontSize:"16px",textAlign:"center",marginBottom:"10px",color:"#fff",opacity:".9"}},"修改密码"),l.default.createElement(d.Form,{layout:a},l.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},help:t.oldPasswdHint,validateStatus:t.oldPasswdStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"原密码",type:"text",name:"oldPasswd",id:"oldPasswd",value:this.state.passwd.oldPasswd,onChange:this.handleOnChange})),l.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.newPasswdHint,validateStatus:t.newPasswdStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"新密码",type:"password",name:"newPasswd",id:"newPasswd",value:this.state.passwd.newPasswd,onChange:this.handleOnChange})),l.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.passwd.confirmPad,onChange:this.handleOnChange})),l.default.createElement(h,null,l.default.createElement(c.default,{message:e,toggle:this.onDismiss}),l.default.createElement(d.Button,{key:"btnOK",onClick:this.clickUpdatePwd,size:"large",type:"primary",loading:this.state.loading,style:{width:"100%"}},"确认修改")))))}});e.exports=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(8),s=(r(o),a(5)),d=(r(s),a(4)),u=a(18),c=r(u),m=(a(1),a(6)),h=d.Form.Item,p=a(6),f=a(3),g=l.default.createClass({displayName:"ResetPasswdPage",getInitialState:function(){return{resetPasswd:{newEmail:"",newPasswd:"",confirmPad:""},loading:!1,hints:{},errMsg:"",validRules:[],count:60,liked:!0}},componentDidMount:function(){this.state.validRules=[{id:"username",desc:"用户名",required:!0,max:"0"},{id:"email",desc:"电子邮箱",required:!0,max:"0"},{id:"resetCode",desc:"验证码",required:!1,max:"0"},{id:"passwd",desc:"密码",required:!1,max:"0"}]},handleOnChange:function(e){var t=this.state.resetPasswd;t[e.target.id]=e.target.value,p.validator(this,t,e.target.id),this.setState({resetPasswd:t})},showError:function(e){this.setState({errMsg:e})},onDismiss:function(){this.setState({errMsg:""})},goBack:function(){this.props.onBack()},times:function(){this.state.liked&&(this.timer=setInterval(function(){var e=this.state.count;this.state.liked=!1,e-=1,e<1&&(this.setState({liked:!0}),e=60,clearInterval(this.timer)),this.setState({count:e})}.bind(this),1e3))},clickGetEmail:function(){var e=this.state.resetPasswd.email,t=this.state.resetPasswd.username;null!==e&&""!==e&&null!==t&&""!==t||m.errMsg("用户名和邮箱不能为空");var a=f.authUrl+"auth-user/reset-req",r={};r.username=t,r.email=e;var i=this;f.doUpdateService(a,r).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?(m.succMsg("邮件已发送！"),i.times()):i.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){i.showError("未知错误")})},clickRequestPwd:function(e){var t=f.authUrl+"auth-user/reset-passwd",a={},r=this.state.resetPasswd.passwd,i=this.state.resetPasswd.confirmPad;a.username=this.props.userName,a.passwd=r,a.resetCode=this.state.resetPasswd.resetCode;var n=this;f.doUpdateService(t,a).then(function(e,t,a){null==e.errCode||""==e.errCode||"000000"==e.errCode?r!=i?p.warnMsg("两次输入需要一致！"):(m.succMsg("密码修改成功！"),n.goBack()):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.showError("未知错误")})},render:function(){var e=this.state.errMsg,t=this.state.hints,a="vertical",r="form-item-"+a,n={labelCol:"vertical"==a?null:{span:0},wrapperCol:"vertical"==a?null:{span:24}},o=this.state.liked?"获取验证码":this.state.count+" s";return l.default.createElement("div",{style:{width:"100%"}},l.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},l.default.createElement("div",{style:{width:"100%",height:"40px",lineHeight:"30px",fontSize:"16px",textAlign:"center",marginBottom:"10px",letterSpacing:3,color:"#fff",opacity:".9"}},"重置密码"),l.default.createElement(d.Form,{layout:a},l.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.usernameHint,validateStatus:t.usernameStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"user"}),placeholder:"用户名",type:"text",name:"username",id:"username",value:this.state.resetPasswd.username,onChange:this.handleOnChange})),l.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"10px"},help:t.emailHint,validateStatus:t.emailStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"mail"}),placeholder:"注册的邮箱",type:"text",name:"email",id:"email",value:this.state.resetPasswd.email,onChange:this.handleOnChange}),l.default.createElement(d.Button,{style:{position:"absolute",right:"1px",top:"2px",height:"28px",zIndex:2,fontSize:12},key:"btnEamil",size:"large",onClick:this.clickGetEmail},o),l.default.createElement("p",{style:{width:"100%",fontSize:12,textAlign:"right",color:"#fff",opacity:".9"}},"验证码将会发送至您的注册邮箱")),l.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.resetCodeHint,validateStatus:t.resetCodeStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"safety"}),placeholder:"验证码",type:"text",name:"resetCode",id:"resetCode",value:this.state.resetPasswd.resetCode,onChange:this.handleOnChange})),l.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.passwdHint,validateStatus:t.passwdStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.resetPasswd.passwd,onChange:this.handleOnChange})),l.default.createElement(h,i({},n,{label:"",colon:!0,style:{marginBottom:"20px"},className:r,help:t.confirmPadHint,validateStatus:t.confirmPadStatus}),l.default.createElement(d.Input,{prefix:l.default.createElement(d.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"确认密码",type:"password",name:"confirmPad",id:"confirmPad",value:this.state.resetPasswd.confirmPad,onChange:this.handleOnChange})),l.default.createElement(h,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:r},l.default.createElement(c.default,{message:e,toggle:this.onDismiss}),l.default.createElement(d.Button,{type:"primary",size:"middle",onClick:this.clickRequestPwd,style:{marginRight:"6px"},loading:this.state.loading},"修改密码"),l.default.createElement(d.Button,{size:"middle",onClick:this.goBack},"取消")))))}});e.exports=g},function(e,t,a){e.exports=a(10)(3)},function(e,t,a){"use strict";var r=a(1),i=a(32),n=a(3),l=a(11),o=r.createStore({listenables:[i],deptUuid:"",filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.authUrl+e},fireEvent:function(e,t,a){a.trigger({deptUuid:a.deptUuid,filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("comp-user",e,t)},onRetrieveCompUser:function(e){var t=e.deptUuid,a=this,r=this.getServiceUrl("comp-user/retrieve");n.doRetrieveService(r,e,a.startPage,a.pageRow,a.totalRow).then(function(r){null==r.errCode||""==r.errCode||"000000"==r.errCode?(a.recordSet=r.object.list,a.startPage=r.object.startPage,a.pageRow=r.object.pageRow,a.totalRow=r.object.totalRow,a.deptUuid=t,a.filter=e,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+r.errCode+"]["+r.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveCompUserPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveCompUser(e)},onInitCompUser:function(e,t,a){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):(this.totalRow=0,void this.onRetrieveCompUserPage(e,t,a))},onCreateCompUser:function(e){var t=this.getServiceUrl("comp-user/create");n.recordCreate(this,e,t)},onUpdateCompUser:function(e){var t=this.getServiceUrl("comp-user/update");n.recordUpdate(this,e,t)},onDeleteCompUser:function(e){var t=this.getServiceUrl("comp-user/remove");n.recordDelete(this,e,t)},fireEvent2:function(e,t,a){a.trigger({corpUser:e,operation:"find",errMsg:t}),l.showError("comp-user","find",t)},onGetCompUser:function(e,t){var a=this,r={};r.username=t;var i=this.getServiceUrl("comp-user/get-by-username");n.doGetRecordService(i,r).then(function(t){if(null==t.errCode||""==t.errCode||"000000"==t.errCode){for(var r="",i=null,n=t.object.list,l=n.length,o=0;o<l;o++){var s=n[o];if(s.corpUuid===e){i=s,r="用户已经存在";break}}a.fireEvent2(i,r,a)}else a.fireEvent2(null,"处理错误["+t.errCode+"]["+t.errDesc+"]",a)},function(e){a.fireEvent2(null,"调用服务错误",a)})}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(271),c=r(u),m=a(1),h=d.Input.Search,p=a(6),f=a(3),g=a(171),v=a(126),C={children:o.default.PropTypes.node,poolUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectMember:o.default.PropTypes.func},b=o.default.createClass({displayName:"SearchResMember",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{resMemberSet:{recordSet:[],operation:"",errMsg:""},filterValue:e,hint:"",poolUuid:this.props.poolUuid,projUuid:this.props.projUuid,showError:this.props.showError,onSelectMember:this.props.onSelectMember,loading:!1}},mixins:[m.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectResMemberPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到资源池人员":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectMember(e.recordSet[0]):a>1&&(this.refs.SelectResMemberPage.clear(e),this.refs.SelectResMemberPage.toggle());this.setState({loading:!1,resMemberSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.projUuid=this.state.projUuid,t.poolUuid=this.state.poolUuid,void 0!==t.poolUuid&&null!==t.poolUuid&&""!==t.poolUuid||(t.corpUuid=window.loginData.compUser.corpUuid),p.isIncNumber(e)?t.staffCode=e:t.perName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveResMemberPage(t,1,10)},render:function(){var e=this.props,t=(e.poolUuid,e.projUuid,e.showError,e.onSelectMember,e.style),a=(e.value,i(e,["poolUuid","projUuid","showError","onSelectMember","style","value"])),r={},l=t;""!==this.state.hint&&(l={},f.copyValue(t,r),f.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px",paddingTop:"16px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectResMemberPage",onSelectMember:this.state.onSelectMember}))}});b.propTypes=C,e.exports=b},,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createHrDept","deleteHrDept","updateHrDept","retrieveHrDept","retrieveHrDeptPage","initHrDept"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1),c=a(83),m=a(69),h=a(6),p=o.default.createClass({displayName:"DeptTreeSelect",getInitialState:function(){return{deptSet:{recordSet:[],errMsg:"",operation:""},nodeList:[],deptMap:{},loading:!1}},mixins:[u.listenTo(c,"onDeptComplete")],onDeptComplete:function(e){if("retrieve"===e.operation){this.state.deptMap={};var t=e.recordSet;this.state.nodeSet=h.initTreeNodes(t,this.preCrtNode),this.state.deptSet=e,this.setState({loading:!1})}},getHrExeNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.deptSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},preCrtNode:function(e,t){var a={};return a.label=o.default.createElement("span",{style:{cursor:"pointer"}},e.deptName),a.value=e.uuid,a.key=e.uuid,a.pid=e.puuid,a.selectable=!0,""===e.deptDesc||e.deptDesc==e.deptName?a.title=e.deptName:a.title=e.deptName+"("+e.deptDesc+")",this.state.deptMap[e.uuid]=e.deptName,a},componentDidMount:function(){this.state.deptSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;m.initHrDept(t)},render:function(){var e=this.props,t=e.onSelect,a=i(e,["onSelect"]),r=o.default.createElement(d.TreeSelect,n({},a,{allowClear:!0,onChange:t,showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeNodeFilterProp:"title",treeData:this.state.nodeSet}));return this.state.loading?o.default.createElement(d.Spin,null,r):r}});t.default=p},,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createHrLevel","deleteHrLevel","updateHrLevel","retrieveHrLevel","retrieveHrLevelPage","initHrLevel",{getLevelName:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createUserGroup","deleteUserGroup","updateUserGroup","retrieveUserGroup","retrieveUserGroupPage","initUserGroup"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createAuthUser","updateAuthUser","getAuthUser"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveHrEmployee","retrieveHrEmployeePage","initHrEmployee"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(8),o=(r(l),a(3)),s=n.default.createClass({displayName:"XlsDown",getInitialState:function(){return{fields:"",data:"",isLoading:!1,timer:null}},downFile:function(e,t){this.setState({isLoading:!0,fields:e,data:t})},downClick:function(){this.refs.fileForm.submit()},render:function(){var e=this,t=o.paramUrl+"xlsx-file/create-excel";return this.state.isLoading&&(this.state.isLoading=!1,this.state.timer=setTimeout(function(){e.downClick(),clearInterval(e.state.timer)},100)),n.default.createElement("form",{ref:"fileForm",action:t,method:"post",style:{display:"none"},target:"downloadFrame"},n.default.createElement("iframe",{name:"downloadFrame",style:{display:"none"},frameborder:"0"}),n.default.createElement("input",{type:"hidden",name:"fields",id:"fields",value:this.state.fields}),n.default.createElement("input",{type:"hidden",name:"data",id:"data",value:this.state.data}))}});t.default=s},,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(4),d={children:o.default.PropTypes.node,caption:o.default.PropTypes.string,toolbar:o.default.PropTypes.object,dataSource:o.default.PropTypes.array,rowKey:o.default.PropTypes.string,title:o.default.PropTypes.string,rowStyle:o.default.PropTypes.object,loading:o.default.PropTypes.bool,activeNode:o.default.PropTypes.string,render:o.default.PropTypes.func,onClick:o.default.PropTypes.func},u=o.default.createClass({displayName:"LeftList",getInitialState:function(){return{current:this.props.activeNode,onClick:this.props.onClick}},componentWillReceiveProps:function(e){this.state.current=e.activeNode},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},crtNode:function(e,t,a,r){var i=null===t||"undefined"==typeof t?e.uuid:e[t],n=i===this.state.current?"ant-menu-item-selected ant-menu-item":"ant-menu-item-active ant-menu-item";return o.default.createElement("li",{className:n,id:i,key:i,onClick:this.handleClick.bind(this,e,i),style:{paddingLeft:"20px",height:"30px",lineHeight:"30px"}},o.default.createElement(s.Icon,{type:"play-circle-o"}),e[a])},render:function(){var e=this,t=this.props,a=(t.children,t.caption),r=t.toolbar,l=t.width,d=t.dataSource,u=t.rowKey,c=t.rowText,m=t.rowStyle,h=(t.activeNode,t.render,t.onClick,t.loading),p=i(t,["children","caption","toolbar","width","dataSource","rowKey","rowText","rowStyle","activeNode","render","onClick","loading"]);if(null===d||"undefined"==typeof d){var f=o.default.createElement("div",{className:"left-list",style:{flex:"0 0 "+l,width:l}},r,o.default.createElement("div",null,"暂时无数据"));return o.default.createElement("div",n({style:{display:"flex",height:"100%"}},p),h?o.default.createElement(s.Spin,{style:{minHeight:"200px"}},f):f,o.default.createElement("div",{style:{width:"100%"}},this.props.children))}var f=o.default.createElement("ul",{className:"ant-menu ant-menu-inline ant-menu-light ant-menu-root"},d.map(function(t,a){return e.crtNode(t,u,c,m)}));return o.default.createElement("div",n({style:{display:"flex",height:"100%"}},p),o.default.createElement("div",{className:"left-list",style:{flex:"0 0 "+l,width:l,overflowY:"auto"}},r,null===a||"undefined"==typeof a?null:o.default.createElement("div",{className:"ant-menu-item-group-title"},a),h?o.default.createElement(s.Spin,{style:{minHeight:"200px"}},f):f),o.default.createElement("div",{style:{width:"100%",height:"100%",overflowX:"hidden"}},this.props.children))}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=a(1),d=o.Select.Option,u=a(511),c=a(272),m=n.default.createClass({displayName:"SelectProjTeam",getInitialState:function(){return{projTeamSet:{recordSet:[],errMsg:""},loading:!1,projUuid:""}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projTeamSet:e})},getTeamNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.levelSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},componentDidMount:function(){if(this.state.projUuid=this.props.projUuid,this.props.projUuid){var e={};e.projUuid=this.props.projUuid,this.setState({loading:!0}),c.initProjTeam(e)}},componentWillReceiveProps:function(e){if(this.state.projUuid!==e.projUuid&&(this.state.projTeamSet={recordSet:[],errMsg:""},this.state.projUuid=e.projUuid,e.projUuid)){var t={};t.projUuid=e.projUuid,this.setState({loading:!0}),c.initProjTeam(t)}},render:function(){var e=this.state.projTeamSet.recordSet,t=n.default.createElement(o.Select,this.props,n.default.createElement(d,{key:"-",value:""},"--"),e.map(function(e){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.teamName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=m},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createResMember","deleteResMember","updateResMember","updateResMember2","retrieveResMember","retrieveEmpJob","retrieveResMemberPage","initResMember","clearResMember","batchCreateResMember"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createHrAllowance","deleteHrAllowance","updateHrAllowance","retrieveHrAllowance","retrieveHrAllowancePage","initHrAllowance",{getAllowName:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createHrBizTrip","deleteHrBizTrip","updateHrBizTrip","retrieveHrBizTrip","retrieveHrBizTripPage","initHrBizTrip",{getTripName:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(69),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("hr_dept",e,t)},onRetrieveHrDept:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr_dept/get-by-corp_uuid");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrDeptPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrDept(e)},onInitHrDept:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrDept(e)},onCreateHrDept:function(e){var t=this.getServiceUrl("hr_dept/create");n.recordCreate(this,e,t)},onUpdateHrDept:function(e){var t=this.getServiceUrl("hr_dept/update");n.recordUpdate(this,e,t)},onDeleteHrDept:function(e){var t=this.getServiceUrl("hr_dept/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createHoliday","retrieveHoliday","retrieveHolidayPage","initHoliday",{getDateType:{sync:!0}}]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createHrInsurance","deleteHrInsurance","updateHrInsurance","retrieveHrInsurance","retrieveHrInsurancePage","initHrInsurance",{getInsuName:{sync:!0}}]);e.exports=i},,,,function(e,t,a){"use strict";var r=a(1),i=a(72),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("hr-level",e,t)},onRetrieveHrLevel:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr-level/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrLevelPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrLevel(e)},onInitHrLevel:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrLevel(e)},onCreateHrLevel:function(e){var t=this.getServiceUrl("hr-level/create");n.recordCreate(this,e,t)},onUpdateHrLevel:function(e){var t=this.getServiceUrl("hr-level/update");n.recordUpdate(this,e,t)},onDeleteHrLevel:function(e){var t=this.getServiceUrl("hr-level/remove");n.recordDelete(this,e,t)},onGetLevelName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void n.findRecordName(t,this.recordSet,"lvlCode","hr_level"):void this.onRetrieveHrLevel(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1),c=a(132),m=a(108),h=a(130),p=a(106),f=!1,g=o.default.createClass({displayName:"JobTreeSelect",getInitialState:function(){return{jobSet:{recordSet:[],errMsg:"",operation:""},workTypeSet:{recordSet:[],errMsg:"",operation:""},nodeList:[],workLoading:!1,jobLoading:!1}},mixins:[u.listenTo(h,"onJobComplete"),u.listenTo(c,"onWorkTypeComplete")],onJobComplete:function(e){if("retrieve"===e.operation){var t=e.recordSet,a=this.state.workTypeSet.recordSet,r=this.preTreeNodes(a,t);this.state.jobSet=e,this.setState({jobLoading:!1,nodeList:r})}f=this.state.workLoading||this.state.jobLoading},onWorkTypeComplete:function(e){if("retrieve"===e.operation){var t=this.state.jobSet.recordSet,a=e.recordSet,r=this.preTreeNodes(a,t);this.state.workTypeSet=e,this.setState({workLoading:!1,nodeList:r})}f=this.state.workLoading||this.state.jobLoading},preTreeNodes:function(e,t){if(0===e.length||0===t.length)return[];var a=[],r={},i={};return e.map(function(e,t){var n=e.workType,l=r[n];null!==l&&"undefined"!=typeof l||(l={},l.label=o.default.createElement("span",{style:{cursor:"pointer"}},n),l.value=n,l.key=n,l.selectable=!1,l.children=[],a.push(l),r[n]=l);var s={};s.label=o.default.createElement("span",{style:{cursor:"pointer"}},e.workName),s.value=e.uuid,s.key=e.uuid,s.selectable=!1,s.children=[],l.children.push(s),i[s.key]=s}),t.map(function(e,t){var a=i[e.workUuid];if(null!==a&&"undefined"!=typeof a){var r={};null===e.jobName||""===e.jobName||e.jobName===e.jobCode?r.label=o.default.createElement("span",{style:{cursor:"pointer"}},e.jobCode):r.label=o.default.createElement("span",{style:{cursor:"pointer"}},e.jobCode+"("+e.jobName+")"),r.value=e.uuid,r.key=e.uuid,a.children.push(r)}}),a},getJobNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.jobSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},componentDidMount:function(){if(this.state.workTypeSet={recordSet:[],errMsg:"",operation:""},this.state.jobSet={recordSet:[],errMsg:"",operation:""},!f){f=!0,this.setState({workLoading:!0,jobLoading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;m.initHrWorkType(t),p.initHrJob(t)}},render:function(){var e=this.props,t=e.onSelect,a=i(e,["onSelect"]),r=o.default.createElement(d.TreeSelect,n({},a,{allowClear:!0,onChange:t,showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeNodeFilterProp:"title",treeData:this.state.nodeList})),l=this.state.workLoading||this.state.jobLoading;return l?o.default.createElement(d.Spin,null,r):r}});t.default=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(1),u=s.Select.Option,c=a(89),m=a(72),h=l.default.createClass({displayName:"LevelSelect",getInitialState:function(){return{levelSet:{recordSet:[],errMsg:"",operation:""},loading:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&(this.state.levelSet=e,this.setState({loading:!1}))},getLevelNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.levelSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},componentDidMount:function(){this.state.levelSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;m.initHrLevel(t)},render:function(){var e,t=this.props,a=t.required,r=(i(t,["required"]),this.state.levelSet.recordSet);return e=a?l.default.createElement(s.Select,this.props,r.map(function(e,t){return l.default.createElement(u,{key:e.uuid,value:e.uuid},e.lvlCode)})):l.default.createElement(s.Select,this.props,l.default.createElement(u,{value:""},"--"),r.map(function(e,t){return l.default.createElement(u,{key:e.uuid,value:e.uuid},e.lvlCode)})),this.state.loading?l.default.createElement(s.Spin,null,e):e}});t.default=h},,function(e,t,a){"use strict";var r=a(1),i=a(73),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.authUrl+e},fireEvent:function(e,t,a){a.trigger({compUser:a.compUser,corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("user-group",e,t)},onRetrieveUserGroup:function(e,t){var a=this,r={};r.corpUuid=e;var i=this.getServiceUrl("user-group/retrieve");n.doRetrieveService(i,r,a.startPage,a.pageRow,a.totalRow).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(a.recordSet=t.object.list,a.startPage=t.object.startPage,a.pageRow=t.object.pageRow,a.totalRow=t.object.totalRow,a.corpUuid=e,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+t.errCode+"]["+t.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveUserGroupPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveUserGroup(e)},onInitUserGroup:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveUserGroup(e)},onCreateUserGroup:function(e){var t=this.getServiceUrl("user-group/create");
n.recordCreate(this,e,t)},onUpdateUserGroup:function(e){var t=this.getServiceUrl("user-group/update");n.recordUpdate(this,e,t)},onDeleteUserGroup:function(e){var t=this.getServiceUrl("user-group/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(74),n=a(3),l=a(11),o=r.createStore({listenables:[i],authUser:{},init:function(){},getServiceUrl:function(e){return n.authUrl+e},fireEvent:function(e,t,a){a.trigger({authUser:a.authUser,operation:e,errMsg:t}),l.showError("auth-user",e,t)},onGetAuthUser:function(e,t){var a=this,r={};r.idType=e,r.idCode=t;var i=this.getServiceUrl("auth-user/get-by-idCode");n.doGetRecordService(i,r).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(a.authUser=e.object,a.fireEvent("find","",a)):a.fireEvent("find","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent("find","调用服务错误",a)})},onCreateAuthUser:function(e){var t=this,a=this.getServiceUrl("auth-user/create");n.doCreateService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.authUser=e.object,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onUpdateAuthUser:function(e){var t=this,a=this.getServiceUrl("auth-user/update");n.doUpdateService(a,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.authUser=e.object,t.fireEvent("update","",t)):t.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("update","调用服务错误",t)})}});e.exports=o},,,,,function(e,t,a){"use strict";var r=a(1),i=a(75),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("hr-employee",e,t)},onRetrieveHrEmployee:function(e){var t=this,a=this.getServiceUrl("hr-employee/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrEmployeePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrEmployee(e)},onInitHrEmployee:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveHrEmployee(e)}});e.exports=o},,function(e,t,a){"use strict";var r=a(1),i=a(80),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},userUuid:"",recordSet:[],empJob:{},startPage:0,pageRow:10,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},getServiceUrl2:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,empJob:a.empJob,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-member",e,t)},onClearResMember:function(){var e=this;e.recordSet=[],e.startPage=1,e.pageRow=10,e.totalRow=10,e.filter="",e.fireEvent("","",e)},onRetrieveEmpJob:function(e){if(void 0===e||""===e||e===this.userUuid)return void this.fireEvent("retrieveEmpJob","",this);var t=this,a={};a.userUuid=e;var r=this.getServiceUrl2("hr_emp_job/get-by-user_uuid");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(1===a.object.list.length&&(t.empJob=a.object.list[0]),t.userUuid=e,t.fireEvent("retrieveEmpJob","",t)):t.fireEvent("retrieveEmpJob","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieveEmpJob","调用服务错误",t)})},onRetrieveResMember:function(e){var t=this,a=this.getServiceUrl("res-member/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResMember(e)},onInitResMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveResMember(e)},onCreateResMember:function(e){var t=this.getServiceUrl("res-member/create");n.recordCreate(this,e,t)},onBatchCreateResMember:function(e){var t=this.getServiceUrl("res-member/batchCreate");n.recordCreate(this,e,t)},onUpdateResMember:function(e){var t=this.getServiceUrl("res-member/update");n.recordUpdate(this,e,t)},updateResMember2:function(e){var t=this.getServiceUrl("res-member/update2");n.recordUpdate(this,e,t)},onDeleteResMember:function(e){var t=this.getServiceUrl("res-member/remove1");n.recordDelete(this,e,t)}});e.exports=o},,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1),c=d.Select.Option,m=a(93),h=a(73),p=o.default.createClass({displayName:"CompUserSelect",getInitialState:function(){return{compUserSet:{recordSet:[],errMsg:"",operation:""},loading:!1}},mixins:[u.listenTo(m,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&(this.state.compUserSet=e,this.setState({loading:!1}))},componentDidMount:function(){this.state.compUserSet={recordSet:[],errMsg:"",operation:""},this.setState({loading:!0});var e=this.props.corpUuid;e&&h.initUserGroup(e)},render:function(){var e=this.props,t=(e.required,i(e,["required"]),this.state.compUserSet.recordSet),a=t.map(function(e,t){return o.default.createElement(c,{key:e.uuid,value:e.groupName},e.groupName)});a.push(o.default.createElement(c,{key:"*",value:"*"},"所有用户"));var r=o.default.createElement(d.Select,n({mode:"multiple",style:{width:"100%"}},this.props),a);return this.state.loading?o.default.createElement(d.Spin,null,r):r}});t.default=p},,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createHrJob","deleteHrJob","updateHrJob","retrieveHrJob","retrieveHrJobPage","initHrJob"]);e.exports=i},,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createHrWorkType","deleteHrWorkType","updateHrWorkType","retrieveHrWorkType","retrieveHrWorkTypePage","initHrWorkType"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=(a(1),a(6)),d=(a(3),o.Select.Option),u=n.default.createClass({displayName:"QuickFill",getInitialState:function(){return{modal:!1,data:{},validRules:[],content:"",opts:[],lastOrder:{}}},componentDidMount:function(){},initPage:function(e){this.setState({validRules:e}),this.clear()},clear:function(){this.state.data={},this.state.content="",this.state.opts=[],this.setState({content:""})},quickIn:function(){var e=this.state.lastOrder,t=this.state.opts,a=this.state.data;if(0!==t.length){for(var r in e)a[r]=t[e[r]];this.setState({modal:this.state.modal})}},onDataChange:function(e){var t=e.target.value.split(/\t+/);this.setState({content:e.target.value,opts:t})},onSelectValue:function(e,t){this.state.data[e.id]=t,this.setState({modal:this.state.modal})},onClickSave:function(){var e=this.props.self.state[this.props.object];if(void 0!==e&&null!==e){var t=this.state.lastOrder,a=this.state.data,r=this.state.opts;for(var i in a){var n=a[i];void 0!==n&&null!==n&&""!==n&&(t[i]=r.indexOf(n),e[i]=n)}this.props.self.setState({loading:!1}),this.toggle()}},toggle:function(){this.setState({modal:!this.state.modal})},render:function(){var e=this,t=this.state.validRules,a=[{title:"名称",dataIndex:"desc",key:"desc",width:60},{title:"值",dataIndex:"value",key:"value",width:140,render:function(t,a){return 0===e.state.opts.length?n.default.createElement(o.Select,{style:{width:"100%"},value:""}):n.default.createElement(o.Select,{style:{width:"100%"},value:e.state.data[a.id],allowClear:!0,onChange:e.onSelectValue.bind(e,a)},e.state.opts.map(function(e,t){return n.default.createElement(d,{key:t,value:e},e)}))}}];s.getGridMargin(this);return n.default.createElement(o.Modal,{visible:this.state.modal,width:"540px",title:"导入数据",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},n.default.createElement(o.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave},"确定")," ",n.default.createElement(o.Button,{key:"btnQuickIn",size:"large",onClick:this.quickIn},"快速填写"),n.default.createElement(o.Button,{key:"btnClear",size:"large",onClick:this.clear},"清空"),n.default.createElement(o.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},n.default.createElement("div",{className:"grid-body"},n.default.createElement(o.Input,{style:{marginBottom:"20px"},type:"textarea",name:"content",id:"content",value:this.state.content,onChange:this.onDataChange}),n.default.createElement(o.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},pagination:!1,size:"middle",bordered:s.tableBorder,scroll:{y:240}})))}});t.default=u},,function(e,t,a){"use strict";var r=a(1),i=a(81),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("hr_allowance",e,t)},onRetrieveHrAllowance:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr_allowance/get-by-corp_uuid");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrAllowancePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrAllowance(e)},onInitHrAllowance:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrAllowance(e)},onCreateHrAllowance:function(e){var t=this.getServiceUrl("hr_allowance/create");n.recordCreate(this,e,t)},onUpdateHrAllowance:function(e){var t=this.getServiceUrl("hr_allowance/update");n.recordUpdate(this,e,t)},onDeleteHrAllowance:function(e){var t=this.getServiceUrl("hr_allowance/remove");n.recordDelete(this,e,t)},onGetAllowName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void n.findRecordName(t,this.recordSet,"allowName","hr-allowance"):void this.onRetrieveHrAllowance(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(82),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("hr_biz_trip",e,t)},onRetrieveHrBizTrip:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr_biz_trip/get-by-corp_uuid");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrBizTripPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrBizTrip(e)},onInitHrBizTrip:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrBizTrip(e)},onCreateHrBizTrip:function(e){var t=this.getServiceUrl("hr_biz_trip/create");n.recordCreate(this,e,t)},onUpdateHrBizTrip:function(e){var t=this.getServiceUrl("hr_biz_trip/update");n.recordUpdate(this,e,t)},onDeleteHrBizTrip:function(e){var t=this.getServiceUrl("hr_biz_trip/remove");n.recordDelete(this,e,t)},onGetTripName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void n.findRecordName(t,this.recordSet,"tripName","hr_trip"):void this.onRetrieveHrBizTrip(e)}});e.exports=o},,function(e,t,a){"use strict";var r=a(1),i=a(84),n=a(3),l=a(11),o=a(24),s=r.createStore({listenables:[i],year:"",recordSet:[],yearMap:{},init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){if(void 0!==this.year&&""!==this.year){var r={};a.recordSet.map(function(e,t){r[e.date]=e.flag}),this.yearMap[this.year]=r}a.trigger({year:a.year,recordSet:a.recordSet,operation:e,errMsg:t}),l.showError("holiday",e,t)},onRetrieveHoliday:function(e){var t=this,a={};a.year=e;var r=this.getServiceUrl("holiday/get-by-year");n.doGetRecordService(r,a).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(a.object?t.recordSet=a.object.holidayList:t.recordSet=[],t.year=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHolidayPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHoliday(e)},onInitHoliday:function(e){return this.recordSet.length>0&&this.year===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHoliday(e)},onCreateHoliday:function(e){var t=this,a=e,r=this.getServiceUrl("holiday/create");n.doGetRecordService(r,a).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.recordSet=e.object.holidayList,t.fireEvent("create","",t)):t.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})},onGetDateType:function(e,t){var a=this.yearMap[e];if(a){var r=a[t];return void 0!==r&&null!==r||(r="0"),void o.findName("holiday",t,r)}this.onRetrieveHoliday(e)}});e.exports=s},function(e,t,a){"use strict";var r=a(1),i=a(85),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){l.showError("hr_insurance",e,t),a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t})},onRetrieveHrInsurance:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr_insurance/get-by-corp_uuid");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("get-by-corp_uuid","",t)):t.fireEvent("get-by-corp_uuid","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("get-by-corp_uuid","调用服务错误",t)})},onRetrieveHrInsurancePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrInsurance(e)},onInitHrInsurance:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("get-by-corp_uuid","",this):void this.onRetrieveHrInsurance(e)},onCreateHrInsurance:function(e){var t=this.getServiceUrl("hr_insurance/create");n.recordCreate(this,e,t)},onUpdateHrInsurance:function(e){var t=this.getServiceUrl("hr_insurance/update");n.recordUpdate(this,e,t)},onDeleteHrInsurance:function(e){var t=this.getServiceUrl("hr_insurance/remove");n.recordDelete(this,e,t)},onGetInsuName:function(e,t){return this.recordSet.length>0&&this.corpUuid===e?void n.findRecordName(t,this.recordSet,"insuName","hr-insurance"):void this.onRetrieveHrInsurance(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(24),n=r.createStore({listenables:[i],init:function(){},onFindName:function(e,t,a){this.trigger({resName:e,uuid:t,name:a})}});e.exports=n},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createResTeam","deleteResTeam","updateResTeam","retrieveResTeam","retrieveResTeamPage","initResTeam",{getTeamName:{sync:!0}}]);e.exports=i},,,,,,,,,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveResMember","retrieveResMemberPage","initResMember"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjTeam","deleteProjTeam","updateProjTeam","retrieveProjTeam","retrieveProjTeamPage","initProjTeam","getCacheData",{getTeamName:{sync:!0}}]);e.exports=i},,,function(e,t,a){"use strict";var r=a(1),i=a(106),n=a(3),l=a(11),o=r.createStore({listenables:[i],workUuid:"",corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({workUuid:a.workUuid,corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("hr-job",e,t)},onRetrieveHrJob:function(e,t){var a=this,r={};r.workUuid=t,r.corpUuid=e;var i=this.getServiceUrl("hr-job/retrieve");n.doRetrieveService(i,r,a.startPage,a.pageRow,a.totalRow).then(function(r){null==r.errCode||""==r.errCode||"000000"==r.errCode?(a.recordSet=r.object.list,a.startPage=r.object.startPage,a.pageRow=r.object.pageRow,a.totalRow=r.object.totalRow,a.workUuid=t,a.corpUuid=e,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+r.errCode+"]["+r.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveHrJobPage:function(e,t,a,r){this.startPage=a,this.pageRow=r,this.onRetrieveHrJob(e,t)},onInitHrJob:function(e,t){return this.recordSet.length>0&&this.corpUuid===e&&this.workUuid===t?void this.fireEvent("retrieve","",this):void this.onRetrieveHrJob(e,t)},onCreateHrJob:function(e){var t=this.getServiceUrl("hr-job/create");n.recordCreate(this,e,t)},onUpdateHrJob:function(e){var t=this.getServiceUrl("hr-job/update");n.recordUpdate(this,e,t)},onDeleteHrJob:function(e){var t=this.getServiceUrl("hr-job/remove");n.recordDelete(this,e,t)}});e.exports=o},,function(e,t,a){"use strict";var r=a(1),i=a(108),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("hr-work-type",e,t)},onRetrieveHrWorkType:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr-work-type/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveHrWorkTypePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveHrWorkType(e)},onInitHrWorkType:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveHrWorkType(e)},onCreateHrWorkType:function(e){var t=this.getServiceUrl("hr-work-type/create");n.recordCreate(this,e,t)},onUpdateHrWorkType:function(e){var t=this.getServiceUrl("hr-work-type/update");n.recordUpdate(this,e,t)},onDeleteHrWorkType:function(e){var t=this.getServiceUrl("hr-work-type/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(4),o=a(21),s=r(o),d=l.Radio.Button,u=l.Radio.Group,c=n.default.createClass({displayName:"SelectDate",getInitialState:function(){return{selectedDate:"",today:"",last1:"",last2:"",last3:"",next1:"",next2:"",next3:""}},mixins:[(0,s.default)()],componentDidMount:function(){this.initPage(this.props.value)},componentWillReceiveProps:function(e){this.initPage(e.value)},initPage:function(e){var t=""+e;if(void 0!==e&&this.state.selectedDate!==t&&""!==e){e=""+e;var a=e.indexOf("-");if(a>0)e=e.split("-").join(",");else{var r=e.substr(0,4),i=e.substr(4,2),n=e.substr(6,2);e=r+","+i+","+n}var l=new Date(e),o=1e4*l.getFullYear()+100*(l.getMonth()+1)+l.getDate();o=""+o,(this.state.last3>=o||this.state.next3<=o||""===this.state.selectedDate)&&(this.times(l,1),this.times(l,2),this.times(l,3),this.times2(l,1),this.times2(l,2),this.times2(l,3),this.setState({today:o,last1:l.last1,last2:l.last2,last3:l.last3,next1:l.next1,next2:l.next2,next3:l.next3})),this.state.selectedDate=t}},times:function(e,t){var a="lastTime"+t,r="last"+t,i="y"+t,n="m"+t,l="d"+t;e[a]=new Date(e.getTime()-864e5*t),e[i]=e[a].getFullYear(),e[n]=e[a].getMonth()+1,e[l]=e[a].getDate(),e[r]=e[i]+(e[n]>=10?""+e[n]:"0"+e[n])+(e[l]>=10?e[l]:"0"+e[l])},times2:function(e,t){var a="nextTime"+t,r="next"+t,i="y0"+t,n="m0"+t,l="d0"+t;e[a]=new Date(e.getTime()+864e5*t),e[i]=e[a].getFullYear(),e[n]=e[a].getMonth()+1,e[l]=e[a].getDate(),e[r]=e[i]+(e[n]>=10?""+e[n]:"0"+e[n])+(e[l]>=10?e[l]:"0"+e[l])},getRadioStyle:function(e){var t=this.getDateType(e);return"1"===t||"2"===t?{color:"red"}:null},render:function(){return n.default.createElement(u,this.props,n.default.createElement(d,{value:this.state.last3,style:this.getRadioStyle(this.state.last3)},(""+this.state.last3).substring(4,8)),n.default.createElement(d,{value:this.state.last2,style:this.getRadioStyle(this.state.last2)},(""+this.state.last2).substring(4,8)),n.default.createElement(d,{value:this.state.last1,style:this.getRadioStyle(this.state.last1)},(""+this.state.last1).substring(4,8)),n.default.createElement(d,{value:this.state.today,style:this.getRadioStyle(this.state.today)},(""+this.state.today).substring(4,8)),n.default.createElement(d,{value:this.state.next1,style:this.getRadioStyle(this.state.next1)},(""+this.state.next1).substring(4,8)),n.default.createElement(d,{value:this.state.next2,style:this.getRadioStyle(this.state.next2)},(""+this.state.next2).substring(4,8)),n.default.createElement(d,{value:this.state.next3,style:this.getRadioStyle(this.state.next3)},(""+this.state.next3).substring(4,8)))}});e.exports=c},function(e,t){"use strict";function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r;e.exports=(r={resMemberFields:[{id:"A",name:"perName",title:"姓名"},{id:"B",name:"staffCode",title:"员工编号"},{id:"C",name:"beginDate",title:"入池日期"},{id:"D",name:"beginHour",title:"时间"},{id:"E",name:"userCost",title:"核算成本"}],checkMemberFields:[{id:"A",name:"staffCode",title:"员工号"},{id:"B",name:"perName",title:"姓名"},{id:"C",name:"deptName",title:"部门"},{id:"D",name:"manType",title:"类型"},{id:"E",name:"workHours",title:"工时"},{id:"F",name:"overHours",title:"加班"},{id:"G",name:"overHour2",title:"周末"},{id:"H",name:"overHour3",title:"节假日"},{id:"I",name:"leaveHour",title:"带薪假"},{id:"J",name:"leaveHour2",title:"无薪假"}],projMemberFields:[{id:"A",name:"perName",title:"姓名"},{id:"B",name:"staffCode",title:"员工编号"},{id:"C",name:"teamName",title:"项目小组"},{id:"D",name:"projLevel",title:"客户定级"},{id:"E",name:"userPrice",title:"结算价格"},{id:"F",name:"dispType",title:"派遣类型",opts:"#项目管理.派遣类型"},{id:"G",name:"roleName",title:"承担角色"}]},a(r,"projMemberFields",[{id:"A",name:"staffCode",title:"员工号"},{id:"B",name:"perName",title:"姓名"},{id:"C",name:"poolName",title:"资源池"},{id:"D",name:"teamName",title:"小组名称"},{id:"E",name:"grpName",title:"项目群"},{id:"F",name:"projName",title:"项目组"},{id:"G",name:"projLevel",title:"客户定级"}]),a(r,"projTaskMemberFields",[{id:"A",name:"ordCode",title:"订单编号"},{id:"B",name:"ordName",title:"订单名称"},{id:"C",name:"grpName",title:"项目群名称"},{id:"D",name:"member",title:"成员"}]),r)},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["getCheckInfo"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createResRole","deleteResRole","updateResRole","retrieveResRole","retrieveResRolePage","initResRole","retrieveResPoolStaff","retrieveResTeamStaff"]);e.exports=i},,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=r(o),d=a(4),u=a(12),c=r(u),m=a(104),h=r(m),p=a(1),f=d.Form.Item,g=(d.Select.Option,a(6)),v=a(66),C=a(32),b=l.default.createClass({displayName:"CompUserPage",getInitialState:function(){return{compUserSet:{operation:"",errMsg:""},hints:{},validRules:[]}},componentDidMount:function(){this.state.validRules=[]},clear:function(e,t){this.state.hints={}},handleOnChange:function(e){var t=this.props.compUser;t[e.target.id]=e.target.value,g.validator(this,t,e.target.id),this.setState({compUserSet:this.state.compUserSet})},handleOnSelected:function(e,t,a){var r=this.props.compUser;r[e]=t,g.validator(this,r,e),this.setState({compUserSet:this.state.compUserSet})},onClickSave:function(){return!!g.formValidator(this,this.props.compUser)&&(C.createCompUser(this.props.compUser),!0)},selectCompUser:function(e){var t=this.props.compUser,a=t.userGroup?t.userGroup.split(","):[];a.push(e),t.userGroup=a.join(","),this.setState({loading:this.state.loading})},deSelectCompUser:function(e){for(var t=this.props.compUser,a=t.userGroup.split(","),r=0;r<a.length;r++)if(a[r]===e){a.splice(r,1);break}t.userGroup=a.join(","),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.props.corpUuid,n=this.props.compUser.userGroup?this.props.compUser.userGroup.split(","):[],o=this.state.hints;return l.default.createElement(d.Form,{layout:e},l.default.createElement(f,i({},a,{label:"用户名",colon:!0,className:t,help:o.userNameHint,validateStatus:o.userNameStatus}),l.default.createElement(d.Input,{type:"text",name:"userName",id:"userName",readOnly:"true",value:this.props.compUser.userName,onChange:this.handleOnChange})),l.default.createElement(f,i({},a,{label:"用户姓名",colon:!0,className:t,help:o.perNameHint,validateStatus:o.perNameStatus}),l.default.createElement(d.Input,{type:"text",name:"perName",id:"perName",readOnly:"true",value:this.props.compUser.perName,onChange:this.handleOnChange})),l.default.createElement(f,i({},a,{label:"用户类型",colon:!0,className:t,help:o.userTypeHint,validateStatus:o.userTypeStatus}),l.default.createElement(c.default,{name:"userType",id:"userType",appName:"用户管理",optName:"用户类型",value:this.props.compUser.userType,onSelect:this.handleOnSelected.bind(this,"userType")})),l.default.createElement(f,i({},a,{label:"员工编号",colon:!0,className:t,help:o.userCodeHint,validateStatus:o.userCodeStatus}),l.default.createElement(d.Input,{type:"text",name:"userCode",id:"userCode",value:this.props.compUser.userCode,onChange:this.handleOnChange})),l.default.createElement(f,i({},a,{label:"职务",colon:!0,className:t,help:o.userTitleHint,validateStatus:o.userTitleStatus}),l.default.createElement(d.Input,{type:"text",name:"userTitle",id:"userTitle",value:this.props.compUser.userTitle,onChange:this.handleOnChange})),l.default.createElement(f,i({},a,{label:"用户组",colon:!0,className:t,help:o.userGroupHint,validateStatus:o.userGroupStatus}),l.default.createElement(h.default,{corpUuid:r,name:"userGroup",id:"userGroup",value:n,onSelect:this.selectCompUser,onDeselect:this.deSelectCompUser})))}});s.default.onClass(b,p.connect(v,"compUserSet")),t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=r(s),u=a(4),c=a(1),m=a(6),h=u.Form.Item,p=(u.Select.Option,a(94)),f=a(74),g=a(66),v=a(32),C=l.default.createClass({displayName:"FindUserPage",getInitialState:function(){return{authUserSet:{authUser:{},errMsg:""},loading:!1,btnNext:!1,isExist:!1,hints:{},validRules:[],lastIdType:"",lastIdCode:""}},mixins:[c.listenTo(p,"onAuthUserComplete"),c.listenTo(g,"onCompUserComplete")],onAuthUserComplete:function(e){if("find"===e.operation){var t=this.props.authUser;this.state.lastIdType=t.idType,this.state.lastIdCode=t.idCode,"staff"!==this.props.from&&"out"!==this.props.from&&(t.email="",t.phoneno="",t.userName="",t.perName=""),this.state.isExist=!1;var a=e.authUser;if(null!==a&&"undefined"!=typeof a){var r=a.userId;""!==r&&null!==r&&"undefined"!=typeof r&&(this.state.isExist=!0)}if(this.state.isExist)"staff"!==this.props.from&&"out"!==this.props.from||t.perName!==a.perName&&m.warnMsg("用户已经存在，但是姓名不一致["+t.perName+"]["+a.perName+"]"),t.email=a.email,t.phoneno=a.phoneno,t.passwd=a.passwd,""===e.errMsg&&(t.userName=a.userName,t.perName=a.perName);else{var i=t.idType;"电子邮箱"===i?t.email=t.idCode:"手机号"===i&&(t.phoneno=t.idCode),t.passwd="11111111"}this.setState({loading:this.state.isExist,authUserSet:e}),this.state.isExist&&v.getCompUser(this.props.corpUuid,a.userName)}},onCompUserComplete:function(e){"find"===e.operation&&this.setState({loading:!1})},componentDidMount:function(){this.state.validRules=[{id:"idCode",desc:"身份内容",required:!0,max:64},{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0},{id:"perName",desc:"用户姓名",required:!0,max:32},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:32},{id:"email",desc:"电子邮箱",required:!0,dataType:"email",max:32}],"staff"!==this.props.from&&"out"!==this.props.from||this.findAuthUser()},clear:function(){this.state.hints={},this.state.lastIdType="",this.state.lastIdCode=""},handleOnChange:function(e){var t=this.props.authUser;t[e.target.id]=e.target.value,m.validator(this,t,e.target.id),this.setState({authUserSet:this.state.authUserSet})},handleOnSelected:function(e,t,a){var r=this.props.authUser;r[e]=t,this.findAuthUser()||this.setState({authUserSet:this.state.authUserSet})},onIdCodeFinished:function(e){this.findAuthUser()},findAuthUser:function(){if(this.state.lastIdType!==this.props.authUser.idType||this.state.lastIdCode!==this.props.authUser.idCode){this.state.authUserSet.authUser={},this.state.authUserSet.errMsg="",this.state.btnNext=!1;var e=this.props.authUser,t=e.idType,a=e.idCode;return""!==t&&null!==t&&"undefined"!=typeof t&&(""!==a&&null!==a&&"undefined"!=typeof a&&("身份证"===t?this.state.validRules[0].dataType="idcard18":"电子邮箱"===t?this.state.validRules[0].dataType="email":"手机号"===t?this.state.validRules[0].dataType="mobile":this.state.validRules[0].dataType="",m.validator(this,e,"idCode")?(this.setState({loading:!0}),this.state.btnNext=!0,f.getAuthUser(t,a),!0):(this.setState({authUserSet:this.state.authUserSet}),!0)))}},onClickSave:function(){return this.state.btnNext?this.state.isExist?1:m.formValidator(this,this.props.authUser)?(f.createAuthUser(this.props.authUser),2):0:(m.setError(this,"idCode","请输入身份信息"),0)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,n=l.default.createElement(u.Form,{
layout:e},l.default.createElement(h,i({},a,{label:"身份类型",required:!0,colon:!0,className:t,help:r.idTypeHint,validateStatus:r.idTypeStatus}),l.default.createElement(d.default,{name:"idType",id:"idType",appName:"用户管理",optName:"身份类型",value:this.props.authUser.idType,onSelect:this.handleOnSelected.bind(this,"idType")})),l.default.createElement(h,i({},a,{label:"身份内容",required:!0,colon:!0,className:t,help:r.idCodeHint,validateStatus:r.idCodeStatus}),l.default.createElement(u.Input,{type:"text",name:"idCode",id:"idCode",value:this.props.authUser.idCode,onChange:this.handleOnChange,onBlur:this.onIdCodeFinished})),l.default.createElement(h,i({},a,{label:"用户名",required:!0,colon:!0,className:t,help:r.userNameHint,validateStatus:r.userNameStatus}),l.default.createElement(u.Input,{type:"text",name:"userName",id:"userName",value:this.props.authUser.userName,onChange:this.handleOnChange})),l.default.createElement(h,i({},a,{label:"用户姓名",required:!0,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(u.Input,{type:"text",name:"perName",id:"perName",value:this.props.authUser.perName,onChange:this.handleOnChange})),l.default.createElement(h,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:r.phonenoHint,validateStatus:r.phonenoStatus}),l.default.createElement(u.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.props.authUser.phoneno,onChange:this.handleOnChange})),l.default.createElement(h,i({},a,{label:"电子邮箱",required:!0,colon:!0,className:t,help:r.emailHint,validateStatus:r.emailStatus}),l.default.createElement(u.Input,{type:"text",name:"email",id:"email",value:this.props.authUser.email,onChange:this.handleOnChange})),this.state.isExist?null:l.default.createElement(h,i({},a,{label:"密码",required:!0,colon:!0,className:t,help:r.passwdHint,validateStatus:r.passwdStatus}),l.default.createElement(u.Input,{type:"text",name:"passwd",id:"passwd",value:this.props.authUser.passwd,onChange:this.handleOnChange})));return this.state.loading?l.default.createElement(u.Spin,{tip:"检查用户是否已经存在..."},n):n}});t.default=C},,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(7),o=r(l),s=a(4),d=a(1),u=a(6),c=a(99),m=a(75),h=n.default.createClass({displayName:"SelectEmployee",getInitialState:function(){return{employeeSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectEmployee:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,employeeSet:e,selectIndex:-1,selectEmployee:{}})},componentDidMount:function(){},clear:function(e){this.state.employeeSet=e,this.state.selectIndex=-1,this.state.selectEmployee={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectEmpLoyee(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.employeeSet.startPage=e;var t=this.state.employeeSet.filter;m.retrieveHrEmployeePage(t,e,this.state.employeeSet.pageRow)},render:function(){var e=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"部门名称",dataIndex:"deptName",key:"deptName",width:140},{title:"入职时间",dataIndex:"entryDate",key:"entryDate",width:140,render:function(e,t){return u.formatDate(e,u.dateFormat)}},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:140},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:100}],t=this.state.employeeSet.recordSet,a={showQuickJumper:!0,total:this.state.employeeSet.totalRow,pageSize:this.state.employeeSet.pageRow,current:this.state.employeeSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择员工",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(o.default,{ref:"mxgBox",svcList:["hr-employee/retrieve"]}),n.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=h},,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=a(1),d=o.Select.Option,u=a(274),c=a(168),m=n.default.createClass({displayName:"SelectPool",getInitialState:function(){return{poolSet:{recordSet:[],errMsg:""},loading:!1,corpUuid:""}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,poolSet:e})},getPoolNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.poolSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},componentDidMount:function(){this.loadData(this.props.corpUuid)},componentWillReceiveProps:function(e){e.corpUuid!==this.state.corpUuid&&this.loadData(e.corpUuid)},loadData:function(e){if(this.state.poolSet={recordSet:[]},null===e||void 0===e||""===e)return void this.setState({loading:!1,corpUuid:""});this.setState({loading:!0,corpUuid:e});var t={};t.corpUuid=e,c.initPool(t)},render:function(){var e=this.state.poolSet.recordSet,t=n.default.createElement(o.Select,this.props,n.default.createElement(d,{key:"-",value:""},"--"),e.map(function(e){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.poolName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=m},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createUserChkBook","deleteUserChkBook","updateUserChkBook","retrieveUserChkBook","retrieveUserChkBookPage","initUserChkBook","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(117),n=a(3),l=a(11),o=a(24),s=r.createStore({listenables:[i],poolUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,teamMap:{},init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){if(void 0!==a.poolUuid&&null!==a.poolUuid&&""!==a.poolUuid){var r={};a.recordSet.map(function(e,t){r[e.uuid]=e.teamName}),a.teamMap[a.poolUuid]=r}a.trigger({poolUuid:a.poolUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-team",e,t)},onRetrieveResTeam:function(e){var t=this,a={};a.poolUuid=e;var r=this.getServiceUrl("res-team/get-by-pool_uuid");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.poolUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResTeamPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResTeam(e)},onInitResTeam:function(e){return this.recordSet.length>0&&this.poolUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResTeam(e)},onCreateResTeam:function(e){var t=this.getServiceUrl("res-team/create");n.recordCreate(this,e,t)},onUpdateResTeam:function(e){var t=this.getServiceUrl("res-team/update");n.recordUpdate(this,e,t)},onDeleteResTeam:function(e){var t=this.getServiceUrl("res-team/remove");n.recordDelete(this,e,t)},onGetTeamName:function(e,t){var a=this.teamMap[e];if(void 0!==a&&null!==a){var r=a[t];return void 0!==r&&null!==r||(r=t),void o.findName("res_team",t,r)}this.onRetrieveResTeam(e)}});e.exports=s},,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrievePool","initPool"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveResTeam","initResTeam"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=(r(i),a(5)),l=(r(n),a(1)),o=a(135),s=a(3),d=a(11),u=l.createStore({listenables:[o],staffCode:"",userId:"",date:"",leaveSet:[],posSet:[],getServiceUrl:function(e){return s.hrUrl+e},fireEvent:function(e,t,a){a.trigger({leaveSet:a.leaveSet,posSet:a.posSet,staffCode:a.staffCode,userId:a.userId,date:a.date,operation:e,errMsg:t}),d.showError("day-pos",e,t)},onGetLeaveList:function(e,t,a,r){var i={};i.staffCode=t,i.date=a,i.corpUuid=e;var n=r.getServiceUrl("hr-leaveLog/retrieve1");s.doRetrieveService(n,i,0,0,0).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.leaveSet=e.object.list,r.fireEvent("retrieve","",r)):r.fireEvent("retrieve","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("retrieve","调用服务错误",r)})},onGetCheckInfo:function(e,t,a,r){var i=this,n={};n.userId=a,n.date=r;var l=s.campUrl+"day-pos/retrieve";s.doRetrieveService(l,n).then(function(n){null==n.errCode||""==n.errCode||"000000"==n.errCode?(i.posSet=n.object,i.staffCode=t,i.userId=a,i.date=r,i.onGetLeaveList(e,t,r,i)):i.fireEvent("retrieve","处理错误["+n.errCode+"]["+n.errDesc+"]",i)},function(e){i.fireEvent("retrieve","调用服务错误",i)})}});e.exports=u},function(e,t,a){"use strict";var r=a(1),i=a(126),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-member",e,t)},onRetrieveResMember:function(e){var t=this,a=this.getServiceUrl("res-member/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResMember(e)},onInitResMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveResMember(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(127),n=a(3),l=a(11),o=(a(14),a(24)),s=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,teamMap:{},init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){if(void 0!==a.filter.projUuid&&null!==a.filter.projUuid){var r={};a.recordSet.map(function(e,t){r[e.uuid]=e.teamName}),a.teamMap[a.filter.projUuid]=r}a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_team",e,t)},onGetCacheData:function(e){this.filter.projUuid!==e&&(this.filter={},this.recordSet=[],this.startPage=0,this.pageRow=0,this.totalRow=0),this.fireEvent("cache","",this)},onRetrieveProjTeam:function(e){var t=this,a=this.getServiceUrl("proj_team/get-by-ProjUuid");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjTeamPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjTeam(e)},onInitProjTeam:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTeam(e)},onCreateProjTeam:function(e){var t=this.getServiceUrl("proj_team/create");n.recordCreate(this,e,t)},onUpdateProjTeam:function(e){var t=this.getServiceUrl("proj_team/update");n.recordUpdate(this,e,t)},onDeleteProjTeam:function(e){var t=this.getServiceUrl("proj_team/remove");n.recordDelete(this,e,t)},onGetTeamName:function(e,t){var a=this.teamMap[e];if(void 0!==a&&null!==a){var r=a[t];return void 0!==r&&null!==r||(r=t),void o.findName("proj_team",t,r)}var i={projUuid:e};this.onRetrieveProjTeam(i)}});e.exports=s},function(e,t,a){"use strict";var r=a(1),i=a(150),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("user-chk-book",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveUserChkBook:function(e){var t=this,a=this.getServiceUrl("user-chk-book/retrieve2");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveUserChkBookPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveUserChkBook(e)},onInitUserChkBook:function(e){return this.recordSet.length>0&&n.compareTo(e,this.filter)?void this.fireEvent("retrieve","",this):void this.onRetrieveUserChkBook(e)},onCreateUserChkBook:function(e){var t=this.getServiceUrl("user-chk-book/create");n.recordCreate(this,e,t,this.onCreateComplete)},onCreateComplete:function(e,t){for(var a=e.recordSet.length-1;a>=0;a--)if(e.recordSet[a].staffCode===t.staffCode){e.onUpdateComplete(e,e.recordSet[a],t);break}},onUpdateUserChkBook:function(e){for(var t=-1,a=this.recordSet.length-1;a>=0;a--)if(this.recordSet[a].checkUuid===e.uuid){t=a;break}var r=this;if(t<0)return void r.fireEvent("update","没有找到记录["+e.uuid+"]",r);var i=this.getServiceUrl("user-chk-book/update");n.doUpdateService(i,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.onUpdateComplete(r,r.recordSet[t],e.object),r.fireEvent("update","",r)):r.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("update",n.getResErrMsg(e),r)})},onUpdateComplete:function(e,t,a){t.checkUuid=a.uuid,t.checkIn=a.checkIn,t.checkOut=a.checkOut,t.leaveType=a.leaveType,t.leaveHour=a.leaveHour,t.workHour=a.workHour,t.overHour=a.overHour,t.pmCode=a.pmCode,t.pmName=a.pmName,t.chkDesc=a.chkDesc,t.chkType=a.chkType,t.dateType=a.dateType},onDeleteUserChkBook:function(e){var t=this.getServiceUrl("res-member-snap/delete-chk-book");this.recordDelete(this,e,t)},recordDelete:function(e,t,a){var r=n,i=e,l=r.findRecord(e,t.uuid);return l<0?void i.fireEvent("remove","没有找到记录["+t.uuid+"]",i):void r.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(i.recordSet.splice(l,1),i.totalRow=i.totalRow-1,i.fireEvent("remove","",i)):i.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",i)},function(e){i.fireEvent("remove",r.getResErrMsg(e),i)})}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createResPool","deleteResPool","updateResPool","retrieveResPool","retrieveResPoolPage","initResPool",{getPoolName:{sync:!0}}]);e.exports=i},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(736),c=r(u),m=a(1),h=d.Input.Search,p=a(6),f=a(3),g=a(510),v=a(365),C={children:o.default.PropTypes.node,projUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectMember:o.default.PropTypes.func},b=o.default.createClass({displayName:"SearchProjMember",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{projMemberSet:{recordSet:[],errMsg:""},filterValue:e,hint:"",projUuid:this.props.projUuid,showError:this.props.showError,onSelectMember:this.props.onSelectMember,loading:!1}},mixins:[m.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectProjMemberPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到项目组人员":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectMember(e.recordSet[0]):a>1&&(this.refs.SelectProjMemberPage.clear(e,"proj"),this.refs.SelectProjMemberPage.toggle());this.setState({loading:!1,projMemberSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.manStatus="入组",t.projUuid=this.state.projUuid,p.isIncNumber(e)?t.staffCode=e:t.perName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveProjMemberPage(t,1,10)},render:function(){var e=this.props,t=(e.projUuid,e.showError,e.onSelectMember,e.style),a=(e.value,i(e,["projUuid","showError","onSelectMember","style","value"])),r={},l=t;""!==this.state.hint&&(l={},f.copyValue(t,r),f.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"查询",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"查询",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectProjMemberPage",onSelectMember:this.state.onSelectMember}))}});b.propTypes=C,e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=a(1),d=o.Select.Option,u=a(275),c=a(169),m=n.default.createClass({displayName:"SelectResTeam",getInitialState:function(){return{resTeamSet:{recordSet:[],errMsg:""},loading:!1,poolUuid:""}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,resTeamSet:e})},getTeamNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.resTeamSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},componentDidMount:function(){this.loadData(this.props.poolUuid)},componentWillReceiveProps:function(e){e.poolUuid!==this.state.poolUuid&&this.loadData(e.poolUuid)},loadData:function(e){if(this.state.resTeamSet={recordSet:[]},null===e||void 0===e||""===e)return void this.setState({loading:!1,poolUuid:""});this.setState({loading:!0,poolUuid:e});var t={};t.poolUuid=e,c.initResTeam(t)},render:function(){var e=this.state.resTeamSet.recordSet,t=n.default.createElement(o.Select,this.props,n.default.createElement(d,{key:"-",value:""},"--"),e.map(function(e){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.teamName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=m},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjMember","deleteProjMember","updateProjMember","leaveProjMember","enterProjMember","retrieveProjMember","retrieveProjMemberPage","initProjMember","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjCond","deleteProjCond","updateProjCond","retrieveProjCond","retrieveProjCondPage","initProjCond","getMember","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjTask","deleteProjTask","updateProjTask","retrieveProjTask","retrieveProjTaskPage","initProjTask","getCacheData"]);e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(4),o=a(21),s=r(o),d=l.Radio.Button,u=l.Radio.Group,c=n.default.createClass({displayName:"SelectDate",getInitialState:function(){return{selectedDate:"",today:"",last1:"",last2:"",last3:"",next1:"",next2:"",next3:""}},mixins:[(0,s.default)()],componentDidMount:function(){this.initPage(this.props.value)},componentWillReceiveProps:function(e){this.initPage(e.value)},initPage:function(e){var t=""+e;if(void 0!==e&&this.state.selectedDate!==t&&""!==e){e=""+e;var a=e.indexOf("-");if(a>0)e=e.split("-").join(",");else{var r=e.substr(0,4),i=e.substr(4,2);e=r+","+i}var n=new Date(e),l=100*n.getFullYear()+(n.getMonth()+1);l=""+l,(this.state.last3>=l||this.state.next3<=l||""===this.state.selectedDate)&&(this.times(n,1),this.times(n,2),this.times(n,3),this.times2(n,1),this.times2(n,2),this.times2(n,3),this.setState({today:l,last1:n.last1,last2:n.last2,last3:n.last3,next1:n.next1,next2:n.next2,next3:n.next3})),this.state.selectedDate=t}},times:function(e,t){var a="last"+t,r="y"+t,i="m"+t;e[r]=e.getFullYear(),e[i]=e.getMonth()-(t-1),e[i]<1&&(e[i]=13-t,e[r]=e.getFullYear()-1),e[a]=e[r]+(e[i]>=10?""+e[i]:"0"+e[i])},times2:function(e,t){var a="next"+t,r="y0"+t,i="m0"+t;e[r]=e.getFullYear(),e[i]=e.getMonth()+(t+1),e[i]>12&&(e[i]="1",e[r]=e.getFullYear()+1),e[a]=e[r]+(e[i]>=10?""+e[i]:"0"+e[i])},render:function(){return n.default.createElement(u,this.props,n.default.createElement(d,{value:this.state.last3},(""+this.state.last3).substring(4,8)),n.default.createElement(d,{value:this.state.last2},(""+this.state.last2).substring(4,8)),n.default.createElement(d,{value:this.state.last1},(""+this.state.last1).substring(4,8)),n.default.createElement(d,{value:this.state.today},(""+this.state.today).substring(4,8)),n.default.createElement(d,{value:this.state.next1},(""+this.state.next1).substring(4,8)),n.default.createElement(d,{value:this.state.next2},(""+this.state.next2).substring(4,8)),n.default.createElement(d,{value:this.state.next3},(""+this.state.next3).substring(4,8)))}});e.exports=c},,,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjInfo","deleteProjInfo","updateProjInfo","retrieveProjInfo","retrieveProjInfoPage","initProjInfo","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createOutJob","deleteOutJob","updateOutJob","retrieveOutJob","retrieveOutJobPage","initOutJob","retrieveOutJobDetail","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(194),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onGetCacheData:function(e){void 0!==this.filter&&this.filter.projUuid!==e&&(this.filter={},this.recordSet=[],this.startPage=0,this.pageRow=0,this.totalRow=0),this.fireEvent("cache","",this)},onRetrieveProjMember:function(e){var t=this,a=this.getServiceUrl("proj-member/retrieve1");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjMember(e)},onInitProjMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjMember(e)},onLeaveProjMember:function(e){var t=this.getServiceUrl("proj-member/update1");n.recordUpdate(this,e,t)},onUpdateProjMember:function(e){var t=this.getServiceUrl("proj-member/update");n.recordUpdate(this,e,t)},onEnterProjMember:function(e){var t=this.getServiceUrl("proj-member/update3");n.recordUpdate(this,e,t)},onCreateProjMember:function(e){var t=this.getServiceUrl("proj-member/create");n.recordCreate(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(195),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",member:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,member:a.member,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_cond",e,t)},onRetrieveProjCond:function(e){var t=this,a=this.getServiceUrl("proj_cond/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjCondPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjCond(e)},onInitProjCond:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjCond(e)},onGetMember:function(e){var t=this,a={};a.corpUuid=window.loginData.compUser.corpUuid,a.staffCode=e;var r=n.projUrl+"res-member/retrieve";n.doRetrieveService(r,a,1,1,1).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.member=e.object.list[0],t.fireEvent("retrieveMember","",t)):t.fireEvent("retrieveMember","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieveMember","调用服务错误",t)})},onCreateProjCond:function(e){var t=this.getServiceUrl("proj_cond/create");n.recordCreate(this,e,t)},onUpdateProjCond:function(e){var t=this.getServiceUrl("proj_cond/update");n.recordUpdate(this,e,t)},onDeleteProjCond:function(e){var t=this.getServiceUrl("proj_cond/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(196),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_task",e,t)},onRetrieveProjTask:function(e){var t=this,a=this.getServiceUrl("proj_task/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjTaskPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjTask(e)},onInitProjTask:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTask(e)},onCreateProjTask:function(e){var t=this.getServiceUrl("proj_task/create");n.recordCreate(this,e,t)},onUpdateProjTask:function(e){var t=this.getServiceUrl("proj_task/update");n.recordUpdate(this,e,t)},onDeleteProjTask:function(e){var t=this.getServiceUrl("proj_task/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjTempMember","deleteProjTempMember","updateProjTempMember","retrieveProjTempMember","retrieveProjTempMemberPage","initProjTempMember","chgProjMemberLevel"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createBiziProj","deleteBiziProj","updateBiziProj","retrieveBiziProj","retrieveBiziProjPage","initBiziProj","getCacheData","createBiziProjMember","deleteBiziProjMember","updateBiziProjMember","retrieveBiziProjMember","retrieveBiziProjMemberPage","initBiziProjMember"]);e.exports=i},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=a(7),d=r(s),u=a(139),c=r(u),m=a(138),h=r(m),p=a(1),f=o.Steps.Step,g=a(66),v=(a(32),a(94)),C=(a(74),[{title:"建立基本信息",content:"建立用户基本信息"},{title:"创建用户",content:"创建公司内部的用户"}]),b=n.default.createClass({displayName:"CreateStaffUserPage",getInitialState:function(){return{compUserSet:{errMsg:""},authUserSet:{errMsg:""},loading:!1,current:0,userExist:!1,compUser:{},authUser:{}}},mixins:[p.listenTo(g,"onCompUserComplete"),p.listenTo(v,"onAuthUserComplete")],onAuthUserComplete:function(e){this.props.modal&&0===this.state.current&&("create"===e.operation?""===e.errMsg?(this.state.compUser.userName=this.state.authUser.userName,this.state.compUser.perName=this.state.authUser.perName,this.setState({current:1,loading:!1,authUserSet:e})):this.setState({loading:!1,authUserSet:e}):"find"===e.operation&&(this.refs.mxgBox.clear(),this.setState({userExist:!1})))},onCompUserComplete:function(e){if(this.props.modal)if(1===this.state.current&&"create"===e.operation)""===e.errMsg?(this.setState({loading:!1}),this.props.onSave("user")):this.setState({loading:!1,compUserSet:e});else if(0===this.state.current&&"find"===e.operation){var t="用户已经存在"===e.errMsg;this.setState({userExist:t})}},componentDidMount:function(){},initStaff:function(e){this.state.current=0,this.state.userExist=!1,this.state.compUserSet.errMsg="",this.state.authUserSet.errMsg="";var t=this.state.compUser;t.userName=e.perName,t.perName=e.perName,t.userCode=e.staffCode,t.userTitle=e.jobTitle,t.userType="1",t.corpUuid=e.corpUuid,t.deptUuid=e.deptUuid;var a=this.state.authUser;a.idType=e.idType,a.idCode=e.idCode,a.userName=e.perName,a.perName=e.perName,a.phoneno=e.phoneno,a.email=e.email,a.passwd="11111111",a.userStatus="1",a.regType="1","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),void 0!==this.refs.firstStepPage&&this.refs.firstStepPage.findAuthUser()},initOutStaff:function(e){this.state.current=0,this.state.userExist=!1,this.state.compUserSet.errMsg="",this.state.authUserSet.errMsg="";var t=this.state.compUser;t.userName=e.perName,t.perName=e.perName,t.userCode=e.staffCode,t.userTitle=e.jobTitle,t.userType="2",t.corpUuid=e.corpUuid,t.deptUuid=e.outUuid;var a=this.state.authUser;a.idType=e.idType,a.idCode=e.idCode,a.userName=e.perName,a.perName=e.perName,a.phoneno=e.phoneno,a.email=e.email,a.passwd="11111111",a.userStatus="1",a.regType="1","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),void 0!==this.refs.firstStepPage&&this.refs.firstStepPage.findAuthUser()},onClickSave:function(){if(0===this.state.current){var e=this.refs.firstStepPage.onClickSave();1==e?(this.state.compUser.userName=this.state.authUser.userName,this.state.compUser.perName=this.state.authUser.perName,this.setState({current:1})):2==e&&this.setState({loading:!0})}else{var e=this.refs.compUserPage.onClickSave();e&&this.setState({loading:!0})}},render:function(){
var e=this.state.current,t=0===e?"下一步":"保存";return n.default.createElement("div",{style:{width:"100%"}},n.default.createElement(o.Steps,{current:e},C.map(function(e){return n.default.createElement(f,{key:e.title,title:e.title})})),n.default.createElement("div",{style:{paddingTop:"20px"}},0===e?n.default.createElement(c.default,{ref:"firstStepPage",authUser:this.state.authUser,corpUuid:this.state.compUser.corpUuid,from:"staff"}):n.default.createElement(h.default,{ref:"compUserPage",compUser:this.state.compUser,corpUuid:this.state.compUser.corpUuid})),n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right",padding:"8px 0 0 0"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["auth-user/create","auth-user/find","comp-user/create","comp-user/find"]}),n.default.createElement(o.Button,{key:"btnOK",type:"primary",size:"large",disabled:this.state.userExist,onClick:this.onClickSave,loading:this.state.loading},t)," "))}});t.default=b},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),i=a(224),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_info",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveProjInfo:function(e){var t=this,a=this.getServiceUrl("proj_info/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjInfoPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjInfo(e)},onInitProjInfo:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjInfo(e)},onCreateProjInfo:function(e){var t=this.getServiceUrl("proj_info/create");n.recordCreate(this,e,t)},onUpdateProjInfo:function(e){var t=this.getServiceUrl("proj_info/update");n.recordUpdate(this,e,t)},onDeleteProjInfo:function(e){var t=this.getServiceUrl("proj_info/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(7),o=r(l),s=a(4),d=a(1),u=a(6),c=a(171),m=a(126),h=n.default.createClass({displayName:"SelectResMember",getInitialState:function(){return{resMemberSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectResMember:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,resMemberSet:e,selectIndex:-1,selectResMember:{}})},componentDidMount:function(){},clear:function(e){this.state.resMemberSet=e,this.state.selectIndex=-1,this.state.selectResMember={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectMember(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.resMemberSet.startPage=e;var t=this.state.resMemberSet.filter;m.retrieveResMemberPage(t,e,this.state.resMemberSet.pageRow)},render:function(){var e=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"当前状态",dataIndex:"resStatus",key:"resStatus",width:140},{title:"项目名称",dataIndex:"resName",key:"resName",width:240}],t=this.state.resMemberSet.recordSet,a={showQuickJumper:!0,total:this.state.resMemberSet.totalRow,pageSize:this.state.resMemberSet.pageRow,current:this.state.resMemberSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择资源池人员",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(o.default,{ref:"mxgBox",svcList:["hr-resMember/retrieve"]}),n.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=h},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProjTeam","initProjTeam"]);e.exports=i},,function(e,t,a){"use strict";var r=a(1),i=a(168),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-pool",e,t)},onRetrievePool:function(e){var t=this,a=this.getServiceUrl("res-pool/get-by-corp_uuid");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitPool:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrievePool(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(169),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-team",e,t)},onRetrieveResTeam:function(e){var t=this,a=this.getServiceUrl("res-team/get-by-pool_uuid");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitResTeam:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveResTeam(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveCheckQuery","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjTaskMember","deleteProjTaskMember","updateProjTaskMember","retrieveProjTaskMember","retrieveProjTaskMemberPage","initProjTaskMember"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(229),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_temp_member",e,t)},onRetrieveProjTempMember:function(e){var t=this,a=this.getServiceUrl("proj_temp_member/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjTempMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjTempMember(e)},onInitProjTempMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTempMember(e)},onCreateProjTempMember:function(e){var t=this.getServiceUrl("proj_temp_member/create");n.recordCreate(this,e,t)},onUpdateProjTempMember:function(e){var t=this.getServiceUrl("proj_temp_member/update");n.recordUpdate(this,e,t)},onDeleteProjTempMember:function(e){var t=this.getServiceUrl("proj_temp_member/remove");n.recordDelete(this,e,t)},onChgProjMemberLevel:function(e){var t=this.getServiceUrl("proj_temp_member/update3");n.recordUpdate(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(149),p=r(h),f=a(193),g=r(f),v=a(1),C=s.Form.Item,b=(s.Select.Option,a(6)),y=a(14),S=a(101),E=a(80),w=l.default.createClass({displayName:"CreateStaffMemberPage",getInitialState:function(){return{resMemberSet:{empJob:{},errMsg:""},loading:!1,resMember:{},hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,m.default)("resMember")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?(this.setState({loading:!1}),this.props.onSave("member")):this.setState({loading:!1,resMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"poolUuid",desc:"资源池",required:!0,max:"24"},{id:"teamUuid",desc:"小组",required:!0,max:"24"},{id:"userCost",desc:"核算成本",required:!1,max:"32"},{id:"beginDate",desc:"入池日期",required:!0,max:"24"},{id:"beginHour",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}];var e=this.props.type;"out"===e?this.initOutStaff(this.props.obj.user,this.props.obj.job):"staff"===e&&this.initStaff(this.props.obj.user,this.props.obj.job)},initStaff:function(e,t){this.state.hints={};var a={};a.corpUuid=e.corpUuid,a.userUuid=e.uuid,a.userId=e.userId,a.staffCode=e.staffCode,a.perName=e.perName,a.deptName=e.deptName,a.baseCity=e.baseCity,a.phoneno=e.phoneno,a.email=e.email,a.eduDegree=e.eduDegree,a.eduCollege=e.eduCollege,a.workYears=e.workYears,a.workBegin=y.calcBeginMonth(e.entryDate,e.workYears),a.induYears=e.induYears,a.induBegin=y.calcBeginMonth(e.entryDate,e.induYears),a.beginDate=""+b.getToday(),a.resLoc=e.baseCity,a.beginHour="09:00",a.status="在岗",a.poolLoc="",a.empLevel=t.empLevel,a.techLevel=t.techLevel,a.manLevel=t.manLevel,a.techUuid=t.techUuid,a.techName=t.techName,a.manUuid=t.manUuid,a.manName=t.manName,a.manType="员工"==t.empType?"员工":"实习",a.resStatus="资源池",this.setState({resMember:a,loading:!1}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},initOutStaff:function(e,t){this.state.hints={};var a={};a.corpUuid=e.corpUuid,a.userUuid=e.uuid,a.userId=e.userId,a.staffCode=e.staffCode,a.perName=e.perName,a.deptName="",a.baseCity=e.baseCity,a.phoneno=e.phoneno,a.email=e.email,a.eduDegree=e.eduDegree,a.eduCollege=e.eduCollege,a.workYears=e.workYears,a.workBegin=y.calcBeginMonth(e.entryDate,e.workYears),a.induYears=e.induYears,a.induBegin=y.calcBeginMonth(e.entryDate,e.induYears),a.beginDate=""+b.getToday(),a.resLoc=e.baseCity,a.beginHour="09:00",a.status="在岗",a.poolLoc="",a.corpName=e.corpName,a.empLevel=t.empLevel,a.techLevel=t.techLevel,a.manLevel=t.manLevel,a.techUuid=t.techUuid,a.techName=t.techName,a.manUuid=t.manUuid,a.manName=t.manName,a.manType="外协",a.resStatus="资源池",a.userCost=t.userCost,this.setState({resMember:a,loading:!1}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},handleOnSelectedPool:function(e){var t=this.state.resMember;if(t.poolUuid!==e){t.teamUuid="",t.poolUuid=e;var a=this.refs.poolBox,r=a.getPoolNode(e);t.poolCode=r.poolCode,t.poolName=r.poolName,this.setState({resMember:t})}},onClickSave:function(){var e=this.state.resMember;b.formValidator(this,e)&&(e.resUuid=e.poolUuid,e.resName=e.poolName,e.resDate=e.beginDate,e.resHour=e.beginHour,this.setState({loading:!0}),E.createResMember(e))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=this.state.resMember,d=o.corpUuid,c=o.poolUuid;return l.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(s.Form,{layout:e,style:{width:"100%"}},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"员工编号",className:t}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:o.staffCode,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"姓名",className:t}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:o.perName,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"资源池",required:!0,colon:!0,className:t,help:n.poolUuidHint,validateStatus:n.poolUuidStatus}),l.default.createElement(p.default,{ref:"poolBox",corpUuid:d,name:"poolUuid",id:"poolUuid",value:o.poolUuid,onSelect:this.handleOnSelectedPool}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"小组",required:!0,colon:!0,className:t,help:n.teamUuidHint,validateStatus:n.teamUuidStatus}),l.default.createElement(g.default,{poolUuid:c,name:"teamUuid",id:"teamUuid",value:o.teamUuid,onSelect:this.handleOnSelected.bind(this,"teamUuid")})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"入池日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:b.dateFormat,value:this.formatDate(o.beginDate,b.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",b.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"时间",required:!0,colon:!0,className:t,help:n.beginHourHint,validateStatus:n.beginHourStatus}),l.default.createElement(s.Input,{type:"text",name:"beginHour",id:"beginHour",value:o.beginHour,onChange:this.handleOnChange})))),l.default.createElement(C,i({},a,{label:"核算成本",required:!1,colon:!0,className:t,help:n.userCost,validateStatus:n.userCost}),l.default.createElement(s.Input,{type:"text",name:"userCost",id:"userCost",value:o.userCost,onChange:this.handleOnChange}))),l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right",padding:"8px 0 0 0"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["res-member/create"]}),l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," "))}});t.default=w},function(e,t,a){"use strict";var r=a(1),i=a(174),n=a(3),l=a(11),o=a(24),s=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,poolMap:{},init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){if(void 0!==a.corpUuid&&null!==a.corpUuid&&""!==a.corpUuid){var r={};a.recordSet.map(function(e,t){r[e.uuid]=e.poolName}),a.poolMap[a.corpUuid]=r}a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-pool",e,t)},onRetrieveResPool:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("res-pool/get-by-corp_uuid");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResPoolPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResPool(e)},onInitResPool:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResPool(e)},onCreateResPool:function(e){var t=this.getServiceUrl("res-pool/create");n.recordCreate(this,e,t)},onUpdateResPool:function(e){var t=this.getServiceUrl("res-pool/update");n.recordUpdate(this,e,t)},onDeleteResPool:function(e){var t=this.getServiceUrl("res-pool/remove");n.recordDelete(this,e,t)},onGetPoolName:function(e,t){var a=this.poolMap[e];if(void 0!==a&&null!==a){var r=a[t];return void 0!==r&&null!==r||(r=t),void o.findName("res_pool",t,r)}this.onRetrieveResPool(e)}});e.exports=s},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjReq","deleteProjReq","updateProjReq","retrieveProjReq","retrieveProjReqPage","initProjReq","getCacheData"]);e.exports=i},,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(8),d=(r(s),a(5)),u=(r(d),a(13)),c=a(20),m=r(c),h=a(4),p=a(7),f=(r(p),a(19)),g=r(f),v=a(1),C=h.Form.Item,b=a(6),y=a(16),S=a(15),E=a(3),w=o.default.createClass({displayName:"PreviewPage2",getInitialState:function(){return{homeSet:{person:{},resumeID:"",operation:"",errMsg:""},radioValue:"",fileList:[],fileName:"",moreFilter:!1}},handleGo:function(e){this.props.router.push({pathname:e,state:{fromDashboard:!0}})},mixins:[v.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){"noResume"!==e.operation&&this.setState({loading:!1,homeSet:e})},componentDidMount:function(){var e=m.default.resumeApp,t=this.props.userId;if(this.setState({loading:!0}),e.id)S.getResumeByID(e.id);else{var a=window.loginData.authUser.userId;S.getResumeByIdCode(a),t&&S.getResumeByIdCode(t)}},uploadComplete:function(e){this.setState({loading:!1}),""!==e&&b.errMsg(e)},handleUpload:function(e){var t=this.state.fileList,a=new FormData;t.forEach(function(e){a.append("files[]",e)});var r=m.default.resumeApp.idCode;if("智联个人"===this.state.radioValue)var i=E.resumeUrl+"resPerson/create-resume";else var i=E.resumeUrl+"resPerson/create-resume2";var n=this;return E.doUploadService(i,r,t).then(function(e){var t="",a=null;if(null==e.errCode||""==e.errCode||"000000"==e.errCode){a=e.object;var r=e.object.idCode;S.getResumeByIdCode(r)}else t="导入数据错误["+e.errCode+"]["+e.errDesc+"]";n.uploadComplete(t,a)},function(e){var t="上传文件错误";n.uploadComplete(t,null)}),!1},beforeUpload:function(e){return this.state.fileName=e.name,this.setState(function(t){var a=t.fileList;return{fileList:[].concat(i(a),[e])}}),!1},onRadioChange:function(e){var t=e.target.value;this.state.radioValue=t},openUpload:function(e){this.setState({moreFilter:!this.state.moreFilter})},cancelUpload:function(){this.state.moreFilter=!1,this.setState({moreFilter:this.state.moreFilter})},render:function(){var e=this.state.homeSet.person,t=this.state.moreFilter,a=e.introList?e.introList:[],r=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,a.map(function(e,t){return o.default.createElement("div",{className:"introList"},o.default.createElement("div",{className:"tdPdl"},e.introName),o.default.createElement("p",{className:"rightContent"},e.intro))})))),i=e.reviewList?e.reviewList:[],l=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,i.map(function(e,t){return o.default.createElement("div",null,o.default.createElement("div",{className:"tdPdl"},e.reName),o.default.createElement("div",{className:"rightContent"},o.default.createElement("p",null,e.review)))})))),s=e.otherList?e.otherList:[],d=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,s.map(function(e,t){return o.default.createElement("tr",{className:"otherList"},o.default.createElement("td",{className:"tdPdl"},e.infoType),o.default.createElement("td",null,e.infoData1))})))),u=e.eduList?e.eduList:[],c=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,u.map(function(e,t){return o.default.createElement("tr",{style:{height:"60px",lineHeight:"60px"}},o.default.createElement("td",{className:"tdPdl"},e.schName),o.default.createElement("td",{style:{width:"15%"}},e.deptName),o.default.createElement("td",{style:{width:"15%"}},e.qualName),o.default.createElement("td",{style:{width:"15%"}},e.studType),o.default.createElement("td",{style:{width:"15%"}},e.beginDate+" ~ "+e.endDate))})))),m=e.peCompList?e.peCompList:[],p=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,m.map(function(e,t){return o.default.createElement("tr",{className:"peCompList"},o.default.createElement("div",{className:"rightContent"},o.default.createElement("p",null,o.default.createElement("b",{style:{fontSize:"14px"}},e.compName),o.default.createElement("span",{className:"ant-divider"}),e.compLoc),o.default.createElement("p",null,e.beginDate+" ~ "+e.endDate),o.default.createElement("p",null,e.deptName,o.default.createElement("span",{className:"ant-divider"}),e.workRole,o.default.createElement("span",{className:"ant-divider"}),"汇报对象：",e.director,o.default.createElement("span",{className:"ant-divider"}),"下属员工：",e.subCount),o.default.createElement("p",null,o.default.createElement("label",null,"工作内容："),o.default.createElement("div",null,e.workCont)),o.default.createElement("p",null,o.default.createElement("label",null,"工作业绩："),o.default.createElement("div",null,e.achieve)),o.default.createElement("p",null,o.default.createElement("label",null,"离职原因："),o.default.createElement("div",null,e.leavReason)),o.default.createElement("p",null,o.default.createElement("label",{className:"inline"},"见证人："),o.default.createElement("p",null,o.default.createElement("span",null,e.witness),o.default.createElement("span",{style:{marginLeft:"10px"}},e.wPhone)))))})))),f=e.peProjList?e.peProjList:[],v=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,f.map(function(e,t){return o.default.createElement("tr",{className:"peProjList"},o.default.createElement("div",{className:"rightContent"},o.default.createElement("p",null,o.default.createElement("b",{style:{fontSize:"14px"}},e.beginDate+" ~ "+e.endDate+"   ",e.projName),o.default.createElement("span",{className:"ant-divider"}),e.projRole,o.default.createElement("span",{className:"ant-divider"}),e.language),o.default.createElement("p",null,e.custName,o.default.createElement("span",{className:"ant-divider"}),o.default.createElement("p",null,e.custType)),o.default.createElement("p",null,o.default.createElement("label",null,"技术架构："),o.default.createElement("div",null,e.framework)),o.default.createElement("p",null,o.default.createElement("label",null,"技能要求："),o.default.createElement("div",null,e.skills)),o.default.createElement("p",null,o.default.createElement("label",null,"项目简介："),o.default.createElement("div",null,e.projDesc)),o.default.createElement("p",null,o.default.createElement("label",null,"项目内容："),o.default.createElement("div",null,e.workCont)),o.default.createElement("p",null,o.default.createElement("label",{className:"inline"},"见证人："),o.default.createElement("p",null,o.default.createElement("span",null,e.witness),o.default.createElement("span",{style:{marginLeft:"10px"}},e.wPhone)))))})))),y=e.trainList?e.trainList:[],S=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,y.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("p",null,e.beginDate+" ~ "+e.endDate),o.default.createElement("p",null,e.trainComp,o.default.createElement("span",{className:"ant-divider"}),e.trainCourse,o.default.createElement("span",{className:"ant-divider"}),e.trainType,o.default.createElement("span",{className:"ant-divider"}),e.trainCert),o.default.createElement("p",null,e.trainCont)))})))),E=e.techSkillList?e.techSkillList:[],w=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,E.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.skName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.skLevel,o.default.createElement("span",{className:"ant-divider"}),e.skTime,o.default.createElement("span",{className:"ant-divider"}),e.skHonor))))})))),x=e.projSkillList?e.projSkillList:[],k=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,x.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.skName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.skType,o.default.createElement("span",{className:"ant-divider"}),e.skLevel,o.default.createElement("span",{className:"ant-divider"}),e.skTime,o.default.createElement("span",{className:"ant-divider"}),e.skHonor),o.default.createElement("p",null,e.custNames),o.default.createElement("p",null,e.skDesc))))})))),j=e.certList?e.certList:[],N=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,j.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.certName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.endDate,o.default.createElement("span",{className:"ant-divider"}),e.certScore),o.default.createElement("p",null,e.certDesc))))})))),P=e.langList?e.langList:[],D=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,P.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.langName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,"听说：",e.oralLevel,o.default.createElement("span",{className:"ant-divider"}),"读写：",e.readLevel,o.default.createElement("span",{className:"ant-divider"}),e.workLang,o.default.createElement("span",{className:"ant-divider"}),e.studyLang),o.default.createElement("p",null,"证书：",e.langCert))))})))),R=e.otherSkillList?e.otherSkillList:[],M=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,R.map(function(e,t){return o.default.createElement("tr",{className:"otherSkillList"},o.default.createElement("div",{className:"rightContent"},o.default.createElement("p",null,e.skName),o.default.createElement("p",null,e.skLevel,o.default.createElement("span",{className:"ant-divider"}),e.skTime),o.default.createElement("p",{className:"normal"},e.skHonor)))})))),U=e.honorList?e.honorList:[],T=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,U.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.schName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.hoLevel+"/"+e.hoLevel2,o.default.createElement("span",{className:"ant-divider"}),e.endDate),o.default.createElement("p",null,e.hoDesc))))})))),I=e.honor2List?e.honor2List:[],B=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,I.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.schName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.hoLevel,o.default.createElement("span",{className:"ant-divider"}),e.endDate),o.default.createElement("p",null,e.hoDesc))))})))),O=e.workHonorList?e.workHonorList:[],q=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,O.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.hoName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.hoLevel,o.default.createElement("span",{className:"ant-divider"}),e.beginDate),o.default.createElement("p",null,e.memo2))))})))),H=e.pracList?e.pracList:[],L=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,H.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.pracName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.beginDate," ~ ",e.endDate),o.default.createElement("p",null,e.pracDesc))))})))),F=e.wsProjList?e.wsProjList:[],z=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,F.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.projName),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,"项目简介：",e.projDesc),o.default.createElement("p",null,"个人职责：",e.workCont),o.default.createElement("p",null,e.projUrl))))})))),_=e.wsThesisList?e.wsThesisList:[],A=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,_.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.title),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.journal,o.default.createElement("span",{className:"ant-divider"}),e.isbn,o.default.createElement("span",{className:"ant-divider"}),e.honor),o.default.createElement("p",null,"论文摘要：",e.summary),o.default.createElement("p",null,"参与内容：",e.workCont),o.default.createElement("p",null,e.thesisUrl))))})))),G=e.wsIssueList?e.wsIssueList:[],V=o.default.createElement("dd",null,o.default.createElement("table",{style:{width:"100%",tableLayout:"fixed"}},o.default.createElement("tbody",null,G.map(function(e,t){return o.default.createElement("tr",null,o.default.createElement("div",{
className:"boxAlign"},o.default.createElement("td",{className:"tdPdl"},e.title),o.default.createElement("td",{className:"rightContent"},o.default.createElement("p",null,e.summary),o.default.createElement("p",null,e.issueUrl))))})))),Y="vertical",W="form-item-"+Y,Q={labelCol:"horizontal"==Y?null:{span:3},wrapperCol:"horizontal"==Y?null:{span:19}};return o.default.createElement("div",{style:{width:"100%",height:"100%",overflow:"auto"}},o.default.createElement("div",{style:{width:"980px",margin:"20px auto",padding:"0 20px"}},o.default.createElement("div",{className:"summary","ng-cloak":!0,"ng-if":"person.peName"},o.default.createElement("p",{className:"align-right"},e.gender,o.default.createElement("span",{className:"ant-divider"}),e.bhDate,o.default.createElement("span",{className:"ant-divider"}),"户口：",e.hkLoc,o.default.createElement("span",{className:"ant-divider"}),"现居住于：",e.hkLoc),o.default.createElement("p",{className:"align-right"},e.workDate,"开始工作",o.default.createElement("span",{className:"ant-divider"}),e.workYears),o.default.createElement("p",{className:"align-right"},e.country,o.default.createElement("span",{className:"ant-divider"}),e.marital,o.default.createElement("span",{className:"ant-divider"}),e.national,o.default.createElement("span",{className:"ant-divider"}),e.political),o.default.createElement("p",{className:"align-right"},e.phoneNo),o.default.createElement("p",{className:"align-right"},e.email),o.default.createElement("h1",null,e.peName,o.default.createElement("a",{href:"#",className:"revise",style:{marginTop:"6px"},onClick:this.handleGo.bind(this,"/resume2/ResumePage/"),title:"修改个人信息"},o.default.createElement(h.Icon,{type:b.iconUpdate})),o.default.createElement("a",{style:{float:"right"},title:"导入简历",onClick:this.openUpload,moreFilter:t},o.default.createElement(h.Icon,{style:{fontSize:"13px",color:"blue"},type:"upload"}))),o.default.createElement("div",{style:{width:"600px",margin:"60px auto 20px",border:"1px solid #ccc",paddingLeft:"50px"},hidden:!t},o.default.createElement("b",{style:{fontSize:"16px",display:"block",margin:"20px 0 20px -22px"}},"上传个人简历"),o.default.createElement(h.Form,{layout:Y},o.default.createElement(C,n({},Q,{label:"简历来源:",colon:!0}),o.default.createElement(g.default,{layout:"vertical",appName:"简历系统",optName:"简历文件来源",onChange:this.onRadioChange})),o.default.createElement(C,n({},Q,{label:"人员文件:",colon:!0}),o.default.createElement("div",null,o.default.createElement(h.Input,{type:"text",value:this.state.fileName,style:{width:"274px"}}),o.default.createElement(h.Upload,{beforeUpload:this.beforeUpload,style:{marginLeft:"6px"}},o.default.createElement(h.Button,null,o.default.createElement(h.Icon,{type:"upload"})," 选择文件")))),o.default.createElement(C,{style:{textAlign:"right",width:"456px",margin:"4px 0 16px"},required:!1,colon:!0,className:W},o.default.createElement(h.Button,{style:{marginRight:"6px"},size:"middle",type:"primary",onClick:this.handleUpload,disabled:0===this.state.fileList.length},"上传文件"),o.default.createElement(h.Button,{key:"btnClose",size:"middle",hidden:!1,onClick:this.cancelUpload},"取消"))))),o.default.createElement("dl",{className:"detail"},a.length?o.default.createElement("dt",{className:"homeHead"},"个人介绍",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/perIntro/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",r,i.length?o.default.createElement("dt",{className:"homeHead"},"个人评价",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/perAss/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",l,s.length?o.default.createElement("dt",{className:"homeHead"},"其他信息",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/otherInfor/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",d,u.length?o.default.createElement("dt",{className:"homeHead"},"教育背景",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/education/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",c,m.length?o.default.createElement("dt",{className:"homeHead"},"工作经历",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/peComp/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",p,f.length?o.default.createElement("dt",{className:"homeHead"},"项目经历",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/peProj/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",v,y.length?o.default.createElement("dt",{className:"homeHead"},"培训经历",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/train/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",S,E.length?o.default.createElement("dt",{className:"homeHead"},"开发技能",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/techSkill/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",w,x.length?o.default.createElement("dt",{className:"homeHead"},"项目技能",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/projSkill/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",k,j.length?o.default.createElement("dt",{className:"homeHead"},"证书",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/cert/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",N,P.length?o.default.createElement("dt",{className:"homeHead"},"语言能力",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/lang/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",D,R.length?o.default.createElement("dt",{className:"homeHead"},"其他技能",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/otherSkill/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",M,U.length?o.default.createElement("dt",{className:"homeHead"},"奖学金",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/eduHonor/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",T,I.length?o.default.createElement("dt",{className:"homeHead"},"在校奖励",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/schHonor/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",B,O.length?o.default.createElement("dt",{className:"homeHead"},"奖励记录",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/workHonor/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",q,H.length?o.default.createElement("dt",{className:"homeHead"},"学校实践",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/schPrac/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",L,F.length?o.default.createElement("dt",{className:"homeHead"},"开源作品",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/wsProj/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",z,_.length?o.default.createElement("dt",{className:"homeHead"},"公开论文",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/wsThesis/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",A,G.length?o.default.createElement("dt",{className:"homeHead"},"网上作品",o.default.createElement("a",{href:"#",className:"revise",onClick:this.handleGo.bind(this,"/resume2/wsIssue/"),title:"修改"},o.default.createElement(h.Icon,{type:b.iconUpdate}))):"",V)))}}),x=(0,u.withRouter)(w);e.exports=x},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createBiziProjRole","deleteBiziProjRole","updateBiziProjRole","retrieveBiziProjRole","initBiziProjRole"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjContract","deleteProjContract","updateProjContract","retrieveProjContract","retrieveProjContractPage","initProjContract","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjCust","deleteProjCust","updateProjCust","retrieveProjCust","retrieveProjCustPage","initProjCust","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createOrderDisc","deleteOrderDisc","updateOrderDisc","retrieveOrderDisc","retrieveOrderDiscPage","initOrderDisc"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createContEvent","deleteContEvent","updateContEvent","retrieveContEvent","retrieveContEventPage","initContEvent","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createOrderItem","deleteOrderItem","updateOrderItem","retrieveOrderItem","retrieveOrderItemPage","initOrderItem"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjOrder","deleteProjOrder","updateProjOrder","retrieveProjOrder","retrieveProjOrderPage","initProjOrder","getCacheData","retrieveProjContract"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createBiziProjInfo","deleteBiziProjInfo","updateBiziProjInfo","retrieveBiziProjInfo","retrieveBiziProjInfoPage","initBiziProjInfo","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createResPool","deleteResPool","updateResPool","retrieveResPool","retrieveResPoolPage","initResPool"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProjGroup","retrieveProjGroupPage","initProjGroup"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProjMember","retrieveProjMemberPage","initProjMember","retrieveGroupMember","retrieveGroupMemberPage","initGroupMember"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createOutCorp","deleteOutCorp","updateOutCorp","retrieveOutCorp","retrieveOutCorpPage","initOutCorp"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createOutStaff","deleteOutStaff","updateOutStaff","retrieveOutStaff","retrieveOutStaffPage","initOutStaff","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createGroupMan","deleteGroupMan","updateGroupMan","retrieveGroupMan","retrieveGroupManPage","initGroupMan"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjGroup","deleteProjGroup","updateProjGroup","retrieveProjGroup","initProjGroup"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(276),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("user-chk-book",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveCheckQuery:function(e){var t=this,a=this.getServiceUrl("user-chk-book/create1");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjEvent","deleteProjEvent","updateProjEvent","retrieveProjEvent","retrieveProjEventPage","initProjEvent"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjHrReq","deleteProjHrReq","updateProjHrReq","retrieveProjHrReq","retrieveProjHrReqPage","initProjHrReq"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjHrReqDetail","deleteProjHrReqDetail","updateProjHrReqDetail","retrieveProjHrReqDetail","retrieveProjHrReqDetailPage","initProjHrReqDetail"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjRole","deleteProjRole","updateProjRole","retrieveProjRole","retrieveProjRolePage","initProjRole"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(277),n=a(3),l=a(11),o=r.createStore({listenables:[i],taskUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({taskUuid:a.taskUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-task-member",e,t)},onRetrieveProjTaskMember:function(e){var t=this,a={};a.taskUuid=e;var r=this.getServiceUrl("proj-task-member/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.taskUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjTaskMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjTaskMember(e)},onInitProjTaskMember:function(e){return this.recordSet.length>0&&this.taskUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTaskMember(e)},onCreateProjTaskMember:function(e){var t=this.getServiceUrl("proj-task-member/create");n.recordCreate(this,e,t)},onUpdateProjTaskMember:function(e){var t=this.getServiceUrl("proj-task-member/update");n.recordUpdate(this,e,t)},onDeleteProjTaskMember:function(e){var t=this.getServiceUrl("proj-task-member/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createDispOrder","deleteDispOrder","updateDispOrder","retrieveDispOrder","retrieveResMeb","retrieveDispOrderPage","initDispOrder","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createResMember","deleteResMember","updateResMember","retrieveResMember","retrieveResMemberPage","initResMember","getCacheData"]);e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createBiziProjMember","deleteBiziProjMember","updateBiziProjMember","retrieveBiziProjMember","retrieveBiziProjMemberPage","initBiziProjMember"]);e.exports=i},function(e,t){"use strict";e.exports={roleName:{id:"roleName",type:"radio",desc:"角色",required:!0,max:"64",defValue:"助理",opts:"#项目管理.角色",showCode:!1},staffCode:{id:"staffCode",type:"text",desc:"员工编号",required:!0,max:"64"},perName:{id:"perName",type:"text",desc:"姓名",required:!0,max:"32"},beginDate:{id:"beginDate",type:"date",desc:"开始日期",required:!1,max:"24"},endDate:{id:"endDate",type:"date",desc:"结束日期",required:!1,max:"24"}}},function(e,t,a){"use strict";var r=a(1),i=a(355),n=a(3),l=a(11),o=r.createStore({listenables:[i],projUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({projUuid:a.projUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("bizi-proj-role",e,t)},onRetrieveBiziProjRole:function(e){var t=this,a={};a.projUuid=e;var r=this.getServiceUrl("bizi-proj-role/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.projUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitBiziProjRole:function(e){return this.recordSet.length>0&&this.projUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveBiziProjRole(e)},onCreateBiziProjRole:function(e){var t=this.getServiceUrl("bizi-proj-role/create");n.recordCreate(this,e,t)},onUpdateBiziProjRole:function(e){var t=this.getServiceUrl("bizi-proj-role/update");n.recordUpdate(this,e,t)},onDeleteBiziProjRole:function(e){var t=this.getServiceUrl("bizi-proj-role/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(356),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_contract",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveProjContract:function(e){var t=this,a=this.getServiceUrl("proj_contract/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjContractPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjContract(e)},onInitProjContract:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjContract(e)},onCreateProjContract:function(e){var t=this.getServiceUrl("proj_contract/create");n.recordCreate(this,e,t)},onUpdateProjContract:function(e){var t=this.getServiceUrl("proj_contract/update");n.recordUpdate(this,e,t)},onDeleteProjContract:function(e){var t=this.getServiceUrl("proj_contract/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(357),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_cust",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveProjCust:function(e){var t=this,a=this.getServiceUrl("proj_cust/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjCustPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjCust(e)},onInitProjCust:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveProjCust(e)},onCreateProjCust:function(e){var t=this.getServiceUrl("proj_cust/create");n.recordCreate(this,e,t)},onUpdateProjCust:function(e){var t=this.getServiceUrl("proj_cust/update");n.recordUpdate(this,e,t)},onDeleteProjCust:function(e){var t=this.getServiceUrl("proj_cust/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(358),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("order-disc",e,t)},onRetrieveOrderDisc:function(e){var t=this,a=this.getServiceUrl("order-disc/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveOrderDiscPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveOrderDisc(e)},onInitOrderDisc:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveOrderDisc(e)},onCreateOrderDisc:function(e){var t=this.getServiceUrl("order-disc/create");n.recordCreate(this,e,t)},onUpdateOrderDisc:function(e){var t=this.getServiceUrl("order-disc/update");n.recordUpdate(this,e,t)},onDeleteOrderDisc:function(e){var t=this.getServiceUrl("order-disc/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(359),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("cont_event",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveContEvent:function(e){var t=this,a=this.getServiceUrl("cont_event/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){console.log(e),null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveContEventPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveContEvent(e)},onInitContEvent:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveContEvent(e)},onCreateContEvent:function(e){var t=this.getServiceUrl("cont_event/create"),a=this;n.doCreateService(t,e).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(a.recordSet.push(t.object),t.object.contName=e.contName,t.object.contCode=e.contCode,a.totalRow=a.totalRow+1,a.fireEvent("create","",a)):a.fireEvent("create","处理错误["+t.errCode+"]["+t.errDesc+"]",a)},function(e){a.fireEvent("create","调用服务错误",a)})},onUpdateContEvent:function(e){var t=this.getServiceUrl("cont_event/update");n.recordUpdate(this,e,t)},onDeleteContEvent:function(e){var t=this.getServiceUrl("cont_event/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(360),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("order_item",e,t)},onRetrieveOrderItem:function(e){var t=this,a=this.getServiceUrl("order_item/get-by-OrderAndGrp");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveOrderItemPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveOrderItem(e)},onInitOrderItem:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveOrderItem(e)},onCreateOrderItem:function(e){var t=this.getServiceUrl("order_item/create");n.recordCreate(this,e,t)},onUpdateOrderItem:function(e){var t=this.getServiceUrl("order_item/update");n.recordUpdate(this,e,t)},onDeleteOrderItem:function(e){var t=this.getServiceUrl("order_item/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(361),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],list:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,list:a.list,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-order",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveProjOrder:function(e){var t=this,a=this.getServiceUrl("proj-order/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjContract:function(e){var t=this,a=this.getServiceUrl("proj_contract/get-by-CorpUuidandCustUuid");n.doRetrieveService(a,e).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.list=a.object.list[0],t.filter=e,t.fireEvent("retrieve1","",t)):t.fireEvent("retrieve1","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve1","调用服务错误",t)})},onRetrieveProjOrderPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjOrder(e)},onInitProjOrder:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjOrder(e)},onCreateProjOrder:function(e){var t=this.getServiceUrl("proj-order/create");n.recordCreate(this,e,t)},onUpdateProjOrder:function(e){var t=this.getServiceUrl("proj-order/update");n.recordUpdate(this,e,t)},onDeleteProjOrder:function(e){var t=this.getServiceUrl("proj-order/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(362),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("bizi-proj",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveBiziProjInfo:function(e){var t=this,a=this.getServiceUrl("bizi-proj/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveBiziProjInfoPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveBiziProjInfo(e)},onInitBiziProjInfo:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveBiziProjInfo(e)},onCreateBiziProjInfo:function(e){var t=this.getServiceUrl("bizi-proj/create");n.recordCreate(this,e,t)},onUpdateBiziProjInfo:function(e){var t=this.getServiceUrl("bizi-proj/update");n.recordUpdate(this,e,t)},onDeleteBiziProjInfo:function(e){var t=this.getServiceUrl("bizi-proj/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(363),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-pool",e,t)},onRetrieveResPool:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("res-pool/get-by-corp_uuid");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResPoolPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResPool(e)},onInitResPool:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResPool(e)},onCreateResPool:function(e){var t=this.getServiceUrl("res-pool/create");n.recordCreate(this,e,t)},onUpdateResPool:function(e){var t=this.getServiceUrl("res-pool/update");n.recordUpdate(this,e,t)},onDeleteResPool:function(e){var t=this.getServiceUrl("res-pool/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(4),s=a(19),d=r(s),u=a(12),c=r(u),m=a(25),h=(r(m),o.DatePicker.MonthPicker),p=(o.DatePicker.RangePicker,o.Input.Search,o.Select.Option),f=o.Radio.Group,g=o.Form.Item,v=a(6),C=a(3);e.exports=function(e,t){return{getField:function(e,a,r){var n={colon:!0};void 0!==a&&null!==a&&(n.label=e.desc,t!==!0&&(n.required=e.required===!0));var o=this.state.hints;void 0!==o&&(n.help=o[e.id+"Hint"],n.validateStatus=o[e.id+"Status"]);var s=null;if("text"===e.type)s=this.getTextField(e,r);else if("month"===e.type)s=this.getMonthField(e,r);else if("date"===e.type)s=this.getDateField(e,r);else if("radio"===e.type){var d=e.opts;void 0!==d&&null!==d&&""!==d&&(s="#"!==d.charAt(0)?this.getRadioField(e,r):this.getDictRadioField(e,r))}else if("select"===e.type){var d=e.opts;void 0!==d&&null!==d&&""!==d&&(s="#"!==d.charAt(0)?this.getSelectField(e,r):this.getDictSelectField(e,r))}if(null!==s)return l.default.createElement(g,i({},a,n),s)},getTextField:function(t,a){var r={name:t.id,id:t.id,onChange:this.handleOnChange},n=this.state[e];if(r.value=n[t.id],void 0!==a&&null!==a)for(var s in a)try{r[s]=a[s]}catch(e){}return l.default.createElement(o.Input,i({type:"text"},r))},getMonthField:function(t,a){var r={name:t.id,id:t.id,format:v.monthFormat},i=this.state[e];if(r.value=this.formatMonth(i[t.id],v.monthFormat),r.style={width:"100%"},r.onChange=this.handleOnSelMonth.bind(this,t.id,v.monthFormat),void 0!==a&&null!==a)for(var n in a)try{r[n]=a[n]}catch(e){}return l.default.createElement(h,r)},getDateField:function(t,a){var r={name:t.id,id:t.id,format:v.dateFormat},i=this.state[e];if(r.value=this.formatDate(i[t.id],v.dateFormat),r.style={width:"100%"},r.onChange=this.handleOnSelDate.bind(this,t.id,v.dateFormat),void 0!==a&&null!==a)for(var n in a)try{r[n]=a[n]}catch(e){}return l.default.createElement(o.DatePicker,r)},getDictRadioField:function(t,a){var r={name:t.id,id:t.id},i=this.state[e];r.value=i[t.id],r.onChange=this.onRadioChange;var n=t.opts.substr(1),o=n.indexOf(".");if(!(o<=0)){if(r.appName=n.substr(0,o),r.optName=n.substr(1+o),void 0!==a&&null!==a)for(var s in a)try{r[s]=a[s]}catch(e){}
return l.default.createElement(d.default,r)}},getRadioField:function(t,a){var r={name:t.id,id:t.id},i=this.state[e];if(r.value=i[t.id],r.onChange=this.onRadioChange,void 0!==a&&null!==a)for(var n in a)try{r[n]=a[n]}catch(e){}var s=[],d=t.opts.split(";");return d.map(function(e,t){var a=e.indexOf("=");if(a>0){var r=e.substr(0,a),i=e.substr(1+a);s.push(l.default.createElement(o.Radio,{value:r},i))}else s.push(l.default.createElement(o.Radio,{value:e},e))}),l.default.createElement(f,r,s)},getDictSelectField:function(t,a){var r={name:t.id,id:t.id},i=this.state[e];r.value=i[t.id],r.onSelect=this.handleOnSelected.bind(this,t.id);var n=t.opts.substr(1),o=n.indexOf(".");if(!(o<=0)){if(r.appName=n.substr(0,o),r.optName=n.substr(1+o),void 0!==a&&null!==a)for(var s in a)try{r[s]=a[s]}catch(e){}return l.default.createElement(c.default,r)}},getSelectField:function(t,a){var r={name:t.id,id:t.id},i=this.state[e];if(r.value=i[t.id],r.onSelect=this.handleOnSelected.bind(this,t.id),void 0!==a&&null!==a)for(var n in a)try{r[n]=a[n]}catch(e){}var s=[],d=t.opts.split(";");return d.map(function(e,t){var a=e.indexOf("=");if(a>0){var r=e.substr(0,a),i=e.substr(1+a);r===i?s.push(l.default.createElement(p,{key:r,value:r},i)):s.push(l.default.createElement(p,{key:r,value:r},r,"-",i))}else s.push(l.default.createElement(p,{key:e,value:e},e))}),l.default.createElement(o.Select,r,s)},getOptionName2:function(e,t,a){var r="",e=e.split(";");return e.map(function(e,t){var i=e.indexOf("=");if(i>0){var n=e.substr(0,i),l=e.substr(1+i);r=a&&n!==l?n+"-"+l:n}else r=n}),r},getColumn:function(e,t,a){var r=this,i={title:e.desc,dataIndex:e.id,key:e.id,width:t};if(void 0!==a&&null!==a)return i.render=a,i;if("month"===e.type)i.render=function(e,t){return v.formatMonth(e,v.monthFormat)};else if("date"===e.type)i.render=function(e,t){return v.formatDate(e,v.dateFormat)};else if("radio"===e.type||"select"===e.type){var n=e.opts,l=e.showCode;if(l!==!1&&(l=!0),void 0!==n&&null!==n&&""!==n)if("#"!==n.charAt(0))i.render=function(t,a){return r.getOptionName2(n,a[e.id],l)};else{n=n.substr(1);var o=n.indexOf(".");if(o>0){var s=n.substr(0,o),d=n.substr(1+o);i.render=function(t,a){return C.getOptionName(s,d,a[e.id],l,r)}}}}return i}}}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1),c=a(509),m=a(364),h=o.default.createClass({displayName:"ProjGroupSelect",getInitialState:function(){return{projGroupSet:{recordSet:[]},loading:!1,oldValue:"",filterValue:""}},mixins:[u.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projGroupSet:e})},getProjGroup:function(e){if(null===e||""===e||"undefined"==typeof e)return null;for(var t=this.state.projGroupSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].grpName===e)return t[r];return null},componentDidMount:function(){this.state.projGroupSet={recordSet:[]},this.setState({loading:!0,oldValue:this.props.value,filterValue:this.props.value});var e={};e.corpUuid=window.loginData.compUser.corpUuid,m.initProjGroup(e)},componentWillReceiveProps:function(e){e.value!==this.state.oldValue&&this.setState({oldValue:e.value,filterValue:e.value})},handleOnChange:function(e){this.setState({filterValue:e});var t=this.props.onTextChange;void 0!==t&&null!==t&&t(e)},handleSearch:function(e){this.setState({filterValue:e})},onSelect:function(e){var t=this.getProjGroup(e);if(null!==t){var a=this.props.onSelectGroup;void 0!==a&&null!==a&&a(t)}},render:function(){var e=this.props,t=(e.value,e.onSelectGroup,i(e,["value","onSelectGroup"])),a=[],r=this.state.projGroupSet.recordSet,l=this.state.filterValue;null===l||""===l||void 0===l?r.map(function(e){return a.push(e.grpName)}):r.map(function(e,t){e.grpName.indexOf(l)>=0&&a.push(e.grpName)});var s=o.default.createElement(d.AutoComplete,n({dataSource:a,onSelect:this.onSelect,onSearch:this.handleSearch,placeholder:"",value:this.state.filterValue,onChange:this.handleOnChange},t));return this.state.loading?o.default.createElement(d.Spin,null,s):s}});t.default=h},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=a(1),d=o.Select.Option,u=a(1414),c=a(737),m=n.default.createClass({displayName:"ProjInfoSelect",getInitialState:function(){return{projSet:{recordSet:[],errMsg:""},loading:!1,parentUuid:""}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projSet:e})},getProjNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.projSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].uuid===e)return t[r];return{}},componentDidMount:function(){this.loadData(this.props.parentUuid)},componentWillReceiveProps:function(e){e.parentUuid!==this.state.parentUuid&&this.loadData(e.parentUuid)},loadData:function(e){if(this.state.projSet={recordSet:[]},null===e||void 0===e||""===e)return void this.setState({loading:!1,parentUuid:""});this.setState({loading:!0,parentUuid:e});var t={status:"1"};t.parentUuid=e,t.corpUuid=window.loginData.compUser.corpUuid,c.initProj(t)},render:function(){var e=this.state.projSet.recordSet,t=n.default.createElement(o.Select,this.props,n.default.createElement(d,{key:"-",value:""},"--"),e.map(function(e){return n.default.createElement(d,{key:e.uuid,value:e.uuid},e.projName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=m},,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveContEvent","retrieveContEventPage","initContEvent"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProjCust","retrieveProjCustPage","initProjCust"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveOutStaff","retrieveOutStaffPage","initOutStaff"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProjDisp","retrieveProjDispPage","initProjDisp"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProjTask","retrieveProjTaskPage","initProjTask"]);e.exports=i},,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveTempProjMember","retrieveTempProjMemberPage","initTempProjMember"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(364),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_group",e,t)},onRetrieveProjGroup:function(e){var t=this,a=this.getServiceUrl("proj_group/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjGroupPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjGroup(e)},onInitProjGroup:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjGroup(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(365),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onRetrieveProjMember:function(e){var t=this,a=this.getServiceUrl("proj-member/retrieve2");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjMember(e)},onInitProjMember:function(e,t,a){return this.recordSet.length>0&&this.startPage===t&&this.pageRow===a&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):(this.startPage=t,this.pageRow=a,void this.onRetrieveProjMember(e))},onRetrieveGroupMember:function(e){var t=this,a=this.getServiceUrl("proj-member/selectGroupMember");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveGroupMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveGroupMember(e)},onInitGroupMember:function(e,t,a){return this.recordSet.length>0&&this.startPage===t&&this.pageRow===a&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):(this.startPage=t,this.pageRow=a,void this.onRetrieveGroupMember(e))}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(272),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_team",e,t)},onRetrieveProjTeam:function(e){var t=this,a=this.getServiceUrl("proj_team/get-by-ProjUuid");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProjTeam:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTeam(e)}});e.exports=o},,function(e,t,a){"use strict";var r=a(1),i=a(366),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("out-corp",e,t)},onRetrieveOutCorp:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("out-corp/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveOutCorpPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveOutCorp(e)},onInitOutCorp:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveOutCorp(e)},onCreateOutCorp:function(e){var t=this.getServiceUrl("out-corp/create");n.recordCreate(this,e,t)},onUpdateOutCorp:function(e){var t=this.getServiceUrl("out-corp/update");n.recordUpdate(this,e,t)},onDeleteOutCorp:function(e){var t=this.getServiceUrl("out-corp/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(225),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("out-job",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveOutJob:function(e){var t=this,a=this.getServiceUrl("out-job/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveOutJobPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveOutJob(e)},onInitOutJob:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveOutJob(e)},onCreateOutJob:function(e){var t=this.getServiceUrl("out-job/create"),a=this;n.doCreateService(t,e).then(function(t){null==t.errCode||""==t.errCode||"000000"==t.errCode?(a.recordSet.push(t.object),t.object.perName=e.perName,t.object.staffCode=e.staffCode,a.totalRow=a.totalRow+1,a.fireEvent("create","",a)):a.fireEvent("create","处理错误["+t.errCode+"]["+t.errDesc+"]",a)},function(e){a.fireEvent("create","调用服务错误",a)})},onUpdateOutJob:function(e){var t=this.getServiceUrl("out-job/update");n.recordUpdate(this,e,t)},onDeleteOutJob:function(e){var t=this.getServiceUrl("out-job/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(367),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("out-staff",e,t)},onGetCacheData:function(e){this.filter.outUuid!==e&&(this.filter={},this.recordSet=[],this.startPage=0,this.pageRow=0,this.totalRow=0),this.fireEvent("cache","",this)},onRetrieveOutStaff:function(e){var t=this,a=this.getServiceUrl("out-staff/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveOutStaffPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveOutStaff(e)},onInitOutStaff:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveOutStaff(e)},onCreateOutStaff:function(e){var t=this.getServiceUrl("out-staff/createWithJob"),a=this;n.doCreateService(t,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(a.recordSet.push(e.object.os),a.totalRow=a.totalRow+1,a.fireEvent("create","",a)):a.fireEvent("create","处理错误["+e.errCode+"]["+e.errDesc+"]",a)},function(e){a.fireEvent("create","调用服务错误",a)})},onUpdateOutStaff:function(e){var t=this.getServiceUrl("out-staff/update");n.recordUpdate(this,e,t)},onDeleteOutStaff:function(e){var t=this.getServiceUrl("out-staff/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(368),n=a(3),l=a(11),o=a(14),s=r.createStore({listenables:[i],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("group-man",e,t)},onRetrieveGroupMan:function(e){var t=this,e={};e.groupUuid=o.selectedGroup.uuid;var a=this.getServiceUrl("group-man/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveGroupManPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveGroupMan(e)},onInitGroupMan:function(e){return this.recordSet.length>0&&this.filter===e?void this.fireEvent("retrieve","",this):void this.onRetrieveGroupMan(e)},onCreateGroupMan:function(e){var t=this.getServiceUrl("group-man/create");n.recordCreate(this,e,t)},onUpdateGroupMan:function(e){var t=this.getServiceUrl("group-man/update");n.recordUpdate(this,e,t)},onDeleteGroupMan:function(e){var t=this.getServiceUrl("group-man/remove");n.recordDelete(this,e,t)}});e.exports=s},function(e,t,a){"use strict";var r=a(1),i=a(369),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_group",e,t)},onRetrieveProjGroup:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("proj_group/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProjGroup:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveProjGroup(e)},onCreateProjGroup:function(e){var t=this.getServiceUrl("proj_group/create");n.recordCreate(this,e,t)},onUpdateProjGroup:function(e){var t=this.getServiceUrl("proj_group/update");n.recordUpdate(this,e,t)},onDeleteProjGroup:function(e){var t=this.getServiceUrl("proj_group/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createUserChkBook","deleteUserChkBook","updateUserChkBook","retrieveUserChkBook","retrieveUserChkBookPage","initUserChkBook"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["backSure","retrieveBackTable","retrieveBackTablePage","initBackTable","getMember"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["dispatSure","retrieveDispatTable","retrieveDispatTablePage","initDispatTable","getMember"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(371),n=a(3),l=a(11),o=r.createStore({listenables:[i],projUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({projUuid:a.projUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-event",e,t)},onRetrieveProjEvent:function(e){var t=this,a={};a.projUuid=e;var r=this.getServiceUrl("proj-event/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.projUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjEventPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjEvent(e)},onInitProjEvent:function(e){return this.recordSet.length>0&&this.projUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveProjEvent(e)},onCreateProjEvent:function(e){var t=this.getServiceUrl("proj-event/create");n.recordCreate(this,e,t)},onUpdateProjEvent:function(e){var t=this.getServiceUrl("proj-event/update");n.recordUpdate(this,e,t)},onDeleteProjEvent:function(e){var t=this.getServiceUrl("proj-event/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(373),n=a(3),l=a(11),o=r.createStore({listenables:[i],reqUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({reqUuid:a.reqUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-hr-req-detail",e,t)},onRetrieveProjHrReqDetail:function(e){var t=this,a={};a.reqUuid=e;var r=this.getServiceUrl("proj-hr-req-detail/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.reqUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProjHrReqDetail:function(e){return this.recordSet.length>0&&n.compareTo(this.reqUuid,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjHrReqDetail(e)},onCreateProjHrReqDetail:function(e){var t=this.getServiceUrl("proj-hr-req-detail/create");n.recordCreate(this,e,t)},onUpdateProjHrReqDetail:function(e){var t=this.getServiceUrl("proj-hr-req-detail/update");n.recordUpdate(this,e,t)},onDeleteProjHrReqDetail:function(e){var t=this.getServiceUrl("proj-hr-req-detail/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(372),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-hr-req",e,t)},onRetrieveProjHrReq:function(e,t){var a=this,r={};r.corpUuid=e,r.projUuid=t,console.log(r);var i=this.getServiceUrl("proj-hr-req/retrieve");n.doRetrieveService(i,r,a.startPage,a.pageRow,a.totalRow).then(function(r){null==r.errCode||""==r.errCode||"000000"==r.errCode?(a.recordSet=r.object.list,a.startPage=r.object.startPage,a.pageRow=r.object.pageRow,a.totalRow=r.object.totalRow,a.corpUuid=e,a.projUuid=t,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+r.errCode+"]["+r.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onInitProjHrReq:function(e,t){return this.recordSet.length>0&&n.compareTo(this.corpUuid,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjHrReq(e,t)},onCreateProjHrReq:function(e){console.log(e);var t=this.getServiceUrl("proj-hr-req/create");n.recordCreate(this,e,t)},onUpdateProjHrReq:function(e){var t=this.getServiceUrl("proj-hr-req/update");n.recordUpdate(this,e,t)},onDeleteProjHrReq:function(e){var t=this.getServiceUrl("proj-hr-req/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjMember","deleteProjMember","updateProjMember","retrieveProjMember","retrieveProjMemberPage","initProjMember","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(374),n=a(3),l=a(11),o=r.createStore({listenables:[i],projUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({projUuid:a.projUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-role",e,t)},onRetrieveProjRole:function(e){var t=this,a={};a.projUuid=e;var r=this.getServiceUrl("proj-role/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.projUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjRolePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjRole(e)},onInitProjRole:function(e){return this.recordSet.length>0&&n.compareTo(this.projUuid,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjRole(e)},onCreateProjRole:function(e){var t=this.getServiceUrl("proj-role/create");n.recordCreate(this,e,t)},onUpdateProjRole:function(e){var t=this.getServiceUrl("proj-role/update");n.recordUpdate(this,e,t)},onDeleteProjRole:function(e){var t=this.getServiceUrl("proj-role/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createUserChkBook","deleteUserChkBook","updateUserChkBook","retrieveUserChkBook","retrieveUserChkBookPage","initUserChkBook"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(7)),s=r(o),d=a(9),u=r(d),c=a(4),m=a(21),h=r(m),p=a(14),f=r(p),g=a(1),v=(a(6),a(3)),C=a(173),b=a(150),y=a(135),S=a(170),E=n.default.createClass({displayName:"BatchCheckPage",getInitialState:function(){return{userCheckSet:{operation:"",errMsg:""},checkList:[],len:0,index:0,chkDate:"",modal:!1,isCreate:!1,stop:!1}},mixins:[g.listenTo(C,"onServiceComplete"),(0,u.default)("userCheck"),g.listenTo(S,"onCheckInfoComplete"),(0,h.default)()],onServiceComplete:function(e){if(this.state.modal)if(""===e.errMsg){var t=this.state.len,a=this.state.index,r=this.state.stop;if(r)return;a+1===t?this.setState({index:a+1}):(this.setState({index:a+1}),this.doBatchCheck(this.state.checkList))}else this.setState({loading:!1,stop:!0,userCheckSet:e})},onCheckInfoComplete:function(e){var t=(this.state.len,this.state.index);f.default.calcCheckDate(this.state.checkList[t],e.posSet,e.leaveSet,this.state.isCreate),this.state.userCheckSet.operation="",this.state.isCreate?b.createUserChkBook(this.state.checkList[t]):b.updateUserChkBook(this.state.checkList[t])},componentDidMount:function(){},clear:function(e,t){var a=[],r=e.length;e.map(function(e,t){a[t]={},v.copyValue(e,a[t])}),this.state.checkList=a,this.state.chkDate=t,this.state.index=0,this.state.len=r,this.state.stop=!1,this.doBatchCheck(a)},doBatchCheck:function(e){var t=this.state.chkDate,a=(this.state.len,this.state.index),r={};v.copyValue(e[a],r);var i=window.loginData.compUser.corpUuid;e[a].corpUuid=i,e[a].chkDate=t,e[a].projUuid=r.resUuid,e[a].teamUuid=r.teamUuid,e[a].projType=r.resStatus,e[a].projName=r.resName,e[a].projLoc=r.resLoc,e[a].pmUuid="",e[a].pmCode=window.loginData.compUser.userCode,e[a].pmName=window.loginData.authUser.perName,e[a].fromHour=r.fromTime,e[a].toHour=r.endTime,e[a].dateType=this.getDateType(t),e[a].leaveType="",e[a].leaveHour="0",e[a].chkType="";var n=r.checkUuid;void 0===n||null===n||""===n?(e[a].workHour="0",e[a].overHour="0",e[a].chkDesc="",this.state.isCreate=!0):(e[a].uuid=n,this.state.isCreate=!1),this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),y.getCheckInfo(i,r.staffCode,r.userId,t)},onStop:function(){this.state.stop=!0},render:function(){var e=this.state.index,t=this.state.checkList[e]?this.state.checkList[e].perName:"",a=Math.floor(e/this.state.len*100),r=null,i=null;return this.state.stop?(r=n.default.createElement(c.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),i=n.default.createElement("span",null,"已终止！")):(r=t?n.default.createElement(c.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.onStop},"终止"):n.default.createElement(c.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),i=t?n.default.createElement("span",null,"正在生成",t,"的考勤 ……"):n.default.createElement("span",null,"已完成！")),n.default.createElement(c.Modal,{visible:this.state.modal,width:"540px",closable:!1,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},n.default.createElement(s.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/update"]}),r)]},n.default.createElement("div",{style:{padding:"24px 0px"}},n.default.createElement(c.Progress,{percent:a,status:"active"}),n.default.createElement("p",{style:{padding:"12px 0 0 0"}},i)))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(21),p=r(h),f=a(14),g=r(f),v=a(1),C=(a(6),a(3)),b=m.Form.Item,y=(m.Select.Option,a(173)),S=a(150),E=a(135),w=a(170),x=l.default.createClass({displayName:"CreateUserCheckPage",getInitialState:function(){return{userCheckSet:{errMsg:""},loading:!1,modal:!1,userCheck:{},hints:{},validRules:[],isCreate:!1}},mixins:[v.listenTo(y,"onServiceComplete"),(0,c.default)("userCheck"),v.listenTo(w,"onCheckInfoComplete"),(0,p.default)()],onServiceComplete:function(e){this.state.modal&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,userCheckSet:e}))},onCheckInfoComplete:function(e){g.default.calcCheckDate(this.state.userCheck,e.posSet,e.leaveSet,this.state.isCreate),this.setState({loading:!1,leaveSet:e.leaveSet,posSet:e.posSet})},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"工号",required:!1,max:"0"},{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"fromHour",desc:"开始时间",required:!1,max:"0"},{id:"toHour",desc:"结束时间",required:!1,max:"0"},{id:"dateType",desc:"日期类型",required:!1,max:"0"},{id:"leaveType",desc:"休假类型",required:!1,max:"0"},{id:"leaveHour",desc:"休假时间",required:!1,max:"0"},{id:"workHour",desc:"工时",required:!1,max:"0"},{id:"overHour",desc:"加班",required:!1,max:"0"},{id:"chkDesc",desc:"备注",required:!1,max:"512"}]},clear:function(e,t){this.state.hints={},C.copyValue(e,this.state.userCheck);var a=window.loginData.compUser.corpUuid;this.state.userCheck.corpUuid=a,this.state.userCheck.chkDate=t,this.state.userCheck.projUuid=e.resUuid,this.state.userCheck.teamUuid=e.teamUuid,this.state.userCheck.projType=e.resStatus,this.state.userCheck.projName=e.resName,this.state.userCheck.projLoc=e.resLoc,this.state.userCheck.pmUuid="",this.state.userCheck.pmCode=window.loginData.compUser.userCode,this.state.userCheck.pmName=window.loginData.authUser.perName,this.state.userCheck.fromHour=e.fromTime,this.state.userCheck.toHour=e.endTime,this.state.userCheck.dateType=this.getDateType(t),this.state.userCheck.leaveType="",this.state.userCheck.leaveHour="0",this.state.userCheck.chkType="";var r=e.checkUuid;void 0===r||null===r||""===r?(this.state.userCheck.workHour="0",this.state.userCheck.overHour="0",this.state.userCheck.chkDesc="",this.state.isCreate=!0):(this.state.userCheck.uuid=r,
this.state.isCreate=!1),this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),this.state.loading=!0,E.getCheckInfo(a,e.staffCode,e.userId,t)},onClickSave:function(){this.setState({loading:!0}),this.state.isCreate?S.createUserChkBook(this.state.userCheck):S.updateUserChkBook(this.state.userCheck)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints,o=this.state.isCreate?"生成考勤":"修改考勤数据";return l.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:o,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/update"]}),l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(m.Form,{layout:e},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"工号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.userCheck.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{type:"text",name:"perName",id:"perName",value:this.state.userCheck.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"开始时间",required:!1,colon:!0,className:t,help:n.fromHourHint,validateStatus:n.fromHourStatus}),l.default.createElement(m.Input,{type:"text",name:"fromHour",id:"fromHour",value:this.state.userCheck.fromHour,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"结束时间",required:!1,colon:!0,className:t,help:n.toHourHint,validateStatus:n.toHourStatus}),l.default.createElement(m.Input,{type:"text",name:"toHour",id:"toHour",value:this.state.userCheck.toHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(b,i({},r,{label:"签到记录",required:!1,colon:!0,className:t}),l.default.createElement(m.Input,{type:"textarea",name:"checkLogger",id:"checkLogger",value:this.state.userCheck.checkLogger,readOnly:!0})),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"签到时长",required:!1,colon:!0,className:t}),l.default.createElement(m.Input,{type:"text",name:"checkHour",id:"checkHour",value:this.state.userCheck.checkHour,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"日期类型",required:!1,colon:!0,className:t,help:n.dateTypeHint,validateStatus:n.dateTypeStatus}),l.default.createElement(m.Input,{type:"text",name:"dateType",id:"dateType",value:this.state.userCheck.dateType,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"休假类型",required:!1,colon:!0,className:t,help:n.leaveTypeHint,validateStatus:n.leaveTypeStatus}),l.default.createElement(m.Input,{type:"text",name:"leaveType",id:"leaveType",value:this.state.userCheck.leaveType,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"休假时间",required:!1,colon:!0,className:t,help:n.leaveHourHint,validateStatus:n.leaveHourStatus}),l.default.createElement(m.Input,{type:"text",name:"leaveHour",id:"leaveHour",value:this.state.userCheck.leaveHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"工时",required:!1,colon:!0,className:t,help:n.workHourHint,validateStatus:n.workHourStatus}),l.default.createElement(m.Input,{type:"text",name:"workHour",id:"workHour",value:this.state.userCheck.workHour,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"加班",required:!1,colon:!0,className:t,help:n.overHourHint,validateStatus:n.overHourStatus}),l.default.createElement(m.Input,{type:"text",name:"overHour",id:"overHour",value:this.state.userCheck.overHour,onChange:this.handleOnChange})))),l.default.createElement(m.Row,null,l.default.createElement(b,i({},r,{label:"备注",required:!1,colon:!0,className:t,help:n.chkDescHint,validateStatus:n.chkDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"chkDesc",id:"chkDesc",value:this.state.userCheck.chkDesc,onChange:this.handleOnChange})))))}});t.default=x},function(e,t,a){"use strict";var r=a(1),i=a(230),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("bizi-proj-member",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveBiziProjMember:function(e){var t=this,a=this.getServiceUrl("bizi-proj-member/retrieve1");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveBiziProjMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveBiziProjMember(e)},onInitBiziProjMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveBiziProjMember(e)},onCreateBiziProjMember:function(e){var t=this.getServiceUrl("bizi-proj-member/create");n.recordCreate(this,e,t)},onUpdateBiziProjMember:function(e){var t=this.getServiceUrl("bizi-proj-member/update");n.recordUpdate(this,e,t)},onDeleteBiziProjMember:function(e){var t=this.getServiceUrl("bizi-proj-member/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(376),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],dispMeb:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,dispMeb:a.dispMeb,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-disp",e,t)},onGetCacheData:function(e){this.filter.projUuid!==e&&(this.filter={},this.recordSet=[],this.startPage=0,this.pageRow=0,this.totalRow=0),this.fireEvent("cache","",this)},onRetrieveResMeb:function(e){var t=this,a={};a.corpUuid=window.loginData.compUser.corpUuid,a.staffCode=e;var r=this.getServiceUrl("res-member/retrieve");n.doRetrieveService(r,a,1,1,1).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.dispMeb=e.object.list[0],t.fireEvent("retrieveResMeb","",t)):t.fireEvent("retrieveResMeb","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieveResMeb","调用服务错误",t)})},onRetrieveDispOrder:function(e){var t=this,a=this.getServiceUrl("proj-disp/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveDispOrderPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveDispOrder(e)},onInitDispOrder:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveDispOrder(e)},onCreateDispOrder:function(e){var t=this.getServiceUrl("proj-disp/create");n.recordCreate(this,e,t)},onUpdateDispOrder:function(e){var t=this.getServiceUrl("proj-disp/update");n.recordUpdate(this,e,t)},onDeleteDispOrder:function(e){var t=this.getServiceUrl("proj-disp/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(377),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-member",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveResMember:function(e){var t=this,a=this.getServiceUrl("res-member/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResMember(e)},onInitResMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveResMember(e)},onCreateResMember:function(e){var t=this.getServiceUrl("res-member/create1");n.recordCreate(this,e,t)},onUpdateResMember:function(e){var t=this.getServiceUrl("res-member/update1");n.recordUpdate(this,e,t)},onDeleteResMember:function(e){var t=this.getServiceUrl("res-member/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjInfo","deleteProjInfo","updateProjInfo","retrieveProjInfo","retrieveProjInfoPage","initProjInfo","getCacheData"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(12),m=r(c),h=a(4),p=(a(1),a(6)),f=(a(14),h.Form.Item),g=(h.Select.Option,l.default.createClass({displayName:"ProjReqFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],ProjReq:{projName:"",techCode:"",biziCode:"",manType:"",manLevel:"",induYears:"",reqType:"",beginDate1:"",status:"",beginDate2:""}}},mixins:[(0,u.default)("ProjReq")],componentDidMount:function(){this.state.validRules=[{id:"projName",desc:"项目名称",required:!1,max:"0"},{id:"techCode",desc:"技术方向",required:!1,max:"0"},{id:"biziCode",desc:"业务方向",required:!1,max:"0"},{id:"manType",desc:"人员类型",required:!1,max:"0"},{id:"manLevel",desc:"人员级别",required:!1,max:"0"},{id:"induYears",desc:"从业经验",required:!1,max:"0"},{id:"reqType",desc:"变更类型",required:!1,max:"0"},{id:"beginDate1",desc:"最早开始日期",required:!1,max:"0"},{id:"beginDate2",desc:"最晚开始日期",required:!1,max:"0"},{id:"status",desc:"状态",required:!1,max:"0"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",height:"156px",padding:"20px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},l.default.createElement(h.Form,{layout:e,style:{width:"100%"}},l.default.createElement(h.Row,{style:{textAlign:"right"}},l.default.createElement(h.Col,{span:"6"}),l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"项目名称",required:!1,colon:!0,className:t,help:r.reqTypeHint,validateStatus:r.reqTypeStatus}),l.default.createElement(h.Input,{type:"text",name:"projName",id:"projName",value:this.state.ProjReq.projName,onChange:this.handleOnChange}))),l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"技术方向",required:!1,colon:!0,className:t,help:r.techCodeHint,validateStatus:r.techCodeStatus}),l.default.createElement(h.Input,{type:"text",name:"techCode",id:"techCode",value:this.state.ProjReq.techCode,onChange:this.handleOnChange}))),l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"业务方向",required:!1,colon:!0,className:t,help:r.biziCodeHint,validateStatus:r.biziCodeStatus}),l.default.createElement(h.Input,{type:"text",name:"biziCode",id:"biziCode",value:this.state.ProjReq.biziCode,onChange:this.handleOnChange})))),l.default.createElement(h.Row,null,l.default.createElement(h.Col,{span:"6"}),l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"人员类型",required:!1,colon:!0,className:t,help:r.manTypeHint,validateStatus:r.manTypeStatus}),l.default.createElement(m.default,{name:"manType",id:"manType",value:this.state.ProjReq.manType,appName:"项目管理",optName:"人员需求类型",onSelect:this.handleOnSelected.bind(this,"manType")}))),l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"人员级别",required:!1,colon:!0,className:t,help:r.manLevelHint,validateStatus:r.manLevelStatus}),l.default.createElement(m.default,{name:"manLevel",id:"manLevel",value:this.state.ProjReq.manLevel,appName:"项目管理",optName:"人员级别",onSelect:this.handleOnSelected.bind(this,"manLevel")}))),l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"从业经验",required:!1,colon:!0,className:t,help:r.induYearsHint,validateStatus:r.induYearsStatus}),l.default.createElement(h.Input,{type:"text",name:"induYears",id:"induYears",value:this.state.ProjReq.induYears,onChange:this.handleOnChange})))),l.default.createElement(h.Row,null,l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"调动类型",required:!1,colon:!0,className:t,help:r.reqTypeHint,validateStatus:r.reqTypeStatus}),l.default.createElement(m.default,{name:"reqType",id:"reqType",value:this.state.ProjReq.reqType,appName:"项目管理",optName:"变更类型",onSelect:this.handleOnSelected.bind(this,"reqType")}))),l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"最早开始",required:!1,colon:!0,className:t,help:r.beginDate1Hint,validateStatus:r.beginDate1Status}),l.default.createElement(h.DatePicker,{style:{width:"100%"},name:"beginDate1",id:"beginDate1",onChange:this.handleOnSelDate.bind(this,"beginDate1",p.dateFormat),value:this.formatDate(this.state.ProjReq.beginDate1,p.dateFormat)}))),l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"最晚开始",required:!1,colon:!0,className:t,help:r.beginDate2Hint,validateStatus:r.beginDate2Status}),l.default.createElement(h.DatePicker,{style:{width:"100%"},name:"beginDate2",id:"beginDate2",onChange:this.handleOnSelDate.bind(this,"beginDate2",p.dateFormat),value:this.formatDate(this.state.ProjReq.beginDate2,p.dateFormat)}))),l.default.createElement(h.Col,{span:"6"},l.default.createElement(f,i({},a,{label:"执行状态",required:!1,colon:!0,className:t,help:r.statusHint,validateStatus:r.statusStatus}),l.default.createElement(m.default,{name:"status",id:"status",value:this.state.ProjReq.status,appName:"项目管理",optName:"人员需求状态",onSelect:this.handleOnSelected.bind(this,"status")})))))))}}));e.exports=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(533),m=r(c),h=a(1),p=u.Input.Search,f=u.Radio.Button,g=u.Radio.Group,v=a(6),C=(a(3),a(535)),b=a(281),y=(a(14),10),S=n.default.createClass({displayName:"ProjReqPage",getInitialState:function(){return{ProjReqSet:{recordSet:[],startPage:0,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,viewType:"1",action:"query",ProjReq:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[h.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.projName;if(this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.ProjReqFilter;null!==a&&"undefined"!=typeof a&&(a.state.ProjReq=this.state.filter)}}this.setState({loading:!1,ProjReqSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",b.retrieveProjReqPage(this.state.filter,this.state.ProjReqSet.startPage,y)},componentDidMount:function(){this.state.filter.corpUuid=window.loginData.compUser.corpUuid,b.initProjReq(this.state.filter)},onGoBack:function(){this.setState({action:"query"})},onChangeView:function(e){this.setState({viewType:e.target.value})},onChangePage:function(e){console.log(e),this.state.ProjReqSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){y=t,this.handleQueryClick()},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onMoreSearch:function(){var e=this.refs.ProjReqFilter.state.ProjReq;console.log(e),this.state.filter=e,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;this.state.filter.projName=t,this.handleQueryClick()},render:function(){var e=[];e="1"!==this.state.viewType?[{title:"项目名称",dataIndex:"projName",key:"projName",width:120},{title:"人员数量",dataIndex:"reqCount",key:"reqCount",width:120},{title:"人员类型",dataIndex:"manType",key:"manType",width:120},{title:"技术方向",dataIndex:"techCode",key:"techCode",width:150},{title:"业务方向",dataIndex:"biziCode",key:"biziCode",width:180},{title:"从业经验",dataIndex:"induYears",key:"induYears",width:120},{title:"人员级别",dataIndex:"manLevel",key:"manLevel",width:120},{title:"到岗数量",dataIndex:"supCount",key:"supCount",width:120},{title:"执行状态",dataIndex:"status",key:"status",width:90}]:[{title:"项目名称",dataIndex:"projName",key:"projName",width:120},{title:"项目地址",dataIndex:"projLoc",key:"projLoc",width:120},{title:"项目经理",dataIndex:"pmName",key:"pmName",width:120},{title:"调动类型",dataIndex:"reqType",key:"reqType",width:120},{title:"预计开始",dataIndex:"beginDate",key:"beginDate",width:120,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"预计结束",dataIndex:"endDate",key:"endDate",width:120,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"人员类型",dataIndex:"manType",key:"manType",width:120},{title:"人员数量",dataIndex:"reqCount",key:"reqCount",width:120}];var t=this.state.ProjReqSet.recordSet,a=this.state.moreFilter,r="query"===this.state.action?"":"none",i={showQuickJumper:!0,total:this.state.ProjReqSet.totalRow,pageSize:this.state.ProjReqSet.pageRow,current:this.state.ProjReqSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},l=n.default.createElement("div",{className:"grid-page",style:{overflow:"hidden",display:r}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-hr-req-detail/retrieve1"]}),n.default.createElement(m.default,{ref:"ProjReqFilter",moreFilter:a}),n.default.createElement("div",null,n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(g,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeView},n.default.createElement(f,{value:"1"},"项目"),n.default.createElement(f,{value:"2"},"人员"))),a?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(p,{placeholder:"查询(项目名称)",style:{width:v.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:e,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:i,size:"middle",bordered:v.tableBorder,expandedRowRender:function(e){return n.default.createElement("div",null,n.default.createElement("p",null,e.techDesc),n.default.createElement("p",null,e.biziDesc))}})));return n.default.createElement("div",{style:{width:"100%"}},l)}});e.exports=S},function(e,t,a){"use strict";var r=a(1),i=a(281),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-hr-req-detail",e,t)},onGetCacheData:function(e){this.filter.projUuid!==e&&(this.filter={},this.recordSet=[],this.startPage=0,this.pageRow=0,this.totalRow=0),this.fireEvent("cache","",this)},onRetrieveProjReq:function(e){var t=this,a=this.getServiceUrl("proj-hr-req-detail/retrieve1");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){console.log(t.startPage),console.log(t.pageRow),console.log(t.totalRow),null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve1","",t)):t.fireEvent("retrieve1","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve1","调用服务错误",t)})},onRetrieveProjReqPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjReq(e)},onInitProjReq:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjReq(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(136),n=a(3),l=a(11),o=r.createStore({listenables:[i],poolUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({poolUuid:a.poolUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-role",e,t)},onRetrieveResRole:function(e){var t=this,a={};a.poolUuid=e;var r=this.getServiceUrl("res-role/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.poolUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResRolePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResRole(e)},onInitResRole:function(e){return this.recordSet.length>0&&this.poolUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveResRole(e)},onCreateResRole:function(e){var t=this.getServiceUrl("res-role/create");n.recordCreate(this,e,t)},onUpdateResRole:function(e){var t=this.getServiceUrl("res-role/update");n.recordUpdate(this,e,t)},onDeleteResRole:function(e){var t=this.getServiceUrl("res-role/remove");n.recordDelete(this,e,t)}});e.exports=o},,function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProjMember","retrieveProjMemberPage","retrieveStaffProj"]);e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=a(1),d=o.Select.Option,u=a(1283),c=a(708),m=n.default.createClass({displayName:"DeptGrpSelect",getInitialState:function(){return{deptSet:{recordSet:[]},loading:!1}},mixins:[s.listenTo(u,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&(this.state.deptSet=e,this.setState({loading:!1}))},getDeptNode:function(e){if("undefined"==typeof e&&(e=this.props.value),null===e||""===e||"undefined"==typeof e)return{};for(var t=this.state.deptSet.recordSet,a=t.length,r=0;r<a;r++)if(t[r].deptCode===e)return t[r];return{}},componentDidMount:function(){this.state.deptSet={recordSet:[]},this.setState({loading:!0});var e=window.loginData.compUser,t=null===e?"":e.corpUuid;c.initDeptGroup(t)},render:function(){var e=this.state.deptSet.recordSet,t=n.default.createElement(o.Select,this.props,e.map(function(e,t){return n.default.createElement(d,{key:e.deptCode,value:e.deptCode},e.deptCode===e.deptName?e.deptCode:e.deptCode+"-"+e.deptName)}));return this.state.loading?n.default.createElement(o.Spin,null,t):t}});t.default=m},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["initDeptGroup"]);e.exports=i},,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(33),o=r(l),s=a(6),d=n.default.createClass({displayName:"ProjLayout",getInitialState:function(){return{navItems:[{name:"公司管理",to:"/proj/cust/CustPage/"},{name:"项目和资源池",to:"/proj/proj/ProjPage/"},{name:"组员考勤",to:"/proj/proj/ChkProjPage/"},{name:"项目群管理",to:"/proj/group/ProjGroupPage/"},{name:"初始化",to:"/proj/proj2/ProjQueryPage/"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:s.projHome,home:"@/index.html?from=proj",children:this.props.children})}});e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(14),c=r(u),m=a(4),h=a(1357),p=r(h),f=a(1356),g=r(f),v=a(1),C=m.Input.Search,b=(m.Tabs.TabPane,a(6)),y=a(3),S=a(724),E=a(487),w=10,x=n.default.createClass({displayName:"BiziMemberPage",getInitialState:function(){return{biziMemberSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,biziMember:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[v.listenTo(S,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.BiziMemberFilter;null!==a&&"undefined"!=typeof a&&(a.state.biziMember=this.state.filter)}}this.setState({loading:!1,biziMemberSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.corpUuid=c.default.selectedBiziProj.corpUuid,this.state.filter.projUuid=c.default.selectedBiziProj.uuid,this.state.filter.more=this.state.moreFilter?"1":"0",E.retrieveBiziProjMemberPage(this.state.filter,this.state.biziMemberSet.startPage,w)},componentDidMount:function(){this.setState({loading:!0}),this.state.filter.corpUuid=c.default.selectedBiziProj.corpUuid,this.state.filter.projUuid=c.default.selectedBiziProj.uuid,E.initBiziProjMember(this.state.filter)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.biziMemberSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){w=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;b.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){this.state.filter=this.refs.BiziMemberFilter.state.biziMember,this.handleQueryClick()},onTabChange:function(e){"1"===e&&this.props.onBack()},onClickUpdate:function(e,t){this.setState({biziMember:e,action:"update"})},onClickLeave:function(e){this.setState({biziMember:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:140},{title:"公司/部门名称",dataIndex:"corpName",key:"corpName",width:140,render:function(e,t){return t.corpName?t.corpName:t.deptName}},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"离组日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员",style:{display:"#"===a.endDate?"none":"block"}},n.default.createElement(m.Icon,{type:b.iconUpdate})),n.default.createElement("a",{href:"#",onClick:e.onClickLeave.bind(e,a),title:"人员离组",style:{display:"#"===a.endDate?"block":"none"}},n.default.createElement(m.Icon,{type:"user-delete"})))}}],a=this.state.biziMemberSet.recordSet,r=this.state.moreFilter,i="query"===this.state.action?"":"none",l={showQuickJumper:!0,total:this.state.biziMemberSet.totalRow,pageSize:this.state.biziMemberSet.pageRow,current:this.state.biziMemberSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj-member/retrieve","bizi-proj-member/remove"]}),n.default.createElement(g.default,{ref:"BiziMemberFilter",moreFilter:r}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(m.Button,{icon:b.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(m.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(m.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(C,{placeholder:"查询(项目编号/项目名称)",style:{width:b.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(m.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(m.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:b.tableBorder}))),s=null;if("update"===this.state.action){
var u={};y.copyValue(this.state.biziMember,u),s=n.default.createElement(p.default,{onBack:this.onGoBack,biziMember:u})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});e.exports=x},function(e,t,a){"use strict";var r=a(1),i=a(487),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("bizi-proj-member",e,t)},onRetrieveBiziProjMember:function(e){var t=this,a=this.getServiceUrl("bizi-proj-member/retrieve1");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveBiziProjMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveBiziProjMember(e)},onInitBiziProjMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveBiziProjMember(e)},onCreateBiziProjMember:function(e){var t=this.getServiceUrl("bizi-proj-member/create");n.recordCreate(this,e,t)},onUpdateBiziProjMember:function(e){var t=this.getServiceUrl("bizi-proj-member/update1");n.recordUpdate(this,e,t)},onDeleteBiziProjMember:function(e){var t=this.getServiceUrl("bizi-proj-member/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1363),m=r(c),h=a(1362),p=r(h),f=a(30),g=r(f),v=a(133),C=r(v),b=a(1),y=a(11),S=u.Radio.Button,E=u.Radio.Group,w=(u.DatePicker.MonthPicker,"YYYY-MM-DD"),x=u.Input.Search,k=a(6),j=a(3),N=a(173),P=a(150),D=a(14),R=""+k.getToday(),M=n.default.createClass({displayName:"UserCheckPage",getInitialState:function(){return{userCheckSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,viewType:"1",workDate:R,filter:""}},mixins:[b.listenTo(N,"onServiceComplete"),(0,g.default)()],onServiceComplete:function(e){this.setState({loading:!1,userCheckSet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryUserChkBook(R)},onChangeDate:function(e){var t=e.target.value;this.queryUserChkBook(t),this.setState({loading:!0,workDate:t,selectedRowKeys:null})},queryUserChkBook:function(e){var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.workDate=e,t.chkCode=window.loginData.compUser.userCode,t.chkProj=D.selectedBiziProj.uuid,P.retrieveUserChkBook(t)},onChangeViewType:function(e){P.getCacheData(),this.setState({loading:!0,viewType:e.target.value})},onSelectChange:function(e){this.setState({selectedRowKeys:e})},getSelectedRows:function(){var e=this,t=[];this.state.userCheckSet.recordSet.length;return this.state.selectedRowKeys.map(function(a){t.push(e.state.userCheckSet.recordSet[a])}),t},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workDate:a}),this.queryUserChkBook(a)},showError:function(e){y.showError("res-member-snap","create-bizi-chk",e)},handleClickCheckBook:function(e){var t={corpUuid:window.loginData.compUser.corpUuid,projUuid:D.selectedBiziProj.uuid,chkDate:this.state.workDate,projName:D.selectedBiziProj.projName,projLoc:D.selectedBiziProj.projLoc,pmCode:D.selectedBiziProj.pmCode},a={startPage:0,pageRow:0,totalCount:0,totalRow:0,object:t};this.setState({loading:!0});var r=this,i=j.projUrl+"/res-member-snap/create-bizi-chk";j.doUpdateService(i,a).then(function(e,a,i){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.showError(""),r.queryUserChkBook(t.chkDate)):(r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]"),r.setState({loading:!1}))},function(e,t,a){r.setState({loading:!1}),r.showError("未知错误")})},handleClickBatchCheck:function(e){var t=this.state.workDate,a=this.getSelectedRows();console.log("checkList",a),this.refs.batchCheckWindow.clear(a,t),this.refs.batchCheckWindow.toggle()},onClickCheck:function(e){var t=this.state.workDate;this.refs.createWindow.clear(e,t),this.refs.createWindow.toggle()},onClickUpdate:function(e){var t=this.state.workDate;this.refs.createWindow.clear(e,t),this.refs.createWindow.toggle()},getTitleStyle:function(e){return null===e.checkUuid?{color:"red"}:null},getEditIcon:function(e){return null===e.checkUuid?"schedule":"edit"},render:function(){var e=this,t=(D.selectedBiziProj.uuid,k.filter(this.state.userCheckSet.recordSet,this.state.filterValue)),a=this.state.selectedRowKeys,r={selectedRowKeys:a,onChange:this.onSelectChange},i=[];if("1"===this.state.viewType)i=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"签到",dataIndex:"checkIn",key:"checkIn",width:140},{title:"签退",dataIndex:"checkOut",key:"checkOut",width:140},{title:"工时",dataIndex:"workHour",key:"workHour",width:140},{title:"加班",dataIndex:"overHour",key:"overHour",width:140},{title:"休假",dataIndex:"leaveHour",key:"leaveHour",width:140},{title:"经理",dataIndex:"pmName",key:"pmName",width:140},{title:"操作",key:"action",width:60,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{onClick:e.onClickCheck.bind(e,a),title:"考勤"},n.default.createElement(u.Icon,{type:e.getEditIcon(a)})))}}];else if("2"===this.state.viewType)var l=t.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:260}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"}},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title",style:e.getTitleStyle(t)},t.staffCode,"（",t.perName,"）")),n.default.createElement("div",{className:"ant-card-extra"},n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,t),title:"修改"},n.default.createElement(u.Icon,{type:k.iconUpdate}))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"80px",overflow:"hidden"}},n.default.createElement("p",null,"签到：",t.checkIn,"， 签退：",t.checkOut),n.default.createElement("p",null,"工时：",t.workHour,"， 加班：",t.overHour,"， 经理：",t.pmName))))});else"3"===this.state.viewType&&(i=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"签到",dataIndex:"checkIn",key:"checkIn",width:140},{title:"签退",dataIndex:"checkOut",key:"checkOut",width:140},{title:"工时",dataIndex:"workHour",key:"workHour",width:140},{title:"加班",dataIndex:"overHour",key:"overHour",width:140},{title:"休假",dataIndex:"leaveHour",key:"leaveHour",width:140},{title:"经理",dataIndex:"pmName",key:"pmName",width:140}]);var o=null;o="2"===this.state.viewType?n.default.createElement("div",{className:"card-body",style:{paddingTop:"6px"}},l):"3"===this.state.viewType?n.default.createElement("div",{style:{width:"100%",padding:"0 18px 18px 20px"},className:"grid-body"},n.default.createElement(u.Table,{columns:i,dataSource:t,rowSelection:r,rowKey:function(e){return e.id},loading:this.state.loading,pagination:!1,size:"small",bordered:!0})):n.default.createElement("div",{style:{width:"100%",padding:"0 18px 18px 20px"},className:"grid-body"},n.default.createElement(u.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"small",bordered:k.tableBorder}));var s=k.getCardMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:s.padding}},n.default.createElement("div",{style:{margin:s.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/remove","res-member-snap/create-bizi-chk"]}),n.default.createElement("div",{className:"toolbar-table"},"3"===this.state.viewType?n.default.createElement(u.Button,{type:"primary",style:{marginRight:"12px"},onClick:this.handleClickBatchCheck},"创建考勤"):null,n.default.createElement(C.default,{value:this.state.workDate,onChange:this.onChangeDate}),n.default.createElement(u.DatePicker,{style:{width:"100px",marginLeft:"16px"},format:w,onChange:this.datePicker,allowClear:!1}),n.default.createElement(u.Button,{type:"primary",style:{marginLeft:"16px"},onClick:this.handleClickCheckBook},"生成考勤表"),n.default.createElement("div",{style:{float:"right"}},n.default.createElement(E,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeViewType},n.default.createElement(S,{value:"1"},n.default.createElement(u.Icon,{type:"bars"})),n.default.createElement(S,{value:"2"},n.default.createElement(u.Icon,{type:"credit-card"})),n.default.createElement(S,{value:"3"},n.default.createElement(u.Icon,{type:"check-square-o"})))),"3"===this.state.viewType?null:n.default.createElement(x,{placeholder:"查询",style:{width:"120px",marginLeft:"16px",float:"right"},value:this.state.filterValue,onChange:this.onFilterRecord}))),o,n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"batchCheckWindow"}))}});e.exports=M},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1368),m=r(c),h=a(1369),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=(a(3),a(491)),b=a(357),y=10,S=n.default.createClass({displayName:"CustPage",getInitialState:function(){return{custSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[f.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,custSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",b.retrieveProjCustPage(this.state.filter,this.state.custSet.startPage,y)},componentDidMount:function(){b.getCacheData()},handleOpenCreateWindow:function(e){var t=window.loginData.compUser.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的客户 【"+e.custName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),b.deleteProjCust(e.uuid)},onChangePage:function(e){this.state.custSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){y=t,this.handleQueryClick()},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;v.isIncNumber(t)?this.state.filter.custCode=t:this.state.filter.custName=t,this.handleQueryClick()},render:function(){var e=this,t=this.state.custSet.recordSet,a=[{title:"客户编号",dataIndex:"custCode",key:"custCode",width:140},{title:"客户简称",dataIndex:"custName",key:"custName",width:200},{title:"客户名称",dataIndex:"custDesc",key:"custDesc",width:140},{title:"销售区域",dataIndex:"marketArea",key:"marketArea",width:140},{title:"交付区域",dataIndex:"delivArea",key:"delivArea",width:140},{title:"客户经理",dataIndex:"custManager",key:"custManager",width:140},{title:"所属行业",dataIndex:"custIndust",key:"custIndust",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改客户"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除客户"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}],r=v.getGridMargin(this),i={showQuickJumper:!0,total:this.state.custSet.totalRow,pageSize:this.state.custSet.pageRow,current:this.state.custSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return n.default.createElement("div",{className:"grid-page",style:{padding:r.padding}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_cust/retrieve","proj_cust/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加客户",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查询(公司编号/公司名称)",style:{width:v.searchWidth},value:this.state.filterValue,onChange:this.onFilterRecord,onSearch:this.onSearch})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:i,size:"middle",bordered:v.tableBorder})),n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}),"·")}});e.exports=S},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveGroupMember","retrieveGroupMemberPage","getCacheData"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1),m=s.Input.Search,h=a(6),p=(a(3),a(270)),f=a(224),g=a(14),v=10,C=n.default.createClass({displayName:"ProjQueryPage",getInitialState:function(){return{projSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,errMsg:""},loading:!1,filterValue:"",filter:{}}},mixins:[c.listenTo(p,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.projCode;null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.projName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter}this.setState({loading:!1,projSet:e})},componentDidMount:function(){f.getCacheData()},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more="0",f.retrieveProjInfoPage(this.state.filter,this.state.projSet.startPage,v)},onChangePage:function(e){this.state.projSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){v=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;h.isIncNumber(t)?this.state.filter.projCode=t:this.state.filter.projName=t,this.handleQueryClick()},handleAppClick:function(e){g.openInitProjPage(e)},render:function(){var e=this,t=[{title:"项目编号",dataIndex:"projCode",key:"projCode",width:140},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"业务类型",dataIndex:"biziType",key:"biziType",width:140},{title:"项目类型",dataIndex:"projType",key:"projType",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return h.formatDate(e,h.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return h.formatDate(e,h.dateFormat)}},{title:"成员",dataIndex:"memberCount",key:"memberCount",width:90},{title:"项目经理",dataIndex:"pmName",key:"pmName",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.handleAppClick.bind(e,a),title:"项目详情"},n.default.createElement(s.Icon,{type:"bars"})))}}],a=this.state.projSet.recordSet,r={showQuickJumper:!0,total:this.state.projSet.totalRow,pageSize:this.state.projSet.pageRow,current:this.state.projSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto"}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj_info/retrieve","proj_info/remove"]}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:h.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(m,{placeholder:"查询(项目组编号/项目组名称)",style:{width:h.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch})))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(s.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:h.tableBorder})))}});e.exports=C},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjTaskDisp","deleteProjTaskDisp","updateProjTaskDisp","retrieveProjTaskDisp","retrieveProjTaskDispPage","initProjTaskDisp"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1406),c=r(u),m=a(1),h=d.Input.Search,p=a(6),f=a(3),g=a(739),v=a(502),C={children:o.default.PropTypes.node,corpUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectContract:o.default.PropTypes.func},b=o.default.createClass({displayName:"SearchContract",getInitialState:function(){return{contractSet:{recordSet:[],operation:"",errMsg:""},filterValue:"",hint:"",corpUuid:window.loginData.compUser.corpUuid,showError:this.props.showError,onSelectContract:this.props.onSelectContract,loading:!1}},mixins:[m.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectContractPage;if(!t.state.modal){var a=e.recordSet.length;if(console.log(a),0===a){var r=""===e.errMsg?"没有找到合同":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectContract(e.recordSet[0]):a>1&&(this.refs.SelectContractPage.clear(e),this.refs.SelectContractPage.toggle());this.setState({loading:!1,ContractSet:e})}},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.corpUuid=this.state.corpUuid,p.isIncNumber(e)?t.contCode=e:t.contName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveContEventPage(t)},render:function(){var e=this.props,t=(e.corpUuid,e.showError,e.onSelectContract,e.style),a=i(e,["corpUuid","showError","onSelectContract","style"]),r={},l=t;""!==this.state.hint&&(l={},f.copyValue(t,r),f.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"(合同名称/编号查询)",defaultValue:this.state.filterValue,style:l},a,{onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px",paddingTop:"16px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"(合同名称/编号查询)",defaultValue:this.state.filterValue,style:l},a,{onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectContractPage",onSelectContract:this.state.onSelectContract}))}});b.propTypes=C,e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1407),c=r(u),m=a(1),h=d.Input.Search,p=a(6),f=a(3),g=a(740),v=a(503),C={children:o.default.PropTypes.node,corpUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectCust:o.default.PropTypes.func},b=o.default.createClass({displayName:"SearchCust",getInitialState:function(){return{CustSet:{recordSet:[],operation:"",errMsg:""},filterValue:"",hint:"",corpUuid:window.loginData.compUser.corpUuid,showError:this.props.showError,onSelectCust:this.props.onSelectCust,loading:!1}},mixins:[m.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectCustPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到公司":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectCust(e.recordSet[0]):a>1&&(this.refs.SelectCustPage.clear(e),this.refs.SelectCustPage.toggle());this.setState({loading:!1,CustSet:e})}},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.corpUuid=this.state.corpUuid,p.isIncNumber(e)?t.custCode=e:t.custName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveProjCustPage(t)},render:function(){var e=this.props,t=(e.corpUuid,e.showError,e.onSelectCust,e.style),a=i(e,["corpUuid","showError","onSelectCust","style"]),r={},l=t;""!==this.state.hint&&(l={},f.copyValue(t,r),f.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"(客户编号/名称查询)",defaultValue:this.state.filterValue,style:l},a,{onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px",paddingTop:"16px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"(客户编号/名称查询)",defaultValue:this.state.filterValue,style:l},a,{onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectCustPage",onSelectCust:this.state.onSelectCust}))}});b.propTypes=C,e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1408),c=r(u),m=a(1),h=d.Input.Search,p=a(6),f=a(3),g=a(741),v=a(504),C={children:o.default.PropTypes.node,outUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectStaff:o.default.PropTypes.func},b=o.default.createClass({displayName:"SearchOutStaff",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{outStaffSet:{recordSet:[],operation:"",errMsg:""},filterValue:e,hint:"",corpUuid:window.loginData.compUser.corpUuid,outUuid:this.props.outUuid,showError:this.props.showError,onSelectStaff:this.props.onSelectStaff,loading:!1}},mixins:[m.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectOutStaffPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到外协人员":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectStaff(e.recordSet[0]):a>1&&(this.refs.SelectOutStaffPage.clear(e),this.refs.SelectOutStaffPage.toggle());this.setState({loading:!1,outStaffSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.corpUuid=this.state.corpUuid,t.outUuid=this.state.outUuid,p.isIncNumber(e)?t.staffCode=e:t.perName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveOutStaffPage(t,1,10)},render:function(){var e=this.props,t=(e.outUuid,e.showError,e.onSelectStaff,e.style),a=(e.value,i(e,["outUuid","showError","onSelectStaff","style","value"])),r={},l=t;""!==this.state.hint&&(l={},f.copyValue(t,r),f.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px",paddingTop:"16px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectOutStaffPage",onSelectStaff:this.state.onSelectStaff}))}});b.propTypes=C,e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1410),c=r(u),m=a(1),h=d.Input.Search,p=(a(6),a(3)),f=a(509),g=a(364),v={children:o.default.PropTypes.node,corpUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectGroup:o.default.PropTypes.func},C=o.default.createClass({displayName:"SearchProjGroup",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{projGroupSet:{recordSet:[],operation:"",errMsg:""},filterValue:e,hint:"",corpUuid:this.props.corpUuid,showError:this.props.showError,onSelectGroup:this.props.onSelectGroup,loading:!1}},mixins:[m.listenTo(f,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectProjGroupPage;if(!t.state.modal&&this.state.loading){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到项目群":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectGroup(e.recordSet[0]):a>1&&(this.refs.SelectProjGroupPage.clear(e),this.refs.SelectProjGroupPage.toggle());this.setState({loading:!1,projGroupSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.corpUuid=this.state.corpUuid,t.grpName=e,this.setState({filterValue:e,loading:!0,hint:""}),g.retrieveProjGroupPage(t,1,10)},render:function(){var e=this.props,t=(e.projUuid,e.showError,e.onSelectGroup,e.style),a=(e.value,i(e,["projUuid","showError","onSelectGroup","style","value"])),r={},l=t;""!==this.state.hint&&(l={},p.copyValue(t,r),p.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"项目群查询",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"项目群查询",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectProjGroupPage",onSelectGroup:this.state.onSelectGroup}))}});C.propTypes=v,e.exports=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1411),c=r(u),m=a(1),h=d.Input.Search,p=(a(6),a(3)),f=a(743),g=a(506),v=(a(14),{children:o.default.PropTypes.node,grpUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectProjTask:o.default.PropTypes.func}),C=o.default.createClass({displayName:"SearchProjTask",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{ProjTaskSet:{recordSet:[],operation:"",errMsg:""},filterValue:e,hint:"",grpUuid:this.props.grpUuid,showError:this.props.showError,onSelectProjTask:this.props.onSelectProjTask,loading:!1}},mixins:[m.listenTo(f,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectProjTaskPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到订单和任务":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectProjTask(e.recordSet[0]):a>1&&(this.refs.SelectProjTaskPage.clear(e),this.refs.SelectProjTaskPage.toggle());this.setState({loading:!1,ProjTaskSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.grpUuid=this.state.grpUuid,void 0!==t.grpUuid&&null!==t.grpUuid&&""!==t.grpUuid||(t.corpUuid=window.loginData.compUser.corpUuid),t.ordName=e,this.setState({filterValue:e,loading:!0,hint:""}),g.retrieveProjTaskPage(t,1,10)},render:function(){var e=this.props,t=(e.grpUuid,e.showError,e.onSelectProjTask,e.style),a=(e.value,i(e,["grpUuid","showError","onSelectProjTask","style","value"])),r={},l=t;""!==this.state.hint&&(l={},p.copyValue(t,r),p.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{
style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"(订单名称查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px",paddingTop:"16px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"(订单名称查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectProjTaskPage",onSelectProjTask:this.state.onSelectProjTask}))}});C.propTypes=v,e.exports=C},,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(4),o=a(7),s=r(o),d=a(1),u=a(6),c=a(510),m=a(365),h=n.default.createClass({displayName:"SelectProjMember",getInitialState:function(){return{projMemberSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectProjMember:{},modal:!1,queryType:""}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projMemberSet:e,selectIndex:-1,selectProjMember:{}})},componentDidMount:function(){},clear:function(e,t){this.state.queryType=t,this.state.projMemberSet=e,this.state.selectIndex=-1,this.state.selectProjMember={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectMember(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.projMemberSet.startPage=e;var t=this.state.projMemberSet.filter;"group"===this.state.queryType?m.retrieveGroupMemberPage(t,e,this.state.projMemberSet.pageRow):m.retrieveProjMemberPage(t,e,this.state.projMemberSet.pageRow)},render:function(){var e=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return u.formatDate(e,u.dateFormat)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:140}],t=this.state.projMemberSet.recordSet,a={showQuickJumper:!0,total:this.state.projMemberSet.totalRow,pageSize:this.state.projMemberSet.pageRow,current:this.state.projMemberSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(l.Modal,{visible:this.state.modal,width:"760px",title:"选择项目组人员",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(s.default,{ref:"mxgBox",svcList:["hr-projMember/retrieve"]}),n.default.createElement(l.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=h},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProj","initProj"]);e.exports=i},,function(e,t,a){"use strict";var r=a(1),i=a(502),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_contract",e,t)},onRetrieveContEvent:function(e){var t=this,a=this.getServiceUrl("proj_contract/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveContEventPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveContEvent(e)},onInitContEvent:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveContEvent(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(503),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_cust",e,t)},onRetrieveProjCust:function(e){var t=this,a=this.getServiceUrl("proj_cust/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjCustPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjCust(e)},onInitProjCust:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjCust(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(504),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("out-staff",e,t)},onRetrieveOutStaff:function(e){var t=this,a=this.getServiceUrl("out-staff/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveOutStaffPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveOutStaff(e)},onInitOutStaff:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveOutStaff(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(505),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-disp",e,t)},onRetrieveProjDisp:function(e){var t=this,a=this.getServiceUrl("proj-disp/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){console.log(a),null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjDispPage:function(e,t,a){console.log(e),this.startPage=t,this.pageRow=a,this.onRetrieveProjDisp(e)},onInitProjDisp:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjMember(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(506),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-order",e,t)},onRetrieveProjTask:function(e){var t=this,a=this.getServiceUrl("proj-order/retrieve1");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjTaskPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjTask(e)},onInitProjTask:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTask(e)}});e.exports=o},,function(e,t,a){"use strict";var r=a(1),i=a(508),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onRetrieveTempProjMember:function(e){var t=this,a=this.getServiceUrl("proj_temp_member/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveTempProjMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveTempProjMember(e)},onInitTempProjMember:function(e,t,a){return this.recordSet.length>0&&this.startPage===t&&this.pageRow===a&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):(this.startPage=t,this.pageRow=a,void this.onRetrieveTempProjMember(e))}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s={children:n.default.PropTypes.node},d=n.default.createClass({displayName:"CustPageIndex",getInitialState:function(){return{navItems:[{name:"客户管理",to:"/proj/cust/CustPage/"},{name:"合同管理",icon:"home",to:"man_cust",childItems:[{name:"合同管理",to:"/proj/cust/ContractPage/"},{name:"订单管理",to:"/proj/cust/ProjOrderPage/"},{name:"合同事件",to:"/proj/cust/EventPage/"}]},{name:"外协公司",icon:"home",to:"man_out",childItems:[{name:"公司管理",to:"/proj/out/CorpPage/"},{name:"人员查询",to:"/proj/out/StaffQueryPage/"}]}]}},render:function(){var e=this.props.location.pathname;return void 0!==e&&null!==e&&""!==e||(e="/proj/cust/CustPage/"),n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:e,children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1431),m=r(c),h=a(1432),p=r(h),f=a(14),g=r(f),v=a(1),C=u.Input.Search,b=a(6),y=(a(3),a(513)),S=a(366),E="",w=n.default.createClass({displayName:"CorpPage",getInitialState:function(){return{corpSet:{recordSet:[],errMsg:""},loading:!1}},mixins:[v.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,corpSet:e})},handleQueryClick:function(e){var t=window.loginData.compUser.corpUuid;this.setState({loading:!0}),S.retrieveOutCorp(t)},componentDidMount:function(){var e=window.loginData.compUser.corpUuid;this.setState({loading:!0}),S.initOutCorp(e)},handleOpenCreateWindow:function(e){var t=window.loginData.compUser.corpUuid;this.refs.createWindow.clear(t),this.refs.createWindow.toggle()},handleCorpClick:function(e,t){null!=e&&g.default.openOutCorpPage(e),t.stopPropagation()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle()),t.stopPropagation()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的外协公司 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)}),t.stopPropagation()},onClickDelete2:function(e){this.setState({loading:!0}),S.deleteOutCorp(e.uuid)},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=b.filter(this.state.corpSet.recordSet,E),a=t.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleCorpClick.bind(e,t),title:"点击进入公司维护页面"},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.corpName)),n.default.createElement("div",{className:"ant-card-extra"},n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,t),title:"修改"},n.default.createElement(u.Icon,{type:b.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,t),title:"删除"},n.default.createElement(u.Icon,{type:b.iconRemove}))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"66px",overflow:"hidden"}},t.corpDesc)))}),r=b.getCardMargin(this);return n.default.createElement("div",{className:"card-page",style:{padding:r.padding}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["out-corp/retrieve","out-corp/remove"]}),n.default.createElement("div",{className:"toolbar-card"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement("div",{style:{paddingTop:"16px",paddingRight:"4px",display:"inline"}},t.length,"个公司"),n.default.createElement(u.Icon,{type:"plus-circle-o",onClick:this.handleOpenCreateWindow,title:"增加外协公司",className:"toolbar-icon",style:{color:"#108ee9"}}),n.default.createElement(u.Icon,{type:"reload",onClick:this.handleQueryClick,title:"刷新数据",className:"toolbar-icon",style:{paddingLeft:"8px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(C,{placeholder:"查找记录",style:{width:b.searchWidth},value:E,onChange:this.onFilterRecord})))),this.state.loading?n.default.createElement(u.Spin,{tip:"正在努力加载数据...",style:{minHeight:"200px"}},a):n.default.createElement("div",{className:"card-body"},a),n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1440),m=r(c),h=a(1444),p=r(h),f=a(1441),g=r(f),v=a(1442),C=r(v),b=a(14),y=r(b),S=a(1),E=u.Input.Search,w=a(6),x=(a(3),a(515)),k=a(367),j=10,N=n.default.createClass({displayName:"StaffPage",getInitialState:function(){return{staffSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[S.listenTo(x,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.StaffFilter;null!==a&&"undefined"!=typeof a&&(a.state.filter=e.filter)}}this.setState({loading:!1,staffSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.outUuid=y.default.selectedOutCorp.uuid,t.more=this.state.moreFilter?"1":"0",k.retrieveOutStaffPage(t,this.state.staffSet.startPage,j)},componentDidMount:function(){var e=y.default.selectedOutCorp.uuid;this.setState({loading:!1}),k.getCacheData(e)},handleOpenCreateWindow:function(e){this.setState({action:"create"})},nextCreateUser:function(e,t){this.refs.nextWindow.toggle(),this.refs.nextWindow.initOutStaff(e,t)},onClickUpdate:function(e,t){this.setState({staff:e,action:"update"})},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的人员",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.staffSet.operation="",k.deleteOutStaff(e.uuid)},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;w.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onSearch3:function(){var e=this.refs.StaffFilter.state.filter;this.state.filter=e,this.handleQueryClick()},onChangePage:function(e){this.state.staffSet.startPage=e,this.handleQueryClick()},onGoBack:function(){this.setState({action:"query"})},onShowSizeChange:function(e,t){j=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},getWorkYear:function(e){if(void 0===e||null===e||""===e)return"";var t=e.indexOf(".");if(t>0){var a=e.substr(0,t),r=e.substr(t+1),i=parseInt(a),n=parseInt(r);return n>0?""+i+"年"+n+"月":""+i+"年"}return e+"年"},render:function(){var e=this,t=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:140},{title:"最高学历",dataIndex:"eduDegree",key:"eduDegree",width:140},{title:"毕业院校",dataIndex:"eduCollege",key:"eduCollege",width:140},{title:"工作年限",dataIndex:"workYears",key:"workYears",width:140,render:function(t,a){return e.getWorkYear(t)}},{title:"行业经验",dataIndex:"induYears",key:"induYears",width:140,render:function(t,a){return e.getWorkYear(t)}},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员"},n.default.createElement(u.Icon,{type:w.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员"},n.default.createElement(u.Icon,{type:w.iconRemove})))}}],a=this.state.staffSet.recordSet,r=this.state.moreFilter,i="query"===this.state.action?"":"none",l={showQuickJumper:!0,total:this.state.staffSet.totalRow,pageSize:this.state.staffSet.pageRow,current:this.state.staffSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["out-staff/retrieve","out-staff/remove"]}),n.default.createElement(C.default,{ref:"StaffFilter",moreFilter:r}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:w.iconAdd,type:"primary",title:"增加人员",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:w.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading,style:{marginRight:"8px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.filterToggle},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(E,{placeholder:"查询(员工编号/员工姓名)",style:{width:w.searchWidth},value:this.state.filterValue,onChange:this.onFilterRecord,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.filterToggle,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:w.tableBorder}))),s=null;return"create"===this.state.action?s=n.default.createElement(m.default,{onBack:this.onGoBack,funcCreateUser:this.nextCreateUser}):"update"===this.state.action&&(s=n.default.createElement(p.default,{onBack:this.onGoBack,staff:this.state.staff})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s,n.default.createElement(g.default,{ref:"nextWindow"}))}});e.exports=N},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["deleteOutJob","updateOutJob","retrieveOutJob","retrieveOutJobPage","initOutJob","getCacheData"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(528),m=r(c),h=a(527),p=r(h),f=a(30),g=r(f),v=a(133),C=r(v),b=a(1),y=a(11),S=u.Radio.Button,E=u.Radio.Group,w=(u.DatePicker.MonthPicker,"YYYY-MM-DD"),x=u.Input.Search,k=a(6),j=a(3),N=a(173),P=a(150),D=a(14),R=""+k.getToday(),M=n.default.createClass({displayName:"GroupCheckPage",getInitialState:function(){return{userCheckSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,errMsg:""},loading:!1,viewType:"1",workDate:R,filter:""}},mixins:[b.listenTo(N,"onServiceComplete"),(0,g.default)()],onServiceComplete:function(e){this.setState({loading:!1,userCheckSet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryUserChkBook(R)},onChangeDate:function(e){var t=e.target.value;this.queryUserChkBook(t),this.setState({loading:!0,workDate:t,selectedRowKeys:null})},queryUserChkBook:function(e){var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.workDate=e,t.chkCode=window.loginData.compUser.userCode,t.chkProj=D.selectedGroup.uuid,P.retrieveUserChkBook(t)},onChangeViewType:function(e){P.getCacheData(),this.setState({loading:!0,viewType:e.target.value})},onSelectChange:function(e){this.setState({selectedRowKeys:e})},getSelectedRows:function(){var e=this,t=[];this.state.userCheckSet.recordSet.length;return this.state.selectedRowKeys.map(function(a){t.push(e.state.userCheckSet.recordSet[a])}),t},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workDate:a}),this.queryUserChkBook(a)},showError:function(e){y.showError("res-member-snap","create-group-chk",e)},handleClickCheckBook:function(e){var t={corpUuid:window.loginData.compUser.corpUuid,grpUuid:D.selectedGroup.uuid,chkDate:this.state.workDate,grpName:D.selectedGroup.grpName},a={startPage:0,pageRow:0,totalCount:0,totalRow:0,object:t};this.setState({loading:!0});var r=this,i=j.projUrl+"/res-member-snap/create-group-chk";j.doUpdateService(i,a).then(function(e,a,i){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.showError(""),r.queryUserChkBook(t.chkDate)):(r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]"),r.setState({loading:!1}))},function(e,t,a){r.setState({loading:!1}),r.showError("未知错误")})},handleClickBatchCheck:function(e){var t=this.state.workDate,a=this.getSelectedRows();console.log("checkList",a),this.refs.batchCheckWindow.clear(a,t),this.refs.batchCheckWindow.toggle()},onClickCheck:function(e){var t=this.state.workDate;this.refs.createWindow.clear(e,t),this.refs.createWindow.toggle()},onClickUpdate:function(e){var t=this.state.workDate;this.refs.createWindow.clear(e,t),this.refs.createWindow.toggle()},getTitleStyle:function(e){return null===e.checkUuid?{color:"red"}:null},getEditIcon:function(e){return null===e.checkUuid?"schedule":"edit"},onClickDelete:function(e,t){var a={};a.uuid=e.uuid,a.checkUuid=e.checkUuid,u.Modal.confirm({title:"删除确认",content:"是否删除【"+e.perName+"】的考勤数据",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,a)})},onClickDelete2:function(e){this.setState({loading:!0}),P.deleteUserChkBook(e)},render:function(){var e=this,t=(D.selectedGroup.uuid,k.filter(this.state.userCheckSet.recordSet,this.state.filterValue)),a=this.state.selectedRowKeys,r={selectedRowKeys:a,onChange:this.onSelectChange},i=[];if("1"===this.state.viewType)i=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"项目组",dataIndex:"resName",key:"resName",width:140},{title:"签到",dataIndex:"checkIn",key:"checkIn",width:140},{title:"签退",dataIndex:"checkOut",key:"checkOut",width:140},{title:"工时",dataIndex:"workHour",key:"workHour",width:140},{title:"加班",dataIndex:"overHour",key:"overHour",width:140},{title:"休假",dataIndex:"leaveHour",key:"leaveHour",width:140},{title:"经理",dataIndex:"pmName",key:"pmName",width:140},{title:"操作",key:"action",width:60,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{onClick:e.onClickCheck.bind(e,a),title:"考勤"},n.default.createElement(u.Icon,{type:e.getEditIcon(a)})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除考勤数据"},n.default.createElement(u.Icon,{type:k.iconRemove})))}}];else if("2"===this.state.viewType)var l=t.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:260}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"}},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title",style:e.getTitleStyle(t)},t.staffCode,"（",t.perName,"）")),n.default.createElement("div",{className:"ant-card-extra"},n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,t),title:"修改"},n.default.createElement(u.Icon,{type:k.iconUpdate}))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"80px",overflow:"hidden"}},n.default.createElement("p",null,"签到：",t.checkIn,"， 签退：",t.checkOut),n.default.createElement("p",null,"工时：",t.workHour,"， 加班：",t.overHour,"， 经理：",t.pmName))))});else"3"===this.state.viewType&&(i=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"项目组",dataIndex:"resName",key:"resName",width:140},{title:"签到",dataIndex:"checkIn",key:"checkIn",width:140},{title:"签退",dataIndex:"checkOut",key:"checkOut",width:140},{title:"工时",dataIndex:"workHour",key:"workHour",width:140},{title:"加班",dataIndex:"overHour",key:"overHour",width:140},{title:"休假",dataIndex:"leaveHour",key:"leaveHour",width:140},{title:"经理",dataIndex:"pmName",key:"pmName",width:140}]);var o=null;o="2"===this.state.viewType?n.default.createElement("div",{className:"card-body",style:{paddingTop:"6px"}},l):"3"===this.state.viewType?n.default.createElement("div",{style:{padding:"0 18px 18px 20px"},className:"grid-body"},n.default.createElement(u.Table,{columns:i,dataSource:t,rowSelection:r,rowKey:function(e){return e.id},loading:this.state.loading,pagination:!1,size:"small",bordered:!0})):n.default.createElement("div",{style:{padding:"0 18px 18px 20px"},className:"grid-body"},n.default.createElement(u.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"small",bordered:k.tableBorder}));var s=k.getCardMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:s.padding}},n.default.createElement("div",{style:{margin:s.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/remove","res-member-snap/create-group-chk"]}),n.default.createElement("div",{className:"toolbar-table"},"3"===this.state.viewType?n.default.createElement(u.Button,{type:"primary",style:{marginRight:"12px"},onClick:this.handleClickBatchCheck},"创建考勤"):null,n.default.createElement(C.default,{value:this.state.workDate,onChange:this.onChangeDate}),n.default.createElement(u.DatePicker,{style:{width:"100px",marginLeft:"16px"},format:w,onChange:this.datePicker,allowClear:!1}),n.default.createElement(u.Button,{type:"primary",style:{marginLeft:"16px"},onClick:this.handleClickCheckBook},"生成考勤表"),n.default.createElement("div",{style:{float:"right"}},n.default.createElement(E,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeViewType},n.default.createElement(S,{value:"1"},n.default.createElement(u.Icon,{type:"bars"})),n.default.createElement(S,{value:"2"},n.default.createElement(u.Icon,{type:"credit-card"})),n.default.createElement(S,{value:"3"},n.default.createElement(u.Icon,{type:"check-square-o"})))),"3"===this.state.viewType?null:n.default.createElement(x,{placeholder:"查询",style:{width:"120px",marginLeft:"16px",float:"right"},value:this.state.filterValue,onChange:this.onFilterRecord}))),o,n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"batchCheckWindow"}))}});e.exports=M},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1448),m=r(c),h=a(1449),p=r(h),f=a(1),g=s.Input.Search,v=a(6),C=a(3),b=a(516),y=a(368),S="",E=n.default.createClass({displayName:"GroupManPage",getInitialState:function(){return{groupManSet:{recordSet:[],errMsg:""},loading:!1,action:"query",groupMan:null,oldIndex:-1}},mixins:[f.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){if(this.setState({loading:!1,groupManSet:e}),"retrieve"===e.operation)for(var t=e.recordSet.length,a=0;a<t;a++)if("1"==e.recordSet[a].chkRole)return void this.setState({oldIndex:a})},handleQueryClick:function(e){this.setState({loading:!0}),y.retrieveGroupMan()},componentDidMount:function(){this.setState({loading:!0}),y.initGroupMan()},handleOpenCreateWindow:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){null!=e&&this.setState({groupMan:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的项目群管理员 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.deleteGroupMan(e.uuid)},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},onRoleCheck:function(e,t){var a={};return C.copyValue(e,a),"1"==a.chkRole?(a.chkRole="0",this.setState({loading:!0,oldIndex:-1}),void y.updateGroupMan(a)):void(this.state.oldIndex!==-1&&this.state.oldIndex!==t?s.Modal.warning({title:"非法操作",content:"已存在考勤员，请先取消原考勤员",okText:"确定"}):this.onRoleCheck2(a,t))},onRoleCheck2:function(e,t){e.chkRole="1",this.setState({loading:!0,oldIndex:t}),y.updateGroupMan(e)},render:function(){var e=this,t=v.filter(this.state.groupManSet.recordSet,S),a=[{title:"角色",dataIndex:"roleName",key:"roleName",width:140,render:function(t,a){return C.getOptionName("项目管理","项目群角色",t,!1,e)}},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"考勤员",dataIndex:"chkRole",key:"chkRole",width:140,render:function(t,a,r){return n.default.createElement("input",{type:"checkbox",name:"chkRole",checked:"1"==t,onClick:e.onRoleCheck.bind(e,a,r)})}},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目群管理员"},n.default.createElement(s.Icon,{
type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目群管理员"},n.default.createElement(s.Icon,{type:v.iconRemove})))}}],r=v.getGridMargin(this),i="query"===this.state.action?"":"none",l=n.default.createElement("div",{className:"grid-page",style:{padding:r.padding,display:i}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["group-man/retrieve","group-man/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:v.iconAdd,type:"primary",title:"增加项目群管理员",onClick:this.handleOpenCreateWindow}),n.default.createElement(s.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:S,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder}))),o=null;return"create"===this.state.action?o=n.default.createElement(m.default,{onBack:this.onGoBack}):"update"===this.state.action&&(o=n.default.createElement(p.default,{onBack:this.onGoBack,groupMan:this.state.groupMan})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},l,o)}});e.exports=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1450),m=r(c),h=a(1451),p=r(h),f=a(1),g=s.Input.Search,v=a(6),C=a(3),b=a(14),y=a(517),S=a(369),E="",w=n.default.createClass({displayName:"ProjGroupPage",getInitialState:function(){return{projGroupSet:{recordSet:[]},loading:!1,sortedInfo:null}},mixins:[f.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projGroupSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=window.loginData.compUser.corpUuid;S.retrieveProjGroup(t)},componentDidMount:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid;S.initProjGroup(e)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的项目 【"+e.grpCode+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),S.deleteProjGroup(e.uuid)},onClickManage:function(e,t){b.openProjGroupPage(e,t)},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},handleSortChange:function(e,t,a){console.log("sorter",a),this.setState({sortedInfo:a})},render:function(){var e=this,t=v.filter(this.state.projGroupSet.recordSet,E),a=this.state.sortedInfo;a=a||{};var r=[{title:"编号",dataIndex:"grpCode",key:"grpCode",width:140,sorter:function(e,t){return e.grpCode.localeCompare(t.grpCode)},sortOrder:"grpCode"===a.columnKey&&a.order},{title:"业务集群",dataIndex:"deptCode",key:"deptCode",width:140,sorter:function(e,t){return e.deptCode.localeCompare(t.deptCode)},sortOrder:"deptCode"===a.columnKey&&a.order},{title:"项目群",dataIndex:"grpName",key:"grpName",width:140,sorter:function(e,t){return e.grpName.localeCompare(t.grpName)},sortOrder:"grpName"===a.columnKey&&a.order},{title:"创建日",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)},sorter:function(e,t){return e.beginDate.localeCompare(t.beginDate)},sortOrder:"beginDate"===a.columnKey&&a.order},{title:"客户",dataIndex:"custName",key:"custName",width:140,sorter:function(e,t){return e.custName.localeCompare(t.custName)},sortOrder:"custName"===a.columnKey&&a.order},{title:"成员",dataIndex:"memberCount",key:"memberCount",width:90},{title:"状态",dataIndex:"grpStatus",key:"grpStatus",width:140,render:function(t,a){return C.getOptionName("项目管理","项目群状态",a.grpStatus,!1,e)}},{title:"形式",dataIndex:"orgType",key:"orgType",width:140,render:function(t,a){return C.getOptionName("项目管理","项目群组织方式",a.orgType,!1,e)}},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目群"},n.default.createElement(s.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目群"},n.default.createElement(s.Icon,{type:v.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickManage.bind(e,a),title:"管理项目群"},n.default.createElement(s.Icon,{type:v.iconDetail})))}}],i=v.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:i.padding}},n.default.createElement("div",{style:{margin:i.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj_group/retrieve","proj_group/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:v.iconAdd,type:"primary",title:"增加项目群",onClick:this.handleOpenCreateWindow}),n.default.createElement(s.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:E,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:r,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,onChange:this.handleSortChange,pagination:!1,size:"middle",bordered:v.tableBorder})),n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=w},function(e,t,a){"use strict";var r=a(1),i=a(518),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("user-chk-book",e,t)},onRetrieveUserChkBook:function(e){var t=this,a=this.getServiceUrl("user-chk-book/retrieve-group-temp");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveUserChkBookPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveUserChkBook(e)},onInitUserChkBook:function(e){return this.recordSet.length>0&&n.compareTo(e,this.filter)?void this.fireEvent("retrieve","",this):void this.onRetrieveUserChkBook(e)},onCreateUserChkBook:function(e){var t=this.getServiceUrl("user-chk-book/create-temp-chk");n.recordCreate(this,e,t,this.onCreateComplete)},onCreateComplete:function(e,t){for(var a=e.recordSet.length-1;a>=0;a--)if(e.recordSet[a].staffCode===t.staffCode){e.onUpdateComplete(e,e.recordSet[a],t);break}},onUpdateUserChkBook:function(e){for(var t=-1,a=this.recordSet.length-1;a>=0;a--)if(this.recordSet[a].checkUuid===e.uuid){t=a;break}var r=this;if(t<0)return void r.fireEvent("update","没有找到记录["+e.uuid+"]",r);var i=this.getServiceUrl("user-chk-book/update-temp-chk");n.doUpdateService(i,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.onUpdateComplete(r,r.recordSet[t],e.object),r.fireEvent("update","",r)):r.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("update",n.getResErrMsg(e),r)})},onUpdateComplete:function(e,t,a){t.checkUuid=a.uuid,t.checkIn=a.checkIn,t.checkOut=a.checkOut,t.leaveType=a.leaveType,t.leaveHour=a.leaveHour,t.workHour=a.workHour,t.overHour=a.overHour,t.pmCode=a.pmCode,t.pmName=a.pmName,t.chkDesc=a.chkDesc,t.chkType=a.chkType,t.dateType=a.dateType},onDeleteUserChkBook:function(e){var t=this.getServiceUrl("user-chk-book/remove-temp-chk");this.recordDelete(this,e,t)},recordDelete:function(e,t,a){var r=n,i=e,l=r.findRecord(e,t.uuid);return l<0?void i.fireEvent("remove","没有找到记录["+t.uuid+"]",i):void r.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(i.recordSet.splice(l,1),i.totalRow=i.totalRow-1,i.fireEvent("remove","",i)):i.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",i)},function(e){i.fireEvent("remove",r.getResErrMsg(e),i)})}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(519),n=a(3),l=a(11),o=r.createStore({listenables:[i],projUuid:"",recordSet:[],member:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({projUuid:a.projUuid,recordSet:a.recordSet,member:a.member,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onGetMember:function(e){var t=this,a={};a.corpUuid=window.loginData.compUser.corpUuid,a.staffCode=e;var r=n.projUrl+"res-member/retrieve";n.doRetrieveService(r,a,1,1,1).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.member=e.object.list[0],t.fireEvent("retrieveMember","",t)):t.fireEvent("retrieveMember","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieveMember","调用服务错误",t)})},onRetrieveBackTable:function(e){var t=this,a={};a.projUuid=e,a.manStatus="暂时离组";var r=this.getServiceUrl("proj-member/retrieve2");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.projUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveBackTablePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveBackTable(e)},onInitBackTable:function(e){return this.recordSet.length>0&&this.projUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveBackTable(e)},onBackSure:function(e){var t=this,a=this.getServiceUrl("proj-member/create1");n.doCreateService(a,e).then(function(a){if(null==a.errCode||""==a.errCode||"000000"==a.errCode){var r=n.findRecord(t,e.uuid);if(r<0)return void t.fireEvent("create","没有找到记录["+e.uuid+"]",t);t.recordSet.splice(r,1),t.totalRow=t.totalRow-1,t.fireEvent("create","",t)}else t.fireEvent("create","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(520),n=a(3),l=a(11),o=r.createStore({listenables:[i],projUuid:"",recordSet:[],member:{},startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({projUuid:a.projUuid,recordSet:a.recordSet,member:a.member,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-disp",e,t)},onGetMember:function(e){var t=this,a={};a.corpUuid=window.loginData.compUser.corpUuid,a.staffCode=e;var r=n.projUrl+"res-member/retrieve";n.doRetrieveService(r,a,1,1,1).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(t.member=e.object.list[0],t.fireEvent("retrieveMember","",t)):t.fireEvent("retrieveMember","处理错误["+e.errCode+"]["+e.errDesc+"]",t)},function(e){t.fireEvent("retrieveMember","调用服务错误",t)})},onRetrieveDispatTable:function(e){var t=this,a={};a.projUuid=e;var r=this.getServiceUrl("proj-disp/retrieve");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.projUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveDispatTablePage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveDispatTable(e)},onInitDispatTable:function(e){return this.recordSet.length>0&&this.projUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveDispatTable(e)},onDispatSure:function(e){var t=this,a=this.getServiceUrl("proj-member/create");n.doCreateService(a,e).then(function(a){if(null==a.errCode||""==a.errCode||"000000"==a.errCode){var r=n.findRecord(t,e.uuid);if(r<0)return void t.fireEvent("create","没有找到记录["+e.uuid+"]",t);t.recordSet.splice(r,1),t.totalRow=t.totalRow-1,t.fireEvent("create","",t)}else t.fireEvent("create","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("create","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1476),m=r(c),h=a(757),p=r(h),f=a(21),g=r(f),v=a(30),C=r(v),b=a(79),y=(r(b),a(26)),S=r(y),E=a(134),w=r(E),x=a(1),k=(u.Input.Search,a(6)),j=(a(3),a(226)),N=a(194),P=a(14),D=10,R=n.default.createClass({displayName:"BatchInputPage",getInitialState:function(){return{projMemberSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,projMember:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[x.listenTo(j,"onServiceComplete"),(0,g.default)(),(0,S.default)(),(0,C.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.teamUuid;if(this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.ProjMemberFilter;null!==a&&"undefined"!=typeof a&&(a.state.projMember=this.state.filter)}this.setState({loading:!0});var r=this.state.filter;return r.projUuid=P.selectedProj.uuid,r.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=e.filter.more,void N.initProjMember(r,this.state.projMemberSet.startPage,D)}this.setState({loading:!1,projMemberSet:e})},componentDidMount:function(){var e=P.selectedProj.uuid;N.getCacheData(e)},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.projUuid=P.selectedProj.uuid,t.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",N.retrieveProjMemberPage(t,this.state.projMemberSet.startPage,D)},handleUploadFile:function(){this.setState({action:"upload"})},onChangePage:function(e){this.state.projMemberSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){D=t,this.handleQueryClick()},handleTempDown:function(e){this.downXlsTempFile(w.default.projMemberFields)},handleCreate:function(e){this.setState({action:"create"})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t="query"===this.state.action?"":"none",a=P.selectedProj.uuid,r=window.loginData.compUser.corpUuid,i=k.filter(this.state.projMemberSet.recordSet,this.state.filterValue),l=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"员工级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(t,a){return e.getLevelName(r,a.userLevel)}},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"技术岗位",dataIndex:"techLevel",key:"techLevel",width:140},{title:"小组",dataIndex:"teamUuid",key:"teamUuid",width:140,render:function(t,r){return e.getTeamName(a,t)}},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return k.formatDate(e,k.dateFormat)}},{title:"离组日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return k.formatDate(e,k.dateFormat)}}],o={showQuickJumper:!0,total:this.state.projMemberSet.totalRow,pageSize:this.state.projMemberSet.pageRow,current:this.state.projMemberSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},s=n.default.createElement("div",{className:"grid-page",style:{overflow:"hidden",display:t}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/retrieve"]}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(u.Button,{icon:k.iconAdd,type:"primary",title:"增加组员",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(u.Button,{icon:"upload",title:"导入数据",onClick:this.handleUploadFile,style:{marginLeft:"4px"}}),n.default.createElement(u.Button,{icon:k.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:l,dataSource:i,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:o,size:"middle",bordered:k.tableBorder})))),c=null;return"upload"===this.state.action?c=n.default.createElement(m.default,{onBack:this.onGoBack}):"create"===this.state.action&&(c=n.default.createElement(p.default,{onBack:this.onGoBack})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},s,c)}});e.exports=R},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(19),u=r(d),c=a(7),m=r(c),h=a(9),p=r(h),f=a(67),g=r(f),v=a(1403),C=r(v),b=a(79),y=r(b),S=a(1),E=s.Form.Item,w=(s.Select.Option,s.Tabs.TabPane),x=a(6),k=a(14),j=a(226),N=a(194),P=l.default.createClass({displayName:"CreateProjMemberPage",getInitialState:function(){return{projMemberSet:{operation:"",errMsg:""},loading:!1,projMember:{},user:{},hints:{},validRules:[]}},mixins:[S.listenTo(j,"onServiceComplete"),(0,p.default)("projMember")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"teamUuid",desc:"小组UUID",required:!1,max:"24"},{id:"dispType",desc:"派遣类型:临时,长期",required:!1,max:"24"},{id:"projLevel",desc:"客户定级",required:!1,max:"64"},{id:"userPrice",desc:"结算单价",required:!1,max:"16"},{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24"},{id:"roleName",desc:"角色名称",required:!0,max:"24"}],this.clear()},clear:function(){var e=k.selectedProj;this.state.hints={},this.state.projMember.uuid="",this.state.projMember.corpUuid=window.loginData.compUser.corpUuid,this.state.projMember.projUuid=e.uuid,this.state.projMember.projName=e.projName,this.state.projMember.projLoc=e.projLoc,this.state.projMember.grpUuid=e.parentUuid,this.state.projMember.userUuid="",this.state.projMember.staffCode="",this.state.projMember.perName="",this.state.projMember.manStatus="入组",this.state.projMember.teamUuid="",this.state.projMember.projLevel="",this.state.projMember.userPrice="",this.state.projMember.roleName="",this.state.projMember.beginDate=""+x.getToday(),this.state.projMember.beginTime="09:00",this.state.projMember.dispType="长期";var t="1"===e.induType&&""!==e.contUuid&&null!==e.contUuid;this.state.projMember.resUuid=t?e.contUuid:"","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({loading:!1})},onSelectMember:function(e){this.state.projMember.userUuid=e.uuid,this.state.projMember.staffCode=e.staffCode,this.state.projMember.perName=e.perName,this.setState({user:e})},onSelectGroupMember:function(e){this.state.projMember.userUuid=e.userUuid,this.state.projMember.staffCode=e.staffCode,this.state.projMember.perName=e.perName,this.setState({user:e})},showError:function(e){console.log(e)},onClickSave:function(){this.setState({loading:!0}),N.createProjMember(this.state.projMember)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.projMember.userUuid,d=(window.loginData.compUser.corpUuid,this.state.user.corpName);""!==d&&null!==d||(d=this.state.user.deptName);var c=k.selectedProj,h="1"===c.induType&&""!==c.contUuid&&null!==c.contUuid,p=null,f=null;h||(f=l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"用户定级",required:!1,colon:!0,className:t,help:n.projLevelHint,validateStatus:n.projLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.projMember.projLevel,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"结算单价",required:!1,colon:!0,className:t,help:n.userPriceHint,validateStatus:n.userPriceStatus}),l.default.createElement(s.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.projMember.userPrice,onChange:this.handleOnChange})))),p=l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"派遣类型",required:!1,colon:!0,className:t,help:n.dispTypeHint,validateStatus:n.dispTypeStatus}),l.default.createElement(u.default,{name:"dispType",id:"dispType",value:this.state.projMember.dispType,appName:"项目管理",optName:"派遣类型",onChange:this.onRadioChange}))));var v,b=this.props.grpUuid;return v=b?l.default.createElement(C.default,{style:{padding:"10px 0 16px 32px",width:"700px"},grpUuid:this.props.grpUuid,projUuid:c.uuid,showError:this.showError,onSelectMember:this.onSelectGroupMember}):l.default.createElement(g.default,{style:{padding:"10px 0 16px 32px",width:"700px"},poolUuid:this.props.poolUuid,projUuid:c.uuid,showError:this.showError,onSelectMember:this.onSelectMember}),l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(w,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(w,{tab:"增加人员",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},l.default.createElement(m.default,{ref:"mxgBox",svcList:["proj-member/create"]}),v,l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"公司名称",required:!1,colon:!0,className:t,help:n.corpNameHint,validateStatus:n.corpNameStatus}),l.default.createElement(s.Input,{type:"text",name:"corpName",id:"corpName",value:d,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"归属地",required:!1,colon:!0,className:t,help:n.baseCityHint,validateStatus:n.baseCityStatus}),l.default.createElement(s.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.user.baseCity,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"项目小组",required:!1,colon:!0,className:t,help:n.teamUuidHint,validateStatus:n.teamUuidStatus}),l.default.createElement(y.default,{name:"teamUuid",id:"teamUuid",projUuid:k.selectedProj.uuid,value:this.state.projMember.teamUuid,onChange:this.handleOnSelected.bind(this,"teamUuid")}))),p),f,l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"入组日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:x.dateFormat,value:this.formatDate(this.state.projMember.beginDate,x.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",x.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(s.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.projMember.beginTime,onChange:this.handleOnChange})))),l.default.createElement(E,i({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:n.roleNameHint,validateStatus:n.roleNameStatus}),l.default.createElement(s.Input,{type:"text",name:"roleName",id:"roleName",value:this.state.projMember.roleName,onChange:this.handleOnChange})),l.default.createElement(E,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:o},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=P},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1473),m=r(c),h=a(1475),p=r(h),f=a(1472),g=r(f),v=a(757),C=r(v),b=a(21),y=r(b),S=a(30),E=r(S),w=a(1474),x=r(w),k=a(79),j=r(k),N=a(1),P=(u.Input.Search,a(6)),D=(a(3),a(226)),R=a(194),M=a(14),U=10,T=n.default.createClass({displayName:"ProjMemberPage",getInitialState:function(){return{projMemberSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,projMember:null,moreFilter:!1,filterValue:"",filter:{},poolUuid:"",grpUuid:""}},mixins:[N.listenTo(D,"onServiceComplete"),(0,y.default)(),(0,E.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.teamUuid;if(this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.ProjMemberFilter;null!==a&&"undefined"!=typeof a&&(a.state.projMember=this.state.filter)}}this.setState({loading:!1,projMemberSet:e})},componentDidMount:function(){var e=M.selectedProj.uuid;R.getCacheData(e)},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.projUuid=M.selectedProj.uuid,t.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",R.retrieveProjMemberPage(t,this.state.projMemberSet.startPage,U)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onMoreSearch:function(){var e=this.refs.ProjMemberFilter.state.projMember;null!==e.beginMonth&&""!==e.beginMonth?(e.date1=e.beginDate+"01",e.date2=e.beginDate+"31"):(e.date1="",e.date2=""),this.state.filter=e,this.handleQueryClick()},onChangePage:function(e){this.state.projMemberSet.startPage=e,this.handleQueryClick()},onGoBack:function(){this.setState({action:"query"})},onShowSizeChange:function(e,t){U=t,this.handleQueryClick()},onClickLeave:function(e,t){this.setState({projMember:e,action:"leave"})},onClickUpdate:function(e,t){this.setState({projMember:e,action:"update"})},onClickEnter:function(e,t){this.setState({projMember:e,action:"enter"})},handleOnSelectedTeam:function(e){this.state.filterValue=e,this.setState({loading:this.state.loading}),this.state.filter={};var t=this.state.filterValue;this.state.filter.teamUuid=t,this.handleQueryClick()},handleAddMember:function(e){var t=M.selectedProj.contUuid;return t?void this.setState({poolUuid:t,grpUuid:"",action:"create"}):void P.warnMsg("项目组["+M.selectedProj.projName+"]不属于资源池")},handleAddMember2:function(e,t){var a=M.selectedProj.parentUuid;return a?void this.setState({poolUuid:"",grpUuid:a,action:"create"}):void P.warnMsg("项目组["+M.selectedProj.projName+"]不属于项目群")},render:function(){var e=this,t=this.state.projMemberSet.recordSet,a=M.selectedProj,r=a.uuid,i=window.loginData.compUser.corpUuid,l="1"===a.induType&&""!==a.contUuid&&null!==a.contUuid,o=null;o=l?[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"员工级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(t,a){return e.getLevelName(i,a.userLevel)}},{title:"技术岗位",dataIndex:"techLevel",key:"techLevel",width:140},{title:"小组",dataIndex:"teamUuid",key:"teamUuid",width:140,render:function(t,a){return e.getTeamName(r,t)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:240},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return P.formatDate(e,P.dateFormat)}},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickLeave.bind(e,a),title:"人员离组"},n.default.createElement(u.Icon,{type:"user-delete"})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"小组调整"},n.default.createElement(u.Icon,{type:"team"})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickEnter.bind(e,a),title:"人员定级"},n.default.createElement(u.Icon,{type:"star"})))}}]:[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"员工级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(t,a){return e.getLevelName(i,a.userLevel)}},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"技术岗位",dataIndex:"techLevel",key:"techLevel",width:140},{title:"小组",dataIndex:"teamUuid",key:"teamUuid",width:140,render:function(t,a){return e.getTeamName(r,t)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:240},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return P.formatDate(e,P.dateFormat)}},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickLeave.bind(e,a),title:"人员离组"},n.default.createElement(u.Icon,{type:"user-delete"})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"小组调整"},n.default.createElement(u.Icon,{type:"team"})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickEnter.bind(e,a),title:"人员定级"},n.default.createElement(u.Icon,{type:"star"})))}}];var s=null;l&&(s=n.default.createElement(u.Button,{icon:P.iconAdd,type:"primary",title:"资源池内调度",onClick:this.handleAddMember,style:{marginRight:"4px"}}));var c="query"===this.state.action?"":"none",h={
showQuickJumper:!0,total:this.state.projMemberSet.totalRow,pageSize:this.state.projMemberSet.pageRow,current:this.state.projMemberSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},f=this.state.moreFilter,v=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:c}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/retrieve"]}),n.default.createElement(x.default,{ref:"ProjMemberFilter",moreFilter:f}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},s,n.default.createElement(u.Button,{icon:P.iconAdd,title:"项目群内调度",onClick:this.handleAddMember2,style:{marginRight:"4px"}}),n.default.createElement(u.Button,{icon:P.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick})),f?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(j.default,{placeholder:"选择 ( 小组 )",style:{textAlign:"left",width:P.searchWidth},projUuid:r,name:"teamUuid",id:"teamUuid",value:this.state.filterValue,onSelect:this.handleOnSelectedTeam}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:o,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:h,size:"middle",bordered:P.tableBorder}))),b=null;return"leave"===this.state.action?b=n.default.createElement(m.default,{onBack:this.onGoBack,projMember:this.state.projMember}):"update"===this.state.action?b=n.default.createElement(p.default,{onBack:this.onGoBack,projMember:this.state.projMember}):"enter"===this.state.action?b=n.default.createElement(g.default,{onBack:this.onGoBack,projMember:this.state.projMember}):"create"===this.state.action&&(b=n.default.createElement(C.default,{poolUuid:this.state.poolUuid,grpUuid:this.state.grpUuid,onBack:this.onGoBack})),n.default.createElement("div",null,v,b)}});e.exports=T},function(e,t,a){"use strict";var r=a(1),i=a(524),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onGetCacheData:function(e){this.filter.projUuid!==e&&(this.filter={},this.recordSet=[],this.startPage=0,this.pageRow=0,this.totalRow=0),this.fireEvent("cache","",this)},onRetrieveProjMember:function(e){var t=this,a=this.getServiceUrl("proj-member/retrieve2");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjMember(e)},onInitProjMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjMember(e)},onCreateProjMember:function(e){var t=this.getServiceUrl("proj-member/create");n.recordCreate(this,e,t)},onUpdateProjMember:function(e){var t=this.getServiceUrl("proj-member/update");n.recordUpdate(this,e,t)},onDeleteProjMember:function(e){var t=this.getServiceUrl("proj-member/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjMember","deleteProjMember","updateProjMember","retrieveProjMember","retrieveProjMemberPage","initProjMember","getCacheData"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1),m=a(14),h=a(1486),p=a(762),f=n.default.createClass({displayName:"ProjPage",getInitialState:function(){return{projSet:{proj:{},operation:"",errMsg:""},loading:!1}},mixins:[c.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&this.setState({loading:!1,projSet:e})},componentDidMount:function(){if(window.loginData.compUser){var e={};e.staffCode=window.loginData.compUser.userCode,e.corpUuid=window.loginData.compUser.corpUuid,this.setState({loading:!0}),p.initProj(e)}},handleResClick:function(e){m.openResPage(e)},handleGroupClick:function(e){m.openGroupPage(e)},handleProjClick:function(e){m.openProjPage(e)},handleBiziProjClick:function(e){m.openBiziProjPage(e)},render:function(){var e=this,t=this.state.projSet.proj,a=[],r=[],i=[],l=[],o=0,d=0,c=0,m=0;t.res&&t.res.length>0&&(o=t.res.length,a=t.res.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleResClick.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.poolName,n.default.createElement("p",{style:{float:"right"}},n.default.createElement(s.Icon,{type:"team",title:"小组数量"})," ",t.childCount?t.childCount:0,n.default.createElement("span",{style:{padding:"0 8px"}},"|"),n.default.createElement(s.Icon,{type:"user",title:"成员数量"})," ",t.memberCount?t.memberCount:0))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},t.poolDesc)))})),t.group&&t.group.length>0&&(d=t.group.length,r=t.group.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleGroupClick.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.grpName,n.default.createElement("p",{style:{float:"right"}},n.default.createElement(s.Icon,{type:"share-alt",title:"项目数量"})," ",t.childCount?t.childCount:0,n.default.createElement("span",{style:{padding:"0 8px"}},"|"),n.default.createElement(s.Icon,{type:"user",title:"成员数量"})," ",t.memberCount?t.memberCount:0))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},t.grpDesc)))})),t.proj&&t.proj.length>0&&(c=t.proj.length,i=t.proj.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleProjClick.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.projName,n.default.createElement("p",{style:{float:"right"}},n.default.createElement(s.Icon,{type:"team",title:"小组数量"})," ",t.childCount?t.childCount:0,n.default.createElement("span",{style:{padding:"0 8px"}},"|"),n.default.createElement(s.Icon,{type:"user",title:"成员数量"})," ",t.memberCount?t.memberCount:0))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},t.projDesc)))})),t.bizi&&t.bizi.length>0&&(m=t.bizi.length,l=t.bizi.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleBiziProjClick.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.projName,n.default.createElement("p",{style:{float:"right"}},n.default.createElement(s.Icon,{type:"user",title:"成员数量"})," ",t.memberCount?t.memberCount:0))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},t.projDesc)))}));var h=n.default.createElement("div",null,0===o&&0===d&&0===c&&0===m?n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"没有可管理的资源池和项目"):"",n.default.createElement("div",{style:{overflow:"hidden"}},0===o?"":n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"共",o,"个资源池"),a),n.default.createElement("div",{style:{overflow:"hidden"}},0===d?"":n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"共",d,"个项目群"),r),n.default.createElement("div",{style:{overflow:"hidden"}},0===c?"":n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"共",c,"个项目组"),i),n.default.createElement("div",{style:{overflow:"hidden"}},0===m?"":n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"共",m,"个事务性项目"),l));return n.default.createElement("div",{className:"form-page",style:{width:"100%",padding:"24px 16px 0 16px"}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj/retrieve"]}),this.state.loading?n.default.createElement(s.Spin,{tip:"正在努力加载数据..."},n.default.createElement("div",{style:{minHeight:"200px"}},h)):n.default.createElement("div",null,h))}});e.exports=f},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProj","initProj"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProj","initProj"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(7)),u=r(d),c=a(9),m=r(c),h=a(19),p=(r(h),a(79)),f=(r(p),a(14)),g=r(f),v=a(21),C=r(v),b=a(4),y=a(1),S=a(6),E=a(3),w=b.Form.Item,x=(b.Select.Option,b.Tabs.TabPane),k=a(227),j=a(195),N=o.default.createClass({displayName:"UpdateProjCondPage2",getInitialState:function(){return{condSet:{errMsg:""},loading:!1,cond:{},member:{},hints:{},validRules:[]}},mixins:[y.listenTo(k,"onServiceComplete"),(0,C.default)(),(0,m.default)("cond")],onServiceComplete:function(e){"update"===e.operation?""===e.errMsg?this.props.onBack():this.setState({loading:!1,condSet:e}):"retrieveMember"===e.operation&&(""===e.errMsg?this.setState({loading:!1,condSet:e,member:e.member}):this.setState({loading:!1,condSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"refMemo",desc:"推荐说明",required:!1,max:"256"},{id:"refJob",desc:"推荐岗位",required:!1,max:"64"},{id:"lastDate",desc:"最后期限",required:!1,max:"16"},{id:"provMemo",desc:"处理说明",required:!1,max:"256"}],this.initPage(this.props.cond)},initPage:function(e){E.copyValue(e,this.state.cond),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({loading:!0}),j.getMember(e.staffCode)},onClickSave:function(e){var t=this.state.cond;if(S.formValidator(this,t)){if("确认"===e){t.provCode=window.loginData.compUser.userCode,t.provName=window.loginData.authUser.perName;var a=new Date;t.provDate=""+S.getToday(),t.provTime=a.getHours()+":"+a.getMinutes()}this.setState({loading:!0}),j.updateProjCond(t)}},onSave:function(){this.onClickSave("保存")},onAgree:function(){this.state.cond.provStatus="同意",this.onClickSave("确认")},onRefuse:function(){this.state.cond.provStatus="拒绝",this.onClickSave("确认")},onCancel:function(){this.props.onBack()},onTabChange:function(e){"1"!==e&&"3"!==e||this.props.onBack(e)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints,s=this.state.member,d=(g.default.getDisplayWorkYears(s.workBegin),g.default.getDisplayWorkYears(s.induBegin),null===s.corpName||""===s.corpName?s.deptName:s.corpName),c=g.default.selectedPool,m=this.state.cond.refName,h=this.state.cond.poolUuid,p="项目组"===m&&h===c.uuid,f=[];p?(f.push(o.default.createElement(w,n({},r,{label:"处理意见",required:!1,colon:!0,className:t,help:l.provMemoHint,validateStatus:l.provMemoStatus}),o.default.createElement(b.Input,{type:"textarea",name:"provMemo",id:"provMemo",onChange:this.handleOnChange,style:{height:"70px"},value:this.state.cond.provMemo}))),f.push(o.default.createElement(w,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},o.default.createElement(b.Button,{key:"btnAccept",type:"primary",size:"large",onClick:this.onAgree,loading:this.state.loading},"同意")," ",o.default.createElement(b.Button,{key:"btnReject",size:"large",onClick:this.onRefuse,loading:this.state.loading},"拒绝")," ",o.default.createElement(b.Button,{key:"btnClose",size:"large",onClick:this.onCancel},"取消")))):f.push(o.default.createElement(w,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},o.default.createElement(b.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onSave,loading:this.state.loading},"保存")," ",o.default.createElement(b.Button,{key:"btnClose",size:"large",onClick:this.onCancel},"取消")));var v=o.default.createElement(b.Form,{layout:e,style:{width:"600px"}},o.default.createElement(b.Row,null,o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"员工编号",className:t}),o.default.createElement(b.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.cond.staffCode,disabled:!0}))),o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"员工姓名",className:t}),o.default.createElement(b.Input,{type:"text",name:"perName",id:"perName",value:this.state.cond.perName,disabled:!0})))),o.default.createElement(b.Row,null,o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"公司名称",className:t}),o.default.createElement(b.Input,{type:"text",name:"corpName",id:"corpName",value:d,disabled:!0}))),o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"归属地",className:t}),o.default.createElement(b.Input,{type:"text",name:"baseCity",id:"baseCity",value:s.baseCity,disabled:!0})))),o.default.createElement(b.Row,null,o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"员工级别",className:t}),o.default.createElement(b.Input,{type:"text",name:"userLevel",id:"userLevel",value:this.getLevelName(s.corpUuid,s.empLevel),disabled:!0})))),o.default.createElement(b.Row,null,o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"技术级别",required:!1,colon:!0,className:t}),o.default.createElement(b.Input,{type:"text",name:"techLevel",id:"techLevel",value:s.techLevel,disabled:!0}))),o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"管理级别",required:!1,colon:!0,className:t}),o.default.createElement(b.Input,{type:"text",name:"manLevel",id:"manLevel",value:s.manLevel,disabled:!0})))),o.default.createElement(b.Row,null,o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"技术岗位",required:!1,colon:!0,className:t}),o.default.createElement(b.Input,{type:"text",name:"techUuid",id:"techUuid",value:s.techName,disabled:!0}))),o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"管理岗位",required:!1,colon:!0,className:t}),o.default.createElement(b.Input,{type:"text",name:"manUuid",id:"manUuid",value:s.manName,disabled:!0})))),o.default.createElement(b.Row,null,o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,i({className:t,label:"当前状态",colon:!0},"className",t)),o.default.createElement(b.Input,{type:"text",name:"status",id:"status",value:s.resStatus,disabled:!0}))),o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,i({className:t,label:"所在项目",colon:!0},"className",t)),o.default.createElement(b.Input,{type:"text",name:"resName",id:"resName",value:s.resName,disabled:!0})))),o.default.createElement(b.Row,null,o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"推荐岗位",required:!1,colon:!0,className:t,help:l.refJobHint,validateStatus:l.refJobStatus}),o.default.createElement(b.Input,{type:"text",name:"refJob",id:"refJob",value:this.state.cond.refJob,onChange:this.handleOnChange,disabled:p}))),o.default.createElement(b.Col,{span:"12"},o.default.createElement(w,n({},a,{label:"锁定日期",required:!1,colon:!0,className:t,help:l.lastDateHint,validateStatus:l.lastDateStatus}),o.default.createElement(b.DatePicker,{style:{width:"100%"},name:"lastDate",id:"lastDate",value:this.formatDate(this.state.cond.lastDate,S.dateFormat),format:S.dateFormat,onChange:this.handleOnSelDate.bind(this,"lastDate",S.dateFormat),disabled:p})))),o.default.createElement(w,n({},r,{label:"推荐说明",required:!1,colon:!0,className:t,help:l.refMemoHint,validateStatus:l.refMemoStatus}),o.default.createElement(b.Input,{type:"textarea",name:"refMemo",id:"refMemo",onChange:this.handleOnChange,style:{height:"70px"},value:this.state.cond.refMemo,disabled:p})),f);return o.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},o.default.createElement(b.Tabs,{defaultActiveKey:"5",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},o.default.createElement(x,{tab:"返回",key:"1",disabled:"true",style:{width:"100%",height:"100%"}}),o.default.createElement(x,{tab:"调度指令",key:"2",disabled:"true",style:{width:"100%",height:"100%"}}),o.default.createElement(x,{tab:"人员筹备",key:"3",style:{width:"100%",height:"100%"}}),o.default.createElement(x,{tab:"项目组成员",key:"4",disabled:"true",style:{width:"100%",height:"100%"}}),o.default.createElement(x,{tab:"人员筹备修改",key:"5",style:{width:"100%",height:"100%",overflowY:"auto"}},o.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},o.default.createElement(u.default,{ref:"mxgBox",svcList:["proj_cond/update","res-member/retrieveMember"]}),this.state.loading?o.default.createElement(b.Spin,null,v):v))))}});e.exports=N},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjMemberLevel","deleteProjMemberLevel","updateProjMemberLevel","retrieveProjMemberLevel","retrieveProjMemberLevelPage","initProjMemberLevel"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(12),u=r(d),c=a(7),m=r(c),h=a(9),p=r(h),f=a(1),g=s.Form.Item,v=(s.Select.Option,s.Tabs.TabPane),C=a(6),b=a(3),y=a(228),S=a(196),E=l.default.createClass({displayName:"UpdateProjTaskPage",getInitialState:function(){return{projTaskSet:{},loading:!1,projTask:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,p.default)("projTask")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projTaskSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"ordCode",desc:"订单编号"},{id:"ordName",desc:"订单名称"},{id:"itemCode",desc:"任务编号"},{id:"itemName",desc:"任务名称"},{id:"beginDate",desc:"开始日期"},{id:"endDate",desc:"结束日期"},{id:"tastStatus",desc:"状态",required:!0}],this.initPage(this.props.projTask)},initPage:function(e){b.copyValue(e,this.state.projTask),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){C.formValidator(this,this.state.projTask)&&(this.setState({loading:!0}),S.updateProjTask(this.state.projTask))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(v,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(v,{tab:"修改任务",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(m.default,{ref:"mxgBox",svcList:["proj_task/update"]}),l.default.createElement(s.Form,{layout:e,style:{width:"600px"}},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{className:t,label:"订单编号",colon:!0,help:r.ordCodeHint,validateStatus:r.ordCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"ordCode",id:"ordCode",value:this.state.projTask.ordCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{className:t,label:"订单名称",colon:!0,help:r.ordNameHint,validateStatus:r.ordNameStatus}),l.default.createElement(s.Input,{type:"text",name:"ordName",id:"ordName",value:this.state.projTask.ordName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{className:t,label:"任务编号",colon:!0,help:r.itemCodeHint,validateStatus:r.itemCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"itemCode",id:"itemCode",value:this.state.projTask.itemCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{className:t,label:"任务名称",colon:!0,help:r.itemNameHint,validateStatus:r.itemNameStatus}),l.default.createElement(s.Input,{type:"text",name:"itemName",id:"itemName",value:this.state.projTask.itemName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{className:t,label:"状态",required:!0,colon:!0,help:r.tastStatusHint,validateStatus:r.tastStatusStatus}),l.default.createElement(u.default,{name:"tastStatus",id:"tastStatus",appName:"项目管理",optName:"项目任务状态",value:this.state.projTask.tastStatus,onSelect:this.handleOnSelected.bind(this,"tastStatus")})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{className:t,label:"开始日期",colon:!0,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(s.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projTask.beginDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{className:t,label:"结束日期",colon:!0,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(s.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.projTask.endDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})))),l.default.createElement(g,{style:{textAlign:"right",margin:"4px 0"},className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=E},function(e,t,a){"use strict";var r=a(1),i=a(526),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("user-chk-book",e,t)},onRetrieveUserChkBook:function(e){var t=this,a=this.getServiceUrl("user-chk-book/retrieve-proj-temp");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveUserChkBookPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveUserChkBook(e)},onInitUserChkBook:function(e){return this.recordSet.length>0&&n.compareTo(e,this.filter)?void this.fireEvent("retrieve","",this):void this.onRetrieveUserChkBook(e)},onCreateUserChkBook:function(e){var t=this.getServiceUrl("user-chk-book/create-temp-chk");n.recordCreate(this,e,t,this.onCreateComplete)},onCreateComplete:function(e,t){for(var a=e.recordSet.length-1;a>=0;a--)if(e.recordSet[a].staffCode===t.staffCode){e.onUpdateComplete(e,e.recordSet[a],t);break}},onUpdateUserChkBook:function(e){for(var t=-1,a=this.recordSet.length-1;a>=0;a--)if(this.recordSet[a].checkUuid===e.uuid){t=a;break}var r=this;if(t<0)return void r.fireEvent("update","没有找到记录["+e.uuid+"]",r);var i=this.getServiceUrl("user-chk-book/update-temp-chk");n.doUpdateService(i,e).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.onUpdateComplete(r,r.recordSet[t],e.object),r.fireEvent("update","",r)):r.fireEvent("update","处理错误["+e.errCode+"]["+e.errDesc+"]",r)},function(e){r.fireEvent("update",n.getResErrMsg(e),r)})},onUpdateComplete:function(e,t,a){t.checkUuid=a.uuid,t.checkIn=a.checkIn,t.checkOut=a.checkOut,t.leaveType=a.leaveType,t.leaveHour=a.leaveHour,t.workHour=a.workHour,t.overHour=a.overHour,t.pmCode=a.pmCode,t.pmName=a.pmName,t.chkDesc=a.chkDesc,t.chkType=a.chkType,t.dateType=a.dateType},onDeleteUserChkBook:function(e){var t=this.getServiceUrl("user-chk-book/remove-temp-chk");this.recordDelete(this,e,t)},recordDelete:function(e,t,a){var r=n,i=e,l=r.findRecord(e,t.uuid);return l<0?void i.fireEvent("remove","没有找到记录["+t.uuid+"]",i):void r.doRemoveService(a,t).then(function(e){null==e.errCode||""==e.errCode||"000000"==e.errCode?(i.recordSet.splice(l,1),i.totalRow=i.totalRow-1,i.fireEvent("remove","",i)):i.fireEvent("remove","处理错误["+e.errCode+"]["+e.errDesc+"]",i)},function(e){i.fireEvent("remove",r.getResErrMsg(e),i)})}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(528),m=r(c),h=a(527),p=r(h),f=a(30),g=r(f),v=a(133),C=r(v),b=a(1),y=a(11),S=u.Radio.Button,E=u.Radio.Group,w=(u.DatePicker.MonthPicker,"YYYY-MM-DD"),x=u.Input.Search,k=a(6),j=a(3),N=a(173),P=a(150),D=a(14),R=""+k.getToday(),M=n.default.createClass({displayName:"UserCheckPage",getInitialState:function(){return{userCheckSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,errMsg:""},loading:!1,viewType:"1",workDate:R,filter:""}},mixins:[b.listenTo(N,"onServiceComplete"),(0,g.default)()],onServiceComplete:function(e){this.setState({loading:!1,userCheckSet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryUserChkBook(R)},onChangeDate:function(e){var t=e.target.value;this.queryUserChkBook(t),this.setState({loading:!0,workDate:t,selectedRowKeys:null})},queryUserChkBook:function(e){var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.workDate=e,t.chkCode=window.loginData.compUser.userCode,t.chkProj=D.selectedProj.uuid,P.retrieveUserChkBook(t)},onChangeViewType:function(e){P.getCacheData(),this.setState({loading:!0,viewType:e.target.value})},onSelectChange:function(e){this.setState({selectedRowKeys:e})},getSelectedRows:function(){var e=this,t=[];this.state.userCheckSet.recordSet.length;return this.state.selectedRowKeys.map(function(a){t.push(e.state.userCheckSet.recordSet[a])}),t},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workDate:a}),this.queryUserChkBook(a)},showError:function(e){y.showError("res-member-snap","create-proj-chk",e)},handleClickCheckBook:function(e){var t={corpUuid:window.loginData.compUser.corpUuid,projUuid:D.selectedProj.uuid,grpUuid:D.selectedProj.parentUuid,chkDate:this.state.workDate,projName:D.selectedProj.projName,projLoc:D.selectedProj.projLoc,pmCode:D.selectedProj.pmCode},a={startPage:0,pageRow:0,totalCount:0,totalRow:0,object:t};this.setState({loading:!0});var r=this,i=j.projUrl+"/res-member-snap/create-proj-chk";j.doUpdateService(i,a).then(function(e,a,i){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.showError(""),r.queryUserChkBook(t.chkDate)):(r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]"),r.setState({loading:!1}))},function(e,t,a){r.setState({loading:!1}),r.showError("未知错误")})},handleClickBatchCheck:function(e){var t=this.state.workDate,a=this.getSelectedRows();console.log("checkList",a),this.refs.batchCheckWindow.clear(a,t),this.refs.batchCheckWindow.toggle()},onClickCheck:function(e){var t=this.state.workDate;this.refs.createWindow.clear(e,t),this.refs.createWindow.toggle()},onClickUpdate:function(e){var t=this.state.workDate;this.refs.createWindow.clear(e,t),this.refs.createWindow.toggle()},getTitleStyle:function(e){return null===e.checkUuid?{color:"red"}:null},getEditIcon:function(e){return null===e.checkUuid?"schedule":"edit"},onClickDelete:function(e,t){var a={};a.uuid=e.uuid,a.checkUuid=e.checkUuid,u.Modal.confirm({title:"删除确认",content:"是否删除【"+e.perName+"】的考勤数据",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,a)})},onClickDelete2:function(e){this.setState({loading:!0}),P.deleteUserChkBook(e)},render:function(){var e=this,t=D.selectedProj.uuid,a=k.filter(this.state.userCheckSet.recordSet,this.state.filterValue),r=this.state.selectedRowKeys,i={selectedRowKeys:r,onChange:this.onSelectChange},l=[];if("1"===this.state.viewType)l=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"小组",dataIndex:"teamUuid",key:"teamUuid",width:140,render:function(a,r){return e.getTeamName(t,a)}},{title:"签到",dataIndex:"checkIn",key:"checkIn",width:140},{title:"签退",dataIndex:"checkOut",key:"checkOut",width:140},{title:"工时",dataIndex:"workHour",key:"workHour",width:140},{title:"加班",dataIndex:"overHour",key:"overHour",width:140},{title:"休假",dataIndex:"leaveHour",key:"leaveHour",width:140},{title:"经理",dataIndex:"pmName",key:"pmName",width:140},{title:"操作",key:"action",width:60,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{onClick:e.onClickCheck.bind(e,a),title:"考勤"},n.default.createElement(u.Icon,{type:e.getEditIcon(a)})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除考勤数据"},n.default.createElement(u.Icon,{type:k.iconRemove})))}}];else if("2"===this.state.viewType)var o=a.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:260}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"}},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title",style:e.getTitleStyle(t)},t.staffCode,"（",t.perName,"）")),n.default.createElement("div",{className:"ant-card-extra"},n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,t),title:"修改"
},n.default.createElement(u.Icon,{type:k.iconUpdate}))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"80px",overflow:"hidden"}},n.default.createElement("p",null,"签到：",t.checkIn,"， 签退：",t.checkOut),n.default.createElement("p",null,"工时：",t.workHour,"， 加班：",t.overHour,"， 经理：",t.pmName))))});else"3"===this.state.viewType&&(l=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"小组",dataIndex:"teamUuid",key:"teamUuid",width:140,render:function(a,r){return e.getTeamName(t,a)}},{title:"签到",dataIndex:"checkIn",key:"checkIn",width:140},{title:"签退",dataIndex:"checkOut",key:"checkOut",width:140},{title:"工时",dataIndex:"workHour",key:"workHour",width:140},{title:"加班",dataIndex:"overHour",key:"overHour",width:140},{title:"休假",dataIndex:"leaveHour",key:"leaveHour",width:140},{title:"经理",dataIndex:"pmName",key:"pmName",width:140}]);var s=null;s="2"===this.state.viewType?n.default.createElement("div",{className:"card-body",style:{paddingTop:"6px"}},o):"3"===this.state.viewType?n.default.createElement("div",{style:{padding:"0 18px 18px 20px"},className:"grid-body"},n.default.createElement(u.Table,{columns:l,dataSource:a,rowSelection:i,rowKey:function(e){return e.id},loading:this.state.loading,pagination:!1,size:"small",bordered:!0})):n.default.createElement("div",{style:{padding:"0 18px 18px 20px"},className:"grid-body"},n.default.createElement(u.Table,{columns:l,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"small",bordered:k.tableBorder}));var c=k.getCardMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:c.padding}},n.default.createElement("div",{style:{margin:c.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/remove","res-member-snap/create-proj-chk"]}),n.default.createElement("div",{className:"toolbar-table"},"3"===this.state.viewType?n.default.createElement(u.Button,{type:"primary",style:{marginRight:"12px"},onClick:this.handleClickBatchCheck},"创建考勤"):null,n.default.createElement(C.default,{value:this.state.workDate,onChange:this.onChangeDate}),n.default.createElement(u.DatePicker,{style:{width:"100px",marginLeft:"16px"},format:w,onChange:this.datePicker,allowClear:!1}),n.default.createElement(u.Button,{type:"primary",style:{marginLeft:"16px"},onClick:this.handleClickCheckBook},"生成考勤表"),n.default.createElement("div",{style:{float:"right"}},n.default.createElement(E,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeViewType},n.default.createElement(S,{value:"1"},n.default.createElement(u.Icon,{type:"bars"})),n.default.createElement(S,{value:"2"},n.default.createElement(u.Icon,{type:"credit-card"})),n.default.createElement(S,{value:"3"},n.default.createElement(u.Icon,{type:"check-square-o"})))),"3"===this.state.viewType?null:n.default.createElement(x,{placeholder:"查询",style:{width:"120px",marginLeft:"16px",float:"right"},value:this.state.filterValue,onChange:this.onFilterRecord}))),s,n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"batchCheckWindow"}))}});e.exports=M},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjMember","deleteProjMember","updateProjMember","retrieveProjMember","retrieveProjMemberPage","initProjMember"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1538),m=r(c),h=a(21),p=r(h),f=a(1536),g=r(f),v=a(1535),C=r(v),b=a(1539),y=r(b),S=a(1533),E=r(S),w=a(1534),x=r(w),k=a(1537),j=r(k),N=a(1555),P=r(N),D=a(1556),R=r(D),M=a(1),U=u.Input.Search,T=u.Radio.Button,I=u.Radio.Group,B=u.Tabs.TabPane,O=a(6),q=a(3),H=a(14),L=a(101),F=a(80),z=a(117),_=a(151),A=10,G=n.default.createClass({displayName:"ResMemberPage",getInitialState:function(){return{resMemberSet:{recordSet:[],startPage:1,pageRow:10,totalRow:10,operation:"",errMsg:""},resTeamSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,teamLoading:!1,viewType:"1",queryScope:"all",resMember:{},team:{},moreFilter:!1,filterValue:"",filter:{},action:"team"}},mixins:[M.listenTo(L,"onServiceComplete"),M.listenTo(_,"onServiceComplete2"),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,resMemberSet:e})},onServiceComplete2:function(e){this.setState({teamLoading:!1,resTeamSet:e})},handleQueryClickTeam:function(){var e=H.selectedPool.uuid;this.setState({teamLoading:!0}),this.state.resTeamSet.operation="",z.retrieveResTeam(e)},componentDidMount:function(){var e=H.selectedPool.uuid;this.setState({teamLoading:!0}),z.initResTeam(e)},onChangeView:function(e){this.setState({viewType:e.target.value})},handleCreate:function(e){this.setState({action:"create"})},handleCreateOut:function(e){this.setState({action:"createOut"})},handleCreateTeam:function(e){this.setState({action:"createTeam"})},handleItemClick:function(e,t){e&&(F.clearResMember(),this.setState({team:e,action:"query"}),this.handleQueryClick()),t.stopPropagation()},onClickUpdate:function(e,t){e&&this.setState({resMember:e,action:"update"})},onClickUpdateTeam:function(e,t){e&&this.setState({team:e,action:"updateTeam"}),t.stopPropagation()},onGoBack:function(){this.setState({action:"query"})},onGoBackTeam:function(){this.setState({action:"team"})},onTabChange:function(e){"1"===e&&this.onGoBack()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的成员 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.resMemberSet.operation="",F.deleteResMember(e.uuid)},onClickDeleteTeam:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的资源池小组 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDeleteTeam2.bind(this,e)}),t.stopPropagation()},onClickDeleteTeam2:function(e){this.setState({loading:!0}),this.state.resTeamSet.operation="",z.deleteResTeam(e.uuid)},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.resMemberSet.startPage=e,this.setState({loading:!0}),F.retrieveResMemberPage(this.state.filter,e,A)},onShowSizeChange:function(e,t){A=t,this.handleQueryClick()},handleQueryClick:function(){this.state.resMemberSet.startPage=1,this.setState({loading:!0});var e=this.state.filter;e.corpUuid=window.loginData.compUser.corpUuid,e.poolUuid=H.selectedPool.uuid,e.teamUuid=this.state.team.uuid,e.more=this.state.moreFilter?"1":"0",F.retrieveResMemberPage(e,1,this.state.resMemberSet.pageRow)},onSearch3:function(){var e=this.refs.ResMemberFilterForm.state.filter;null!==e.value&&""!==e.value?O.isIncNumber(e.value)?e.staffCode=e.value:e.perName=e.value:(e.staffCode="",e.perName=""),this.state.filter=e,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){var t=this.state.filterValue;O.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onChangeScope:function(e){var t=e.target.value;this.setState({queryScope:t}),"all"===t?this.state.filter.resStatus="":"pool"===t?this.state.filter.resStatus="资源池":"proj"===t?this.state.filter.resStatus="项目":"bizi"===t&&(this.state.filter.resStatus="事务"),this.handleQueryClick()},render:function(){var e=this,t=this.state.resMemberSet.recordSet,a=this.state.moreFilter,r="team"===this.state.action?"":"none",i=this.state.resTeamSet.recordSet,l=i.length,o=i.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleItemClick.bind(e,t),title:"点击进入小组成员管理页面"},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.teamName)),n.default.createElement("div",{className:"ant-card-extra"},n.default.createElement("a",{href:"#",onClick:e.onClickUpdateTeam.bind(e,t),title:"修改"},n.default.createElement(u.Icon,{type:O.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDeleteTeam.bind(e,t),title:"删除"},n.default.createElement(u.Icon,{type:O.iconRemove}))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"66px",overflow:"hidden"}},n.default.createElement("p",null,t.teamDesc,"（",t.tmName,"）",n.default.createElement(u.Icon,{type:"user",title:"成员数量",style:{marginLeft:"10px"}})," ",t.memberCount?t.memberCount:0))))}),s=O.getCardMargin(this),c=n.default.createElement("div",{className:"card-page",style:{padding:s.padding,display:r}},n.default.createElement("div",{style:{margin:s.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["res-team/retrieve","res-team/remove"]}),n.default.createElement("div",{className:"toolbar-card"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement("div",{style:{paddingTop:"16px",paddingRight:"4px",display:"inline"}},"共",l,"个小组"),n.default.createElement(u.Icon,{type:"plus-circle-o",onClick:this.handleCreateTeam,title:"增加小组",className:"toolbar-icon",style:{color:"#108ee9"}}),n.default.createElement(u.Icon,{type:"reload",onClick:this.handleQueryClickTeam,title:"刷新数据",className:"toolbar-icon",style:{paddingLeft:"8px"}})))),this.state.teamLoading?n.default.createElement(u.Spin,{tip:"正在努力加载数据..."},n.default.createElement("div",{style:{minHeight:"200px"}},o)):n.default.createElement("div",null,o)),h={title:"",key:"action",width:90,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"更新"},n.default.createElement(u.Icon,{type:O.iconDetail})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除"},n.default.createElement(u.Icon,{type:O.iconRemove})))}},p=window.loginData.compUser.corpUuid,f=[];f="1"===this.state.viewType?[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:120},{title:"项目名称",dataIndex:"resName",key:"resName",width:140},{title:"最高学历",dataIndex:"eduDegree",key:"eduDegree",width:120},{title:"毕业院校",dataIndex:"eduCollege",key:"eduCollege",width:140},{title:"工作年限",dataIndex:"workBegin",key:"workBegin",width:100,render:function(e,t){return H.getColumnWorkYears(e)}},{title:"行业经验",dataIndex:"induBegin",key:"induBegin",width:100,render:function(e,t){return H.getColumnWorkYears(e)}},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:100},h]:"2"===this.state.viewType?[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:120},{title:"公司名称",dataIndex:"corpName",key:"corpName",width:140,render:function(e,t){return null===e||""===e||void 0===e?t.deptName:e}},{title:"员工级别",dataIndex:"empLevel",key:"empLevel",width:100,render:function(t,a){return e.getLevelName(p,a.empLevel)}},{title:"技术岗位",dataIndex:"techName",key:"techUuid",width:100},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:100},{title:"成本",dataIndex:"userCost",key:"userCost",width:100},{title:"入职",dataIndex:"beginDate",key:"beginDate",width:100,render:function(e,t){return O.formatDate(e,O.dateFormat)}},h]:[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:100},{title:"姓名",dataIndex:"perName",key:"perName",width:120},{title:"状态",dataIndex:"resStatus",key:"resStatus",width:100},{title:"项目名称",dataIndex:"resName",key:"resName",width:180},{title:"项目地址",dataIndex:"resLoc",key:"resLoc",width:120},{title:"入组日期",dataIndex:"resDate",key:"resDate",width:100,render:function(e,t){return O.formatDate(e,O.dateFormat)}},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:100},h];var v="query"===this.state.action?"":"none",b={showQuickJumper:!0,total:this.state.resMemberSet.totalRow,pageSize:this.state.resMemberSet.pageRow,current:this.state.resMemberSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},S=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",display:v}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/retrieve","res-member/remove"]}),n.default.createElement(m.default,{ref:"ResMemberFilterForm",moreFilter:a}),n.default.createElement("div",null,n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement("div",null,n.default.createElement(u.Button,{icon:O.iconAdd,type:"primary",title:"增加员工",onClick:this.handleCreate},"员工"),n.default.createElement(u.Button,{icon:O.iconAdd,title:"增加外协",onClick:this.handleCreateOut,style:{marginLeft:"4px"}},"外协"),n.default.createElement(u.Button,{icon:O.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(I,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeView},n.default.createElement(T,{value:"1"},"经验"),n.default.createElement(T,{value:"2"},"岗位"),n.default.createElement(T,{value:"3"},"项目")))),a?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading,style:{marginRight:"8px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.filterToggle},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(I,{value:this.state.queryScope,style:{marginRight:"16px"},onChange:this.onChangeScope},n.default.createElement(T,{value:"all"},"所有"),n.default.createElement(T,{value:"pool"},"资源池"),n.default.createElement(T,{value:"proj"},"项目"),n.default.createElement(T,{value:"bizi"},"事务")),n.default.createElement(U,{placeholder:"查询（员工编号/姓名）",onSearch:this.onSearch,value:this.state.filterValue,onChange:this.onChangeFilter,style:{width:"160px"}}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.filterToggle,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:f,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:b,size:"middle",bordered:O.tableBorder}),n.default.createElement("div",{style:{margin:"-44px 0 0 0",width:"100%"}},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{key:"btnGoBack",onClick:this.onGoBackTeam},"返回资源池"))))),w=null;if("create"===this.state.action)w=n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(u.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(B,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(B,{tab:"增加成员",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},n.default.createElement(g.default,{onBack:this.onGoBack,team:this.state.team})),n.default.createElement(B,{tab:"批量增加成员",key:"3",style:{width:"100%",height:"100%",overflowY:"auto"}},n.default.createElement(E.default,{onBack:this.onGoBack,team:this.state.team}))));else if("createOut"===this.state.action)w=n.default.createElement(C.default,{onBack:this.onGoBack,team:this.state.team});else if("update"===this.state.action){var k={};q.copyValue(this.state.resMember,k),w=n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(u.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(B,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(B,{tab:"修改成员信息",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement(y.default,{onBack:this.onGoBack,resMember:k})),n.default.createElement(B,{tab:"资源池变更",key:"3",style:{width:"100%",height:"100%"}},n.default.createElement(x.default,{onBack:this.onGoBack,resMember:k})),n.default.createElement(B,{tab:"人员离场",key:"4",style:{width:"100%",height:"100%"}},n.default.createElement(j.default,{onBack:this.onGoBack,resMember:k}))))}else if("createTeam"===this.state.action)w=n.default.createElement(P.default,{onBack:this.onGoBackTeam});else if("updateTeam"===this.state.action){var N={};q.copyValue(this.state.team,N),w=n.default.createElement(R.default,{onBack:this.onGoBackTeam,resTeam:N})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},c,S,w)}});e.exports=G},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["createProjMember","deleteProjMember","updateProjMember","retrieveProjMember","retrieveProjMemberPage","initProjMember","getCacheData"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=a(532),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj_info",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveProjInfo:function(e){var t=this,a=this.getServiceUrl("proj_info/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjInfoPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjInfo(e)},onInitProjInfo:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjInfo(e)},onCreateProjInfo:function(e){var t=this.getServiceUrl("proj_info/create");n.recordCreate(this,e,t)},onUpdateProjInfo:function(e){var t=this.getServiceUrl("proj_info/update");n.recordUpdate(this,e,t)},onDeleteProjInfo:function(e){var t=this.getServiceUrl("proj_info/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(528),m=r(c),h=a(527),p=r(h),f=a(30),g=r(f),v=a(133),C=r(v),b=a(1),y=a(11),S=u.Radio.Button,E=u.Radio.Group,w=(u.DatePicker.MonthPicker,"YYYY-MM-DD"),x=u.Input.Search,k=a(6),j=a(3),N=a(173),P=a(150),D=a(14),R=""+k.getToday(),M=n.default.createClass({displayName:"UserCheckPage",getInitialState:function(){return{userCheckSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},loading:!1,viewType:"1",workDate:R,filter:""}},mixins:[b.listenTo(N,"onServiceComplete"),(0,g.default)()],onServiceComplete:function(e){this.setState({loading:!1,userCheckSet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryUserChkBook(R)},onChangeDate:function(e){var t=e.target.value;this.queryUserChkBook(t),this.setState({loading:!0,workDate:t,selectedRowKeys:null})},queryUserChkBook:function(e){var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.workDate=e,t.chkCode=window.loginData.compUser.userCode,t.chkProj=D.selectedPool.uuid,P.retrieveUserChkBook(t)},onChangeViewType:function(e){P.getCacheData(),this.setState({loading:!0,viewType:e.target.value})},onSelectChange:function(e){this.setState({selectedRowKeys:e})},getSelectedRows:function(){var e=this,t=[];this.state.userCheckSet.recordSet.length;return this.state.selectedRowKeys.map(function(a){t.push(e.state.userCheckSet.recordSet[a])}),t},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workDate:a}),this.queryUserChkBook(a)},showError:function(e){y.showError("res-member-snap","create-pool-chk",e)},handleClickCheckBook:function(e){var t={corpUuid:window.loginData.compUser.corpUuid,poolUuid:D.selectedPool.uuid,chkDate:this.state.workDate,poolName:D.selectedPool.poolName,pmCode:D.selectedPool.pmCode},a={startPage:0,pageRow:0,totalCount:0,totalRow:0,object:t};this.setState({loading:!0});var r=this,i=j.projUrl+"/res-member-snap/create-pool-chk";j.doUpdateService(i,a).then(function(e,a,i){null==e.errCode||""==e.errCode||"000000"==e.errCode?(r.showError(""),r.queryUserChkBook(t.chkDate)):(r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]"),r.setState({loading:!1}))},function(e,t,a){r.setState({loading:!1}),r.showError("未知错误")})},handleClickBatchCheck:function(e){var t=this.state.workDate,a=this.getSelectedRows();console.log("checkList",a),this.refs.batchCheckWindow.clear(a,t),this.refs.batchCheckWindow.toggle()},onClickCheck:function(e){var t=this.state.workDate;this.refs.createWindow.clear(e,t),this.refs.createWindow.toggle()},onClickUpdate:function(e){var t=this.state.workDate;this.refs.createWindow.clear(e,t),this.refs.createWindow.toggle()},getTitleStyle:function(e){return null===e.checkUuid?{color:"red"}:null},getEditIcon:function(e){return null===e.checkUuid?"schedule":"edit"},render:function(){var e=this,t=(D.selectedPool.uuid,k.filter(this.state.userCheckSet.recordSet,this.state.filterValue)),a=this.state.selectedRowKeys,r={selectedRowKeys:a,onChange:this.onSelectChange},i=[];if("1"===this.state.viewType)i=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"签到",dataIndex:"checkIn",key:"checkIn",width:140},{title:"签退",dataIndex:"checkOut",key:"checkOut",width:140},{title:"工时",dataIndex:"workHour",key:"workHour",width:140},{title:"加班",dataIndex:"overHour",key:"overHour",width:140},{title:"休假",dataIndex:"leaveHour",key:"leaveHour",width:140},{title:"经理",dataIndex:"pmName",key:"pmName",width:140},{title:"操作",key:"action",width:60,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{onClick:e.onClickCheck.bind(e,a),title:"考勤"},n.default.createElement(u.Icon,{type:e.getEditIcon(a)})))}}];else if("2"===this.state.viewType)var l=t.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:260}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"}},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title",style:e.getTitleStyle(t)},t.staffCode,"（",t.perName,"）")),n.default.createElement("div",{className:"ant-card-extra"},n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,t),title:"修改"},n.default.createElement(u.Icon,{type:k.iconUpdate}))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"80px",overflow:"hidden"}},n.default.createElement("p",null,"签到：",t.checkIn,"， 签退：",t.checkOut),n.default.createElement("p",null,"工时：",t.workHour,"， 加班：",t.overHour,"， 经理：",t.pmName))))});else"3"===this.state.viewType&&(i=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"签到",dataIndex:"checkIn",key:"checkIn",width:140},{title:"签退",dataIndex:"checkOut",key:"checkOut",width:140},{title:"工时",dataIndex:"workHour",key:"workHour",width:140},{title:"加班",dataIndex:"overHour",key:"overHour",width:140},{title:"休假",dataIndex:"leaveHour",key:"leaveHour",width:140},{title:"经理",dataIndex:"pmName",key:"pmName",width:140}]);var o=null;o="2"===this.state.viewType?n.default.createElement("div",{className:"card-body",style:{paddingTop:"6px"}},l):"3"===this.state.viewType?n.default.createElement("div",{style:{padding:"0 18px 18px 20px"},className:"grid-body"},n.default.createElement(u.Table,{columns:i,dataSource:t,rowSelection:r,rowKey:function(e){return e.id},loading:this.state.loading,pagination:!1,size:"small",bordered:!0})):n.default.createElement("div",{style:{padding:"0 18px 18px 20px"},className:"grid-body"},n.default.createElement(u.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"small",bordered:k.tableBorder}));var s=k.getCardMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:s.padding}},n.default.createElement("div",{style:{margin:s.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/remove","res-member-snap/create-pool-chk"]}),n.default.createElement("div",{className:"toolbar-table"},"3"===this.state.viewType?n.default.createElement(u.Button,{type:"primary",style:{marginRight:"12px"},onClick:this.handleClickBatchCheck},"创建考勤"):null,n.default.createElement(C.default,{value:this.state.workDate,onChange:this.onChangeDate}),n.default.createElement(u.DatePicker,{style:{width:"100px",marginLeft:"16px"},format:w,onChange:this.datePicker,allowClear:!1}),n.default.createElement(u.Button,{type:"primary",style:{marginLeft:"16px"},onClick:this.handleClickCheckBook},"生成考勤表"),n.default.createElement("div",{style:{float:"right"}},n.default.createElement(E,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeViewType},n.default.createElement(S,{value:"1"},n.default.createElement(u.Icon,{type:"bars"})),n.default.createElement(S,{value:"2"},n.default.createElement(u.Icon,{type:"credit-card"})),n.default.createElement(S,{value:"3"},n.default.createElement(u.Icon,{type:"check-square-o"})))),"3"===this.state.viewType?null:n.default.createElement(x,{placeholder:"查询",style:{width:"120px",marginLeft:"16px",float:"right"},value:this.state.filterValue,onChange:this.onFilterRecord}))),o,n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"batchCheckWindow"}))}});e.exports=M},function(e,t,a){"use strict";var r=a(1),i=a(538),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onRetrieveProjMember:function(e,t){var a=this,r={};r.corpUuid=e,r.chkDate=t;var i=this.getServiceUrl("proj-member/retrieve3");n.doRetrieveService(i,r,a.startPage,a.pageRow,a.totalRow).then(function(r){null==r.errCode||""==r.errCode||"000000"==r.errCode?(a.recordSet=r.object.list,a.startPage=r.object.startPage,a.pageRow=r.object.pageRow,a.totalRow=r.object.totalRow,a.corpUuid=e,a.chkDate=t,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+r.errCode+"]["+r.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveProjMemberPage:function(e,t,a,r){this.startPage=a,this.pageRow=r,this.chkDate=t,this.onRetrieveProjMember(e,t)},onRetrieveStaffProj:function(e,t){var a=this;if(null===t||""===t||void 0===t)return a.recordSet=[],a.startPage=0,a.pageRow=0,a.totalRow=0,a.corpUuid=e,a.staffCode="",void a.fireEvent("retrieve","",a);var r={};r.corpUuid=e,r.staffCode=t;var i=this.getServiceUrl("proj-member/findStaffLog");n.doRetrieveService(i,r,a.startPage,a.pageRow,a.totalRow).then(function(r){null==r.errCode||""==r.errCode||"000000"==r.errCode?(a.recordSet=r.object.list,a.startPage=r.object.startPage,a.pageRow=r.object.pageRow,a.totalRow=r.object.totalRow,a.corpUuid=e,a.staffCode=t,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+r.errCode+"]["+r.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProjMember","initProjMember"]);e.exports=i},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1),m=(s.Input.Search,a(6)),h=(a(3),a(774)),p=a(538),f=n.default.createClass({displayName:"StaffProjPage",getInitialState:function(){return{projSet:{recordSet:[]},staffCode:"",loading:!1}},mixins:[c.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projSet:e})},handleQueryClick:function(){this.setState({loading:!0});var e=this.state.staffCode,t=window.loginData.compUser.corpUuid;p.retrieveStaffProj(t,e)},componentDidMount:function(){var e=this.props.staffCode;e&&e!==this.state.staffCode&&(this.state.staffCode=e,this.handleQueryClick())},componentWillReceiveProps:function(e){var t=e.staffCode;if(!t||t===this.state.staffCode){var a={recordSet:[]};return void this.setState({loading:!1,projSet:a})}this.state.staffCode=t,this.handleQueryClick()},render:function(){var e=this.state.projSet.recordSet,t=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"日期",dataIndex:"beginDate",key:"beginDate",width:160,render:function(e,t){return t.beginDate+"--"+("#"===t.endDate?"":t.endDate)}},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"项目地址",dataIndex:"projLoc",key:"projLoc",width:140},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算价",dataIndex:"userPrice",key:"userPrice",width:140},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:200}];return n.default.createElement("div",{className:"grid-page"},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj-member/retrieve"]}),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:m.tableBorder})))}});e.exports=f},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveTempProj"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveResMember","retrieveResMemberPage"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveResMemberSmall"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveResTeamGrp"]);e.exports=i},function(e,t,a){"use strict";var r=a(1),i=r.createActions(["retrieveProjTaskMember","initProjTaskMember"]);e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(1),i=a(708),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],init:function(){},getServiceUrl:function(e){return n.hrUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,operation:e,errMsg:t}),l.showError("hr_dept",e,t)},onInitDeptGroup:function(e){if(this.recordSet.length>0&&this.corpUuid===e)return void this.fireEvent("retrieve","",this);var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("hr_dept/select-dept-group");n.doRetrieveService(r,a,0,0,0).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),m=r(c),h=a(30),p=r(h),f=a(221),g=r(f),v=a(1),C=a(11),b=u.Radio.Button,y=u.Radio.Group,S=u.DatePicker.MonthPicker,E=u.Input.Search,w=a(6),x=(a(3),
a(370)),k=a(276),j=a(14),N=""+w.getMonth(),P=n.default.createClass({displayName:"CheckQueryPage",getInitialState:function(){return{checkQuerySet:{recordSet:[],errMsg:""},loading:!1,viewType:"1",workMonth:N,filter:""}},mixins:[v.listenTo(x,"onServiceComplete"),(0,p.default)(),(0,m.default)()],onServiceComplete:function(e){this.setState({loading:!1,checkQuerySet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryCheckQuery(N)},onChangeDate:function(e){var t=e.target.value;this.queryCheckQuery(t),this.setState({loading:!0,workMonth:t,selectedRowKeys:null})},queryCheckQuery:function(e){var t={};null!==e&&""!==e?(t.fromDate=e+"01",t.toDate=e+"31"):(t.fromDate="",t.toDate=""),t.chkProj=j.selectedBiziProj.uuid,k.retrieveCheckQuery(t)},onChangeViewType:function(e){k.getCacheData(),this.setState({loading:!0,viewType:e.target.value})},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workMonth:a}),this.queryCheckQuery(a)},showError:function(e){C.showError("user-chk-book","retrieve",e)},getWorkHours:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];t+=parseFloat(r.workHour)}return t},getOverHours:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"0"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getOverHours3:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"2"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getOverHours2:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"1"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getLeaveHour:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"事假"!==r.leaveType&&"病假"!==r.leaveType&&"其他无薪假期"!==r.leaveType&&(t+=parseFloat(r.leaveHour))}return t},getLeaveHour2:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"事假"!=r.leaveType&&"病假"!=r.leaveType&&"其他无薪假期"!=r.leaveType||(t+=parseFloat(r.leaveHour))}return t},render:function(){var e=this,t=w.filter(this.state.checkQuerySet.recordSet,this.state.filterValue),a=[],r=this.state.workMonth.substr(0,4),i=this.state.workMonth.substr(4,2),l=new Date(r,i,0),o=l.getDate();if("1"===this.state.viewType)a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"类型",dataIndex:"manType",key:"manType",width:140},{title:"工时",dataIndex:"workHours",key:"workHours",width:140,render:function(t,a){return e.getWorkHours(a)}},{title:"加班",dataIndex:"overHours",key:"overHours",width:140,render:function(t,a){return e.getOverHours(a)}},{title:"周末",dataIndex:"overHour2",key:"overHour2",width:140,render:function(t,a){return e.getOverHours2(a)}},{title:"节假日",dataIndex:"overHour3",key:"overHour3",width:140,render:function(t,a){return e.getOverHours3(a)}},{title:"带薪假",dataIndex:"leaveHour",key:"leaveHour",width:140,render:function(t,a){return e.getLeaveHour(a)}},{title:"无薪假",dataIndex:"leaveHour2",key:"leaveHour2",width:140,render:function(t,a){return e.getLeaveHour2(a)}}];else if("2"===this.state.viewType){a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:100,fixed:"left"},{title:"姓名",dataIndex:"perName",key:"perName",width:100,fixed:"left"},{title:"部门",dataIndex:"deptName",key:"deptName",width:140}];for(var s=this.state.workMonth,c=1;c<o+1;c++){c=c<10?"0"+c:""+c;var m="",h=this.getDateType(s+c);"1"!==h&&"2"!==h||(m="leaveWeek"),a.push({title:c,dataIndex:c,key:c,width:120,className:m})}}else if("3"===this.state.viewType){a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:100,fixed:"left"},{title:"姓名",dataIndex:"perName",key:"perName",width:100,fixed:"left"},{title:"部门",dataIndex:"deptName",key:"deptName",width:140}];for(var s=this.state.workMonth,c=1;c<o+1;c++){c=c<10?"0"+c:""+c;var m="",h=this.getDateType(s+c);"1"!==h&&"2"!==h||(m="leaveWeek"),a.push({title:c,dataIndex:c,key:c,width:120,className:m})}}var p=w.getCardMargin(this),f=120*o+340;if("1"===this.state.viewType&&(f=0),"2"===this.state.viewType)for(var c=0;c<t.length;c++)for(var v=t[c],C=0;C<v.chkList.length;C++){var x=v.chkList[C],k=x.chkDate.substr(6,2),j=x.workHour;"0"===j&&(j=""),"0"!=x.overHour&&(j=""===j?"【加】"+parseFloat(x.overHour):j+";【加】"+parseFloat(x.overHour)),"0"!=x.leaveHour&&(j=""===j?"【休】"+parseFloat(x.leaveHour):j+";【休】"+parseFloat(x.leaveHour)),v[k]=j}else if("3"===this.state.viewType)for(var c=0;c<t.length;c++)for(var v=t[c],C=0;C<v.chkList.length;C++){var x=v.chkList[C],k=x.chkDate.substr(6,2),N="",P=x.checkIn,D=x.checkOut;void 0!==P&&null!==P&&""!==P&&(N=P.substr(0,5)),void 0!==D&&null!==D&&""!==D&&(N=N+"~"+D.substr(0,5)),v[k]=N}return n.default.createElement("div",{className:"grid-page",style:{padding:p.padding}},n.default.createElement("div",{style:{margin:p.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(g.default,{value:this.state.workMonth,onChange:this.onChangeDate}),n.default.createElement(S,{allowClear:!1,style:{marginLeft:"16px",width:"120px"},format:w.monthFormat,onChange:this.datePicker}),n.default.createElement("div",{style:{float:"right"}},n.default.createElement(y,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeViewType},n.default.createElement(b,{value:"1"},n.default.createElement(u.Icon,{type:"bars"})),n.default.createElement(b,{value:"2"},n.default.createElement(u.Icon,{type:"credit-card"})),n.default.createElement(b,{value:"3"},n.default.createElement(u.Icon,{type:"check-square-o"})))),n.default.createElement(E,{placeholder:"查询",style:{width:"120px",marginLeft:"16px",float:"right"},value:this.state.filterValue,onChange:this.onFilterRecord}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,scroll:{x:f,y:600},rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:w.tableBorder})))}});e.exports=P},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=(r(s),a(4)),u=a(9),c=r(u),m=(a(1),d.DatePicker.MonthPicker,d.DatePicker.RangePicker,d.Form.Item),h=(a(6),{moreFilter:l.default.PropTypes.bool}),p=l.default.createClass({displayName:"BiziMemberFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],biziMember:{perName:"",staffCode:"",corpName:"",deptName:""}}},mixins:[(0,c.default)("biziMember")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"corpName",desc:"公司名称",required:!1,max:"128"},{id:"deptName",desc:"部门名称",required:!1,max:"128"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",padding:"20px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"500px",float:"right"}},l.default.createElement(d.Form,{layout:e},l.default.createElement(d.Row,{gutter:16},l.default.createElement(d.Col,{className:"gutter-row",span:12},l.default.createElement(m,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(d.Input,{type:"text",name:"perName",id:"perName",value:this.state.biziMember.perName,onChange:this.handleOnChange}))),l.default.createElement(d.Col,{className:"gutter-row",span:12},l.default.createElement(m,i({},a,{label:"工号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(d.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.biziMember.staffCode,onChange:this.handleOnChange})))),l.default.createElement(d.Row,{gutter:16},l.default.createElement(d.Col,{className:"gutter-row",span:12},l.default.createElement(m,i({},a,{label:"公司",required:!1,colon:!0,className:t,help:r.corpNameHint,validateStatus:r.corpNameStatus}),l.default.createElement(d.Input,{type:"text",name:"corpName",id:"corpName",value:this.state.biziMember.corpName,onChange:this.handleOnChange}))),l.default.createElement(d.Col,{className:"gutter-row",span:12},l.default.createElement(m,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:r.deptNameHint,validateStatus:r.deptNameStatus}),l.default.createElement(d.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.biziMember.deptName,onChange:this.handleOnChange})))))))}});p.propTypes=h,e.exports=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(1),p=a(6),f=a(3),g=m.Form.Item,v=(m.Select.Option,m.Tabs.TabPane),C=a(724),b=a(487),y=l.default.createClass({displayName:"UpdateBiziMemberPage",getInitialState:function(){return{biziMemberSet:{operation:"",errMsg:""},loading:!1,biziMember:{},hints:{},validRules:[]}},mixins:[h.listenTo(C,"onServiceComplete"),(0,c.default)("biziMember")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,biziMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"endDate",desc:"离组日期",required:!0,max:"24"},{id:"endTime",desc:"离组时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式[hh:mm]错误"}],this.initPage(this.props.biziMember)},initPage:function(e){"#"===e.endDate?(e.endDate=""+p.getToday(),e.endTime="18:00",f.copyValue(e,this.state.biziMember)):f.copyValue(e,this.state.biziMember),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){p.formValidator(this,this.state.biziMember)&&(this.setState({loading:!0}),b.updateBiziProjMember(this.state.biziMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(v,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(v,{tab:"人员离组/修改",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj-member/update"]}),l.default.createElement(m.Form,{layout:e,style:{width:"100%",maxWidth:"600px"}},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.biziMember.staffCode,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.biziMember.perName,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"员工类型",required:!1,colon:!0,className:t,help:n.manTypeHint,validateStatus:n.manTypeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"manType",id:"manType",value:this.state.biziMember.manType,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"归属地",required:!1,colon:!0,className:t,help:n.baseCityHint,validateStatus:n.baseCityStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"baseCity",id:"baseCity",value:this.state.biziMember.baseCity,disabled:!0})))),l.default.createElement(g,i({},a,{label:"公司",required:!1,colon:!0,className:t,help:n.corpNameHint,validateStatus:n.corpNameStatus}),l.default.createElement(m.Input,{type:"text",name:"corpName",id:"corpName",value:this.state.biziMember.corpName,disabled:!0})),l.default.createElement(g,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),l.default.createElement(m.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.biziMember.deptName,disabled:!0})),l.default.createElement(m.Row,{style:{paddingTop:"16px"}},l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"入组日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(m.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:p.dateFormat,value:this.formatDate(this.state.biziMember.beginDate,p.dateFormat),disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(m.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.biziMember.beginTime,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"离组日期",required:!0,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(m.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",format:p.dateFormat,value:this.formatDate(this.state.biziMember.endDate,p.dateFormat),onChange:this.handleOnSelDate.bind(this,"endDate",p.dateFormat)}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"离组时间",required:!0,colon:!0,className:t,help:n.endTimeHint,validateStatus:n.endTimeStatus}),l.default.createElement(m.Input,{type:"text",name:"endTime",id:"endTime",value:this.state.biziMember.endTime,onChange:this.handleOnChange})))),l.default.createElement(g,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"OverBookPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"加班登记表")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(14),m=r(c),h=a(498),p=r(h),f=a(1360),g=r(f),v=a(1361),C=r(v),b=a(1),y=u.Input.Search,S=a(6),E=a(3),w=a(489),x=a(355),k=a(488),j="",N=n.default.createClass({displayName:"BiziRolePage",getInitialState:function(){return{projRoleSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,oldIndex:-1}},mixins:[b.listenTo(w,"onServiceComplete"),(0,p.default)("")],onServiceComplete:function(e){if(this.setState({loading:!1,projRoleSet:e}),"retrieve"===e.operation)for(var t=e.recordSet.length,a=0;a<t;a++)if("组长"!==e.recordSet[a].roleName&&"1"==e.recordSet[a].chkRole)return void this.setState({oldIndex:a})},handleQueryClick:function(e){this.setState({loading:!0});var t=m.default.selectedBiziProj.uuid;x.retrieveBiziProjRole(t)},componentDidMount:function(){this.setState({loading:!0});var e=m.default.selectedBiziProj.uuid;x.initBiziProjRole(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的管理人员 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.projRoleSet.operation="",x.deleteBiziProjRole(e.uuid)},onFilterRecord:function(e){j=e.target.value,this.setState({loading:this.state.loading})},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){"助理"!==e.roleName&&"副经理"!==e.roleName||this.setState({projRole:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},onRoleCheck:function(e,t){var a={};return E.copyValue(e,a),"组长"===e.roleName?(a.chkRole="1"==a.chkRole?"0":"1",this.setState({loading:!0}),void x.updateBiziProjRole(a)):"1"==a.chkRole?(a.chkRole="0",this.setState({loading:!0,oldIndex:-1}),void x.updateBiziProjRole(a)):void(this.state.oldIndex!==-1&&this.state.oldIndex!==t?u.Modal.warning({title:"非法操作",content:"已存在考勤员，请先取消原考勤员",okText:"确定"}):this.onRoleCheck2(a,t))},onRoleCheck2:function(e,t){e.chkRole="1",this.setState({loading:!0,oldIndex:t}),x.updateBiziProjRole(e)},render:function(){var e=this,t=S.filter(this.state.projRoleSet.recordSet,j),a=[this.getColumn(k.roleName,140),this.getColumn(k.staffCode,140),this.getColumn(k.perName,140),{title:"考勤员",dataIndex:"chkRole",key:"chkRole",width:140,render:function(t,a,r){return n.default.createElement("input",{type:"checkbox",name:"chkRole",checked:"1"==t,onClick:e.onRoleCheck.bind(e,a,r)})}},this.getColumn(k.beginDate,140),this.getColumn(k.endDate,140),{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改管理人员"},n.default.createElement(u.Icon,{type:S.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除管理人员"},n.default.createElement(u.Icon,{type:S.iconRemove})))}}],r=S.getGridMargin(this),i="query"===this.state.action?"":"none",l=n.default.createElement("div",{className:"grid-page",style:{padding:r.padding,overflow:"auto",display:i}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj-role/retrieve","bizi-proj-role/remove","bizi-proj-role/update"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:S.iconAdd,type:"primary",title:"增加管理人员",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:S.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(y,{placeholder:"查找记录",style:{width:S.searchWidth},value:j,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:S.tableBorder}))),o=null;if("create"===this.state.action)o=n.default.createElement(g.default,{onBack:this.onGoBack});else if("update"===this.state.action){var s={};E.copyValue(this.state.projRole,s),o=n.default.createElement(C.default,{onBack:this.onGoBack,projRole:s})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},l,o)}});e.exports=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(498),h=r(m),p=a(4),f=a(25),g=r(f),v=a(1),C=a(6),b=p.Form.Item,y=(p.Select.Option,p.Tabs.TabPane),S=a(488),E=a(489),w=a(355),x=a(14),k=l.default.createClass({displayName:"CreateBiziRolePage",getInitialState:function(){return{projRoleSet:{operation:"",errMsg:""},loading:!1,modal:!1,user:"",projRole:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,c.default)("projRole"),(0,h.default)("projRole")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projRoleSet:e}))},componentDidMount:function(){this.state.validRules=[S.roleName,S.staffCode,S.perName,S.beginDate,S.endDate],this.clear()},clear:function(){this.state.hints={},this.state.projRole.corpUuid=window.loginData.compUser.corpUuid,this.state.projRole.projUuid=x.selectedBiziProj.uuid,this.state.projRole.roleName="助理",this.state.projRole.staffCode="",this.state.projRole.perName="",this.state.projRole.beginDate="",this.state.projRole.endDate="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectProjRole:function(e){this.state.projRole.memo2=e.deptName,this.state.projRole.staffCode=e.staffCode,this.state.projRole.perName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){C.formValidator(this,this.state.projRole)&&(this.setState({loading:!0}),w.createBiziProjRole(this.state.projRole))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20},className:t},r=this.state.hints,n=!this.state.projRole.perName,o=x.selectedBiziProj.uuid;return void 0===this.state.projRole.roleName&&(this.state.projRole.roleName="助理"),l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(y,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(y,{tab:"增加管理人员",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj-role/create"]}),l.default.createElement(p.Form,{layout:e,style:{width:"500px"}},this.getField(S.roleName,a),l.default.createElement(b,i({},a,{label:"姓名",required:!0,colon:!0,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(g.default,{projUuid:o,ref:"empSearchBox",name:"perName",id:"perName",value:this.state.projRole.perName,onSelectEmpLoyee:this.onSelectProjRole})),this.getField(S.beginDate,a),this.getField(S.endDate,a),l.default.createElement(b,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",disabled:n,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(498),h=r(m),p=a(4),f=a(25),g=r(f),v=a(1),C=a(6),b=a(3),y=p.Form.Item,S=(p.Select.Option,p.Tabs.TabPane),E=a(488),w=a(489),x=a(355),k=a(14),j=l.default.createClass({displayName:"UpdateBiziRolePage",getInitialState:function(){return{projRoleSet:{operation:"",errMsg:""},loading:!1,modal:!1,user:"",projRole:{},hints:{},validRules:[]}},mixins:[v.listenTo(w,"onServiceComplete"),(0,c.default)("projRole"),(0,h.default)("projRole")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projRoleSet:e}))},componentDidMount:function(){this.state.validRules=[E.roleName,E.staffCode,E.perName,E.beginDate,E.endDate],this.initPage(this.props.projRole)},componentWillReceiveProps:function(e){this.initPage(e.projRole)},initPage:function(e){b.copyValue(e,this.state.projRole),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.perName),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectProjRole:function(e){this.state.projRole.memo2=e.deptName,this.state.projRole.staffCode=e.staffCode,this.state.projRole.perName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){C.formValidator(this,this.state.projRole)&&(this.setState({loading:!0}),x.updateBiziProjRole(this.state.projRole))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20},className:t},r=this.state.hints,n=k.selectedBiziProj.uuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(S,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(S,{tab:"修改管理人员信息",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj-role/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"500px"}},this.getField(E.roleName,a),l.default.createElement(y,i({},a,{label:"姓名",required:!0,colon:!0,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(g.default,{projUuid:n,ref:"empSearchBox",name:"perName",id:"perName",value:this.state.projRole.perName,onSelectEmpLoyee:this.onSelectProjRole})),this.getField(E.beginDate,a),this.getField(E.endDate,a),l.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(7)),s=r(o),d=a(9),u=r(d),c=a(4),m=a(21),h=r(m),p=a(14),f=r(p),g=a(1),v=(a(6),a(3)),C=a(173),b=a(150),y=a(135),S=a(170),E=n.default.createClass({displayName:"BatchCheckPage",getInitialState:function(){return{userCheckSet:{operation:"",errMsg:""},checkList:[],len:0,index:0,chkDate:"",modal:!1,isCreate:!1,stop:!1}},mixins:[g.listenTo(C,"onServiceComplete"),(0,u.default)("userCheck"),g.listenTo(S,"onCheckInfoComplete"),(0,h.default)()],onServiceComplete:function(e){if(this.state.modal)if(""===e.errMsg){var t=this.state.len,a=this.state.index,r=this.state.stop;if(r)return;a+1===t?this.setState({index:a+1}):(this.setState({index:a+1}),this.doBatchCheck(this.state.checkList))}else this.setState({loading:!1,stop:!0,userCheckSet:e})},onCheckInfoComplete:function(e){var t=(this.state.len,this.state.index);f.default.calcCheckDate(this.state.checkList[t],e.posSet,e.leaveSet,this.state.isCreate),this.state.userCheckSet.operation="",this.state.isCreate?b.createUserChkBook(this.state.checkList[t]):b.updateUserChkBook(this.state.checkList[t])},componentDidMount:function(){},clear:function(e,t){var a=[],r=e.length;e.map(function(e,t){a[t]={},v.copyValue(e,a[t])}),this.state.checkList=a,this.state.chkDate=t,this.state.index=0,this.state.len=r,this.state.stop=!1,this.doBatchCheck(a)},doBatchCheck:function(e){var t=this.state.chkDate,a=(this.state.len,this.state.index),r={};v.copyValue(e[a],r);var i=window.loginData.compUser.corpUuid;e[a].corpUuid=i,e[a].chkDate=t,e[a].projUuid=r.resUuid,e[a].teamUuid=r.teamUuid,e[a].projType=r.resStatus,e[a].projName=r.resName,e[a].projLoc=r.resLoc,e[a].pmUuid="",e[a].pmCode=window.loginData.compUser.userCode,e[a].pmName=window.loginData.authUser.perName,e[a].fromHour=r.fromTime,e[a].toHour=r.endTime,e[a].dateType=this.getDateType(t),e[a].leaveType="",e[a].leaveHour="0",e[a].chkType="";var n=r.checkUuid;void 0===n||null===n||""===n?(e[a].workHour="0",e[a].overHour="0",e[a].chkDesc="",this.state.isCreate=!0):(e[a].uuid=n,this.state.isCreate=!1),this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),y.getCheckInfo(i,r.staffCode,r.userId,t)},onStop:function(){this.state.stop=!0},render:function(){var e=this.state.index,t=this.state.checkList[e]?this.state.checkList[e].perName:"",a=Math.floor(e/this.state.len*100),r=null,i=null;return this.state.stop?(r=n.default.createElement(c.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),i=n.default.createElement("span",null,"已终止！")):(r=t?n.default.createElement(c.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.onStop},"终止"):n.default.createElement(c.Button,{key:"btnClose",type:"primary",size:"large",onClick:this.toggle},"完成"),i=t?n.default.createElement("span",null,"正在生成",t,"的考勤 ……"):n.default.createElement("span",null,"已完成！")),n.default.createElement(c.Modal,{visible:this.state.modal,width:"540px",closable:!1,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[n.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},n.default.createElement(s.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/update"]}),r)]},n.default.createElement("div",{style:{padding:"24px 0px"}},n.default.createElement(c.Progress,{percent:a,status:"active"}),n.default.createElement("p",{style:{padding:"12px 0 0 0"}},i)))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(21),p=r(h),f=a(14),g=r(f),v=a(1),C=(a(6),a(3)),b=m.Form.Item,y=(m.Select.Option,a(173)),S=a(150),E=a(135),w=a(170),x=l.default.createClass({displayName:"CreateUserCheckPage",getInitialState:function(){return{userCheckSet:{operation:"",errMsg:""},loading:!1,modal:!1,userCheck:{},hints:{},validRules:[],isCreate:!1}},mixins:[v.listenTo(y,"onServiceComplete"),(0,c.default)("userCheck"),v.listenTo(w,"onCheckInfoComplete"),(0,p.default)()],onServiceComplete:function(e){this.state.modal&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,userCheckSet:e}))},onCheckInfoComplete:function(e){g.default.calcCheckDate(this.state.userCheck,e.posSet,e.leaveSet,this.state.isCreate),this.setState({loading:!1,leaveSet:e.leaveSet,posSet:e.posSet})},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"工号",required:!1,max:"0"},{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"fromHour",desc:"开始时间",required:!1,max:"0"},{id:"toHour",desc:"结束时间",required:!1,max:"0"},{id:"dateType",
desc:"日期类型",required:!1,max:"0"},{id:"leaveType",desc:"休假类型",required:!1,max:"0"},{id:"leaveHour",desc:"休假时间",required:!1,max:"0"},{id:"workHour",desc:"工时",required:!1,max:"0"},{id:"overHour",desc:"加班",required:!1,max:"0"},{id:"chkDesc",desc:"备注",required:!1,max:"512"}]},clear:function(e,t){this.state.hints={},C.copyValue(e,this.state.userCheck);var a=window.loginData.compUser.corpUuid;this.state.userCheck.corpUuid=a,this.state.userCheck.chkDate=t,this.state.userCheck.projUuid=e.resUuid,this.state.userCheck.teamUuid=e.teamUuid,this.state.userCheck.projType=e.resStatus,this.state.userCheck.projName=e.resName,this.state.userCheck.projLoc=e.resLoc,this.state.userCheck.pmUuid="",this.state.userCheck.pmCode=window.loginData.compUser.userCode,this.state.userCheck.pmName=window.loginData.authUser.perName,this.state.userCheck.fromHour=e.fromTime,this.state.userCheck.toHour=e.endTime,this.state.userCheck.dateType=this.getDateType(t),this.state.userCheck.leaveType="",this.state.userCheck.leaveHour="0",this.state.userCheck.chkType="";var r=e.checkUuid;void 0===r||null===r||""===r?(this.state.userCheck.workHour="0",this.state.userCheck.overHour="0",this.state.userCheck.chkDesc="",this.state.isCreate=!0):(this.state.userCheck.uuid=r,this.state.isCreate=!1),this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),this.state.loading=!0,E.getCheckInfo(a,e.staffCode,e.userId,t)},onClickSave:function(){this.state.userCheckSet.operation="",this.setState({loading:!0}),this.state.isCreate?S.createUserChkBook(this.state.userCheck):S.updateUserChkBook(this.state.userCheck)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints,o=this.state.isCreate?"生成考勤":"修改考勤数据";return l.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:o,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/update"]}),l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(m.Form,{layout:e},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"工号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.userCheck.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{type:"text",name:"perName",id:"perName",value:this.state.userCheck.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"开始时间",required:!1,colon:!0,className:t,help:n.fromHourHint,validateStatus:n.fromHourStatus}),l.default.createElement(m.Input,{type:"text",name:"fromHour",id:"fromHour",value:this.state.userCheck.fromHour,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"结束时间",required:!1,colon:!0,className:t,help:n.toHourHint,validateStatus:n.toHourStatus}),l.default.createElement(m.Input,{type:"text",name:"toHour",id:"toHour",value:this.state.userCheck.toHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(b,i({},r,{label:"签到记录",required:!1,colon:!0,className:t}),l.default.createElement(m.Input,{type:"textarea",name:"checkLogger",id:"checkLogger",value:this.state.userCheck.checkLogger,readOnly:!0})),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"签到时长",required:!1,colon:!0,className:t}),l.default.createElement(m.Input,{type:"text",name:"checkHour",id:"checkHour",value:this.state.userCheck.checkHour,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"日期类型",required:!1,colon:!0,className:t,help:n.dateTypeHint,validateStatus:n.dateTypeStatus}),l.default.createElement(m.Input,{type:"text",name:"dateType",id:"dateType",value:this.state.userCheck.dateType,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"休假类型",required:!1,colon:!0,className:t,help:n.leaveTypeHint,validateStatus:n.leaveTypeStatus}),l.default.createElement(m.Input,{type:"text",name:"leaveType",id:"leaveType",value:this.state.userCheck.leaveType,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"休假时间",required:!1,colon:!0,className:t,help:n.leaveHourHint,validateStatus:n.leaveHourStatus}),l.default.createElement(m.Input,{type:"text",name:"leaveHour",id:"leaveHour",value:this.state.userCheck.leaveHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"工时",required:!1,colon:!0,className:t,help:n.workHourHint,validateStatus:n.workHourStatus}),l.default.createElement(m.Input,{type:"text",name:"workHour",id:"workHour",value:this.state.userCheck.workHour,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"加班",required:!1,colon:!0,className:t,help:n.overHourHint,validateStatus:n.overHourStatus}),l.default.createElement(m.Input,{type:"text",name:"overHour",id:"overHour",value:this.state.userCheck.overHour,onChange:this.handleOnChange})))),l.default.createElement(m.Row,null,l.default.createElement(b,i({},r,{label:"备注",required:!1,colon:!0,className:t,help:n.chkDescHint,validateStatus:n.chkDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"chkDesc",id:"chkDesc",value:this.state.userCheck.chkDesc,onChange:this.handleOnChange})))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=r(s),u=a(4),c=a(9),m=r(c),h=(a(1),u.DatePicker.MonthPicker),p=(u.DatePicker.RangePicker,u.Form.Item),f=a(6),g={moreFilter:l.default.PropTypes.bool},v=l.default.createClass({displayName:"ContractFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],contract:{corpUuid:"",contCode:"",contName:"",custName:"",salName:"",marketArea:"",delivArea:"",signMonth:"",contType:"",signDate1:"",signDate2:""}}},mixins:[(0,m.default)("contract")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"contCode",desc:"合同编号",required:!1,max:"64"},{id:"contName",desc:"合同名称",required:!1,max:"128"},{id:"custName",desc:"客户名称",required:!1,max:"64"},{id:"salName",desc:"销售姓名",required:!1,max:"32"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},n=this.state.hints;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},l.default.createElement(u.Form,{layout:e,style:{width:"1000px",padding:"20px 0px"}},l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},r,{label:"合同编号",required:!1,colon:!0,className:t,help:n.contCodeHint,validateStatus:n.contCodeStatus}),l.default.createElement(u.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.contract.contCode,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},r,{label:"合同名称",required:!1,colon:!0,className:t,help:n.contNameHint,validateStatus:n.contNameStatus}),l.default.createElement(u.Input,{type:"text",name:"contName",id:"contName",value:this.state.contract.contName,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},a,{label:"合同类型",required:!1,colon:!0,className:t,help:n.contTypeHint,validateStatus:n.contTypeStatus}),l.default.createElement(d.default,{name:"contType",id:"contType",value:this.state.contract.contType,appName:"项目管理",optName:"合同类型",onSelect:this.handleOnSelected.bind(this,"contType")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},a,{label:"签订月份",required:!1,colon:!0,className:t,help:n.signMonthHint,validateStatus:n.signMonthStatus}),l.default.createElement(h,{style:{width:"100%"},name:"signMonth",id:"signMonth",format:f.monthFormat,value:this.formatMonth(this.state.contract.signMonth,f.monthFormat),onChange:this.handleOnSelDate.bind(this,"signMonth",f.monthFormat)})))),l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:"6"},l.default.createElement(p,i({},r,{label:"销售姓名",required:!1,colon:!0,className:t,help:n.salNameHint,validateStatus:n.salNameStatus}),l.default.createElement(u.Input,{type:"text",name:"salName",id:"salName",value:this.state.contract.salName,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:"6"},l.default.createElement(p,i({},r,{label:"客户名称",required:!1,colon:!0,className:t,help:n.custNameHint,validateStatus:n.custNameStatus}),l.default.createElement(u.Input,{type:"text",name:"custName",id:"custName",value:this.state.contract.custName,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:"6"},l.default.createElement(p,i({},a,{label:"销售区域 ",required:!1,colon:!0,className:t,help:n.marketAreaHint,validateStatus:n.marketAreaStatus}),l.default.createElement(d.default,{name:"marketArea",id:"marketArea",value:this.state.contract.marketArea,appName:"项目管理",optName:"销售区域",onSelect:this.handleOnSelected.bind(this,"marketArea")}))),l.default.createElement(u.Col,{className:"gutter-row",span:"6"},l.default.createElement(p,i({},a,{label:"交付区域",required:!1,colon:!0,className:t,help:n.delivAreaHint,validateStatus:n.delivAreaStatus}),l.default.createElement(d.default,{name:"delivArea",id:"delivArea",value:this.state.contract.delivArea,appName:"项目管理",optName:"交付区域",onSelect:this.handleOnSelected.bind(this,"delivArea")})))))))}});v.propTypes=g,e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(109),f=r(p),g=a(4),v=a(731),C=r(v),b=a(1),y=a(6),S=(g.DatePicker.MonthPicker,g.DatePicker.RangePicker,g.Form.Item),E=(g.Select.Option,g.Tabs.TabPane),w=a(490),x=a(356),k=l.default.createClass({displayName:"CreateContractPage",getInitialState:function(){return{contractSet:{operation:"",errMsg:""},loading:!1,modal:!1,user:{},contract:{},hints:{},validRules:[]}},mixins:[b.listenTo(w,"onServiceComplete"),(0,c.default)("contract")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"custCode",desc:"客户编号",required:!1,max:"64"},{id:"custManager",desc:"客户经理",required:!1,max:"64"},{id:"custName",desc:"客户名称",required:!1,max:"64"},{id:"contCode",desc:"合同编号",required:!1,max:"64"},{id:"contType",desc:"合同类型",required:!1,max:"64"},{id:"contName",desc:"合同名称",required:!0,max:"128"},{id:"contAmount",desc:"合同金额",required:!1,max:"16"},{id:"purchase",desc:"采购金额",required:!1,max:"16"},{id:"salName",desc:"销售姓名",required:!1,max:"32"},{id:"manMonth",desc:"预估人月",required:!1,max:"16"},{id:"signDate",desc:"签订日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"contStage",desc:"执行阶段",required:!1,max:"64"}],this.clear()},handleKeyDown:function(e){if(73==e.keyCode&&e.ctrlKey&&e.altKey){var t=this.refs.QuickFillWindow;t&&(t.initPage(this.state.validRules),t.toggle())}},clear:function(e){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.contract.uuid="",this.state.contract.corpUuid=window.loginData.compUser.corpUuid,this.state.contract.custName="",this.state.contract.contCode="",this.state.contract.contType="",this.state.contract.contName="",this.state.contract.contAmount="",this.state.contract.purchase="",this.state.contract.salName="",this.state.contract.manMonth="",this.state.contract.signDate="",this.state.contract.endDate="",this.state.contract.beginDate="",this.state.contract.contStage="",this.state.loading=!1,this.state.contractSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectCust:function(e){this.state.contract.custUuid=e.uuid,this.state.contract.custCode=e.custCode,this.state.contract.custName=e.custName,this.state.contract.custManager=e.custManager,this.setState({user:e})},onClickSave:function(){y.formValidator(this,this.state.contract)&&(this.state.contractSet.operation="",this.setState({loading:!0}),x.createProjContract(this.state.contract))},goBack:function(){window.removeEventListener("keydown",this.handleKeyDown),this.props.onBack()},onTabChange:function(e){"1"===e&&this.goBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.contract.corpUuid,s=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(g.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(E,{tab:"增加合同#",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_contract/create"]}),l.default.createElement(C.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:s,showError:this.showError,onSelectCust:this.onSelectCust}),l.default.createElement(g.Form,{layout:e,style:{width:"600px"}},l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"客户编号",required:!1,colon:!0,className:t,help:n.custCodeHint,validateStatus:n.custCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"custCode",id:"custCode",value:this.state.contract.custCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"客户经理",required:!1,colon:!0,className:t,help:n.custManagerHint,validateStatus:n.custManagerStatus}),l.default.createElement(g.Input,{type:"text",name:"custManager",id:"custManager",value:this.state.contract.custManager,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(g.Row,null,l.default.createElement(S,i({},a,{label:"客户名称",required:!1,colon:!0,className:t,help:n.custNameHint,validateStatus:n.custNameStatus}),l.default.createElement(g.Input,{type:"text",name:"custName",id:"custName",value:this.state.contract.custName,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"合同编号",required:!1,colon:!0,className:t,help:n.contCodeHint,validateStatus:n.contCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.contract.contCode,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(S,i({},a,{label:"合同名称",required:!0,colon:!0,className:t,help:n.contNameHint,validateStatus:n.contNameStatus}),l.default.createElement(g.Input,{type:"text",name:"contName",id:"contName",value:this.state.contract.contName,onChange:this.handleOnChange}))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"合同类型",required:!1,colon:!0,className:t,help:n.contTypeHint,validateStatus:n.contTypeStatus}),l.default.createElement(h.default,{name:"contType",id:"contType",value:this.state.contract.contType,appName:"项目管理",optName:"合同类型",onSelect:this.handleOnSelected.bind(this,"contType")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"合同金额",required:!1,colon:!0,className:t,help:n.contAmountHint,validateStatus:n.contAmountStatus}),l.default.createElement(g.Input,{type:"text",name:"contAmount",id:"contAmount",value:this.state.contract.contAmount,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"采购金额",required:!1,colon:!0,className:t,help:n.purchaseHint,validateStatus:n.purchaseStatus}),l.default.createElement(g.Input,{type:"text",name:"purchase",id:"purchase",value:this.state.contract.purchase,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"预估人月",required:!1,colon:!0,className:t,help:n.manMonthHint,validateStatus:n.manMonthStatus}),l.default.createElement(g.Input,{type:"text",name:"manMonth",id:"manMonth",value:this.state.contract.manMonth,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"销售姓名",required:!1,colon:!0,className:t,help:n.salNameHint,validateStatus:n.salNameStatus}),l.default.createElement(g.Input,{type:"text",name:"salName",id:"salName",value:this.state.contract.salName,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"签订日期",required:!1,colon:!0,className:t,help:n.signDateHint,validateStatus:n.signDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"signDate",id:"signDate",value:this.formatDate(this.state.contract.signDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"signDate",y.dateFormat)})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.contract.beginDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.contract.endDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",y.dateFormat)})))),l.default.createElement(g.Row,null,l.default.createElement(S,i({},a,{label:"执行阶段",required:!1,colon:!0,className:t,help:n.contStageHint,validateStatus:n.contStageStatus}),l.default.createElement(h.default,{name:"contStage",id:"contStage",value:this.state.contract.contStage,appName:"项目管理",optName:"合同状态",onSelect:this.handleOnSelected.bind(this,"contStage")}))),l.default.createElement(S,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))),l.default.createElement(f.default,{ref:"QuickFillWindow",self:this,object:"contract"})))))}});e.exports=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(1),g=a(6),v=a(3),C=p.Form.Item,b=(p.Select.Option,p.Tabs.TabPane),y=a(490),S=a(356),E=l.default.createClass({displayName:"UpdateContractPage",getInitialState:function(){return{contractSet:{operation:"",errMsg:""},loading:!1,modal:!1,contract:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("contract")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,contractSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"custName",desc:"客户名称",required:!1,max:"64"},{id:"contCode",desc:"合同编号",required:!1,max:"64"},{id:"contType",desc:"合同类型",required:!1,max:"64"},{id:"contName",desc:"合同名称",required:!0,max:"128"},{id:"contAmount",desc:"合同金额",required:!1,max:"16"},{id:"purchase",desc:"采购金额",required:!1,max:"16"},{id:"salName",desc:"销售姓名",required:!1,max:"32"},{id:"manMonth",desc:"预估人月",required:!1,max:"16"},{id:"signDate",desc:"签订日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"contStage",desc:"执行阶段",required:!1,max:"64"}],this.initPage(this.props.contract)},initPage:function(e){v.copyValue(e,this.state.contract),this.setState({loading:!1,hints:{}}),this.state.contractSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.contract)&&(this.state.contractSet.operation="",this.setState({loading:!0}),S.updateProjContract(this.state.contract))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"修改合同",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_contract/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"600px"}},l.default.createElement(p.Row,null,l.default.createElement(C,i({},a,{label:"客户名称",required:!1,colon:!0,className:t,help:n.custNameHint,validateStatus:n.custNameStatus}),l.default.createElement(p.Input,{type:"text",name:"custName",id:"custName",value:this.state.contract.custName,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"合同编号",required:!1,colon:!0,className:t,help:n.contCodeHint,validateStatus:n.contCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.contract.contCode,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(C,i({},a,{label:"合同名称",required:!0,colon:!0,className:t,help:n.contNameHint,validateStatus:n.contNameStatus}),l.default.createElement(p.Input,{type:"text",name:"contName",id:"contName",value:this.state.contract.contName,onChange:this.handleOnChange}))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"合同类型",required:!1,colon:!0,className:t,help:n.contTypeHint,validateStatus:n.contTypeStatus}),l.default.createElement(h.default,{name:"contType",id:"contType",value:this.state.contract.contType,appName:"项目管理",optName:"合同类型",onSelect:this.handleOnSelected.bind(this,"contType")}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"合同金额",required:!1,colon:!0,className:t,help:n.contAmountHint,validateStatus:n.contAmountStatus}),l.default.createElement(p.Input,{type:"text",name:"contAmount",id:"contAmount",value:this.state.contract.contAmount,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"采购金额",required:!1,colon:!0,className:t,help:n.purchaseHint,validateStatus:n.purchaseStatus}),l.default.createElement(p.Input,{type:"text",name:"purchase",id:"purchase",value:this.state.contract.purchase,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"预估人月",required:!1,colon:!0,className:t,help:n.manMonthHint,validateStatus:n.manMonthStatus}),l.default.createElement(p.Input,{type:"text",name:"manMonth",id:"manMonth",value:this.state.contract.manMonth,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"销售姓名",required:!1,colon:!0,className:t,help:n.salNameHint,validateStatus:n.salNameStatus}),l.default.createElement(p.Input,{type:"text",name:"salName",id:"salName",value:this.state.contract.salName,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"签订日期",required:!1,colon:!0,className:t,help:n.signDateHint,validateStatus:n.signDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"signDate",id:"signDate",value:this.formatDate(this.state.contract.signDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"signDate",g.dateFormat)})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.contract.beginDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",g.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.contract.endDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",g.dateFormat)})))),l.default.createElement(p.Row,null,l.default.createElement(C,i({},a,{label:"执行阶段",required:!1,colon:!0,className:t,help:n.contStageHint,validateStatus:n.contStageStatus}),l.default.createElement(h.default,{name:"contStage",id:"contStage",value:this.state.contract.contStage,appName:"项目管理",optName:"合同状态",onSelect:this.handleOnSelected.bind(this,"contStage")}))),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1365),m=r(c),h=a(1366),p=r(h),f=a(1364),g=r(f),v=a(1),C=u.Input.Search,b=a(6),y=(a(3),a(490)),S=a(356),E=10,w=n.default.createClass({displayName:"ContractPage",getInitialState:function(){return{contractSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",contract:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[v.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.contCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.contName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.ContractFilter;null!==a&&"undefined"!=typeof a&&(a.state.contract=this.state.filter)}}this.setState({loading:!1,contractSet:e})},componentDidMount:function(){S.getCacheData()},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",S.retrieveProjContractPage(this.state.filter,this.state.contractSet.startPage,E)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.contractSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){E=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;b.isIncNumber(t)?this.state.filter.contCode=t:this.state.filter.contName=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.ContractFilter.state.contract;null!==e.signMonth&&""!==e.signMonth?(e.signDate1=e.signMonth+"01",e.signDate2=e.signMonth+"31"):(e.signDate1="",e.signDate2=""),this.state.filter=e,this.handleQueryClick()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的合同 【"+e.contCode+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.contractSet.operation="",S.deleteProjContract(e.uuid)},handleAppClick:function(e){ContractContext.openCustContractPage(e)},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){this.setState({contract:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=[{title:"合同编号",dataIndex:"contCode",key:"contCode",width:140},{title:"合同名称",dataIndex:"contName",key:"contName",width:140},{title:"合同金额",dataIndex:"contAmount",key:"contAmount",width:140},{title:"预估人月",dataIndex:"manMonth",key:"manMonth",width:140},{title:"签订日期",dataIndex:"signDate",key:"signDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"执行阶段",dataIndex:"contStage",key:"contStage",width:140},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目"},n.default.createElement(u.Icon,{
type:b.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目"},n.default.createElement(u.Icon,{type:b.iconRemove})))}}],a=this.state.contractSet.recordSet,r=this.state.moreFilter,i="query"===this.state.action?"":"none",l={showQuickJumper:!0,total:this.state.contractSet.totalRow,pageSize:this.state.contractSet.pageRow,current:this.state.contractSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_contract/retrieve","proj_contract/remove"]}),n.default.createElement(g.default,{ref:"ContractFilter",moreFilter:r}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:b.iconAdd,type:"primary",title:"增加合同",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:b.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(C,{placeholder:"查询(合同编号/合同名称)",style:{width:b.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:b.tableBorder}))),s=null;return"create"===this.state.action?s=n.default.createElement(m.default,{onBack:this.onGoBack}):"update"===this.state.action&&(s=n.default.createElement(p.default,{onBack:this.onGoBack,contract:this.state.contract})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(109),f=r(p),g=a(4),v=a(1),C=a(6),b=g.Form.Item,y=(g.Select.Option,a(491)),S=a(357),E=l.default.createClass({displayName:"CreateCustPage",getInitialState:function(){return{custSet:{operation:"",errMsg:""},loading:!1,modal:!1,cust:{},hints:{},validRules:[]}},mixins:[v.listenTo(y,"onServiceComplete"),(0,c.default)("cust")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.beforeClose():this.setState({loading:!1,custSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"custCode",desc:"客户编号",required:!1,max:"64"},{id:"custName",desc:"客户简称",required:!0,max:"64"},{id:"custDesc",desc:"客户名称",required:!1,max:"3000"},{id:"custLoc",desc:"客户地址",required:!1,max:"256"},{id:"marketArea",desc:"销售区域",required:!1,max:"64"},{id:"custManager",desc:"客户经理",required:!1,max:"32"},{id:"custValue",desc:"客户价值",required:!1,max:"64"},{id:"custEval",desc:"客户评价",required:!1,max:"256"},{id:"delivArea",desc:"交付区域",required:!1,max:"64"},{id:"custIndust",desc:"所属行业",required:!1,max:"64"}]},handleKeyDown:function(e){if(73==e.keyCode&&e.ctrlKey&&e.altKey){var t=this.refs.QuickFillWindow;t&&(t.initPage(this.state.validRules),t.toggle())}},beforeClose:function(){window.removeEventListener("keydown",this.handleKeyDown),this.setState({modal:!1})},clear:function(e){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.cust.uuid="",this.state.cust.corpUuid=e,this.state.loading=!1,this.state.custSet.operation="",this.state.cust.custCode="",this.state.cust.custName="",this.state.cust.custLoc="",this.state.cust.marketArea="",this.state.cust.custManager="",this.state.cust.custValue="",this.state.cust.custEval="",this.state.cust.custDesc="",this.state.cust.delivArea="",this.state.cust.custIndust="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){C.formValidator(this,this.state.cust)&&(this.state.custSet.operation="",this.setState({loading:!0}),S.createProjCust(this.state.cust))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:8}},n={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},o=this.state.hints;return l.default.createElement(g.Modal,{visible:this.state.modal,width:"540px",title:"增加客户#",maskClosable:!1,onOk:this.onClickSave,onCancel:this.beforeClose,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_cust/create"]}),l.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.beforeClose},"取消"))]},l.default.createElement(g.Form,{layout:e},l.default.createElement(b,i({},r,{label:"客户编号",required:!1,colon:!0,className:t,help:o.custCodeHint,validateStatus:o.custCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"custCode",id:"custCode",value:this.state.cust.custCode,onChange:this.handleOnChange})),l.default.createElement(b,i({},a,{label:"客户简称",required:!0,colon:!0,className:t,help:o.custNameHint,validateStatus:o.custNameStatus}),l.default.createElement(g.Input,{type:"text",name:"custName",id:"custName",value:this.state.cust.custName,onChange:this.handleOnChange})),l.default.createElement(b,i({},a,{label:"客户名称",required:!1,colon:!0,className:t,help:o.custDescHint,validateStatus:o.custDescStatus}),l.default.createElement(g.Input,{type:"textarea",name:"custDesc",id:"custDesc",value:this.state.cust.custDesc,onChange:this.handleOnChange})),l.default.createElement(b,i({},a,{label:"客户地址",required:!1,colon:!0,className:t,help:o.custLocHint,validateStatus:o.custLocStatus}),l.default.createElement(g.Input,{type:"text",name:"custLoc",id:"custLoc",value:this.state.cust.custLoc,onChange:this.handleOnChange})),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(b,i({},n,{label:"销售区域",required:!1,colon:!0,className:t,help:o.marketAreaHint,validateStatus:o.marketAreaStatus}),l.default.createElement(h.default,{name:"marketArea",class:"row",id:"marketArea",value:this.state.cust.marketArea,appName:"项目管理",optName:"销售区域",onSelect:this.handleOnSelected.bind(this,"marketArea")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(b,i({},n,{label:"交付区域",required:!1,colon:!0,className:t,help:o.delivAreaHint,validateStatus:o.delivAreaStatus}),l.default.createElement(h.default,{name:"delivArea",id:"delivArea",value:this.state.cust.delivArea,appName:"项目管理",optName:"交付区域",onSelect:this.handleOnSelected.bind(this,"delivArea")})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(b,i({},n,{label:"客户经理",required:!1,colon:!0,className:t,help:o.custManagerHint,validateStatus:o.custManagerStatus}),l.default.createElement(g.Input,{type:"text",name:"custManager",id:"custManager",value:this.state.cust.custManager,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(b,i({},n,{label:"所属行业",required:!1,colon:!0,className:t,help:o.custIndustHint,validateStatus:o.custIndustStatus}),l.default.createElement(h.default,{name:"custIndust",id:"custIndust",value:this.state.cust.custIndust,appName:"项目管理",optName:"所属行业",onSelect:this.handleOnSelected.bind(this,"custIndust")})))),l.default.createElement(b,i({},r,{label:"客户价值",required:!1,colon:!0,className:t,help:o.custValueHint,validateStatus:o.custValueStatus}),l.default.createElement(g.Input,{type:"text",name:"custValue",id:"custValue",value:this.state.cust.custValue,onChange:this.handleOnChange})),l.default.createElement(b,i({},a,{label:"客户评价",required:!1,colon:!0,className:t,help:o.custEvalHint,validateStatus:o.custEvalStatus}),l.default.createElement(g.Input,{type:"textarea",name:"custEval",id:"custEval",value:this.state.cust.custEval,onChange:this.handleOnChange}))),l.default.createElement(f.default,{ref:"QuickFillWindow",self:this,object:"cust"}))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(1),g=a(6),v=a(3),C=p.Form.Item,b=(p.Select.Option,a(491)),y=a(357),S=l.default.createClass({displayName:"UpdateCustPage",getInitialState:function(){return{custSet:{operation:"",errMsg:""},loading:!1,modal:!1,cust:{},hints:{},validRules:[]}},mixins:[f.listenTo(b,"onServiceComplete"),(0,c.default)("cust")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,custSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"custCode",desc:"客户编号",required:!1,max:"64"},{id:"custName",desc:"客户简称",required:!0,max:"64"},{id:"custDesc",desc:"客户名称",required:!1,max:"3000"},{id:"custLoc",desc:"客户地址",required:!1,max:"256"},{id:"marketArea",desc:"销售区域",required:!1,max:"64"},{id:"delivArea",desc:"交付区域",required:!1,max:"64"},{id:"custManager",desc:"客户经理",required:!1,max:"32"},{id:"custIndust",desc:"所属行业",required:!1,max:"64"},{id:"custValue",desc:"客户价值",required:!1,max:"64"},{id:"custEval",desc:"客户评价",required:!1,max:"256"}]},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.cust),this.state.loading=!1,this.state.custSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.cust)&&(this.state.custSet.operation="",this.setState({loading:!0}),y.updateProjCust(this.state.cust))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:8}},n={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},o=this.state.hints;return l.default.createElement(p.Modal,{visible:this.state.modal,width:"540px",title:"修改客户信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_cust/update"]}),l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(p.Form,{layout:e},l.default.createElement(C,i({},r,{label:"客户编号",required:!1,colon:!0,className:t,help:o.custCodeHint,validateStatus:o.custCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"custCode",id:"custCode",value:this.state.cust.custCode,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"客户简称",required:!0,colon:!0,className:t,help:o.custNameHint,validateStatus:o.custNameStatus}),l.default.createElement(p.Input,{type:"text",name:"custName",id:"custName",value:this.state.cust.custName,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"客户名称",required:!1,colon:!0,className:t,help:o.custDescHint,validateStatus:o.custDescStatus}),l.default.createElement(p.Input,{type:"textarea",name:"custDesc",id:"custDesc",value:this.state.cust.custDesc,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"客户地址",required:!1,colon:!0,className:t,help:o.custLocHint,validateStatus:o.custLocStatus}),l.default.createElement(p.Input,{type:"text",name:"custLoc",id:"custLoc",value:this.state.cust.custLoc,onChange:this.handleOnChange})),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},n,{label:"销售区域",required:!1,colon:!0,className:t,help:o.marketAreaHint,validateStatus:o.marketAreaStatus}),l.default.createElement(h.default,{name:"marketArea",id:"marketArea",value:this.state.cust.marketArea,appName:"项目管理",optName:"销售区域",onSelect:this.handleOnSelected.bind(this,"marketArea")}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},n,{label:"交付区域",required:!1,colon:!0,className:t,help:o.delivAreaHint,validateStatus:o.delivAreaStatus}),l.default.createElement(h.default,{name:"delivArea",id:"delivArea",value:this.state.cust.delivArea,appName:"项目管理",optName:"交付区域",onSelect:this.handleOnSelected.bind(this,"delivArea")})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},n,{label:"客户经理",required:!1,colon:!0,className:t,help:o.custManagerHint,validateStatus:o.custManagerStatus}),l.default.createElement(p.Input,{type:"text",name:"custManager",id:"custManager",value:this.state.cust.custManager,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},n,{label:"所属行业",required:!1,colon:!0,className:t,help:o.custIndustHint,validateStatus:o.custIndustStatus}),l.default.createElement(h.default,{name:"custIndust",id:"custIndust",value:this.state.cust.custIndust,appName:"项目管理",optName:"所属行业",onSelect:this.handleOnSelected.bind(this,"custIndust")})))),l.default.createElement(C,i({},r,{label:"客户价值",required:!1,colon:!0,className:t,help:o.custValueHint,validateStatus:o.custValueStatus}),l.default.createElement(p.Input,{type:"text",name:"custValue",id:"custValue",value:this.state.cust.custValue,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"客户评价",required:!1,colon:!0,className:t,help:o.custEvalHint,validateStatus:o.custEvalStatus}),l.default.createElement(p.Input,{type:"textarea",name:"custEval",id:"custEval",value:this.state.cust.custEval,onChange:this.handleOnChange}))))}});t.default=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(1),p=s.Form.Item,f=(s.Select.Option,a(6)),g=(a(3),a(492)),v=a(358),C=l.default.createClass({displayName:"CreateOrderDiscPage",getInitialState:function(){return{orderDiscSet:{},loading:!1,modal:!1,orderDisc:{},hints:{},validRules:[]}},mixins:[h.listenTo(g,"onServiceComplete"),(0,m.default)("orderDisc")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,orderDiscSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"disDate",desc:"折让日期",max:24},{id:"discount",desc:"折让金额",required:!0,max:16,datatype:"int"},{id:"approver",desc:"审批人",max:24},{id:"discReason",desc:"折让原因",max:1024}]},clear:function(e){this.state.hints={},this.state.orderDisc.uuid="",this.state.orderDisc.corpUuid=window.loginData.compUser.corpUuid,this.state.orderDisc.orderUuid=e,this.state.orderDisc.disDate="",this.state.orderDisc.discount="",this.state.orderDisc.approver="",this.state.orderDisc.discReason="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){f.formValidator(this,this.state.orderDisc)&&(this.setState({loading:!0}),v.createOrderDisc(this.state.orderDisc))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"增加折让信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["order-disc/create"]}),l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},r,{className:t,label:"折让日期",colon:!0,help:n.disDateHint,validateStatus:n.disDateStatus}),l.default.createElement(s.DatePicker,{name:"disDate",id:"disDate",style:{width:"100%"},value:this.formatDate(this.state.orderDisc.disDate,f.dateFormat),format:f.dateFormat,onChange:this.handleOnSelDate.bind(this,"disDate",f.dateFormat)})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},r,{className:t,label:"折让金额",required:!0,colon:!0,help:n.discountHint,validateStatus:n.discountStatus}),l.default.createElement(s.Input,{type:"text",name:"discount",id:"discount",value:this.state.orderDisc.discount,onChange:this.handleOnChange})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},r,{className:t,label:"审批人",colon:!0,help:n.approverHint,validateStatus:n.approverStatus}),l.default.createElement(s.Input,{type:"text",name:"approver",id:"approver",value:this.state.orderDisc.approver,onChange:this.handleOnChange})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,null,l.default.createElement(p,i({},a,{className:t,label:"折让原因",colon:!0,help:n.discReasonHint,validateStatus:n.discReasonStatus}),l.default.createElement(s.Input,{type:"textarea",name:"discReason",id:"discReason",style:{height:"100px"},value:this.state.orderDisc.discReason,onChange:this.handleOnChange}))))))}});t.default=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(1),p=s.Form.Item,f=(s.Select.Option,a(6)),g=a(3),v=a(492),C=a(358),b=l.default.createClass({displayName:"UpdateOrderDiscPage",getInitialState:function(){return{orderDiscSet:{},loading:!1,modal:!1,orderDisc:{},hints:{},validRules:[]}},mixins:[h.listenTo(v,"onServiceComplete"),(0,m.default)("orderDisc")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,orderDiscSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"disDate",desc:"折让日期",max:24},{id:"discount",desc:"折让金额",required:!0,max:16,datatype:"int"},{id:"approver",desc:"审批人",max:24},{id:"discReason",desc:"折让原因",max:1024}]},initPage:function(e){this.state.hints={},g.copyValue(e,this.state.orderDisc),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){f.formValidator(this,this.state.orderDisc)&&(this.setState({loading:!0}),C.updateOrderDisc(this.state.orderDisc))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"修改折让信息信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["order-disc/update"]}),l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},r,{className:t,label:"折让日期",colon:!0,help:n.disDateHint,validateStatus:n.disDateStatus}),l.default.createElement(s.DatePicker,{name:"disDate",id:"disDate",style:{width:"100%"},value:this.formatDate(this.state.orderDisc.disDate,f.dateFormat),format:f.dateFormat,onChange:this.handleOnSelDate.bind(this,"disDate",f.dateFormat)})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},r,{className:t,label:"折让金额",required:!0,colon:!0,help:n.discountHint,validateStatus:n.discountStatus}),l.default.createElement(s.Input,{type:"text",name:"discount",id:"discount",value:this.state.orderDisc.discount,onChange:this.handleOnChange})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},r,{className:t,label:"审批人",colon:!0,help:n.approverHint,validateStatus:n.approverStatus}),l.default.createElement(s.Input,{type:"text",name:"approver",id:"approver",value:this.state.orderDisc.approver,onChange:this.handleOnChange})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,null,l.default.createElement(p,i({},a,{className:t,label:"折让原因",colon:!0,help:n.discReasonHint,validateStatus:n.discReasonStatus}),l.default.createElement(s.Input,{type:"textarea",name:"discReason",id:"discReason",style:{height:"100px"},value:this.state.orderDisc.discReason,onChange:this.handleOnChange}))))))}});t.default=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1370),m=r(c),h=a(1371),p=r(h),f=a(1),g=s.Input.Search,v=a(6),C=(a(3),a(492)),b=a(358),y="",S=n.default.createClass({displayName:"OrderDiscPage",getInitialState:function(){return{orderDiscSet:{recordSet:[],errMsg:""},loading:!1}},mixins:[f.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,orderDiscSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t={};t.orderUuid=this.props.order.uuid,b.retrieveOrderDisc(t)},componentDidMount:function(){this.setState({loading:!0});var e={};e.orderUuid=this.props.order.uuid,b.initOrderDisc(e)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(this.props.order.uuid),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的折让信息 【"+e.discount+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),b.deleteOrderDisc(e.uuid)},onFilterRecord:function(e){y=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=v.filter(this.state.orderDiscSet.recordSet,y),a=[{title:"折让日期",dataIndex:"disDate",key:"disDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"折让金额",dataIndex:"discount",key:"discount",width:140},{title:"折让原因",dataIndex:"discReason",key:"discReason",width:360},{title:"审批人",dataIndex:"approver",key:"approver",width:140},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改折让信息"},n.default.createElement(s.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除折让信息"},n.default.createElement(s.Icon,{type:v.iconRemove})))}}],r=v.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:r.padding}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["order-disc/retrieve","order-disc/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:v.iconAdd,type:"primary",title:"增加折让信息",onClick:this.handleOpenCreateWindow}),n.default.createElement(s.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:y,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(730),g=r(f),v=a(1),C=a(6),b=(p.DatePicker.MonthPicker,p.DatePicker.RangePicker,p.Form.Item),y=(p.Select.Option,p.Tabs.TabPane),S=a(493),E=a(359),w=l.default.createClass({displayName:"CreateEventPage",getInitialState:function(){return{eventSet:{operation:"",errMsg:""},loading:!1,modal:!1,user:{},event:{},hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,c.default)("event")],onServiceComplete:function(e){console.log(e),"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"contCode",desc:"合同编号",required:!1,max:"16"},{id:"contName",desc:"合同名称",required:!1,max:"16"},{id:"eventDate",desc:"发生日期",required:!1,max:"128"},{id:"eventType",desc:"事件类型",required:!1,max:"128"},{id:"eventTitle",desc:"事件名称",required:!1,max:"128"},{id:"eventBegin",desc:"开始日期",required:!1,max:"16"},{id:"eventEnd",desc:"结束日期",required:!1,max:"16"},{id:"eventBody",desc:"说明",required:!1,max:"3600"}],this.clear()},clear:function(e){this.state.hints={},this.state.event.uuid="",this.state.event.corpUuid=window.loginData.compUser.corpUuid,this.state.event.eventBegin="",this.state.event.eventEnd="",this.state.event.eventBody="",this.state.event.eventTitle="",this.state.event.contCode="",this.state.event.contName="",this.state.event.eventDate="",this.state.event.eventType="",this.state.loading=!1,this.state.eventSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectContract:function(e){this.state.event.contUuid=e.uuid,this.state.event.contCode=e.contCode,this.state.event.contName=e.contName,this.setState({user:e})},onClickSave:function(){C.formValidator(this,this.state.event)&&(this.state.eventSet.operation="",this.setState({loading:!0}),E.createContEvent(this.state.event))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.event.corpUuid,s=window.loginData.compUser.corpUuid,u=new Date,c=void 0===this.state.event.eventDate?""+(1e4*u.getFullYear()+100*(u.getMonth()+1)+u.getDate()):this.state.event.eventDate;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(y,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(y,{tab:"增加合同事件",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["cont_event/create"]}),l.default.createElement(g.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:s,showError:this.showError,onSelectContract:this.onSelectContract}),l.default.createElement(p.Form,{layout:e,style:{width:"600px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"合同编号",required:!1,colon:!0,className:t,help:n.contCodeHint,validateStatus:n.contCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.event.contCode,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(b,i({},a,{label:"合同名称",required:!1,colon:!0,className:t,help:n.contNameHint,validateStatus:n.contNameStatus}),l.default.createElement(p.Input,{type:"text",name:"contName",id:"contName",value:this.state.event.contName,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"发生日期",required:!1,colon:!0,className:t,help:n.eventDateHint,validateStatus:n.eventDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventDate",id:"eventDate",value:this.formatDate(c,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventDate",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"事件类型",required:!1,colon:!0,className:t,help:n.eventTypeHint,validateStatus:n.eventTypeStatus}),l.default.createElement(h.default,{name:"eventType",id:"eventType",value:this.state.event.eventType,appName:"项目管理",optName:"合同事件类型",onSelect:this.handleOnSelected.bind(this,"eventType")})))),l.default.createElement(p.Row,null,l.default.createElement(b,i({},a,{label:"事件名称",required:!1,colon:!0,className:t,help:n.eventTitleHint,validateStatus:n.eventTitleStatus}),l.default.createElement(p.Input,{type:"text",name:"eventTitle",id:"eventTitle",value:this.state.event.eventTitle,onChange:this.handleOnChange}))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.eventBeginHint,validateStatus:n.eventBeginStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventBegin",id:"eventBegin",value:this.formatDate(this.state.event.eventBegin,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventBegin",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.eventEndHint,validateStatus:n.eventEndStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventEnd",id:"eventEnd",value:this.formatDate(this.state.event.eventEnd,C.dateFormat),
format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventEnd",C.dateFormat)})))),l.default.createElement(p.Row,null,l.default.createElement(b,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:n.eventBodyHint,validateStatus:n.eventBodyStatus}),l.default.createElement(p.Input,{type:"textarea",name:"eventBody",id:"eventBody",value:this.state.event.eventBody,onChange:this.handleOnChange}))),l.default.createElement(b,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=r(s),u=a(4),c=a(9),m=r(c),h=(a(1),u.DatePicker.MonthPicker),p=(u.DatePicker.RangePicker,u.Form.Item),f=a(6),g={moreFilter:l.default.PropTypes.bool},v=l.default.createClass({displayName:"EventFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],event:{corpUuid:"",contName:"",custName:"",salName:"",eventType:"",eventMonth:"",eventTitle:""}}},mixins:[(0,m.default)("event")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"contName",desc:"合同名称",required:!1,max:"16"},{id:"custName",desc:"客户名称",required:!1,max:"16"},{id:"eventMonth",desc:"发生月份",required:!1,max:"128"},{id:"eventType",desc:"类型",required:!1,max:"128"},{id:"eventTitle",desc:"事件名称",required:!1,max:"128"},{id:"salName",desc:"客户经理",required:!1,max:"128"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:9},wrapperCol:"vertical"==e?null:{span:15}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},l.default.createElement(u.Form,{layout:e,style:{width:"1000px",padding:"20px 0px"}},l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"事件名称",required:!1,colon:!0,className:t,help:r.eventTitleHint,validateStatus:r.eventTitleStatus}),l.default.createElement(u.Input,{type:"text",name:"eventTitle",id:"eventTitle",value:this.state.event.eventTitle,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"类型",required:!1,colon:!0,className:t,help:r.eventTypeHint,validateStatus:r.eventTypeStatus}),l.default.createElement(d.default,{name:"eventType",id:"eventType",value:this.state.event.eventType,appName:"项目管理",optName:"合同事件类型",onSelect:this.handleOnSelected.bind(this,"eventType")}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"发生月份",required:!1,colon:!0,className:t,help:r.eventMonthHint,validateStatus:r.eventMonthStatus}),l.default.createElement(h,{style:{width:"100%"},name:"eventMonth",id:"eventMonth",format:f.monthFormat,value:this.formatMonth(this.state.event.eventMonth,f.monthFormat),onChange:this.handleOnSelDate.bind(this,"eventMonth",f.monthFormat)})))),l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:"8"},l.default.createElement(p,i({},a,{label:"客户名称",required:!1,colon:!0,className:t,help:r.custNameHint,validateStatus:r.custNameStatus}),l.default.createElement(u.Input,{type:"text",name:"custName",id:"custName",value:this.state.event.custName,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:"8"},l.default.createElement(p,i({},a,{label:"合同名称",required:!1,colon:!0,className:t,help:r.contNameHint,validateStatus:r.contNameStatus}),l.default.createElement(u.Input,{type:"text",name:"contName",id:"contName",value:this.state.event.contName,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:"8"},l.default.createElement(p,i({},a,{label:"客户经理 ",required:!1,colon:!0,className:t,help:r.salNameHint,validateStatus:r.salNameStatus}),l.default.createElement(u.Input,{type:"text",name:"salName",id:"salName",value:this.state.event.salName,onChange:this.handleOnChange})))))))}});v.propTypes=g,e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(1),g=a(6),v=a(3),C=p.Form.Item,b=(p.Select.Option,p.Tabs.TabPane),y=a(493),S=a(359),E=l.default.createClass({displayName:"UpdateEventPage",getInitialState:function(){return{eventSet:{operation:"",errMsg:""},loading:!1,modal:!1,event:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("event")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,eventSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"eventDate",desc:"发生日期",required:!1,max:"128"},{id:"eventType",desc:"事件类型",required:!1,max:"128"},{id:"eventTitle",desc:"事件名称",required:!1,max:"128"},{id:"eventBegin",desc:"开始日期",required:!1,max:"16"},{id:"eventEnd",desc:"结束日期",required:!1,max:"16"},{id:"eventBody",desc:"说明",required:!1,max:"3600"}],this.initPage(this.props.event)},initPage:function(e){v.copyValue(e,this.state.event),this.setState({loading:!1,hints:{}}),this.state.eventSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.event)&&(this.state.eventSet.operation="",this.setState({loading:!0}),S.updateContEvent(this.state.event))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"修改合同事件",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["cont_event/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"600px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"发生日期",required:!1,colon:!0,className:t,help:n.eventDateHint,validateStatus:n.eventDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventDate",id:"eventDate",value:this.formatDate(this.state.event.eventDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventDate",g.dateFormat)})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"事件类型",required:!1,colon:!0,className:t,help:n.eventTypeHint,validateStatus:n.eventTypeStatus}),l.default.createElement(h.default,{name:"eventType",id:"eventType",value:this.state.event.eventType,appName:"项目管理",optName:"合同事件类型",onSelect:this.handleOnSelected.bind(this,"eventType")})))),l.default.createElement(p.Row,null,l.default.createElement(C,i({},a,{label:"事件名称",required:!1,colon:!0,className:t,help:n.eventTitleHint,validateStatus:n.eventTitleStatus}),l.default.createElement(p.Input,{type:"text",name:"eventTitle",id:"eventTitle",value:this.state.event.eventTitle,onChange:this.handleOnChange}))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.eventBeginHint,validateStatus:n.eventBeginStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventBegin",id:"eventBegin",value:this.formatDate(this.state.event.eventBegin,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventBegin",g.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.eventEndHint,validateStatus:n.eventEndStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventEnd",id:"eventEnd",value:this.formatDate(this.state.event.eventEnd,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventEnd",g.dateFormat)})))),l.default.createElement(p.Row,null,l.default.createElement(C,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:n.eventBodyHint,validateStatus:n.eventBodyStatus}),l.default.createElement(p.Input,{type:"textarea",name:"eventBody",id:"eventBody",value:this.state.event.eventBody,onChange:this.handleOnChange}))),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1373),m=r(c),h=a(1375),p=r(h),f=a(1374),g=r(f),v=a(1),C=u.Input.Search,b=a(6),y=(a(3),a(493)),S=a(359),E=10,w=n.default.createClass({displayName:"EventPage",getInitialState:function(){return{eventSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",event:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[v.listenTo(y,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.contCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.contName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.EventFilter;null!==a&&"undefined"!=typeof a&&(a.state.event=this.state.filter)}}this.setState({loading:!1,eventSet:e})},componentDidMount:function(){S.getCacheData()},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",S.retrieveContEventPage(this.state.filter,this.state.eventSet.startPage,E)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.eventSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){E=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;this.state.filter.contName=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.EventFilter.state.event;null!==e.eventMonth&&""!==e.eventMonth?(e.eventDate1=e.eventMonth+"01",e.eventDate2=e.eventMonth+"31"):(e.eventDate1="",e.eventDate2=""),this.state.filter=e,this.handleQueryClick()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的合同事件 【"+e.contName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.eventSet.operation="",S.deleteContEvent(e.uuid)},handleAppClick:function(e){EventContext.openContEventPage(e)},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){this.setState({event:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=[{title:"日期",dataIndex:"eventDate",key:"eventDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"类型",dataIndex:"eventType",key:"eventType",width:140},{title:"合同名称",dataIndex:"contName",key:"contName",width:140},{title:"事件",dataIndex:"eventTitle",key:"eventTitle",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改合同事件"},n.default.createElement(u.Icon,{type:b.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除合同事件"},n.default.createElement(u.Icon,{type:b.iconRemove})))}}],a=this.state.eventSet.recordSet;console.log(a);var r=this.state.moreFilter,i="query"===this.state.action?"":"none",l={showQuickJumper:!0,total:this.state.eventSet.totalRow,pageSize:this.state.eventSet.pageRow,current:this.state.eventSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["cont_event/retrieve","cont_event/remove"]}),n.default.createElement(g.default,{ref:"EventFilter",moreFilter:r}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:b.iconAdd,type:"primary",title:"增加合同事件",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:b.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(C,{placeholder:"查询(合同名称)",style:{width:b.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:b.tableBorder}))),s=null;return"create"===this.state.action?s=n.default.createElement(m.default,{onBack:this.onGoBack}):"update"===this.state.action&&(s=n.default.createElement(p.default,{onBack:this.onGoBack,event:this.state.event})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(12),u=r(d),c=a(499),m=r(c),h=a(7),p=r(h),f=a(9),g=r(f),v=a(1),C=s.Form.Item,b=(s.Select.Option,a(6)),y=(a(3),a(494)),S=a(360),E=l.default.createClass({displayName:"CreateOrderItemPage",getInitialState:function(){return{orderItemSet:{},loading:!1,modal:!1,orderItem:{},hints:{},validRules:[]}},mixins:[v.listenTo(y,"onServiceComplete"),(0,g.default)("orderItem")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,orderItemSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"grpName",desc:"项目群名称",max:64},{id:"deptCode",desc:"一级部门",max:64},{id:"itemCode",desc:"任务编号",max:64},{id:"itemName",desc:"任务名称",required:!0,max:128},{id:"itemDesc",desc:"任务说明",max:3600},{id:"biziType",desc:"业务类型",max:32},{id:"itemStatus",desc:"执行阶段",required:!0,max:64},{id:"beginDate",desc:"开始日期",max:24},{id:"endDate",desc:"结束日期",max:24}]},clear:function(e){this.state.hints={},this.state.orderItem.uuid="",this.state.orderItem.corpUuid=window.loginData.compUser.corpUuid,this.state.orderItem.orderUuid=e,this.state.orderItem.grpName="",this.state.orderItem.deptCode="",this.state.orderItem.itemCode="",this.state.orderItem.itemName="",this.state.orderItem.itemDesc="",this.state.orderItem.biziType="开发",this.state.orderItem.itemStatus="运行",this.state.orderItem.beginDate="",this.state.orderItem.endDate="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectGroup:function(e){var t=this.state.orderItem;t.deptCode=e.deptCode,t.grpUuid=e.uuid,t.grpName=e.grpName,this.setState({item:t})},onClickSave:function(){b.formValidator(this,this.state.orderItem)&&(this.setState({loading:!0}),S.createOrderItem(this.state.orderItem))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=this.state.hints;return l.default.createElement(s.Modal,{visible:this.state.modal,width:"700px",title:"增加任务信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(p.default,{ref:"mxgBox",svcList:["order_item/create"]}),l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"任务编号",colon:!0,help:n.itemCodeHint,validateStatus:n.itemCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"itemCode",id:"itemCode",value:this.state.orderItem.itemCode,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"任务名称",required:!0,colon:!0,help:n.itemNameHint,validateStatus:n.itemNameStatus}),l.default.createElement(s.Input,{type:"text",name:"itemName",id:"itemName",value:this.state.orderItem.itemName,onChange:this.handleOnChange})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"项目组",colon:!0,help:n.grpNameHint,validateStatus:n.grpNameStatus}),l.default.createElement(m.default,{name:"grpName",id:"grpName",value:this.state.orderItem.grpName,onSelectGroup:this.onSelectGroup}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"业务群",colon:!0,help:n.deptCodeHint,validateStatus:n.deptCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"deptCode",id:"deptCode",value:this.state.orderItem.deptCode,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,null,l.default.createElement(C,i({},a,{className:t,label:"任务说明",colon:!0,help:n.itemDescHint,validateStatus:n.itemDescStatus}),l.default.createElement(s.Input,{type:"textarea",name:"itemDesc",id:"itemDesc",style:{height:"100px"},value:this.state.orderItem.itemDesc,onChange:this.handleOnChange})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"业务类型",colon:!0,help:n.biziTypeHint,validateStatus:n.biziTypeStatus}),l.default.createElement(u.default,{name:"biziType",id:"biziType",appName:"项目管理",optName:"业务类型",value:this.state.orderItem.biziType,onSelect:this.handleOnSelected.bind(this,"biziType")}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"执行阶段",required:!0,colon:!0,help:n.itemStatusHint,validateStatus:n.itemStatusStatus}),l.default.createElement(u.default,{name:"itemStatus",id:"itemStatus",appName:"项目管理",optName:"订单状态",value:this.state.orderItem.itemStatus,onSelect:this.handleOnSelected.bind(this,"itemStatus")})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"开始日期",colon:!0,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(s.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.orderItem.beginDate,b.dateFormat),format:b.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",b.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"结束日期",colon:!0,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(s.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.orderItem.endDate,b.dateFormat),format:b.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",b.dateFormat)}))))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(12),u=r(d),c=a(499),m=r(c),h=a(7),p=r(h),f=a(9),g=r(f),v=a(1),C=s.Form.Item,b=(s.Select.Option,a(6)),y=a(3),S=a(494),E=a(360),w=l.default.createClass({displayName:"UpdateOrderItemPage",getInitialState:function(){return{orderItemSet:{},loading:!1,modal:!1,orderItem:{},hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,g.default)("orderItem")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,orderItemSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"grpName",desc:"项目群名称",max:64},{id:"deptCode",desc:"一级部门",max:64},{id:"itemCode",desc:"任务编号",max:64},{id:"itemName",desc:"任务名称",required:!0,max:128},{id:"itemDesc",desc:"任务说明",max:3600},{id:"biziType",desc:"业务类型",max:32},{id:"itemStatus",desc:"执行阶段",required:!0,max:64},{id:"beginDate",desc:"开始日期",max:24},{id:"endDate",desc:"结束日期",max:24}]},initPage:function(e){this.state.hints={},y.copyValue(e,this.state.orderItem),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectGroup:function(e){var t=this.state.orderItem;t.deptCode=e.deptCode,t.grpUuid=e.uuid,t.grpName=e.grpName,this.setState({item:t})},onClickSave:function(){b.formValidator(this,this.state.orderItem)&&(this.setState({loading:!0}),E.updateOrderItem(this.state.orderItem))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:3},wrapperCol:"vertical"==e?null:{span:21}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=this.state.hints;return l.default.createElement(s.Modal,{visible:this.state.modal,width:"700px",title:"修改任务信息信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(p.default,{ref:"mxgBox",svcList:["order_item/update"]}),l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"任务编号",colon:!0,help:n.itemCodeHint,validateStatus:n.itemCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"itemCode",id:"itemCode",value:this.state.orderItem.itemCode,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"任务名称",required:!0,colon:!0,help:n.itemNameHint,validateStatus:n.itemNameStatus}),l.default.createElement(s.Input,{type:"text",name:"itemName",id:"itemName",value:this.state.orderItem.itemName,onChange:this.handleOnChange})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"项目组",colon:!0,help:n.grpNameHint,validateStatus:n.grpNameStatus}),l.default.createElement(m.default,{name:"grpName",id:"grpName",value:this.state.orderItem.grpName,onSelectGroup:this.onSelectGroup}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"业务群",colon:!0,help:n.deptCodeHint,validateStatus:n.deptCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"deptCode",id:"deptCode",value:this.state.orderItem.deptCode,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,null,l.default.createElement(C,i({},a,{className:t,label:"任务说明",colon:!0,help:n.itemDescHint,validateStatus:n.itemDescStatus}),l.default.createElement(s.Input,{type:"textarea",name:"itemDesc",id:"itemDesc",style:{height:"100px"},value:this.state.orderItem.itemDesc,onChange:this.handleOnChange})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"业务类型",colon:!0,help:n.biziTypeHint,validateStatus:n.biziTypeStatus}),l.default.createElement(u.default,{name:"biziType",id:"biziType",appName:"项目管理",optName:"业务类型",value:this.state.orderItem.biziType,onSelect:this.handleOnSelected.bind(this,"biziType")}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"执行阶段",required:!0,colon:!0,help:n.itemStatusHint,validateStatus:n.itemStatusStatus}),l.default.createElement(u.default,{name:"itemStatus",id:"itemStatus",appName:"项目管理",optName:"订单状态",value:this.state.orderItem.itemStatus,onSelect:this.handleOnSelected.bind(this,"itemStatus")})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"开始日期",colon:!0,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(s.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.orderItem.beginDate,b.dateFormat),format:b.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",b.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"结束日期",colon:!0,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(s.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.orderItem.endDate,b.dateFormat),format:b.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",b.dateFormat)}))))))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1377),m=r(c),h=a(1378),p=r(h),f=a(1),g=s.Input.Search,v=a(6),C=a(3),b=a(494),y=a(360),S="",E=n.default.createClass({displayName:"OrderItemPage",getInitialState:function(){return{orderItemSet:{recordSet:[],errMsg:""},loading:!1}},mixins:[f.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,orderItemSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t={};t.orderUuid=this.props.order.uuid,y.retrieveOrderItem(t)},componentDidMount:function(){this.setState({loading:!0});var e={};e.orderUuid=this.props.order.uuid,y.initOrderItem(e)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(this.props.order.uuid),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的任务信息 【"+e.itemName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.deleteOrderItem(e.uuid)},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=v.filter(this.state.orderItemSet.recordSet,S),a=[{title:"编号",dataIndex:"itemCode",key:"itemCode",width:140},{title:"名称",dataIndex:"itemName",key:"itemName",width:140},{title:"业务群",dataIndex:"deptCode",key:"deptCode",width:140},{title:"项目组",dataIndex:"grpName",key:"grpName",width:140},{title:"业务类型",dataIndex:"biziType",key:"biziType",width:140,render:function(t,a){return C.getOptionName("项目管理","业务类型",t,!1,e)}},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"执行阶段",dataIndex:"itemStatus",key:"itemStatus",width:140,render:function(t,a){return C.getOptionName("项目管理","订单状态",t,!1,e)}},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改任务信息"},n.default.createElement(s.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除任务信息"},n.default.createElement(s.Icon,{type:v.iconRemove})))}}],r=v.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:r.padding}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["order_item/retrieve","order_item/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:v.iconAdd,type:"primary",title:"增加任务信息",onClick:this.handleOpenCreateWindow}),n.default.createElement(s.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:S,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(109),f=r(p),g=a(4),v=a(730),C=r(v),b=a(733),y=r(b),S=a(1),E=a(6),w=g.Form.Item,x=(g.Select.Option,g.Tabs.TabPane),k=a(495),j=a(361),N=l.default.createClass({displayName:"CreateProjOrderPage",getInitialState:function(){return{orderSet:{operation:"",
errMsg:""},loading:!1,user:{},order:{},hints:{},validRules:[]}},mixins:[S.listenTo(k,"onServiceComplete"),(0,c.default)("order")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,orderSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"contCode",desc:"合同编号",required:!0},{id:"custName",desc:"客户名称",required:!1},{id:"contName",desc:"合同名称",required:!1},{id:"grpName",desc:"项目组",required:!1,max:"64"},{id:"deptCode",desc:"业务群",required:!1,max:"64"},{id:"ordCode",desc:"订单编号",required:!1,max:"64"},{id:"ordName",desc:"订单名称",required:!0,max:"128"},{id:"ordDesc",desc:"订单说明",required:!1,max:"2000"},{id:"realCust",desc:"最终用户",required:!1,max:"64"},{id:"delivCity",desc:"交付城市",required:!1,max:"64"},{id:"ordType",desc:"订单类型",required:!1,max:"64"},{id:"biziType",desc:"业务类型",required:!1,max:"32"},{id:"payType",desc:"结算类型",required:!1,max:"32"},{id:"ordAmount",desc:"订单金额",required:!1,max:"16"},{id:"signDate",desc:"签订日期",required:!1,max:"24"},{id:"ordStatus",desc:"执行阶段",required:!1,max:"64"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"}],this.clear()},clear:function(){window.addEventListener("keydown",this.handleKeyDown),this.state.hints={},this.state.order.uuid="",this.state.hints={},this.state.order.corpUuid=window.loginData.compUser.corpUuid,this.state.order.ordCode="",this.state.order.ordName="",this.state.order.ordDesc="",this.state.order.realCust="",this.state.order.delivCity="",this.state.order.ordType="",this.state.order.biziType="",this.state.order.payType="",this.state.order.ordAmount="",this.state.order.signDate="",this.state.order.beginDate="",this.state.order.endDate="",this.state.order.ordStatus="",this.state.order.grpName="",this.state.order.deptCode="",this.state.loading=!1,this.state.orderSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){E.formValidator(this,this.state.order)&&(this.state.orderSet.operation="",this.setState({loading:!0}),j.createProjOrder(this.state.order))},onSelectContract:function(e){this.state.order.contUuid=e.uuid,this.state.order.custUuid=e.custUuid,this.state.order.contCode=e.contCode,this.state.order.contName=e.contName,this.state.order.custName=e.custName,this.setState({user:e})},onSelectProjGroup:function(e){this.state.order.grpUuid=e.uuid,this.state.order.grpName=e.grpName,this.state.order.deptCode=e.deptCode,this.refs.searchBox.setValue(e.grpName),this.setState({user:e})},handleKeyDown:function(e){if(73==e.keyCode&&e.ctrlKey&&e.altKey){var t=this.refs.QuickFillWindow;t&&(t.initPage(this.state.validRules),t.toggle())}},goBack:function(){window.removeEventListener("keydown",this.handleKeyDown),this.props.onBack()},onTabChange:function(e){"1"===e&&this.goBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.order.corpUuid,s=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(g.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(x,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"增加订单#",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-order/create"]}),l.default.createElement(C.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:s,showError:this.showError,onSelectContract:this.onSelectContract}),l.default.createElement(g.Form,{layout:e,style:{width:"600px"}},l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"合同编号",required:!0,colon:!0,className:t,help:n.contUuidHint,validateStatus:n.contUuidStatus}),l.default.createElement(g.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.order.contCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"客户名称",required:!1,colon:!0,className:t,help:n.custNameHint,validateStatus:n.custNameStatus}),l.default.createElement(g.Input,{type:"text",name:"custName",id:"custName",value:this.state.order.custName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(g.Row,null,l.default.createElement(w,i({},a,{label:"合同名称",required:!1,colon:!0,className:t,help:n.contNameHint,validateStatus:n.contNameStatus}),l.default.createElement(g.Input,{type:"text",name:"contName",id:"contName",value:this.state.order.contName,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"项目组",required:!0,colon:!0,className:t,help:n.grpUuidHint,validateStatus:n.grpUuidStatus}),l.default.createElement(y.default,{style:{width:"100%"},corpUuid:s,showError:this.showError,onSelectGroup:this.onSelectProjGroup,ref:"searchBox",name:"grpName",id:"grpName",value:this.state.order.grpName}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"业务群",required:!1,colon:!0,className:t,help:n.deptCodeHint,validateStatus:n.deptCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"deptCode",id:"deptCode",value:this.state.order.deptCode,disabled:!0})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"订单编号",required:!1,colon:!0,className:t,help:n.ordCodeHint,validateStatus:n.ordCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"ordCode",id:"ordCode",value:this.state.order.ordCode,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"订单名称",required:!0,colon:!0,className:t,help:n.ordNameHint,validateStatus:n.ordNameStatus}),l.default.createElement(g.Input,{type:"text",name:"ordName",id:"ordName",value:this.state.order.ordName,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(w,i({},a,{label:"订单说明",required:!1,colon:!0,className:t,help:n.ordDescHint,validateStatus:n.ordDescStatus}),l.default.createElement(g.Input,{type:"textarea",name:"ordDesc",id:"ordDesc",value:this.state.order.ordDesc,onChange:this.handleOnChange}))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"最终用户",required:!1,colon:!0,className:t,help:n.realCustHint,validateStatus:n.realCustStatus}),l.default.createElement(g.Input,{type:"text",name:"realCust",id:"realCust",value:this.state.order.realCust,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"交付城市",required:!1,colon:!0,className:t,help:n.delivCityHint,validateStatus:n.delivCityStatus}),l.default.createElement(g.Input,{type:"text",name:"delivCity",id:"delivCity",value:this.state.order.delivCity,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"订单类型",required:!1,colon:!0,className:t,help:n.ordTypeHint,validateStatus:n.ordTypeStatus}),l.default.createElement(h.default,{name:"ordType",id:"ordType",value:this.state.order.ordType,appName:"项目管理",optName:"订单类型",onSelect:this.handleOnSelected.bind(this,"ordType")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"业务类型",required:!1,colon:!0,className:t,help:n.biziTypeHint,validateStatus:n.biziTypeStatus}),l.default.createElement(h.default,{name:"biziType",id:"biziType",value:this.state.order.biziType,appName:"项目管理",optName:"订单业务类型",onSelect:this.handleOnSelected.bind(this,"biziType")})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"结算类型",required:!1,colon:!0,className:t,help:n.payTypeHint,validateStatus:n.payTypeStatus}),l.default.createElement(h.default,{name:"payType",id:"payType",value:this.state.order.payType,appName:"项目管理",optName:"订单结算类型",onSelect:this.handleOnSelected.bind(this,"payType")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"订单金额",required:!1,colon:!0,className:t,help:n.ordAmountHint,validateStatus:n.ordAmountStatus}),l.default.createElement(g.Input,{type:"text",name:"ordAmount",id:"ordAmount",value:this.state.order.ordAmount,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"签订日期",required:!1,colon:!0,className:t,help:n.signDateHint,validateStatus:n.signDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"signDate",id:"signDate",value:this.formatDate(this.state.order.signDate,E.dateFormat),format:E.dateFormat,onChange:this.handleOnSelDate.bind(this,"signDate",E.dateFormat)}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"执行阶段",required:!1,colon:!0,className:t,help:n.ordStatusHint,validateStatus:n.ordStatusStatus}),l.default.createElement(h.default,{name:"ordStatus",id:"ordStatus",value:this.state.order.ordStatus,appName:"项目管理",optName:"订单状态",onSelect:this.handleOnSelected.bind(this,"ordStatus")})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.order.beginDate,E.dateFormat),format:E.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",E.dateFormat)}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(w,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.order.endDate,E.dateFormat),format:E.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",E.dateFormat)})))),l.default.createElement(w,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))),l.default.createElement(f.default,{ref:"QuickFillWindow",self:this,object:"order"}))}});t.default=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(9),u=r(d),c=a(12),m=r(c),h=(a(1),s.DatePicker.MonthPicker,s.DatePicker.RangePicker,s.Form.Item),p=a(6),f={moreFilter:l.default.PropTypes.bool},g=l.default.createClass({displayName:"OrderFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],order:{corpUuid:"",custName:"",ordName:"",grpName:"",ordType:"",delivCity:"",ordStage:"",beginDate1:"",beginDate2:""}}},mixins:[(0,u.default)("order",!0)],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"custName",desc:"客户名称",required:!1,max:"64"},{id:"ordName",desc:"订单名称",required:!0,max:"128"},{id:"grpName",desc:"项目群名称",required:!1,max:"64"},{id:"ordType",desc:"订单类型",required:!1,max:"64"},{id:"delivCity",desc:"交付城市",required:!1,max:"64"},{id:"ordStage",desc:"执行阶段",required:!1,max:"64"},{id:"beginDate1",desc:"最早开始时间",required:!1,max:"24"},{id:"beginDate2",desc:"最晚开始时间",required:!1,max:"24"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"800px",height:"100%",float:"right"}},l.default.createElement(s.Form,{layout:e,style:{width:"100%",padding:"20px 0px"}},l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{className:"gutter-row",span:6},l.default.createElement(h,i({},a,{label:"客户",required:!1,colon:!0,className:t,help:r.custNameHint,validateStatus:r.custNameStatus}),l.default.createElement(s.Input,{type:"text",name:"custName",id:"custName",value:this.state.order.custName,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{className:"gutter-row",span:6},l.default.createElement(h,i({},a,{label:"订单名称",required:!1,colon:!0,className:t,help:r.ordNameHint,validateStatus:r.ordNameStatus}),l.default.createElement(s.Input,{type:"text",name:"ordName",id:"ordName",value:this.state.order.ordName,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{className:"gutter-row",span:6},l.default.createElement(h,i({},a,{label:"项目组",required:!1,colon:!0,className:t,help:r.grpNameHint,validateStatus:r.grpNameStatus}),l.default.createElement(s.Input,{type:"text",name:"grpName",id:"grpName",value:this.state.order.grpName,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{className:"gutter-row",span:6},l.default.createElement(h,i({},a,{label:"订单类型",required:!1,colon:!0,className:t,help:r.ordTypeHint,validateStatus:r.ordTypeStatus}),l.default.createElement(m.default,{name:"ordType",id:"ordType",value:this.state.order.ordType,appName:"项目管理",optName:"订单类型",onSelect:this.handleOnSelected.bind(this,"ordType")})))),l.default.createElement(s.Row,{gutter:24},l.default.createElement(s.Col,{className:"gutter-row",span:6},l.default.createElement(h,i({},a,{label:"交付城市",required:!1,colon:!0,className:t,help:r.delivCityHint,validateStatus:r.delivCityStatus}),l.default.createElement(s.Input,{type:"text",name:"delivCity",id:"delivCity",value:this.state.order.delivCity,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{className:"gutter-row",span:6},l.default.createElement(h,i({},a,{label:"执行阶段",required:!1,colon:!0,className:t,help:r.ordStageHint,validateStatus:r.ordStageStatus}),l.default.createElement(m.default,{name:"ordStage",id:"ordStage",value:this.state.order.ordStage,appName:"项目管理",optName:"订单状态",onSelect:this.handleOnSelected.bind(this,"ordStage")}))),l.default.createElement(s.Col,{className:"gutter-row",span:6},l.default.createElement(h,i({},a,{label:"最早开始",required:!1,colon:!0,className:t,help:r.beginDate1Hint,validateStatus:r.beginDate1Status}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate1",id:"beginDate1",value:this.formatDate(this.state.order.beginDate1,p.dateFormat),format:p.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate1",p.dateFormat)}))),l.default.createElement(s.Col,{className:"gutter-row",span:6},l.default.createElement(h,i({},a,{label:"最晚开始",required:!1,colon:!0,className:t,help:r.beginDate2Hint,validateStatus:r.beginDate2Status}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate2",id:"beginDate2",value:this.formatDate(this.state.order.beginDate2,p.dateFormat),format:p.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate2",p.dateFormat)})))))))}});g.propTypes=f,e.exports=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(733),g=r(f),v=a(1),C=a(6),b=a(3),y=p.Form.Item,S=(p.Select.Option,p.Tabs.TabPane,a(495)),E=a(361),w=l.default.createClass({displayName:"UpdateProjOrderPage",getInitialState:function(){return{orderSet:{operation:"",errMsg:""},loading:!1,order:{},contract:{},list:[],hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,c.default)("order")],onServiceComplete:function(e){"update"===e.operation?""===e.errMsg?this.goBack():this.setState({loading:!1,orderSet:e}):"retrieve1"===e.operation&&""===e.errMsg&&this.setState({contract:e.list})},componentDidMount:function(){this.state.validRules=[{id:"ordCode",desc:"订单编号",required:!1,max:"64"},{id:"ordName",desc:"订单名称",required:!0,max:"128"},{id:"ordDesc",desc:"订单说明",required:!1,max:"2000"},{id:"realCust",desc:"最终用户",required:!1,max:"64"},{id:"delivCity",desc:"交付城市",required:!1,max:"64"},{id:"ordType",desc:"订单类型",required:!1,max:"64"},{id:"biziType",desc:"业务类型",required:!1,max:"32"},{id:"payType",desc:"结算类型",required:!1,max:"32"},{id:"ordAmount",desc:"订单金额",required:!1,max:"16"},{id:"signDate",desc:"签订日期",required:!1,max:"24"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"},{id:"ordStatus",desc:"执行阶段",required:!1,max:"64"},{id:"grpName",desc:"项目群名称",required:!1,max:"64"},{id:"deptCode",desc:"一级部门",required:!1,max:"64"},{id:"contUuid",desc:"合同编号",required:!0,max:"24"},{id:"grpUuid",desc:"项目组",required:!0,max:"24"}],this.initPage(this.props.order)},initPage:function(e){var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.custUuid=e.custUuid,this.state.hints={},b.copyValue(e,this.state.order),this.refs.searchBox.setValue(e.grpName),E.retrieveProjContract(t),this.setState({loading:!1,hints:{}}),this.state.orderSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){C.formValidator(this,this.state.order)&&(this.state.orderSet.operation="",this.setState({loading:!0}),E.updateProjOrder(this.state.order))},onSelectProjGroup:function(e){this.state.order.grpUuid=e.uuid,this.state.order.grpName=e.grpName,this.state.order.deptCode=e.deptCode,this.refs.searchBox.setValue(e.grpName),this.setState({user:e})},goBack:function(){this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.order.corpUuid,s=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-order/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"600px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"合同编号",required:!1,colon:!0,className:t,help:n.contCodeHint,validateStatus:n.contCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"contCode",id:"contCode",value:this.state.contract.contCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"客户名称",required:!1,colon:!0,className:t,help:n.custNameHint,validateStatus:n.custNameStatus}),l.default.createElement(p.Input,{type:"text",name:"custName",id:"custName",value:this.state.order.custName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(y,i({},a,{label:"合同名称",required:!1,colon:!0,className:t,help:n.contNameHint,validateStatus:n.contNameStatus}),l.default.createElement(p.Input,{type:"text",name:"contName",id:"contName",value:this.state.contract.contName,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"项目组",required:!0,colon:!0,className:t,help:n.grpUuidHint,validateStatus:n.grpUuidStatus}),l.default.createElement(g.default,{corpUuid:s,showError:this.showError,onSelectGroup:this.onSelectProjGroup,ref:"searchBox",name:"grpName",id:"grpName",value:this.state.order.grpName}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"业务群",required:!1,colon:!0,className:t,help:n.deptCodeHint,validateStatus:n.deptCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"deptCode",id:"deptCode",value:this.state.order.deptCode,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"订单编号",required:!1,colon:!0,className:t,help:n.ordCodeHint,validateStatus:n.ordCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"ordCode",id:"ordCode",value:this.state.order.ordCode,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"订单名称",required:!0,colon:!0,className:t,help:n.ordNameHint,validateStatus:n.ordNameStatus}),l.default.createElement(p.Input,{type:"text",name:"ordName",id:"ordName",value:this.state.order.ordName,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(y,i({},a,{label:"订单说明",required:!1,colon:!0,className:t,help:n.ordDescHint,validateStatus:n.ordDescStatus}),l.default.createElement(p.Input,{type:"textarea",name:"ordDesc",id:"ordDesc",value:this.state.order.ordDesc,onChange:this.handleOnChange}))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"最终用户",required:!1,colon:!0,className:t,help:n.realCustHint,validateStatus:n.realCustStatus}),l.default.createElement(p.Input,{type:"text",name:"realCust",id:"realCust",value:this.state.order.realCust,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"交付城市",required:!1,colon:!0,className:t,help:n.delivCityHint,validateStatus:n.delivCityStatus}),l.default.createElement(p.Input,{type:"text",name:"delivCity",id:"delivCity",value:this.state.order.delivCity,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"订单类型",required:!1,colon:!0,className:t,help:n.ordTypeHint,validateStatus:n.ordTypeStatus}),l.default.createElement(h.default,{name:"ordType",id:"ordType",value:this.state.order.ordType,appName:"项目管理",optName:"订单类型",onSelect:this.handleOnSelected.bind(this,"ordType")}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"业务类型",required:!1,colon:!0,className:t,help:n.biziTypeHint,validateStatus:n.biziTypeStatus}),l.default.createElement(h.default,{name:"biziType",id:"biziType",value:this.state.order.biziType,appName:"项目管理",optName:"订单业务类型",onSelect:this.handleOnSelected.bind(this,"biziType")})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"结算类型",required:!1,colon:!0,className:t,help:n.payTypeHint,validateStatus:n.payTypeStatus}),l.default.createElement(h.default,{name:"payType",id:"payType",value:this.state.order.payType,appName:"项目管理",optName:"订单结算类型",onSelect:this.handleOnSelected.bind(this,"payType")}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"订单金额",required:!1,colon:!0,className:t,help:n.ordAmountHint,validateStatus:n.ordAmountStatus}),l.default.createElement(p.Input,{type:"text",name:"ordAmount",id:"ordAmount",value:this.state.order.ordAmount,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"签订日期",required:!1,colon:!0,className:t,help:n.signDateHint,validateStatus:n.signDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"signDate",id:"signDate",value:this.formatDate(this.state.order.signDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"signDate",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"执行阶段",required:!1,colon:!0,className:t,help:n.ordStatusHint,validateStatus:n.ordStatusStatus}),l.default.createElement(h.default,{name:"ordStatus",id:"ordStatus",value:this.state.order.ordStatus,appName:"项目管理",optName:"订单状态",onSelect:this.handleOnSelected.bind(this,"ordStatus")})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.order.beginDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.order.endDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})))),l.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1380),m=r(c),h=a(1382),p=r(h),f=a(1381),g=r(f),v=a(1372),C=r(v),b=a(1379),y=r(b),S=a(1),E=u.Input.Search,w=u.Radio.Button,x=u.Radio.Group,k=u.Tabs.TabPane,j=a(6),N=a(3),P=a(495),D=a(361),R=10,M=n.default.createClass({displayName:"ProjOrderPage",getInitialState:function(){return{orderSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",order:null,viewType:"1",loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[S.listenTo(P,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.ordCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.ordName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.OrderFilter;null!==a&&"undefined"!=typeof a&&(a.state.order=this.state.filter)}}this.setState({loading:!1,orderSet:e})},componentDidMount:function(){D.getCacheData()},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",D.retrieveProjOrderPage(this.state.filter,this.state.orderSet.startPage,R)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.orderSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){R=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;j.isIncNumber(t)?this.state.filter.ordCode=t:this.state.filter.ordName=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.OrderFilter.state.order;null!==e.beginDate&&""!==e.beginDate?(e.beginDate=e.beginDate,e.endDate=e.endDate):(e.beginDate="",e.endDate=""),this.state.filter=e,this.handleQueryClick()},onClickDelete:function(e,t){console.log(),u.Modal.confirm({title:"删除确认",content:"是否删除选中的订单 【"+e.ordCode+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.orderSet.operation="",D.deleteProjOrder(e.uuid)},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){this.setState({order:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},onTabChange:function(e){"1"===e&&this.onGoBack()},onChangeView:function(e){this.setState({viewType:e.target.value})},render:function(){var e=this,t=[];t="1"===this.state.viewType?[{title:"编号",dataIndex:"ordCode",key:"ordCode",width:140},{title:"名称",dataIndex:"ordName",key:"ordName",width:140},{title:"业务群",dataIndex:"deptCode",key:"deptCode",width:140},{title:"项目组",dataIndex:"grpName",key:"grpName",width:140},{title:"客户",dataIndex:"custName",key:"custName",width:140},{title:"订单金额",dataIndex:"ordAmount",key:"ordAmount",width:140},{title:"签订日期",dataIndex:"signDate",key:"signDate",width:140,render:function(e,t){return j.formatDate(e,j.dateFormat)}},{title:"状态",dataIndex:"ordStatus",key:"ordStatus",width:140,render:function(t,a){return N.getOptionName("项目管理","订单状态",t,!0,e)}},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目"},n.default.createElement(u.Icon,{type:j.iconDetail})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目"},n.default.createElement(u.Icon,{type:j.iconRemove})))}}]:[{title:"编号",dataIndex:"ordCode",key:"ordCode",width:140},{title:"名称",dataIndex:"ordName",key:"ordName",width:140},{title:"最终用户",dataIndex:"realCust",key:"realCust",width:140},{title:"交付城市",dataIndex:"delivCity",key:"delivCity",width:140},{title:"订单类型",dataIndex:"ordType",key:"ordType",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return j.formatDate(e,j.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return j.formatDate(e,j.dateFormat)}},{title:"业务类型",dataIndex:"biziType",key:"biziType",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目"},n.default.createElement(u.Icon,{type:j.iconDetail})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目"},n.default.createElement(u.Icon,{type:j.iconRemove})))}}];var a=this.state.orderSet.recordSet,r=this.state.moreFilter,i="query"===this.state.action?"":"none",l={showQuickJumper:!0,total:this.state.orderSet.totalRow,pageSize:this.state.orderSet.pageRow,current:this.state.orderSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-order/retrieve","proj-order/remove"]}),n.default.createElement(g.default,{ref:"OrderFilter",moreFilter:r}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:j.iconAdd,type:"primary",title:"增加合同",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:j.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(x,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeView},n.default.createElement(w,{value:"1"},"基本信息"),n.default.createElement(w,{value:"2"},"订单类型"))),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{
title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(E,{placeholder:"查询(订单编号/订单名称)",style:{width:j.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:j.tableBorder}))),s=null;return"create"===this.state.action?s=n.default.createElement(m.default,{onBack:this.onGoBack}):"update"===this.state.action&&(s=n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(u.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(k,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(k,{tab:"修改订单",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},n.default.createElement(p.default,{onBack:this.onGoBack,order:this.state.order})),n.default.createElement(k,{tab:"订单项",key:"3",style:{width:"100%",height:"100%",overflowY:"auto"}},n.default.createElement(y.default,{onBack:this.onGoBack,order:this.state.order})),n.default.createElement(k,{tab:"折让",key:"4",style:{width:"100%",height:"100%",overflowY:"auto"}},n.default.createElement(C.default,{onBack:this.onGoBack,order:this.state.order}))))),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});e.exports=M},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1386),m=r(c),h=a(1387),p=r(h),f=a(1385),g=r(f),v=a(1),C=u.Input.Search,b=a(6),y=a(3),S=a(496),E=a(362),w=a(14),x=10,k=n.default.createClass({displayName:"BiziProjPage",getInitialState:function(){return{biziProjSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",biziProj:null,loading:!1,moreFilter:!1,filterValue:"",filter:{}}},mixins:[v.listenTo(S,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.projCode;if(t||(t=e.filter.projName,t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.BiziProjFilter;a&&(a.state.biziProj=this.state.filter)}if(this.state.filter.corpUuid!==window.loginData.compUser.corpUuid)return void this.handleQueryClick()}this.setState({loading:!1,biziProjSet:e})},componentDidMount:function(){E.getCacheData()},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",E.retrieveBiziProjInfoPage(this.state.filter,this.state.biziProjSet.startPage,x)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.biziProjSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){x=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;b.isIncNumber(t)?this.state.filter.projCode=t:this.state.filter.projName=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.BiziProjFilter.state.biziProj;null!==e.beginDate&&""!==e.beginDate?(e.beginDate1=e.beginDate+"01",e.beginDate2=e.beginDate+"31"):(e.beginDate1="",e.beginDate2=""),this.state.filter=e,this.handleQueryClick()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的项目 【"+e.projCode+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.biziProjSet.operation="",E.deleteBiziProjInfo(e.uuid)},handleAppClick:function(e){w.openGroupBiziProjPage(e)},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){this.setState({biziProj:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=[{title:"项目编号",dataIndex:"projCode",key:"projCode",width:140},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"项目类型",dataIndex:"projType",key:"projType",width:140},{title:"主办方",dataIndex:"projHost",key:"projHost",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"项目地址",dataIndex:"projLoc",key:"projLoc",width:140},{title:"项目经理",dataIndex:"pmName",key:"pmName",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目"},n.default.createElement(u.Icon,{type:b.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目"},n.default.createElement(u.Icon,{type:b.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.handleAppClick.bind(e,a),title:"项目详情"},n.default.createElement(u.Icon,{type:"bars"})))}}],a=this.state.biziProjSet.recordSet,r=this.state.moreFilter,i="query"===this.state.action?"":"none",l={showQuickJumper:!0,total:this.state.biziProjSet.totalRow,pageSize:this.state.biziProjSet.pageRow,current:this.state.biziProjSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj/retrieve","bizi-proj/remove"]}),n.default.createElement(g.default,{ref:"BiziProjFilter",moreFilter:r}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:b.iconAdd,type:"primary",title:"增加项目",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:b.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(C,{placeholder:"查询(项目编号/项目名称)",style:{width:b.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:b.tableBorder}))),s=null;if("create"===this.state.action)s=n.default.createElement(m.default,{onBack:this.onGoBack});else if("update"===this.state.action){var c={};y.copyValue(this.state.biziProj,c),s=n.default.createElement(p.default,{onBack:this.onGoBack,biziProj:c})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});e.exports=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=r(s),u=a(4),c=a(9),m=r(c),h=(a(1),u.DatePicker.MonthPicker),p=(u.DatePicker.RangePicker,u.Form.Item),f=a(6),g={moreFilter:l.default.PropTypes.bool},v=l.default.createClass({displayName:"BiziProjFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],biziProj:{projName:"",projCode:"",beginDate:"",biziType:"",payType:"",induType:"",projType:"",delivArea:""}}},mixins:[(0,m.default)("biziProj")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"projCode",desc:"项目编号",required:!1,max:"64"},{id:"projName",desc:"项目名称",required:!1,max:"128"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"projLoc",desc:"项目地址",required:!1,max:"128"},{id:"projHost",desc:"主办方",required:!1,max:"256"},{id:"projType",desc:"项目类型:培训、会议、商务活动",required:!1,max:"64"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},r={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},n=this.state.hints;return l.default.createElement("div",{style:{width:"100%",padding:"16px 18px 20px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"800px",height:"100%",float:"right"}},l.default.createElement(u.Form,{layout:e},l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},r,{label:"项目名称",required:!1,colon:!0,className:t,help:n.projNameHint,validateStatus:n.projNameStatus}),l.default.createElement(u.Input,{type:"text",name:"projName",id:"projName",value:this.state.biziProj.projName,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},r,{label:"项目编号",required:!1,colon:!0,className:t,help:n.projCodeHint,validateStatus:n.projCodeStatus}),l.default.createElement(u.Input,{type:"text",name:"projCode",id:"projCode",value:this.state.biziProj.projCode,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"开始月份",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(h,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:f.monthFormat,value:this.formatMonth(this.state.biziProj.beginDate,f.monthFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",f.monthFormat)})))),l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},r,{label:"项目类型",required:!1,colon:!0,className:t,help:n.projTypeHint,validateStatus:n.projTypeStatus}),l.default.createElement(d.default,{name:"projType",id:"projType",value:this.state.biziProj.projType,appName:"项目管理",optName:"事务项目类型",onSelect:this.handleOnSelected.bind(this,"projType")}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},r,{label:"主办方",required:!1,colon:!0,className:t,help:n.projHostHint,validateStatus:n.projHostStatus}),l.default.createElement(u.Input,{type:"text",name:"projHost",id:"projHost",value:this.state.biziProj.projHost,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"所在城市",required:!1,colon:!0,className:t,help:n.projLocHint,validateStatus:n.projLocStatus}),l.default.createElement(u.Input,{type:"text",name:"projLoc",id:"projLoc",value:this.state.biziProj.projLoc,onChange:this.handleOnChange})))))))}});v.propTypes=g,e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(67),g=r(f),v=a(1),C=a(6),b=p.Form.Item,y=(p.Select.Option,p.Tabs.TabPane),S=a(496),E=a(362),w=l.default.createClass({displayName:"CreateBiziProjPage",getInitialState:function(){return{biziProjSet:{operation:"",errMsg:""},loading:!1,modal:!1,biziProj:{},hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,c.default)("biziProj")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"projCode",desc:"项目编号",required:!1,max:"64"},{id:"projType",desc:"项目类型",required:!0,max:"64"},{id:"projName",desc:"项目名称",required:!0,max:"128"},{id:"projHost",desc:"主办方",required:!1,max:"256"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"},{id:"projLevel",desc:"重要级别",required:!1,max:"32"},{id:"projLoc",desc:"举办城市",required:!0,max:"128"},{id:"pmName",desc:"负责人姓名",required:!1,max:"32"},{id:"projFund",desc:"项目预算",required:!1,max:"128"},{id:"projAim",desc:"项目目的",required:!1,max:"1000"},{id:"projDesc",desc:"说明",required:!1,max:"3000"}],this.clear()},componentWillReceiveProps:function(e){},clear:function(e){this.state.hints={},this.state.biziPuuid="",this.state.biziProj.corpUuid=window.loginData.compUser.corpUuid,this.state.biziProj.custUuid="",this.state.biziProj.projCode="",this.state.biziProj.projName="",this.state.biziProj.beginDate="",this.state.biziProj.projLevel="",this.state.biziProj.projHost="",this.state.biziProj.projType="",this.state.biziProj.projFund="",this.state.biziProj.projLoc="",this.state.biziProj.endDate="",this.state.biziProj.pmName="",this.state.biziProj.projDesc="",this.state.biziProj.projAim="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectProj:function(e){this.state.biziProj.pmUuid=e.uuid,this.state.biziProj.pmCode=e.staffCode,this.state.biziProj.pmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){C.formValidator(this,this.state.biziProj)&&(this.setState({loading:!0}),E.createBiziProjInfo(this.state.biziProj))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.biziProj.projCode,s=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(y,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(y,{tab:"增加项目",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj/create"]}),l.default.createElement(p.Form,{layout:e,style:{width:"600px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"项目编号",required:!1,colon:!0,className:t,help:n.projCodeHint,validateStatus:n.projCodeStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"projCode",id:"projCode",value:this.state.biziProj.projCode,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"项目类型",required:!0,colon:!0,className:t,help:n.projTypeHint,validateStatus:n.projTypeStatus}),l.default.createElement(h.default,{name:"projType",id:"projType",value:this.state.biziProj.projType,appName:"项目管理",optName:"事务项目类型",onSelect:this.handleOnSelected.bind(this,"projType")})))),l.default.createElement(b,i({},a,{label:"项目名称",required:!0,colon:!0,className:t,help:n.projNameHint,validateStatus:n.projNameStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"projName",id:"projName",value:this.state.biziProj.projName,onChange:this.handleOnChange})),l.default.createElement(b,i({},a,{label:"主办方",required:!1,colon:!0,className:t,help:n.projHostHint,validateStatus:n.projHostStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"projHost",id:"projHost",value:this.state.biziProj.projHost,onChange:this.handleOnChange})),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:C.dateFormat,value:this.formatDate(this.state.biziProj.beginDate,C.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",format:C.dateFormat,value:this.formatDate(this.state.biziProj.endDate,C.dateFormat),onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"重要级别",required:!1,colon:!0,className:t,help:n.projLevelHint,validateStatus:n.projLevelStatus}),l.default.createElement(h.default,{name:"projLevel",id:"projLevel",value:this.state.biziProj.projLevel,appName:"项目管理",optName:"重要级别",onSelect:this.handleOnSelected.bind(this,"projLevel")}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"举办城市",required:!0,colon:!0,className:t,help:n.projLocHint,validateStatus:n.projLocStatus}),l.default.createElement(p.Input,{type:"text",name:"projLoc",id:"projLoc",value:this.state.biziProj.projLoc,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"项目经理",required:!1,colon:!0,className:t,help:n.pmNameHint,validateStatus:n.pmNameStatus}),l.default.createElement(g.default,{corpUuid:s,showError:this.showError,ref:"empSearchBox",type:"text",name:"pmName",id:"pmName",value:this.state.biziProj.pmName,onSelectMember:this.onSelectProj}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"项目预算",required:!1,colon:!0,className:t,help:n.projFundHint,validateStatus:n.projFundStatus}),l.default.createElement(p.Input,{type:"text",name:"projFund",id:"projFund",value:this.state.biziProj.projFund,onChange:this.handleOnChange})))),l.default.createElement(b,i({},a,{label:"项目目的",required:!1,colon:!0,className:t,help:n.projAimHint,validateStatus:n.projAimStatus}),l.default.createElement(p.Input,{type:"textarea",name:"projAim",id:"projAim",value:this.state.biziProj.projAim,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(b,i({},a,{label:"项目说明",required:!1,colon:!0,className:t,help:n.projDescHint,validateStatus:n.projDescStatus}),l.default.createElement(p.Input,{type:"textarea",name:"projDesc",id:"projDesc",value:this.state.biziProj.projDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(b,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(25),g=r(f),v=a(1),C=a(6),b=a(3),y=(p.DatePicker.MonthPicker,p.DatePicker.RangePicker,p.Form.Item),S=(p.Select.Option,p.Tabs.TabPane),E=a(496),w=a(362),x=l.default.createClass({displayName:"UpdateBiziProjPage",getInitialState:function(){return{biziProjSet:{operation:"",errMsg:""},loading:!1,biziProj:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,c.default)("biziProj")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,biziProjSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"projCode",desc:"项目编号",required:!1,max:"64"},{id:"projType",desc:"项目类型",required:!0,max:"64"},{id:"projName",desc:"项目名称",required:!0,max:"128"},{id:"projHost",desc:"主办方",required:!1,max:"256"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"},{id:"projLevel",desc:"重要级别",required:!1,max:"32"},{id:"projLoc",desc:"举办城市",required:!0,max:"128"},{id:"pmName",desc:"负责人姓名",required:!1,max:"32"},{id:"projFund",desc:"项目预算",required:!1,max:"128"},{id:"projAim",desc:"项目目的",required:!1,max:"1000"},{id:"projDesc",desc:"说明",required:!1,max:"3000"}],this.initPage(this.props.biziProj)},componentWillReceiveProps:function(e){},initPage:function(e){b.copyValue(e,this.state.biziProj),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.pmName),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectProj:function(e){this.state.biziProj.pmUuid=e.uuid,this.state.biziProj.pmCode=e.staffCode,this.state.biziProj.pmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){C.formValidator(this,this.state.biziProj)&&(this.setState({loading:!0}),w.updateBiziProjInfo(this.state.biziProj))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(S,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(S,{tab:"修改项目",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"600px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"项目编号",required:!1,colon:!0,className:t,help:n.projCodeHint,validateStatus:n.projCodeStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"projCode",id:"projCode",value:this.state.biziProj.projCode,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"项目类型",required:!0,colon:!0,className:t,help:n.projTypeHint,validateStatus:n.projTypeStatus}),l.default.createElement(h.default,{name:"projType",id:"projType",value:this.state.biziProj.projType,appName:"项目管理",optName:"事务项目类型",onSelect:this.handleOnSelected.bind(this,"projType")})))),l.default.createElement(y,i({},a,{label:"项目名称",required:!0,colon:!0,className:t,help:n.projNameHint,validateStatus:n.projNameStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"projName",id:"projName",value:this.state.biziProj.projName,onChange:this.handleOnChange})),l.default.createElement(y,i({},a,{label:"主办方",required:!1,colon:!0,className:t,help:n.projHostHint,validateStatus:n.projHostStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"projHost",id:"projHost",value:this.state.biziProj.projHost,onChange:this.handleOnChange})),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:C.dateFormat,value:this.formatDate(this.state.biziProj.beginDate,C.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",format:C.dateFormat,value:this.formatDate(this.state.biziProj.endDate,C.dateFormat),onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"重要级别",required:!1,colon:!0,className:t,help:n.projLevelHint,validateStatus:n.projLevelStatus}),l.default.createElement(h.default,{name:"projLevel",id:"projLevel",value:this.state.biziProj.projLevel,appName:"项目管理",optName:"重要级别",onSelect:this.handleOnSelected.bind(this,"projLevel")}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"举办城市",required:!0,colon:!0,className:t,help:n.projLocHint,validateStatus:n.projLocStatus}),l.default.createElement(p.Input,{type:"text",name:"projLoc",id:"projLoc",value:this.state.biziProj.projLoc,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"项目经理",required:!1,colon:!0,className:t,help:n.pmNameHint,validateStatus:n.pmNameStatus}),l.default.createElement(g.default,{corpUuid:o,showError:this.showError,ref:"empSearchBox",type:"text",name:"pmName",id:"pmName",value:this.state.biziProj.pmName,onSelectMember:this.onSelectProj}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"项目预算",required:!1,colon:!0,className:t,help:n.projFundHint,validateStatus:n.projFundStatus}),l.default.createElement(p.Input,{type:"text",name:"projFund",id:"projFund",value:this.state.biziProj.projFund,onChange:this.handleOnChange})))),l.default.createElement(y,i({},a,{label:"项目目的",required:!1,colon:!0,className:t,help:n.projAimHint,validateStatus:n.projAimStatus}),l.default.createElement(p.Input,{type:"textarea",name:"projAim",id:"projAim",value:this.state.biziProj.projAim,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(y,i({},a,{label:"项目说明",required:!1,colon:!0,className:t,help:n.projDescHint,validateStatus:n.projDescStatus}),l.default.createElement(p.Input,{type:"textarea",name:"projDesc",id:"projDesc",value:this.state.biziProj.projDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),m=r(c),h=a(30),p=r(h),f=a(221),g=r(f),v=a(76),C=r(v),b=a(26),y=r(b),S=a(1),E=a(11),w=u.Radio.Button,x=u.Radio.Group,k=u.DatePicker.MonthPicker,j=u.Input.Search,N=a(6),P=(a(3),a(370)),D=a(276),R=a(14),M=a(134),U=""+N.getMonth(),T=n.default.createClass({displayName:"CheckQueryPage",getInitialState:function(){return{checkQuerySet:{recordSet:[],errMsg:""},loading:!1,viewType:"1",workMonth:U,filter:""}},mixins:[S.listenTo(P,"onServiceComplete"),(0,p.default)(),(0,m.default)(),(0,y.default)()],onServiceComplete:function(e){this.setState({loading:!1,checkQuerySet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryCheckQuery(U)},onChangeDate:function(e){var t=e.target.value;this.queryCheckQuery(t),this.setState({loading:!0,workMonth:t,selectedRowKeys:null})},queryCheckQuery:function(e){var t={};null!==e&&""!==e?(t.fromDate=e+"01",t.toDate=e+"31"):(t.fromDate="",t.toDate=""),t.chkProj=R.selectedGroup.uuid,D.retrieveCheckQuery(t)},onChangeViewType:function(e){D.getCacheData(),this.setState({loading:!0,viewType:e.target.value})},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workMonth:a}),this.queryCheckQuery(a)},showError:function(e){E.showError("user-chk-book","retrieve",e)},getWorkHours:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];t+=parseFloat(r.workHour)}return t},getOverHours:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"0"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getOverHours3:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"2"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getOverHours2:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"1"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getLeaveHour:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"事假"!==r.leaveType&&"病假"!==r.leaveType&&"其他无薪假期"!==r.leaveType&&(t+=parseFloat(r.leaveHour))}return t},getLeaveHour2:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"事假"!=r.leaveType&&"病假"!=r.leaveType&&"其他无薪假期"!=r.leaveType||(t+=parseFloat(r.leaveHour))}return t},xlsExport:function(){var e=this,t=[],a=this.state.checkQuerySet.recordSet;if("1"===this.state.viewType)a.map(function(a,r){var i={};i.staffCode=a.staffCode,i.perName=a.perName,i.posTime=a.posTime,i.deptName=a.deptName,i.manType=a.manType,i.workHours=e.getWorkHours(a),i.overHours=e.getOverHours(a),i.overHour2=e.getOverHours2(a),i.overHour3=e.getOverHours3(a),i.leaveHour=e.getLeaveHour(a),i.leaveHour2=e.getLeaveHour2(a),t.push(i)}),this.downXlsTempFile2(M.checkMemberFields,t,this.refs.xls);else{for(var r=[{id:"A",name:"staffCode",title:"员工号"},{id:"B",name:"perName",title:"姓名"},{id:"C",name:"deptName",title:"部门"}],i=this.getDays(),n="",l=1;l<i+1;l++){var o={},s=l+67;switch(n=String.fromCharCode(s),s){case 91:n="AA";break;case 92:n="AB";break;case 93:n="AC";break;case 94:n="AD";break;case 95:n="AE";break;case 96:n="AF";break;case 97:n="AG";break;case 98:n="AH"}l=l<10?"0"+l:""+l,o.id=n,o.name=l,o.title=l,r.push(o)}this.downXlsTempFile2(r,a,this.refs.xls)}},getDays:function(){var e=this.state.workMonth.substr(0,4),t=this.state.workMonth.substr(4,2),a=new Date(e,t,0),r=a.getDate();return r},render:function(){var e=this,t=N.filter(this.state.checkQuerySet.recordSet,this.state.filterValue),a=[],r=this.getDays();if("1"===this.state.viewType)a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"类型",dataIndex:"manType",key:"manType",width:140},{title:"工时",dataIndex:"workHours",key:"workHours",width:140,render:function(t,a){return e.getWorkHours(a)}},{title:"加班",dataIndex:"overHours",key:"overHours",width:140,render:function(t,a){return e.getOverHours(a)}},{title:"周末",dataIndex:"overHour2",key:"overHour2",
width:140,render:function(t,a){return e.getOverHours2(a)}},{title:"节假日",dataIndex:"overHour3",key:"overHour3",width:140,render:function(t,a){return e.getOverHours3(a)}},{title:"带薪假",dataIndex:"leaveHour",key:"leaveHour",width:140,render:function(t,a){return e.getLeaveHour(a)}},{title:"无薪假",dataIndex:"leaveHour2",key:"leaveHour2",width:140,render:function(t,a){return e.getLeaveHour2(a)}}];else if("2"===this.state.viewType){a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:100,fixed:"left"},{title:"姓名",dataIndex:"perName",key:"perName",width:100,fixed:"left"},{title:"部门",dataIndex:"deptName",key:"deptName",width:140}];for(var i=this.state.workMonth,l=1;l<r+1;l++){l=l<10?"0"+l:""+l;var o="",s=this.getDateType(i+l);"1"!==s&&"2"!==s||(o="leaveWeek"),a.push({title:l,dataIndex:l,key:l,width:120,className:o})}}else if("3"===this.state.viewType){a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:100,fixed:"left"},{title:"姓名",dataIndex:"perName",key:"perName",width:100,fixed:"left"},{title:"部门",dataIndex:"deptName",key:"deptName",width:140}];for(var i=this.state.workMonth,l=1;l<r+1;l++){l=l<10?"0"+l:""+l;var o="",s=this.getDateType(i+l);"1"!==s&&"2"!==s||(o="leaveWeek"),a.push({title:l,dataIndex:l,key:l,width:120,className:o})}}var c=N.getCardMargin(this),m=120*r+340;if("1"===this.state.viewType&&(m=0),"2"===this.state.viewType)for(var l=0;l<t.length;l++)for(var h=t[l],p=0;p<h.chkList.length;p++){var f=h.chkList[p],v=f.chkDate.substr(6,2),b=f.workHour;"0"===b&&(b=""),"0"!=f.overHour&&(b=""===b?"【加】"+parseFloat(f.overHour):b+";【加】"+parseFloat(f.overHour)),"0"!=f.leaveHour&&(b=""===b?"【休】"+parseFloat(f.leaveHour):b+";【休】"+parseFloat(f.leaveHour)),h[v]=b}else if("3"===this.state.viewType)for(var l=0;l<t.length;l++)for(var h=t[l],p=0;p<h.chkList.length;p++){var f=h.chkList[p],v=f.chkDate.substr(6,2),y="",S=f.checkIn,E=f.checkOut;void 0!==S&&null!==S&&""!==S&&(y=S.substr(0,5)),void 0!==E&&null!==E&&""!==E&&(y=y+"~"+E.substr(0,5)),h[v]=y}return n.default.createElement("div",{className:"grid-page",style:{padding:c.padding}},n.default.createElement("div",{style:{margin:c.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(g.default,{value:this.state.workMonth,onChange:this.onChangeDate}),n.default.createElement(k,{allowClear:!1,style:{marginLeft:"16px",width:"120px"},format:N.monthFormat,onChange:this.datePicker}),n.default.createElement(u.Button,{icon:"download",title:"导出考勤数据",onClick:this.xlsExport,style:{marginLeft:"14px"}}),n.default.createElement("div",{style:{float:"right"}},n.default.createElement(x,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeViewType},n.default.createElement(w,{value:"1"},n.default.createElement(u.Icon,{type:"bars"})),n.default.createElement(w,{value:"2"},n.default.createElement(u.Icon,{type:"credit-card"})),n.default.createElement(w,{value:"3"},n.default.createElement(u.Icon,{type:"check-square-o"})))),n.default.createElement(j,{placeholder:"查询",style:{width:"120px",marginLeft:"16px",float:"right"},value:this.state.filterValue,onChange:this.onFilterRecord}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,scroll:{x:m,y:600},rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:N.tableBorder})),n.default.createElement(C.default,{ref:"xls"}))}});e.exports=T},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=r(s),u=a(14),c=r(u),m=a(4),h=a(500),p=r(h),f=a(9),g=r(f),v=(a(1),m.DatePicker.MonthPicker),C=(m.DatePicker.RangePicker,m.Form.Item),b=a(6),y=l.default.createClass({displayName:"GroupMemberFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],GroupMember:{staffCode:"",perName:"",userLevel:"",projLevel:"",beginMonth:""}}},mixins:[(0,g.default)("GroupMember")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"225"},{id:"perName",desc:"姓名",required:!1,max:"64"},{id:"userLevel",desc:"人员级别",required:!1,max:"0"},{id:"projLevel",desc:"客户定级",required:!1,max:"0"}]},render:function(){if(!this.state.modal)return null;var e=c.default.selectedGroup.uuid,t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:7},wrapperCol:"vertical"==t?null:{span:17}};console.log(this.state.GroupMember.userLevel);var n=this.state.hints;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},l.default.createElement(m.Form,{layout:t,style:{width:"1000px",padding:"20px 0px"}},l.default.createElement(m.Row,{gutter:24},l.default.createElement(m.Col,{className:"gutter-row",span:6}),l.default.createElement(m.Col,{className:"gutter-row",span:6},l.default.createElement(C,i({},r,{label:"项目组",required:!1,colon:!0,className:a,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(p.default,{parentUuid:e,value:this.state.GroupMember.projUuid,name:"projName",id:"projName",placeholder:"选择 ( 项目组 )",style:{textAlign:"left",width:b.searchWidth},onSelect:this.handleOnSelected.bind(this,"projUuid")}))),l.default.createElement(m.Col,{className:"gutter-row",span:6},l.default.createElement(C,i({},r,{label:"客户定级",required:!1,colon:!0,className:a,help:n.projLevelHint,validateStatus:n.projLevelStatus}),l.default.createElement(m.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.GroupMember.projLevel,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{className:"gutter-row",span:6},l.default.createElement(C,i({},r,{label:"人员级别",required:!1,colon:!0,className:a,help:n.userLevelHint,validateStatus:n.userLevelStatus}),l.default.createElement(d.default,{name:"userLevel",id:"userLevel",value:this.state.GroupMember.userLevel,appName:"项目管理",optName:"人员级别",onSelect:this.handleOnSelected.bind(this,"userLevel")})))),l.default.createElement(m.Row,{gutter:24},l.default.createElement(m.Col,{className:"gutter-row",span:6}),l.default.createElement(m.Col,{className:"gutter-row",span:"6"},l.default.createElement(C,i({},r,{label:"入组月份",required:!1,colon:!0,className:a,help:n.date1Hint,validateStatus:n.date1Status}),l.default.createElement(v,{style:{width:"100%"},name:"beginMonth",id:"beginMonth",format:b.monthFormat,value:this.formatMonth(this.state.GroupMember.beginMonth,b.monthFormat),onChange:this.handleOnSelDate.bind(this,"beginMonth",b.monthFormat)}))),l.default.createElement(m.Col,{className:"gutter-row",span:6},l.default.createElement(C,i({},r,{label:"员工号",required:!1,colon:!0,className:a,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.GroupMember.staffCode,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{className:"gutter-row",span:6},l.default.createElement(C,i({},r,{label:"姓名",required:!1,colon:!0,className:a,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{type:"text",name:"perName",id:"perName",value:this.state.GroupMember.perName,onChange:this.handleOnChange})))))))}});e.exports=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(14),m=r(c),h=a(30),p=r(h),f=a(21),g=r(f),v=a(1389),C=r(v),b=a(500),y=r(b),S=a(1),E=(u.Input.Search,a(6)),w=(a(3),a(1391)),x=a(727),k=10,j=n.default.createClass({displayName:"GroupMemberPage",getInitialState:function(){return{GroupMemberSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,GroupMember:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[S.listenTo(w,"onServiceComplete"),(0,g.default)(),(0,p.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.grpUuid;if(this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.GroupMemberFilter;null!==a&&"undefined"!=typeof a&&(a.state.projDisp=this.state.filter)}}this.setState({loading:!1,GroupMemberSet:e})},componentDidMount:function(){this.setState({loading:!0}),this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.grpUuid=m.default.selectedGroup.uuid,x.retrieveGroupMemberPage(this.state.filter,this.state.GroupMemberSet.startPage,k)},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.grpUuid=m.default.selectedGroup.uuid,this.state.filter.more=this.state.moreFilter?"1":"0",x.retrieveGroupMemberPage(this.state.filter,this.state.GroupMemberSet.startPage,k)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.GroupMemberSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){k=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},handleOnSelectedGroup:function(e){this.state.filterValue=e,this.setState({loading:this.state.loading}),this.state.filter={};var t=this.state.filterValue;this.state.filter.projUuid=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.GroupMemberFilter.state.GroupMember;console.log(e),null!==e.beginMonth&&""!==e.beginMonth?(e.date1=e.beginMonth+"01",e.date2=e.beginMonth+"31"):(e.beginDate1="",e.beginDate2=""),this.state.filter=e,this.handleQueryClick()},onFilterRecord:function(e){filterValue=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"人员级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(a,r){return e.getLevelName(t,r.userLevel)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:140},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算单价",dataIndex:"userPrice",key:"userPrice",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return E.formatDate(e,E.dateFormat)}}],r=m.default.selectedGroup.uuid,i=this.state.GroupMemberSet.recordSet,l=this.state.moreFilter,o="query"===this.state.action?"":"none",s={showQuickJumper:!0,total:this.state.GroupMemberSet.totalRow,pageSize:this.state.GroupMemberSet.pageRow,current:this.state.GroupMemberSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},c=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:o}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/retrieve1"]}),n.default.createElement(C.default,{ref:"GroupMemberFilter",moreFilter:l}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:E.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),l?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(y.default,{parentUuid:r,name:"projName",id:"projName",placeholder:"选择 ( 项目组 )",style:{textAlign:"left",width:E.searchWidth},onSelect:this.handleOnSelectedGroup}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:i,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:s,size:"middle",bordered:E.tableBorder})));return n.default.createElement("div",{style:{width:"100%",height:"100%"}},c)}});e.exports=j},function(e,t,a){"use strict";var r=a(1),i=a(727),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveGroupMember:function(e){var t=this,a=this.getServiceUrl("proj-member/selectGroupMember");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveGroupMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveGroupMember(e)},onInitGroupMember:function(e,t,a){return this.recordSet.length>0&&n.compareTo(this.filter,e)&&this.startPage===t&&this.pageRow===a?void this.fireEvent("retrieve","",this):(this.startPage=t,this.pageRow=a,void this.onRetrieveProjInfo(e))}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(149),f=r(p),g=a(4),v=a(67),C=r(v),b=a(1),y=a(6),S=(g.DatePicker.MonthPicker,g.DatePicker.RangePicker,g.Form.Item),E=(g.Select.Option,g.Tabs.TabPane),w=a(14),x=a(270),k=a(224),j=l.default.createClass({displayName:"CreateProjPage",getInitialState:function(){return{projSet:{errMsg:""},loading:!1,modal:!1,user:{},proj:{},hints:{},validRules:[]}},mixins:[b.listenTo(x,"onServiceComplete"),(0,c.default)("proj")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"projCode",desc:"项目编号",required:!1,max:"64"},{id:"projName",desc:"项目名称",required:!0,max:"128"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"biziType",desc:"业务类型",required:!1,max:"32"},{id:"payType",desc:"结算类型",required:!1,max:"32"},{id:"induType",desc:"资源池内项目",required:!1,max:"32"},{id:"projType",desc:"项目类型",required:!1,max:"32"},{id:"delivArea",desc:"交付区域",required:!1,max:"64"},{id:"techArch",desc:"技术框架",required:!1,max:"512"},{id:"manMonth",desc:"预估人月",required:!1,max:"16"},{id:"projAmount",desc:"项目金额",required:!1,max:"16"},{id:"beginTime",desc:"上班时间",required:!1,max:"16",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式[hh:mm]错误"},{id:"endTime",desc:"下班时间",required:!1,max:"16",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式[hh:mm]错误"},{id:"projLoc",desc:"项目地址",required:!1,max:"128"},{id:"projStatus",desc:"项目状态",required:!1,max:"64"},{id:"endDate",desc:"结束日期",required:!1,max:"24"},{id:"pmName",desc:"项目经理姓名",required:!1,max:"32"},{id:"projStage",desc:"执行阶段",required:!1,max:"64"},{id:"projDesc",desc:"项目说明",required:!1,max:"3600"},{id:"manDemand",desc:"人员要求",required:!1,max:"3600"}],this.clear()},componentWillReceiveProps:function(e){},clear:function(e){this.state.hints={},this.state.proj.uuid="",this.state.proj.corpUuid=window.loginData.compUser.corpUuid,this.state.proj.parentUuid=w.selectedGroup.uuid,this.state.proj.custUuid="",this.state.proj.projCode="",this.state.proj.projName="",this.state.proj.beginDate="",this.state.proj.biziType="",this.state.proj.projStatus="运行",this.state.proj.payType="",this.state.proj.induType="0",this.state.proj.projType="",this.state.proj.delivArea="",this.state.proj.techArch="",this.state.proj.manMonth="",this.state.proj.projAmount="",this.state.proj.projLoc="",this.state.proj.endDate="",this.state.proj.pmName="",this.state.proj.projStage="",this.state.proj.projDesc="",this.state.proj.manDemand="",this.state.proj.beginTime="09:00",this.state.proj.endTime="18:00",this.setState({loading:!1}),this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectProj:function(e){this.state.proj.pmUuid=e.uuid,this.state.proj.pmCode=e.staffCode,this.state.proj.pmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){"1"!==this.state.proj.induType&&(this.state.proj.contUuid=""),y.formValidator(this,this.state.proj)&&(this.setState({loading:!0}),k.createProjInfo(this.state.proj))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.proj.projCode,s=window.loginData.compUser.corpUuid,u="1"!==this.state.proj.induType;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(g.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(E,{tab:"增加项目组",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_info/create"]}),l.default.createElement(g.Form,{layout:e,style:{width:"600px"}},l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"项目编号",required:!1,colon:!0,className:t,help:n.projCodeHint,validateStatus:n.projCodeStatus}),l.default.createElement(g.Input,{style:{zIndex:"2"},type:"text",name:"projCode",id:"projCode",value:this.state.proj.projCode,onChange:this.handleOnChange})))),l.default.createElement(S,i({},a,{label:"项目名称",required:!0,colon:!0,className:t,help:n.projNameHint,validateStatus:n.projNameStatus}),l.default.createElement(g.Input,{style:{zIndex:"2"},type:"text",name:"projName",id:"projName",value:this.state.proj.projName,onChange:this.handleOnChange})),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"4"}),l.default.createElement(g.Col,{span:"8"},l.default.createElement(S,i({},r,{label:"",required:!1,colon:!0,className:t,help:n.induTypeHint,validateStatus:n.induTypeStatus}),l.default.createElement(g.Checkbox,{name:"induType",id:"induType",checked:"1"===this.state.proj.induType,onChange:this.handleCheckBox},"资源池内部项目组"))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"资源池",required:!1,colon:!0,className:t,help:n.contUuidHint,validateStatus:n.contUuidStatus}),l.default.createElement(f.default,{ref:"poolBox",corpUuid:s,name:"contUuid",id:"contUuid",value:this.state.proj.contUuid,onSelect:this.handleOnSelected.bind(this,"contUuid"),disabled:u})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"业务类型",required:!1,colon:!0,className:t,help:n.biziTypeHint,validateStatus:n.biziTypeStatus}),l.default.createElement(h.default,{name:"biziType",id:"biziType",value:this.state.proj.biziType,appName:"项目管理",optName:"业务类型",onSelect:this.handleOnSelected.bind(this,"biziType")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"结算类型",required:!1,colon:!0,className:t,help:n.payTypeHint,validateStatus:n.payTypeStatus}),l.default.createElement(h.default,{name:"payType",id:"payType",value:this.state.proj.payType,appName:"项目管理",optName:"订单结算类型",onSelect:this.handleOnSelected.bind(this,"payType")})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"项目类型",required:!1,colon:!0,className:t,help:n.projTypeHint,validateStatus:n.projTypeStatus}),l.default.createElement(h.default,{name:"projType",id:"projType",value:this.state.proj.projType,appName:"项目管理",optName:"项目类型",onSelect:this.handleOnSelected.bind(this,"projType")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"项目地址",required:!1,colon:!0,className:t,help:n.projLocHint,validateStatus:n.projLocStatus}),l.default.createElement(g.Input,{type:"text",name:"projLoc",id:"projLoc",value:this.state.proj.projLoc,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"项目经理",required:!1,colon:!0,className:t,help:n.pmNameHint,validateStatus:n.pmNameStatus}),l.default.createElement(C.default,{corpUuid:s,showError:this.showError,ref:"empSearchBox",type:"text",name:"pmName",id:"pmName",value:this.state.proj.pmName,onSelectMember:this.onSelectProj}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"项目状态",required:!1,colon:!0,className:t,help:n.projStatusHint,validateStatus:n.projStatusStatus}),l.default.createElement(h.default,{name:"projStatus",id:"projStatus",value:this.state.proj.projStatus,appName:"项目管理",optName:"项目群状态",onSelect:this.handleOnSelected.bind(this,"projStatus")})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"上班时间",required:!1,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(g.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.proj.beginTime,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"下班时间",required:!1,colon:!0,className:t,help:n.endTimeHint,validateStatus:n.endTimeStatus}),l.default.createElement(g.Input,{type:"text",name:"endTime",id:"endTime",value:this.state.proj.endTime,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:y.dateFormat,value:this.formatDate(this.state.proj.beginDate,y.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",format:y.dateFormat,value:this.formatDate(this.state.proj.endDate,y.dateFormat),onChange:this.handleOnSelDate.bind(this,"endDate",y.dateFormat)})))),l.default.createElement(S,i({},a,{label:"项目说明",required:!1,colon:!0,className:t,help:n.projDescHint,validateStatus:n.projDescStatus}),l.default.createElement(g.Input,{type:"textarea",name:"projDesc",id:"projDesc",value:this.state.proj.projDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(S,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(149),f=r(p),g=a(4),v=a(67),C=r(v),b=a(1),y=a(6),S=a(3),E=(g.DatePicker.MonthPicker,g.DatePicker.RangePicker,g.Form.Item),w=(g.Select.Option,g.Tabs.TabPane),x=a(270),k=a(224),j=l.default.createClass({displayName:"UpdateProjPage",getInitialState:function(){return{projSet:{operation:"",errMsg:""},loading:!1,proj:{},hints:{},validRules:[]}},mixins:[b.listenTo(x,"onServiceComplete"),(0,c.default)("proj")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"projCode",desc:"项目编号",required:!1,max:"64"},{id:"projName",desc:"项目名称",required:!0,max:"128"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"biziType",desc:"业务类型",required:!1,max:"32"},{id:"payType",desc:"结算类型",required:!1,max:"32"},{id:"induType",desc:"资源池内项目",required:!1,max:"32"},{id:"projType",desc:"项目类型",required:!1,max:"32"},{id:"delivArea",desc:"交付区域",required:!1,max:"64"},{id:"projStatus",desc:"项目状态",required:!1,max:"64"},{id:"techArch",desc:"技术框架",required:!1,max:"512"},{id:"manMonth",desc:"预估人月",required:!1,max:"16"},{id:"projAmount",desc:"项目金额",required:!1,max:"16"},{id:"beginTime",desc:"上班时间",required:!1,max:"16",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式[hh:mm]错误"},{id:"endTime",desc:"下班时间",required:!1,max:"16",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式[hh:mm]错误"},{id:"projLoc",desc:"项目地址",required:!1,max:"128"},{id:"endDate",desc:"结束日期",required:!1,max:"24"},{id:"pmName",desc:"项目经理姓名",required:!1,max:"32"},{id:"projStage",desc:"执行阶段",required:!1,max:"64"},{id:"projDesc",desc:"项目说明",required:!1,max:"3600"},{id:"manDemand",desc:"人员要求",required:!1,max:"3600"}],this.initPage(this.props.proj)},componentWillReceiveProps:function(e){},initPage:function(e){S.copyValue(e,this.state.proj),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.pmName),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectProj:function(e){this.state.proj.pmUuid=e.uuid,this.state.proj.pmCode=e.staffCode,this.state.proj.pmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){"1"!==this.state.proj.induType&&(this.state.proj.contUuid=""),y.formValidator(this,this.state.proj)&&(this.state.projSet.operation="",this.setState({loading:!0}),k.updateProjInfo(this.state.proj))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=window.loginData.compUser.corpUuid,s="1"!==this.state.proj.induType;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(g.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(w,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(w,{tab:"修改项目组",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_info/update"]}),l.default.createElement(g.Form,{layout:e,style:{width:"600px"}},l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"项目编号",required:!1,colon:!0,className:t,help:n.projCodeHint,validateStatus:n.projCodeStatus}),l.default.createElement(g.Input,{style:{zIndex:"2"},type:"text",name:"projCode",id:"projCode",value:this.state.proj.projCode,onChange:this.handleOnChange})))),l.default.createElement(E,i({},a,{label:"项目名称",required:!0,colon:!0,className:t,help:n.projNameHint,validateStatus:n.projNameStatus}),l.default.createElement(g.Input,{style:{zIndex:"2"},type:"text",name:"projName",id:"projName",value:this.state.proj.projName,onChange:this.handleOnChange})),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"4"}),l.default.createElement(g.Col,{span:"8"},l.default.createElement(E,i({},r,{label:"",required:!1,colon:!0,className:t,help:n.induTypeHint,validateStatus:n.induTypeStatus}),l.default.createElement(g.Checkbox,{name:"induType",id:"induType",checked:"1"===this.state.proj.induType,onChange:this.handleCheckBox},"资源池内部项目组"))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"资源池",required:!1,colon:!0,className:t,help:n.contUuidHint,validateStatus:n.contUuidStatus}),l.default.createElement(f.default,{ref:"poolBox",corpUuid:o,name:"contUuid",id:"contUuid",value:this.state.proj.contUuid,onSelect:this.handleOnSelected.bind(this,"contUuid"),disabled:s})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"业务类型",required:!1,colon:!0,className:t,help:n.biziTypeHint,validateStatus:n.biziTypeStatus}),l.default.createElement(h.default,{name:"biziType",id:"biziType",value:this.state.proj.biziType,appName:"项目管理",optName:"业务类型",onSelect:this.handleOnSelected.bind(this,"biziType")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"结算类型",required:!1,colon:!0,className:t,help:n.payTypeHint,validateStatus:n.payTypeStatus}),l.default.createElement(h.default,{name:"payType",id:"payType",value:this.state.proj.payType,appName:"项目管理",optName:"订单结算类型",onSelect:this.handleOnSelected.bind(this,"payType")})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"项目类型",required:!1,colon:!0,className:t,help:n.projTypeHint,validateStatus:n.projTypeStatus}),l.default.createElement(h.default,{name:"projType",id:"projType",value:this.state.proj.projType,appName:"项目管理",optName:"项目类型",onSelect:this.handleOnSelected.bind(this,"projType")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"项目地址",required:!1,colon:!0,className:t,help:n.projLocHint,validateStatus:n.projLocStatus}),l.default.createElement(g.Input,{type:"text",name:"projLoc",id:"projLoc",value:this.state.proj.projLoc,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"项目经理",required:!1,colon:!0,className:t,help:n.pmNameHint,validateStatus:n.pmNameStatus}),l.default.createElement(C.default,{corpUuid:o,type:"text",ref:"empSearchBox",name:"pmName",id:"pmName",value:this.state.proj.pmName,onSelectMember:this.onSelectProj}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"项目状态",required:!1,colon:!0,className:t,help:n.projStatusHint,validateStatus:n.projStatusStatus}),l.default.createElement(h.default,{name:"projStatus",id:"projStatus",value:this.state.proj.projStatus,appName:"项目管理",optName:"项目群状态",onSelect:this.handleOnSelected.bind(this,"projStatus")})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"上班时间",required:!1,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(g.Input,{
type:"text",name:"beginTime",id:"beginTime",value:this.state.proj.beginTime,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"下班时间",required:!1,colon:!0,className:t,help:n.endTimeHint,validateStatus:n.endTimeStatus}),l.default.createElement(g.Input,{type:"text",name:"endTime",id:"endTime",value:this.state.proj.endTime,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:y.dateFormat,value:this.formatDate(this.state.proj.beginDate,y.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(g.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",format:y.dateFormat,value:this.formatDate(this.state.proj.endDate,y.dateFormat),onChange:this.handleOnSelDate.bind(this,"endDate",y.dateFormat)})))),l.default.createElement(E,i({},a,{label:"项目说明",required:!1,colon:!0,className:t,help:n.projDescHint,validateStatus:n.projDescStatus}),l.default.createElement(g.Input,{type:"textarea",name:"projDesc",id:"projDesc",value:this.state.proj.projDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(E,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1392),m=r(c),h=a(1393),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=a(3),b=a(270),y=a(224),S=a(14),E="",w=n.default.createClass({displayName:"ProjPage",getInitialState:function(){return{projSet:{recordSet:[],errMsg:""},action:"query",proj:null,loading:!1,sortedInfo:null}},mixins:[f.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={};e.status="1",e.corpUuid=window.loginData.compUser.corpUuid,e.parentUuid=S.selectedGroup.uuid,y.initProjInfo(e,0,0)},handleQueryClick:function(e){this.setState({loading:!0});var t={};t.status="1",t.corpUuid=window.loginData.compUser.corpUuid,t.parentUuid=S.selectedGroup.uuid,y.retrieveProjInfoPage(t,0,0)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的项目组 【"+e.projCode+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.projSet.operation="",y.deleteProjInfo(e.uuid)},handleAppClick:function(e){S.openGroupProjPage(e)},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){this.setState({proj:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},handleSortChange:function(e,t,a){console.log("sorter",a),this.setState({sortedInfo:a})},render:function(){var e=this,t=this.state.sortedInfo;t=t||{};var a=[{title:"项目编号",dataIndex:"projCode",key:"projCode",width:140,sorter:function(e,t){return e.projCode.localeCompare(t.projCode)},sortOrder:"projCode"===t.columnKey&&t.order},{title:"项目名称",dataIndex:"projName",key:"projName",width:140,sorter:function(e,t){return e.projName.localeCompare(t.projName)},sortOrder:"projName"===t.columnKey&&t.order},{title:"业务类型",dataIndex:"biziType",key:"biziType",width:140},{title:"项目类型",dataIndex:"projType",key:"projType",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)},sorter:function(e,t){return e.beginDate.localeCompare(t.beginDate)},sortOrder:"beginDate"===t.columnKey&&t.order},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"成员",dataIndex:"memberCount",key:"memberCount",width:90},{title:"项目经理",dataIndex:"pmName",key:"pmName",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目组"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目组"},n.default.createElement(u.Icon,{type:v.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.handleAppClick.bind(e,a),title:"项目详情"},n.default.createElement(u.Icon,{type:"bars"})))}}],r=v.filter(this.state.projSet.recordSet,E),i=(this.state.moreFilter,"query"===this.state.action?"":"none"),l=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_info/retrieve","proj_info/remove"]}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加项目组",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:E,onChange:this.onFilterRecord})))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:r,rowKey:function(e){return e.uuid},onChange:this.handleSortChange,loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder}))),o=null;if("create"===this.state.action)o=n.default.createElement(m.default,{onBack:this.onGoBack});else if("update"===this.state.action){var s={};C.copyValue(this.state.proj,s),o=n.default.createElement(p.default,{onBack:this.onGoBack,proj:s})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},l,o)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(25),p=r(h),f=a(1),g=a(6),v=m.Form.Item,C=(m.Select.Option,m.Tabs.TabPane),b=a(497),y=a(363),S=l.default.createClass({displayName:"CreatePoolPage",getInitialState:function(){return{poolSet:{operation:"",errMsg:""},loading:!1,modal:!1,pool:{},hints:{},validRules:[]}},mixins:[f.listenTo(b,"onServiceComplete"),(0,c.default)("pool")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():(this.setState({loading:!1,poolSet:e}),console.log(e)))},componentDidMount:function(){this.state.validRules=[{id:"pmName",desc:"负责人姓名",required:!1,max:"32"},{id:"poolName",desc:"资源池名称",required:!0,max:"64"},{id:"poolCode",desc:"资源池编号",required:!1,max:"64"},{id:"poolDesc",desc:"资源池说明",required:!1,max:"256"}],this.clear()},clear:function(e){this.state.hints={},this.state.pool.uuid="",this.state.pool.corpUuid=window.loginData.compUser.corpUuid,this.state.pool.deptUuid="",this.state.pool.pmName="",this.state.pool.poolName="",this.state.pool.poolCode="",this.state.pool.poolDesc="",this.state.loading=!1,this.state.poolSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectPool:function(e){this.state.pool.pmUuid=e.uuid,this.state.pool.pmCode=e.staffCode,this.state.pool.pmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){g.formValidator(this,this.state.pool)&&(this.state.poolSet.operation="",this.setState({loading:!0}),y.createResPool(this.state.pool))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,n=!this.state.pool.pmName,o=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(C,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(C,{tab:"增加资源池",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-pool/create"]}),l.default.createElement(m.Form,{layout:e,style:{width:"450px"}},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"24"},l.default.createElement(v,i({},a,{label:"编号",required:!1,colon:!0,className:t,help:r.poolCodeHint,validateStatus:r.poolCodeStatus}),l.default.createElement(m.Input,{type:"text",name:"poolCode",id:"poolCode",value:this.state.pool.poolCode,onChange:this.handleOnChange})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"24"},l.default.createElement(v,i({},a,{label:"负责人",required:!1,colon:!0,className:t,help:r.pmNameHint,validateStatus:r.pmNameStatus}),l.default.createElement(p.default,{corpUuid:o,showError:this.showError,ref:"empSearchBox",type:"text",name:"pmName",id:"pmName",value:this.state.pool.pmName,onSelectEmpLoyee:this.onSelectPool})))),l.default.createElement(v,i({},a,{label:"名称",required:!0,colon:!0,className:t,help:r.poolNameHint,validateStatus:r.poolNameStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"poolName",id:"poolName",value:this.state.pool.poolName,onChange:this.handleOnChange})),l.default.createElement(v,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:r.poolDescHint,validateStatus:r.poolDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"poolDesc",id:"poolDesc",value:this.state.pool.poolDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(v,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:n,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(25),p=r(h),f=a(1),g=a(6),v=a(3),C=m.Form.Item,b=(m.Select.Option,m.Tabs.TabPane),y=a(497),S=a(363),E=l.default.createClass({displayName:"UpdatePoolPage",getInitialState:function(){return{poolSet:{operation:"",errMsg:""},loading:!1,modal:!1,pool:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("pool")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,poolSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"pmName",desc:"负责人姓名",required:!1,max:"32"},{id:"poolName",desc:"资源池名称",required:!0,max:"64"},{id:"poolCode",desc:"资源池编号",required:!1,max:"64"},{id:"poolDesc",desc:"资源池说明",required:!1,max:"256"}],this.initPage(this.props.pool)},initPage:function(e){v.copyValue(e,this.state.pool),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.pmName),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectPool:function(e){this.state.pool.pmUuid=e.uuid,this.state.pool.pmCode=e.staffCode,this.state.pool.pmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){g.formValidator(this,this.state.pool)&&(this.state.poolSet.operation="",this.setState({loading:!0}),S.updateResPool(this.state.pool))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,n=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"修改资源池",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-pool/update"]}),l.default.createElement(m.Form,{layout:e,style:{width:"450px"}},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"24"},l.default.createElement(C,i({},a,{label:"编号",required:!1,colon:!0,className:t,help:r.poolCodeHint,validateStatus:r.poolCodeStatus}),l.default.createElement(m.Input,{type:"text",name:"poolCode",id:"poolCode",value:this.state.pool.poolCode,onChange:this.handleOnChange})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"24"},l.default.createElement(C,i({},a,{label:"负责人",required:!1,colon:!0,className:t,help:r.pmNameHint,validateStatus:r.pmNameStatus}),l.default.createElement(p.default,{corpUuid:n,showError:this.showError,ref:"empSearchBox",type:"text",name:"pmName",id:"pmName",value:this.state.pool.pmName,onSelectEmpLoyee:this.onSelectPool})))),l.default.createElement(C,i({},a,{label:"名称",required:!0,colon:!0,className:t,help:r.poolNameHint,validateStatus:r.poolNameStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"poolName",id:"poolName",value:this.state.pool.poolName,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:r.poolDescHint,validateStatus:r.poolDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"poolDesc",id:"poolDesc",value:this.state.pool.poolDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=(a(13),a(4)),c=a(1395),m=r(c),h=a(1396),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=a(3),b=a(497),y=a(363),S=a(14),E="",w=n.default.createClass({displayName:"PoolPage",getInitialState:function(){return{poolSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1}},mixins:[f.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,poolSet:e})},handleQueryClick:function(e){var t=window.loginData.compUser.corpUuid;this.setState({loading:!0}),this.state.poolSet.operation="",console.log(this.state.poolSet),y.retrieveResPool(t)},componentDidMount:function(){var e=window.loginData.compUser.corpUuid;this.setState({loading:!0}),y.initResPool(e)},handleCorpClick:function(e){S.openGroupResPage(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的资源池 【"+e.poolName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.poolSet.operation="",y.deleteResPool(e.uuid)},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){this.setState({pool:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=v.filter(this.state.poolSet.recordSet,E),a=t.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"}},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.poolName)),n.default.createElement("div",{className:"ant-card-extra"},n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,t),title:"修改"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,t),title:"删除"},n.default.createElement(u.Icon,{type:v.iconRemove}))),n.default.createElement("div",{className:"ant-card-body",onClick:e.handleCorpClick.bind(e,t),title:"点击进入公司维护页面",style:{cursor:"pointer",height:"66px",overflow:"hidden"}},n.default.createElement("p",null,n.default.createElement("span",null,t.poolDesc),n.default.createElement(u.Icon,{type:"team",title:"小组数量",style:{marginLeft:"10px"}})," ",t.childCount?t.childCount:0,n.default.createElement("span",{style:{padding:"0 8px"}},"|"),n.default.createElement(u.Icon,{type:"user",title:"成员数量"})," ",t.memberCount?t.memberCount:0))))}),r=v.getGridMargin(this),i="query"===this.state.action?"":"none",l=n.default.createElement("div",{className:"card-page",style:{padding:r.padding,display:i}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["res-pool/retrieve","res-pool/remove"]}),n.default.createElement("div",{className:"toolbar-card"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement("div",{style:{paddingTop:"16px",paddingRight:"4px",display:"inline"}},t.length,"个资源池"),n.default.createElement(u.Icon,{type:"plus-circle-o",onClick:this.handleCreate,title:"增加资源池",className:"toolbar-icon",style:{color:"#108ee9"}}),n.default.createElement(u.Icon,{type:"reload",onClick:this.handleQueryClick,title:"刷新数据",className:"toolbar-icon",style:{paddingLeft:"8px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:E,onChange:this.onFilterRecord})))),this.state.loading?n.default.createElement(u.Spin,{tip:"正在努力加载数据...",style:{minHeight:"200px"}},a):n.default.createElement("div",{className:"card-body"},a)),o=null;if("create"===this.state.action)o=n.default.createElement(m.default,{onBack:this.onGoBack});else if("update"===this.state.action){var s={};C.copyValue(this.state.pool,s),o=n.default.createElement(p.default,{onBack:this.onGoBack,pool:s})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},l,o)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(12),u=r(d),c=a(7),m=r(c),h=a(9),p=r(h),f=a(734),g=r(f),v=a(1),C=s.Form.Item,b=(s.Select.Option,s.Tabs.TabPane),y=a(6),S=(a(3),a(228)),E=a(196),w=(a(14),l.default.createClass({displayName:"CreateProjTaskPage",getInitialState:function(){return{projTaskSet:{},loading:!1,projTask:{},hints:{},validRules:[],user:{}}},mixins:[v.listenTo(S,"onServiceComplete"),(0,p.default)("projTask")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projTaskSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"ordCode",desc:"订单编号"},{id:"ordName",desc:"订单名称"},{id:"itemCode",desc:"任务编号"},{id:"itemName",desc:"任务名称"},{id:"beginDate",desc:"开始日期"},{id:"endDate",desc:"结束日期"},{id:"tastStatus",desc:"状态",required:!0}],this.clear()},clear:function(){this.state.hints={},this.state.projTask.uuid="",this.state.projTask.projUuid=this.props.projUuid,this.state.projTask.corpUuid=window.loginData.compUser.corpUuid,this.state.projTask.ordCode="",this.state.projTask.ordName="",this.state.projTask.itemCode="",this.state.projTask.itemName="",this.state.projTask.beginDate="",this.state.projTask.endDate="",this.state.projTask.tastStatus="有效任务",this.state.loading=!1,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.projTask)&&(this.setState({loading:!0}),E.createProjTask(this.state.projTask))},onSelectProjTask:function(e){this.state.projTask.ordUuid=e.uuid,this.state.projTask.ordCode=e.ordCode,this.state.projTask.ordName=e.ordName,this.state.projTask.itemUuid=e.itemUuid,this.state.projTask.itemCode=e.itemCode,this.state.projTask.itemName=e.itemName,this.setState({user:e})},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=this.props.parentUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"增加任务",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(m.default,{ref:"mxgBox",svcList:["proj_task/create"]}),l.default.createElement(s.Form,{layout:e,style:{width:"600px"}},l.default.createElement(s.Row,null,l.default.createElement(C,i({},a,{className:t,label:"任务查询",colon:!0,help:n.ordCodeHint,validateStatus:n.ordCodeStatus}),l.default.createElement(g.default,{grpUuid:o,showError:this.showError,onSelectProjTask:this.onSelectProjTask}))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"订单编号",colon:!0,help:n.ordCodeHint,validateStatus:n.ordCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"ordCode",id:"ordCode",value:this.state.projTask.ordCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"订单名称",colon:!0,help:n.ordNameHint,validateStatus:n.ordNameStatus}),l.default.createElement(s.Input,{type:"text",name:"ordName",id:"ordName",value:this.state.projTask.ordName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"任务编号",colon:!0,help:n.itemCodeHint,validateStatus:n.itemCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"itemCode",id:"itemCode",value:this.state.projTask.itemCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"任务名称",colon:!0,help:n.itemNameHint,validateStatus:n.itemNameStatus}),l.default.createElement(s.Input,{type:"text",name:"itemName",id:"itemName",value:this.state.projTask.itemName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"状态",required:!0,colon:!0,help:n.tastStatusHint,validateStatus:n.tastStatusStatus}),l.default.createElement(u.default,{name:"tastStatus",id:"tastStatus",appName:"项目管理",optName:"项目任务状态",value:this.state.projTask.tastStatus,onSelect:this.handleOnSelected.bind(this,"tastStatus")})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"开始日期",colon:!0,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(s.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projTask.beginDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"结束日期",colon:!0,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(s.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.projTask.endDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",y.dateFormat)})))),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}}));t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(8),d=(r(s),a(5)),u=(r(d),a(4)),c=a(1),m=(a(3),a(6),a(78)),h=a(270),p=a(224),f=a(14),g=o.default.createClass({displayName:"ProjTaskDispLeftPage",getInitialState:function(){return{ProjGrpSet:{recordSet:[],operation:"",errMsg:""},loading:!1,selectedTable:null}},mixins:[c.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,ProjGrpSet:e})},componentDidMount:function(){this.state.ProjGrpSet.operation="",this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.parentUuid=f.selectedGroup.uuid,p.retrieveProjInfoPage(e)},onRowClick:function(e,t){this.props.onSelectProjGrp(e)},handleTableClick:function(e){null!=e?(this.state.selectedTable=e,this.props.onSelectTable(e)):this.state.selectedTable=null},render:function(){var e=this.state.ProjGrpSet.recordSet,t=i(this.props,[]);return e.map(function(e,t){e.listText=e.projCode+"("+e.projName+")"}),o.default.createElement("div",{style:{paddingTop:"10px"}},this.state.loading?o.default.createElement(u.Spin,{tip:"正在努力加载数据..."},o.default.createElement(m,n({dataSource:e,style:{width:"192px"},rowText:"listText",activeNode:this.state.selectedRowUuid,onClick:this.onRowClick},t))):o.default.createElement(m,n({dataSource:e,style:{width:"192px"},rowText:"listText",activeNode:this.state.selectedRowUuid,onClick:this.onRowClick},t)))}});e.exports=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1398),m=r(c),h=a(766),p=r(h),f=a(1),g=s.Input.Search,v=a(6),C=a(3),b=a(228),y=a(196),S=(a(14),10),E="",w=n.default.createClass({displayName:"ProjTaskPage",getInitialState:function(){return{projTaskSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,errMsg:""},loading:!1,action:"query",projTask:null,parentUuid:"",projUuid:""}},mixins:[f.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projTaskSet:e})},componentDidMount:function(){},componentWillReceiveProps:function(e){if(""!==e.ProjGrpUuid){var t=e.ProjGrpUuid,a=e.parentUuid;this.setState({loading:!0,projUuid:t,parentUuid:a});var r={};r.projUuid=t,y.retrieveProjTaskPage(r,this.state.projTaskSet.startPage,S)}},init:function(){this.setState({loading:!0});var e={};e.projUuid=this.state.projUuid,y.retrieveProjTaskPage(e,this.state.projTaskSet.startPage,S)},handleQueryClick:function(){this.setState({loading:!0});var e={};e.projUuid=this.state.projUuid,y.retrieveProjTaskPage(e,this.state.projTaskSet.startPage,S)},onChangePage:function(e){this.state.projTaskSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){S=t,this.handleQueryClick()},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},handleOpenCreateWindow:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){null!=e&&this.setState({projTask:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的项目组订单表 【"+e.ordName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.deleteProjTask(e.uuid)},render:function(){var e=this,t=v.filter(this.state.projTaskSet.recordSet,E),a=[{title:"订单编号",dataIndex:"ordCode",key:"ordCode",width:140},{title:"订单名称",dataIndex:"ordName",key:"ordName",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"状态",dataIndex:"tastStatus",key:"tastStatus",width:140,render:function(t,a){return C.getOptionName("项目管理","项目任务状态",t,!1,e)}},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目组订单表"},n.default.createElement(s.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目组订单表"},n.default.createElement(s.Icon,{type:v.iconRemove})))}}],r=v.getGridMargin(this),i={showQuickJumper:!0,total:this.state.projTaskSet.totalRow,pageSize:this.state.projTaskSet.pageRow,current:this.state.projTaskSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},l=""!==this.state.projUuid,o="query"===this.state.action?"":"none",d=n.default.createElement("div",{className:"grid-page",style:{padding:r.padding,display:o}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj_task/retrieve","proj_task/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:v.iconAdd,disabled:!l,type:"primary",title:"增加项目组订单表",onClick:this.handleOpenCreateWindow}),n.default.createElement(s.Button,{icon:v.iconRefresh,disabled:!l,title:"刷新数据",onClick:this.init,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:E,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,
pagination:i,size:"middle",bordered:v.tableBorder}))),c=null;return"create"===this.state.action?c=n.default.createElement(m.default,{onBack:this.onGoBack,projUuid:this.state.projUuid,parentUuid:this.state.parentUuid}):"update"===this.state.action&&(c=n.default.createElement(p.default,{onBack:this.onGoBack,projTask:this.state.projTask})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},d,c)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=(r(s),a(4)),u=a(1399),c=r(u),m=a(1400),h=r(m),p=a(1),f=(d.Checkbox.Group,a(6)),g=(a(3),a(1402)),v=(a(729),n.default.createClass({displayName:"ProjTaskDispPage",getInitialState:function(){return{loading:!1,disabled:!1,parentUuid:"",ProjGrpUuid:""}},mixins:[p.listenTo(g)],componentDidMount:function(){},onSelectProjGrp:function(e){var t={};if(t.corpUuid=window.loginData.compUser.corpUuid,e){var a=e.parentUuid,r=e.uuid;this.setState({loading:!0,ProjGrpUuid:r,parentUuid:a}),this.refs.ProjTask.onGoBack()}},render:function(){f.getGridMargin(this,0);return n.default.createElement("div",{className:"grid-page",style:{padding:"10px"}},n.default.createElement("div",{style:{display:"flex",height:"100%"}},n.default.createElement("div",{style:{height:"100%",float:"left",width:"200px",borderRight:"1px solid #e2e2e2"}},n.default.createElement(c.default,{onSelectProjGrp:this.onSelectProjGrp})),n.default.createElement("div",{style:{width:"100%",paddingRight:"8px",paddingTop:"10px"}},n.default.createElement(h.default,{ref:"ProjTask",ProjGrpUuid:this.state.ProjGrpUuid,parentUuid:this.state.parentUuid}))))}}));e.exports=v},function(e,t,a){"use strict";var r=a(1),i=a(729),n=(a(3),a(11),r.createStore({listenables:[i],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){}}));e.exports=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(736),c=r(u),m=a(1),h=d.Input.Search,p=a(6),f=a(3),g=a(510),v=a(365),C={children:o.default.PropTypes.node,grpUuid:o.default.PropTypes.string,projUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectMember:o.default.PropTypes.func},b=o.default.createClass({displayName:"SearchGroupMember",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{projMemberSet:{recordSet:[],errMsg:""},filterValue:e,hint:"",grpUuid:this.props.grpUuid,projUuid:this.props.projUuid,showError:this.props.showError,onSelectMember:this.props.onSelectMember,loading:!1}},mixins:[m.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectProjMemberPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有在项目群中找到人员":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectMember(e.recordSet[0]):a>1&&(this.refs.SelectProjMemberPage.clear(e,"group"),this.refs.SelectProjMemberPage.toggle());this.setState({loading:!1,projMemberSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.manStatus="入组",t.grpUuid=this.state.grpUuid,t.projUuid=this.state.projUuid,p.isIncNumber(e)?t.staffCode=e:t.perName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveGroupMemberPage(t,1,10)},render:function(){var e=this.props,t=(e.grpUuid,e.projUuid,e.showError,e.onSelectMember,e.style),a=(e.value,i(e,["grpUuid","projUuid","showError","onSelectMember","style","value"])),r={},l=t;""!==this.state.hint&&(l={},f.copyValue(t,r),f.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"查询",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"查询",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectProjMemberPage",onSelectMember:this.state.onSelectMember}))}});b.propTypes=C,e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1409),c=r(u),m=a(1),h=d.Input.Search,p=a(6),f=a(3),g=a(742),v=a(505),C={children:o.default.PropTypes.node,projUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectDisp:o.default.PropTypes.func},b=o.default.createClass({displayName:"SearchProjDisp",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{projDispSet:{recordSet:[],operation:"",errMsg:""},filterValue:e,hint:"",projUuid:this.props.projUuid,showError:this.props.showError,onSelectDisp:this.props.onSelectDisp,loading:!1}},mixins:[m.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectProjDispPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到调度人员":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectDisp(e.recordSet[0]):a>1&&(this.refs.SelectProjDispPage.clear(e),this.refs.SelectProjDispPage.toggle());this.setState({loading:!1,projDispSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.projUuid=this.state.projUuid,t.corpUuid=this.state.corpUuid,p.isIncNumber(e)?t.staffCode=e:t.perName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveProjDispPage(t,1,10)},render:function(){var e=this.props,t=(e.projUuid,e.showError,e.onSelectDisp,e.style),a=(e.value,i(e,["projUuid","showError","onSelectDisp","style","value"])),r={},l=t;""!==this.state.hint&&(l={},f.copyValue(t,r),f.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"(姓名/员工编号查询)",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectProjDispPage",onSelectDisp:this.state.onSelectDisp}))}});b.propTypes=C,e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(1413),c=r(u),m=a(1),h=d.Input.Search,p=a(6),f=a(3),g=a(745),v=a(508),C={children:o.default.PropTypes.node,projUuid:o.default.PropTypes.string,render:o.default.PropTypes.func,showError:o.default.PropTypes.func,onSelectMember:o.default.PropTypes.func},b=o.default.createClass({displayName:"SearchTempProjMember",getInitialState:function(){var e=this.props.value;return void 0===e&&(e=""),{projMemberSet:{recordSet:[],errMsg:""},filterValue:e,hint:"",projUuid:this.props.projUuid,showError:this.props.showError,onSelectMember:this.props.onSelectMember,loading:!1}},mixins:[m.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){var t=this.refs.SelectTempProjMemberPage;if(!t.state.modal){var a=e.recordSet.length;if(0===a){var r=""===e.errMsg?"没有找到临时项目组人员":e.errMsg;this.state.hint=r,void 0!==this.state.showError&&this.state.showError(r)}else 1===a?this.state.onSelectMember(e.recordSet[0]):a>1&&(this.refs.SelectTempProjMemberPage.clear(e,"proj"),this.refs.SelectTempProjMemberPage.toggle());this.setState({loading:!1,projMemberSet:e})}},componentDidMount:function(){},setValue:function(e){this.setState({filterValue:e})},handleOnChange:function(e){this.setState({filterValue:e.target.value})},handleClick:function(e,t,a){null!==this.state.onClick&&"undefined"!=typeof this.state.onClick&&(this.setState({current:t}),this.state.onClick(e))},onSearch:function(e){var t={};t.manStatus="入组",t.projUuid=this.state.projUuid,p.isIncNumber(e)?t.staffCode=e:t.perName=e,this.setState({filterValue:e,loading:!0,hint:""}),v.retrieveTempProjMemberPage(t,1,10)},render:function(){var e=this.props,t=(e.projUuid,e.showError,e.onSelectMember,e.style),a=(e.value,i(e,["projUuid","showError","onSelectMember","style","value"])),r={},l=t;""!==this.state.hint&&(l={},f.copyValue(t,r),f.copyValue(t,l),r.paddingTop="4px",l.paddingBottom="0");var s=null;return s=this.state.loading?o.default.createElement("div",{style:{display:"-webkit-box"}},o.default.createElement("div",{style:{height:"100%",overflowX:"hidden"}},o.default.createElement(h,n({placeholder:"查询",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch}))),o.default.createElement("div",{style:{flex:"0 0 40px",width:"40px"}},o.default.createElement(d.Spin,{style:{width:"100%",height:"100%"}}))):o.default.createElement(h,n({placeholder:"查询",value:this.state.filterValue,style:l},a,{onChange:this.handleOnChange,onSearch:this.onSearch})),o.default.createElement("div",null,s,""===this.state.hint?null:o.default.createElement("div",{style:r,className:"ant-form-explain"},o.default.createElement("span",{className:"errorHint"},this.state.hint)),o.default.createElement(c.default,{ref:"SelectTempProjMemberPage",onSelectMember:this.state.onSelectMember}))}});b.propTypes=C,e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(7),o=r(l),s=a(4),d=a(1),u=a(6),c=a(739),m=a(502),h=n.default.createClass({displayName:"SelectContract",getInitialState:function(){return{contractSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,SelectContract:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,contractSet:e,selectIndex:-1,SelectContract:{}})},componentDidMount:function(){},clear:function(e){this.state.contractSet=e,this.state.selectIndex=-1,this.state.SelectContract={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectContract(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.contractSet.startPage=e;var t=this.state.contractSet.filter;m.retrieveContEventPage(t,e,this.state.contractSet.pageRow)},render:function(){var e=[{title:"合同编号",dataIndex:"contCode",key:"contCode",width:140},{title:"合同名称",dataIndex:"contName",key:"contName",width:140},{title:"合同类型",dataIndex:"contType",key:"contType",width:140},{title:"销售姓名",dataIndex:"salName",key:"salName",width:140}],t=this.state.contractSet.recordSet,a={showQuickJumper:!0,total:this.state.contractSet.totalRow,pageSize:this.state.contractSet.pageRow,current:this.state.contractSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择合同事件",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(o.default,{ref:"mxgBox",svcList:["proj_contract/retrieve"]}),n.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=h},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(7),o=r(l),s=a(4),d=a(1),u=a(6),c=a(740),m=a(503),h=10,p=n.default.createClass({displayName:"SelectCust",getInitialState:function(){return{custSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,SelectCust:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,custSet:e,selectIndex:-1,SelectCust:{}})},componentDidMount:function(){},clear:function(e){this.state.custSet=e,this.state.selectIndex=-1,this.state.SelectCust={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectCust(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.custSet.startPage=e;var t=this.state.custSet.filter;m.retrieveProjCustPage(t,e,h)},render:function(){var e=[{title:"客户编号",dataIndex:"custCode",key:"custCode",width:140},{title:"客户名称",dataIndex:"custName",key:"custName",width:140},{title:"销售区域",dataIndex:"marketArea",key:"marketArea",width:140},{title:"交付区域",dataIndex:"delivArea",key:"delivArea",width:140},{title:"客户经理",dataIndex:"custManager",key:"custManager",width:140}],t=this.state.custSet.recordSet,a={showQuickJumper:!0,total:this.state.custSet.totalRow,pageSize:this.state.custSet.pageRow,current:this.state.custSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择公司",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(o.default,{ref:"mxgBox",svcList:["proj-cust/retrieve"]}),n.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(7),o=r(l),s=a(4),d=a(1),u=a(6),c=a(741),m=a(504),h=n.default.createClass({displayName:"SelectOutStaff",getInitialState:function(){return{outStaffSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectOutStaff:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,outStaffSet:e,selectIndex:-1,selectOutStaff:{}})},componentDidMount:function(){},clear:function(e){this.state.outStaffSet=e,this.state.selectIndex=-1,this.state.selectOutStaff={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectStaff(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.outStaffSet.startPage=e;var t=this.state.outStaffSet.filter;m.retrieveOutStaffPage(t,e,this.state.outStaffSet.pageRow)},render:function(){var e=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"公司名称",dataIndex:"corpName",key:"corpName",width:140},{title:"最高学历",dataIndex:"eduDegree",key:"eduDegree",width:140}],t=this.state.outStaffSet.recordSet,a={showQuickJumper:!0,total:this.state.outStaffSet.totalRow,pageSize:this.state.outStaffSet.pageRow,current:this.state.outStaffSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择外协人员",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(o.default,{ref:"mxgBox",svcList:["hr-outStaff/retrieve"]}),n.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=h},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(7),o=r(l),s=a(4),d=a(1),u=a(6),c=a(742),m=a(505),h=n.default.createClass({displayName:"SelectProjDisp",getInitialState:function(){return{projDispSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,SelectProjDisp:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projDispSet:e,selectIndex:-1,SelectProjDisp:{}})},componentDidMount:function(){},clear:function(e){this.state.projDispSet=e,this.state.selectIndex=-1,this.state.SelectProjDisp={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectDisp(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.projDispSet.startPage=e;var t=this.state.projDispSet.filter;m.retrieveProjDispPage(t,e,this.state.projDispSet.pageRow)},render:function(){var e=[{title:"调度人编号",dataIndex:"dispCode",key:"dispCode",width:140},{title:"调度人",dataIndex:"dispatcher",key:"dispatcher",width:140}],t=this.state.projDispSet.recordSet,a={showQuickJumper:!0,total:this.state.projDispSet.totalRow,pageSize:this.state.projDispSet.pageRow,current:this.state.projDispSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择调度人员",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(o.default,{ref:"mxgBox",svcList:["hr-projMember/retrieve"]}),n.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=h},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(7),o=r(l),s=a(4),d=a(1),u=a(6),c=a(509),m=a(364),h=n.default.createClass({displayName:"SelectProjGroup",getInitialState:function(){return{projGroupSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectProjGroup:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projGroupSet:e,selectIndex:-1,selectProjGroup:{}})},componentDidMount:function(){},clear:function(e){this.state.projGroupSet=e,this.state.selectIndex=-1,this.state.selectProjGroup={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectGroup(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.projGroupSet.startPage=e;var t=this.state.projGroupSet.filter;m.retrieveProjGroupPage(t,e,this.state.projGroupSet.pageRow)},render:function(){var e=[{title:"编号",dataIndex:"grpCode",key:"grpCode",width:140},{title:"业务集群",dataIndex:"deptCode",key:"deptCode",width:140},{title:"项目群",dataIndex:"grpName",key:"grpName",width:140},{title:"客户",dataIndex:"custName",key:"custName",width:140}],t=this.state.projGroupSet.recordSet,a={showQuickJumper:!0,total:this.state.projGroupSet.totalRow,pageSize:this.state.projGroupSet.pageRow,current:this.state.projGroupSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择项目群",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(o.default,{ref:"mxgBox",svcList:["proj_group/retrieve"]}),n.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=h},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(7),o=r(l),s=a(4),d=a(1),u=a(6),c=a(743),m=a(506),h=n.default.createClass({displayName:"SelectProjTask",getInitialState:function(){return{ProjTaskSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectProjTask:{},modal:!1}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,ProjTaskSet:e,selectIndex:-1,selectProjTask:{}})},componentDidMount:function(){},clear:function(e){this.state.ProjTaskSet=e,this.state.selectIndex=-1,this.state.selectProjTask={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectProjTask(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.ProjTaskSet.startPage=e;var t=this.state.ProjTaskSet.filter;m.retrieveProjTaskPage(t,e,this.state.ProjTaskSet.pageRow)},render:function(){var e=[{title:"订单编号",dataIndex:"ordCode",key:"ordCode",width:140},{title:"订单名称",dataIndex:"ordName",key:"ordName",width:100},{title:"任务编号",dataIndex:"itemCode",key:"itemCode",width:140},{title:"任务名称",dataIndex:"itemName",key:"itemName",width:240}],t=this.state.ProjTaskSet.recordSet,a={showQuickJumper:!0,total:this.state.ProjTaskSet.totalRow,pageSize:this.state.ProjTaskSet.pageRow,current:this.state.ProjTaskSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(s.Modal,{visible:this.state.modal,width:"760px",title:"选择订单任务",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(o.default,{ref:"mxgBox",svcList:["proj-order/retrieve"]}),n.default.createElement(s.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=h},,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(4),o=a(7),s=r(o),d=a(1),u=a(6),c=a(745),m=a(508),h=n.default.createClass({displayName:"SelectTempProjMember",getInitialState:function(){return{projMemberSet:{filter:{},recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,selectIndex:-1,selectProjMember:{},modal:!1,queryType:""}},mixins:[d.listenTo(c,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projMemberSet:e,selectIndex:-1,selectProjMember:{}})},componentDidMount:function(){},clear:function(e,t){this.state.queryType=t,this.state.projMemberSet=e,this.state.selectIndex=-1,this.state.selectProjMember={}},toggle:function(){this.setState({modal:!this.state.modal})},onSelect:function(e,t){this.props.onSelectMember(e),this.toggle()},onChangePage:function(e){this.setState({loading:!0}),this.state.projMemberSet.startPage=e;var t=this.state.projMemberSet.filter;"group"===this.state.queryType?m.retrieveTempGroupMemberPage(t,e,this.state.projMemberSet.pageRow):m.retrieveTempProjMemberPage(t,e,this.state.projMemberSet.pageRow)},render:function(){var e=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:100},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return u.formatDate(e,u.dateFormat)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:140}],t=this.state.projMemberSet.recordSet,a={showQuickJumper:!0,total:this.state.projMemberSet.totalRow,pageSize:this.state.projMemberSet.pageRow,current:this.state.projMemberSet.startPage,size:"large",onChange:this.onChangePage};return n.default.createElement(l.Modal,{visible:this.state.modal,width:"760px",title:"选择项目组人员",maskClosable:!0,onOk:this.onClickSave,onCancel:this.toggle,footer:null},n.default.createElement("div",{style:{padding:"0 8px 0 8px"}},n.default.createElement(s.default,{ref:"mxgBox",svcList:["hr-projMember/retrieve"]}),n.default.createElement(l.Table,{columns:e,onRowClick:this.onSelect,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:a,size:"middle",bordered:u.tableBorder})))}});t.default=h},function(e,t,a){"use strict";var r=a(1),i=a(737),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({recordSet:a.recordSet,filter:a.filter,operation:e,errMsg:t}),l.showError("proj",e,t)},onRetrieveProj:function(e){if(!e.corpUuid&&!e.parentUuid)return e={},recordSet=[],void t.fireEvent("retrieve","",t);var t=this,a=this.getServiceUrl("proj_info/retrieve");n.doRetrieveService(a,e,0,0,0).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProj:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProj(e)}});e.exports=o},,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=a(14),d={children:n.default.PropTypes.node},u=n.default.createClass({displayName:"BiziInnPageIndex",getInitialState:function(){return{navItems:[{name:"管理人员",to:"/proj/bizi2/BiziRolePage/"},{name:"项目成员",to:"/proj/bizi2/BiziMemberPage/"},{name:"返回",to:s.goBackUrl,icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/bizi2/BiziMemberPage/",children:this.props.children})}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=a(14),d={children:n.default.PropTypes.node},u=n.default.createClass({displayName:"ChkBiziPageIndex",getInitialState:function(){return{navItems:[{name:"组员考勤",to:"/proj/bizi2/UserCheckPage/"},{name:"考勤查询",to:"/proj/bizi2/CheckQueryPage/"},{name:"返回",to:s.goBackUrl,icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/bizi2/UserCheckPage/",children:this.props.children})}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=a(14),d={children:n.default.PropTypes.node},u=n.default.createClass({displayName:"ChkPgPageIndex",getInitialState:function(){return{navItems:[{name:"项目群考勤",to:"/proj/group/GroupCheckPage/"},{name:"临时组员考勤",to:"/proj/group/TempCheckPage/"},{name:"考勤查询",to:"/proj/group/CheckQueryPage/"},{name:"返回",to:s.goBackUrl,icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/group/GroupCheckPage/",children:this.props.children})}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=a(14),d={children:n.default.PropTypes.node},u=n.default.createClass({displayName:"ChkProjPageIndex",getInitialState:function(){return{navItems:[{name:"项目组员考勤",to:"/proj/proj2/UserCheckPage/"},{name:"临时组员考勤",to:"/proj/proj2/TempCheckPage/"},{name:"考勤查询",to:"/proj/proj2/CheckQueryPage/"},{name:"返回",to:s.goBackUrl,icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/proj2/UserCheckPage/",children:this.props.children})}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=a(14),d={children:n.default.PropTypes.node},u=n.default.createClass({displayName:"ChkResPageIndex",getInitialState:function(){return{navItems:[{name:"组员考勤",to:"/proj/res2/UserCheckPage/"},{name:"考勤查询",to:"/proj/res2/CheckQueryPage/"},{name:"返回",to:s.goBackUrl,icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/res2/UserCheckPage/",children:this.props.children})}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(8),s=(r(o),a(5)),d=(r(s),a(13)),u=a(4),c=a(18),m=r(c),h=a(29),p=r(h),f=(a(17),a(1),u.Form.Item),g=a(6),v=a(3),C=a(22),b=(0,d.withRouter)(l.default.createClass({displayName:"LoginPage2",getInitialState:function(){C.loadContext()&&this.props.router.push({pathname:g.projHome,state:{from:"login"}});var e="";return"单公司"===g.corpStruct&&(e=g.corpUuid),{user:{userName:"",passwd:"",corpUuid:e},loading:!1,isRemember:!0,errMsg:"",hints:{},validRules:[]}},componentDidMount:function(){C.downConfig(this),this.state.validRules=[{id:"userName",desc:"用户名",required:!0,max:24},{id:"passwd",desc:"密码",required:!0,max:16}]},showError:function(e){this.setState({errMsg:e})},onConfigLoaded:function(){void 0!==this.refs.compSelect&&this.refs.compSelect.loadCorps()},clickLogin:function(e){var t=this.state.user.passwd;if(this.state.errMsg="",g.formValidator(this,this.state.user)){var a=v.authUrl+"auth-user/login",r=g.calcMD5(t),i={};i.password=r,i.username=this.state.user.userName;var n=this;this.setState({loading:!0}),v.loginService(a,i).then(function(e,t,a){n.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?n.loginSuccess(e.object):n.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){n.state.loading=!1,n.showError("未知错误")})}},clickQuickLogin:function(e){this.state.user.corpUuid=g.corpUuid;var t=v.authUrl+"auth-user/login",a={};a.password="admin",a.username="admin";var r=this;this.setState({loading:!0}),v.loginService(t,a).then(function(e,t,a){r.state.loading=!1,null==e.errCode||""==e.errCode||"000000"==e.errCode?r.loginSuccess(e.object):r.showError("处理错误["+e.errCode+"]["+e.errDesc+"]")},function(e,t,a){r.state.loading=!1,r.showError("未知错误")})},loginSuccess:function(e){var t=this.state.user.corpUuid;C.saveLoginData(e,t);var a=this;v.downAppMenu("资源池","PROJ").then(function(e){a.state.loading=!1,a.props.router.push({pathname:g.projHome,state:{from:"login"}})},function(e){a.state.loading=!1,
a.showError(e)})},handleOnChange:function(e){var t=this.state.user;t[e.target.id]=e.target.value,g.validator(this,t,e.target.id),this.setState({user:t})},handleCheckBox:function(e){var t=e.target.checked;this.setState({isRemember:t})},handleOnSelected:function(e,t,a){var r=this.state.user;r[e]=t,this.setState({user:r})},onUserNameFinished:function(e){"单公司"!==g.corpStruct&&this.refs.compSelect.loadData(this.state.user.userName)},onLoadCamp:function(e){var t=this.state.user;t.corpUuid=e,this.setState({user:t})},onDismiss:function(){this.setState({errMsg:""})},render:function(){var e=this.state.errMsg,t="vertical",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:0},wrapperCol:"vertical"==t?null:{span:24}},n=this.state.hints,o="单公司"===g.corpStruct?null:l.default.createElement(f,{labelCol:{span:0},wrapperCol:{span:24},colon:!0,style:{marginBottom:"20px"},className:a,help:n.compUuidHint,validateStatus:n.compUuidStatus},l.default.createElement(p.default,{name:"corpUuid",id:"corpUuid",ref:"compSelect",value:this.state.user.corpUuid,onSelect:this.handleOnSelected.bind(this,"corpUuid"),onLoaded:this.onLoadCamp}));return l.default.createElement("div",{style:{width:"100%"}},l.default.createElement("div",{style:{width:"300px",paddingTop:"100px",margin:"0 auto"}},l.default.createElement(u.Form,{layout:t},l.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},help:n.userNameHint,validateStatus:n.userNameStatus}),l.default.createElement(u.Input,{prefix:l.default.createElement(u.Icon,{type:"user",style:{fontSize:13}}),placeholder:"用户名",type:"text",name:"userName",id:"userName",value:this.state.user.userName,onChange:this.handleOnChange,onBlur:this.onUserNameFinished})),l.default.createElement(f,i({},r,{label:"",colon:!0,style:{marginBottom:"20px"},className:a,help:n.passwdHint,validateStatus:n.passwdStatus}),l.default.createElement(u.Input,{prefix:l.default.createElement(u.Icon,{type:"lock",style:{fontSize:13}}),placeholder:"密码",type:"password",name:"passwd",id:"passwd",value:this.state.user.passwd,onChange:this.handleOnChange})),o,l.default.createElement(f,null,l.default.createElement(m.default,{message:e,toggle:this.onDismiss}),l.default.createElement(u.Checkbox,{id:"remember",checked:this.state.isRemember,onChange:this.handleCheckBox},"记住用户名"),l.default.createElement(u.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.clickLogin,style:{width:"100%"},loading:this.state.loading},"登录"),g.resMode?null:l.default.createElement(u.Button,{key:"btnOK1",type:"primary",size:"large",onClick:this.clickQuickLogin,style:{width:"100%",marginTop:"20px"},loading:this.state.loading},"快速登录")))))}}));e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s={children:n.default.PropTypes.node},d=n.default.createClass({displayName:"OutInnPageIndex",getInitialState:function(){return{navItems:[{name:"人员管理",to:"/proj/out2/StaffPage/"},{name:"岗位调整",to:"/proj/out2/StaffJobPage/"},{name:"考勤查询",to:"/proj/out2/CheckPage/"},{name:"返回",to:"/proj/out/CorpPage/",icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/out2/StaffPage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=a(14),d={children:n.default.PropTypes.node},u=n.default.createClass({displayName:"PgInnPageIndex",getInitialState:function(){return{navItems:[{name:"项目组管理",to:"/proj/group/ProjPage/"},{name:"项目管理员",to:"/proj/group/GroupManPage/"},{name:"组员查询",to:"/proj/group/GroupMemberPage/"},{name:"订单分配",to:"/proj/group/ProjTaskDispPage/"},{name:"返回",to:"/proj/group/ProjPage/"===s.goBackUrl?s.lastUrl:s.goBackUrl,icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/group/ProjPage/",children:this.props.children})}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=(a(14),{children:n.default.PropTypes.node}),d=n.default.createClass({displayName:"ProjInitPageIndex",getInitialState:function(){return{navItems:[{name:"项目初始化",to:"/proj/proj2/ProjQueryPage/"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/proj2/ProjQueryPage/",children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=a(14),d={children:n.default.PropTypes.node},u=n.default.createClass({displayName:"ProjInnPageIndex",getInitialState:function(){return{navItems:[{name:"批量导入组员",to:"/proj/proj2/BatchInputPage/"},{name:"返回",to:s.goBackUrl,icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/proj2/BatchInputPage/",children:this.props.children})}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=a(14),d={children:n.default.PropTypes.node},u=n.default.createClass({displayName:"ProjInnPageIndex",getInitialState:function(){return{navItems:[{name:"项目管理",icon:"home",to:"proj_man",childItems:[{name:"项目小组",to:"/proj/proj2/ProjTeamPage/"},{name:"管理人员",to:"/proj/proj2/ProjRolePage/"},{name:"人员需求",to:"/proj/proj2/ProjHrReqPage/"},{name:"人员挑选",to:"/proj/proj2/ProjCondPage/"}]},{name:"人员管理",icon:"home",to:"hr_man",childItems:[{name:"项目成员",to:"/proj/proj2/ProjMemberPage/"},{name:"人员入组",to:"/proj/proj2/EntryPage/"},{name:"临时成员",to:"/proj/proj2/TempMemberPage/"}]},{name:"订单管理",icon:"home",to:"hr_order",childItems:[{name:"项目订单",to:"/proj/proj2/ProjTaskPage/"},{name:"订单人员",to:"/proj/proj2/TaskMemberPage/"}]},{name:"其他",icon:"home",to:"pj_other",childItems:[{name:"人员评价",to:"/proj/proj2/MemberEvalPage/"},{name:"项目事件",to:"/proj/proj2/ProjEventPage/"},{name:"人员日志",to:"/proj/proj2/MemberLogPage/"},{name:"定级查询",to:"/proj/proj2/ProjLevelPage/"}]},{name:"返回",to:s.goBackUrl,icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/proj2/ProjMemberPage/",children:this.props.children})}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s=a(14),d={children:n.default.PropTypes.node},u=n.default.createClass({displayName:"ResInnPageIndex",getInitialState:function(){return{navItems:[{name:"管理人员",to:"/proj/res2/ResRolePage/"},{name:"成员管理",to:"/proj/res2/ResMemberPage/"},{name:"小组管理",to:"/proj/res2/ResTeamGrpPage/"},{name:"项目调度和筹备",to:"/proj/res2/ProjDispPage/"},{name:"事务项目调度",to:"/proj/res2/BiziDispPage/"},{name:"调回资源池",to:"/proj/res2/MemberBackPage/"},{name:"项目人员需求",to:"/proj/res2/ProjReqPage/"},{name:"项目调度日志",to:"/proj/res2/DispLogPage/"},{name:"返回",to:s.goBackUrl,icon:"rollback"}]}},render:function(){return n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:"/proj/res2/ResMemberPage/",children:this.props.children})}});u.propTypes=d,e.exports=u},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=(r(i),a(13),a(1421)),l=r(n),o=a(722),s=r(o),d=a(61),u=r(d),c=[{path:"/",component:l.default},{path:"/proj.html",component:l.default},{path:"/main/",component:s.default,childRoutes:[{path:"passwd/",component:a(38)},{path:"logout/",component:a(37)}]},a(1557),{path:"*",component:u.default}];t.default=c},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(23),o=r(l),s={children:n.default.PropTypes.node},d=n.default.createClass({displayName:"StaffPageIndex",getInitialState:function(){return{navItems:[{name:"资源池管理",to:"/proj/group/PoolPage/"},{name:"项目群管理",to:"/proj/group/ProjGroupPage/"},{name:"事务性项目",to:"/proj/group/BiziProjPage/"},{name:"项目调度日志",to:"/proj/staff/StaffDispPage/"},{name:"查询",icon:"home",to:"staff_query",childItems:[{name:"人员查询",to:"/proj/staff/StaffQueryPage/"},{name:"项目人员查询",to:"/proj/staff/ProjMemberPage/"},{name:"订单人员查询",to:"/proj/staff/TaskMemberPage/"},{name:"技术小组查询",to:"/proj/staff/ResGroupQueryPage/"}]}]}},render:function(){var e=this.props.location.pathname;return void 0!==e&&null!==e&&""!==e||(e="/proj/group/ProjGroupPage/"),n.default.createElement(o.default,{navItems:this.state.navItems,activeNode:e,children:this.props.children})}});d.propTypes=s,e.exports=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"CheckPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"考勤查询")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(1),g=a(6),v=p.Form.Item,C=(p.Select.Option,a(513)),b=a(366),y=l.default.createClass({displayName:"CreateCorpPage",getInitialState:function(){return{corpSet:{operation:"",errMsg:""},loading:!1,modal:!1,corp:{},hints:{},validRules:[]}},mixins:[f.listenTo(C,"onServiceComplete"),(0,c.default)("corp")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,corpSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"memberUuid",desc:"会员编号",required:!1,max:"24"},{id:"corpCode",desc:"公司编号",required:!0,max:"64"},{id:"corpName",desc:"公司名称",required:!0,max:"64"},{id:"corpDesc",desc:"公司描述",required:!1,max:"3000"},{id:"corpLoc",desc:"公司地址",required:!1,max:"256"},{id:"corpLevel",desc:"公司级别",required:!1,max:"16"},{id:"corpType",desc:"外协类型",required:!1,max:"32"}]},clear:function(e){this.state.hints={},this.state.corp.corpUuid=e,this.state.corp.memberUuid="",this.state.corp.corpCode="",this.state.corp.corpName="",this.state.corp.corpDesc="",this.state.corp.corpLoc="",this.state.corp.corpLevel="",this.state.corp.corpType="项目",this.state.loading=!1,this.state.corpSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.corp)&&(this.setState({loading:!0}),b.createOutCorp(this.state.corp))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement(p.Modal,{visible:this.state.modal,width:"540px",title:"增加外协公司",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["out-corp/create"]}),l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(p.Form,{layout:e},l.default.createElement(v,i({},a,{label:"会员查询",required:!1,colon:!0,className:t,help:n.memberUuidHint,validateStatus:n.memberUuidStatus}),l.default.createElement(p.Input,{type:"text",name:"memberUuid",id:"memberUuid",value:this.state.corp.memberUuid,onChange:this.handleOnChange,placeholder:"根据名称查询"})),l.default.createElement(v,i({},a,{label:"公司编号",required:!0,colon:!0,className:t,help:n.corpCodeHint,validateStatus:n.corpCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"corpCode",id:"corpCode",value:this.state.corp.corpCode,onChange:this.handleOnChange})),l.default.createElement(v,i({},a,{label:"公司名称",required:!0,colon:!0,className:t,help:n.corpNameHint,validateStatus:n.corpNameStatus}),l.default.createElement(p.Input,{type:"text",name:"corpName",id:"corpName",value:this.state.corp.corpName,onChange:this.handleOnChange})),l.default.createElement(v,i({},a,{label:"公司说明",required:!1,colon:!0,className:t,help:n.corpDescHint,validateStatus:n.corpDescStatus}),l.default.createElement(p.Input,{type:"textarea",name:"corpDesc",id:"corpDesc",value:this.state.corp.corpDesc,onChange:this.handleOnChange,style:{height:"80px"}})),l.default.createElement(v,i({},a,{label:"所在城市",required:!1,colon:!0,className:t,help:n.corpLocHint,validateStatus:n.corpLocStatus}),l.default.createElement(p.Input,{type:"text",name:"corpLoc",id:"corpLoc",value:this.state.corp.corpLoc,onChange:this.handleOnChange})),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"外协类型",required:!1,colon:!0,className:t,help:n.corpTypeHint,validateStatus:n.corpTypeStatus}),l.default.createElement(h.default,{name:"corpType",id:"corpType",value:this.state.corp.corpType,appName:"项目管理",optName:"外协类型",onSelect:this.handleOnSelected.bind(this,"corpType")}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"信用评分",required:!1,colon:!0,className:t,help:n.corpLevelHint,validateStatus:n.corpLevelStatus}),l.default.createElement(p.Input,{type:"text",name:"corpLevel",id:"corpLevel",value:this.state.corp.corpLevel,onChange:this.handleOnChange}))))))}});t.default=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(1),g=a(6),v=a(3),C=p.Form.Item,b=(p.Select.Option,a(513)),y=a(366),S=l.default.createClass({displayName:"UpdateCorpPage",getInitialState:function(){return{corpSet:{operation:"",errMsg:""},loading:!1,modal:!1,corp:{},hints:{},validRules:[]}},mixins:[f.listenTo(b,"onServiceComplete"),(0,c.default)("corp")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,corpSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"memberUuid",desc:"会员编号",required:!1,max:"24"},{id:"corpCode",desc:"公司编号",required:!0,max:"64"},{id:"corpName",desc:"公司名称",required:!0,max:"64"},{id:"corpDesc",desc:"公司描述",required:!1,max:"3000"},{id:"corpLoc",desc:"公司地址",required:!1,max:"256"},{id:"corpLevel",desc:"公司级别",required:!1,max:"16"},{id:"corpType",desc:"外协类型",required:!1,max:"32"}]},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.corp),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.corp)&&(this.state.corpSet.operation="",this.setState({loading:!0}),y.updateOutCorp(this.state.corp))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement(p.Modal,{visible:this.state.modal,width:"540px",title:"修改外协公司信息",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["out-corp/update"]}),l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(p.Form,{layout:e},l.default.createElement(C,i({},a,{label:"会员查询",colon:!1,className:t,help:n.memberUuidHint,validateStatus:n.memberUuidStatus}),l.default.createElement(p.Input,{type:"text",name:"memberUuid",id:"memberUuid",value:this.state.corp.memberUuid,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"公司编号",colon:!0,className:t,help:n.corpCodeHint,validateStatus:n.corpCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"corpCode",id:"corpCode",value:this.state.corp.corpCode,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"公司名称",colon:!0,className:t,help:n.corpNameHint,validateStatus:n.corpNameStatus}),l.default.createElement(p.Input,{type:"text",name:"corpName",id:"corpName",value:this.state.corp.corpName,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"公司说明",colon:!0,className:t,help:n.corpDescHint,validateStatus:n.corpDescStatus}),l.default.createElement(p.Input,{type:"textarea",name:"corpDesc",id:"corpDesc",value:this.state.corp.corpDesc,onChange:this.handleOnChange,style:{height:"80px"}})),l.default.createElement(C,i({},a,{label:"所在城市",colon:!0,className:t,help:n.corpLocHint,validateStatus:n.corpLocStatus}),l.default.createElement(p.Input,{type:"text",name:"corpLoc",id:"corpLoc",value:this.state.corp.corpLoc,onChange:this.handleOnChange})),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"外协类型",required:!1,colon:!0,className:t,help:n.corpTypeHint,validateStatus:n.corpTypeStatus}),l.default.createElement(h.default,{name:"corpType",id:"corpType",value:this.state.corp.corpType,appName:"项目管理",optName:"外协类型",onSelect:this.handleOnSelected.bind(this,"corpType")}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"信用评分",required:!1,colon:!0,className:t,help:n.corpLevelHint,validateStatus:n.corpLevelStatus}),l.default.createElement(p.Input,{type:"text",name:"corpLevel",id:"corpLevel",value:this.state.corp.corpLevel,onChange:this.handleOnChange}))))))}});t.default=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(9)),d=r(s),u=a(12),c=(r(u),a(14)),m=r(c),h=a(7),p=r(h),f=a(91),g=r(f),v=a(90),C=r(v),b=a(4),y=a(732),S=r(y),E=a(1),w=a(6),x=b.Form.Item,k=(b.Select.Option,b.Tabs.TabPane),j=a(514),N=a(225),P=l.default.createClass({displayName:"CreateJobPage",getInitialState:function(){return{jobSet:{operation:"",errMsg:""},loading:!1,modal:!1,job:{},hints:{},validRules:[]}},mixins:[E.listenTo(j,"onServiceComplete"),(0,d.default)("job")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,jobSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"userCost",desc:"结算单价",required:!1,max:"32"},{id:"empLevel",desc:"员工级别",required:!1,max:"32"},{id:"techLevel",desc:"技术级别",required:!1,max:"32"},{id:"manLevel",desc:"管理级别",required:!1,max:"32"},{id:"techUuid",desc:"技术岗位",required:!1,max:"24"},{id:"manUuid",desc:"管理岗位",required:!1,max:"24"},{id:"chgReason",desc:"原因",required:!1,max:"1024"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"}],this.clear()},clear:function(){this.state.hints={},this.state.job.uuid="",this.state.job.corpUuid="",this.state.job.outUuid=m.default.selectedOutCorp.uuid,this.state.job.userCost="",this.state.job.empLevel="",this.state.job.techLevel="",this.state.job.manLevel="",this.state.job.techUuid="",this.state.job.manUuid="",this.state.job.chgReason="",this.state.job.approver="",this.state.job.effectDate="",void 0!==this.refs.JobPage&&this.refs.JobPage.clear(),this.state.loading=!1,this.state.jobSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){if(w.formValidator(this,this.state.job)){this.state.jobSet.operation="",this.setState({loading:!0});var e=this.state.job;e.corpUuid=window.loginData.compUser.corpUuid,e.outUuid=m.default.selectedOutCorp.uuid;var t=this.refs.techUuidBox.getJobNode();null===t.jobName||""===t.jobName||t.jobName===t.jobCode?e.techName=t.jobCode:e.techName=t.jobCode+"("+t.jobName+")";var a=this.refs.manUuidBox.getJobNode();null===a.jobName||""===a.jobName||a.jobName===a.jobCode?e.manName=a.jobCode:e.manName=a.jobCode+"("+a.jobName+")",N.createOutJob(e)}},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},onSelectOutStaff:function(e){this.state.job.userUuid=e.uuid,this.state.job.perName=e.perName,this.state.job.staffCode=e.staffCode,this.setState({user:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints,o=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(b.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(k,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(k,{tab:"增加岗位调整信息",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"16px 0 16px 8px",height:"100%",width:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"600px"}},l.default.createElement(p.default,{ref:"mxgBox",svcList:["out-job/create"]}),l.default.createElement(S.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:o,showError:this.showError,onSelectStaff:this.onSelectOutStaff}),l.default.createElement(b.Form,{layout:e},l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(b.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.job.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(b.Input,{type:"text",name:"perName",id:"perName",value:this.state.job.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"员工级别",required:!0,colon:!0,className:t,help:n.empLevelHint,validateStatus:n.empLevelStatus}),l.default.createElement(g.default,{name:"empLevel",id:"empLevel",value:this.state.job.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"结算单价",required:!1,colon:!0,className:t,help:n.userCostHint,validateStatus:n.userCostStatus}),l.default.createElement(b.Input,{type:"text",name:"userCost",id:"userCost",value:this.state.job.userCost,onChange:this.handleOnChange})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"技术级别",required:!1,colon:!0,className:t,help:n.techLevelHint,validateStatus:n.techLevelStatus}),l.default.createElement(b.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.job.techLevel,onChange:this.handleOnChange}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"管理级别",required:!1,colon:!0,className:t,help:n.manLevelHint,validateStatus:n.manLevelStatus}),l.default.createElement(b.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.job.manLevel,onChange:this.handleOnChange})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"技术岗位",required:!1,colon:!0,className:t,help:n.techUuidHint,validateStatus:n.techUuidStatus}),l.default.createElement(C.default,{ref:"techUuidBox",type:"text",name:"techUuid",id:"techUuid",value:this.state.job.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"管理岗位",required:!1,colon:!0,className:t,help:n.manUuidHint,validateStatus:n.manUuidStatus}),l.default.createElement(C.default,{ref:"manUuidBox",type:"text",name:"manUuid",id:"manUuid",value:this.state.job.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")})))),l.default.createElement(b.Row,null,l.default.createElement(x,i({},r,{label:"调整原因",required:!1,colon:!0,className:t,help:n.chgReasonHint,validateStatus:n.chgReasonStatus}),l.default.createElement(b.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.job.chgReason,onChange:this.handleOnChange,style:{height:"100px"}}))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:n.approverHint,validateStatus:n.approverStatus}),l.default.createElement(b.Input,{type:"text",name:"approver",id:"approver",value:this.state.job.approver,onChange:this.handleOnChange}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(x,i({},a,{label:"生效日期",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),l.default.createElement(b.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.job.effectDate,w.dateFormat),format:w.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",w.dateFormat)}))))),l.default.createElement(b.Form,{layout:e},l.default.createElement(x,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(b.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(b.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=P},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(4),m=a(12),h=(r(m),a(1),a(6)),p=(a(3),c.Form.Item),f=l.default.createClass({displayName:"DetailsFromPage",getInitialState:function(){return{job:{}}},mixins:[(0,u.default)("")],componentDidMount:function(){},initPage:function(e){this.setState({job:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}};return l.default.createElement("div",{style:{width:"600px"}},l.default.createElement(c.Form,{layout:e},l.default.createElement(p,i({},r,{label:"调整原因",required:!1,colon:!0,className:t}),l.default.createElement(c.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.job.chgReason,style:{height:"100px"}})),l.default.createElement(c.Row,null,l.default.createElement(c.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"审批人",required:!1,colon:!0,className:t}),l.default.createElement(c.Input,{type:"text",name:"approver",id:"approver",value:this.state.job.approver}))),l.default.createElement(c.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"生效日期",required:!1,colon:!0,className:t}),l.default.createElement(c.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.job.effectDate,h.dateFormat),format:h.dateFormat}))))))}});t.default=f},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1434),m=r(c),h=a(9),p=(r(h),a(21)),f=r(p),g=a(1),v=(u.Form.Item,u.Tabs.TabPane),C=a(6),b=(a(3),a(1439)),y=a(225),S=n.default.createClass({displayName:"DetailsJobPage",getInitialState:function(){return{jobSet:{recordSet:[],operation:"",errMsg:""},loading:!1}},mixins:[g.listenTo(b,"onServiceComplete"),(0,f.default)()],onServiceComplete:function(e){this.setState({loading:!1,jobSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={userUuid:this.props.userUuid};y.retrieveOutJobDetail(e)},onClickDetails:function(e,t){null!=e&&this.refs.DetailsFromPage.initPage(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=[{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return C.formatDate(e,C.dateFormat)}},{title:"结算单价",dataIndex:"userCost",key:"userCost",width:140},{title:"级别",dataIndex:"empLevel",key:"empLevel",width:140,render:function(a,r){return e.getLevelName(t,r.empLevel)}},{title:"技术级别",dataIndex:"techLevel",key:"techLevel",width:140},{title:"管理级别",dataIndex:"manLevel",key:"manLevel",width:140},{title:"技术岗位",dataIndex:"techName",key:"techUuid",width:140},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:140},{title:"更多操作",key:"action",width:80,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickDetails.bind(e,a),title:"查看"},n.default.createElement(u.Icon,{type:"eye-o"})))}}],r=this.state.jobSet.recordSet;return n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(u.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(v,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(v,{tab:"岗位调整信息",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},n.default.createElement("div",{style:{padding:"12px",height:"100%",overflowY:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["out-job/retrieve-records"]}),n.default.createElement(u.Table,{columns:a,dataSource:r,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:C.tableBorder}),n.default.createElement("div",{style:{width:"100%",padding:"20px 0 0 8px"}},n.default.createElement(m.default,{ref:"DetailsFromPage"})))))))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(70),m=(r(c),a(12)),h=(r(m),a(91)),p=r(h),f=a(90),g=r(f),v=a(4),C=(a(1),a(6),v.DatePicker.MonthPicker,v.Form.Item),b=(v.Select.Option,l.default.createClass({displayName:"JobFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],filter:{perName:"",staffCode:"",baseCity:"",empLevel:"",techUuid:"",manUuid:""}}},mixins:[(0,u.default)("filter")],componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"staffCode",desc:"员工号",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"empLevel",desc:"级别",required:!1,max:"0"},{id:"techUuid",desc:"技术岗位",required:!1,max:"0"},{id:"manUuid",desc:"管理岗位",required:!1,max:"0"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={
labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},l.default.createElement(v.Form,{layout:e,style:{width:"100%"}},l.default.createElement(v.Row,{gutter:18},l.default.createElement(v.Col,{className:"gutter-row",span:8},l.default.createElement(C,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(v.Input,{type:"text",name:"perName",id:"perName",value:this.state.filter.perName,onChange:this.handleOnChange}))),l.default.createElement(v.Col,{className:"gutter-row",span:8},l.default.createElement(C,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(v.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.filter.staffCode,onChange:this.handleOnChange}))),l.default.createElement(v.Col,{className:"gutter-row",span:8},l.default.createElement(C,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:r.baseCityHint,validateStatus:r.baseCityStatus}),l.default.createElement(v.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.filter.baseCity,onChange:this.handleOnChange})))),l.default.createElement(v.Row,{gutter:18},l.default.createElement(v.Col,{className:"gutter-row",span:8},l.default.createElement(C,i({},a,{label:"级别",required:!1,colon:!0,className:t,help:r.empLevelHint,validateStatus:r.empLevelStatus}),l.default.createElement(p.default,{name:"empLevel",id:"empLevel",value:this.state.filter.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")}))),l.default.createElement(v.Col,{className:"gutter-row",span:8},l.default.createElement(C,i({},a,{label:"技术岗位",required:!1,colon:!0,className:t,help:r.techUuidHint,validateStatus:r.techUuidStatus}),l.default.createElement(g.default,{name:"techUuid",id:"techUuid",value:this.state.filter.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),l.default.createElement(v.Col,{className:"gutter-row",span:8},l.default.createElement(C,i({},a,{label:"管理岗位",required:!1,colon:!0,className:t,help:r.manUuidHint,validateStatus:r.manUuidStatus}),l.default.createElement(g.default,{style:{width:"100%"},name:"manUuid",id:"manUuid",value:this.state.filter.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")})))))))}}));e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(91)),d=r(s),u=a(90),c=r(u),m=a(9),h=r(m),p=a(12),f=(r(p),a(14)),g=r(f),v=a(7),C=r(v),b=a(4),y=a(1),S=a(6),E=a(3),w=b.Form.Item,x=(b.Select.Option,b.Tabs.TabPane),k=a(514),j=a(225),N=l.default.createClass({displayName:"UpdateJobPage",getInitialState:function(){return{jobSet:{operation:"",errMsg:""},loading:!1,modal:!1,job:{},hints:{},validRules:[]}},mixins:[y.listenTo(k,"onServiceComplete"),(0,h.default)("job")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,jobSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"userCost",desc:"结算单价",required:!1,max:"32"},{id:"empLevel",desc:"员工级别",required:!1,max:"32"},{id:"techLevel",desc:"技术级别",required:!1,max:"32"},{id:"manLevel",desc:"管理级别",required:!1,max:"32"},{id:"techUuid",desc:"技术岗位",required:!1,max:"24"},{id:"manUuid",desc:"管理岗位",required:!1,max:"24"},{id:"chgReason",desc:"原因",required:!1,max:"1024"},{id:"approver",desc:"审批人",required:!1,max:"24"},{id:"effectDate",desc:"生效日期",required:!1,max:"24"}],this.initPage(this.props.job)},initPage:function(e){E.copyValue(e,this.state.job),this.setState({loading:!1,hints:{}}),this.state.jobSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){if(S.formValidator(this,this.state.job)){this.state.jobSet.operation="",this.setState({loading:!0});var e=this.state.job;e.corpUuid=window.loginData.compUser.corpUuid,e.outUuid=g.default.selectedOutCorp.uuid;var t=this.refs.techUuidBox.getJobNode();null===t.jobName||""===t.jobName||t.jobName===t.jobCode?e.techName=t.jobCode:e.techName=t.jobCode+"("+t.jobName+")";var a=this.refs.manUuidBox.getJobNode();null===a.jobName||""===a.jobName||a.jobName===a.jobCode?e.manName=a.jobCode:e.manName=a.jobCode+"("+a.jobName+")",j.updateOutJob(e)}},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints;this.state.job,window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(b.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(x,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"修改岗位调整信息",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"16px 0 16px 8px",height:"100%",width:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"600px"}},l.default.createElement(C.default,{ref:"mxgBox",svcList:["out-job/update"]}),l.default.createElement(b.Form,{layout:e},l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(b.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.job.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(b.Input,{type:"text",name:"perName",id:"perName",value:this.state.job.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"员工级别",required:!0,colon:!0,className:t,help:n.empLevelHint,validateStatus:n.empLevelStatus}),l.default.createElement(d.default,{name:"empLevel",id:"empLevel",value:this.state.job.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"结算单价",required:!1,colon:!0,className:t,help:n.userCostHint,validateStatus:n.userCostStatus}),l.default.createElement(b.Input,{type:"text",name:"userCost",id:"userCost",value:this.state.job.userCost,onChange:this.handleOnChange})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"技术级别",required:!1,colon:!0,className:t,help:n.techLevelHint,validateStatus:n.techLevelStatus}),l.default.createElement(b.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.job.techLevel,onChange:this.handleOnChange}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"管理级别",required:!1,colon:!0,className:t,help:n.manLevelHint,validateStatus:n.manLevelStatus}),l.default.createElement(b.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.job.manLevel,onChange:this.handleOnChange})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"技术岗位",required:!1,colon:!0,className:t,help:n.techUuidHint,validateStatus:n.techUuidStatus}),l.default.createElement(c.default,{ref:"techUuidBox",type:"text",name:"techUuid",id:"techUuid",value:this.state.job.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"管理岗位",required:!1,colon:!0,className:t,help:n.manUuidHint,validateStatus:n.manUuidStatus}),l.default.createElement(c.default,{ref:"manUuidBox",type:"text",name:"manUuid",id:"manUuid",value:this.state.job.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")})))),l.default.createElement(b.Row,null,l.default.createElement(w,i({},r,{label:"调整原因",required:!1,colon:!0,className:t,help:n.chgReasonHint,validateStatus:n.chgReasonStatus}),l.default.createElement(b.Input,{type:"textarea",name:"chgReason",id:"chgReason",value:this.state.job.chgReason,onChange:this.handleOnChange,style:{height:"100px"}}))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"审批人",required:!1,colon:!0,className:t,help:n.approverHint,validateStatus:n.approverStatus}),l.default.createElement(b.Input,{type:"text",name:"approver",id:"approver",value:this.state.job.approver,onChange:this.handleOnChange}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"生效日期",required:!1,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),l.default.createElement(b.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.job.effectDate,S.dateFormat),format:S.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",S.dateFormat)}))))),l.default.createElement(b.Form,{layout:e},l.default.createElement(w,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(b.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(b.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1433),m=r(c),h=a(1437),p=r(h),f=a(1435),g=r(f),v=a(1436),C=r(v),b=a(14),y=r(b),S=a(21),E=r(S),w=a(1),x=u.Input.Search,k=a(6),j=(a(3),a(514)),N=a(225),P=10,D=n.default.createClass({displayName:"JobPage",getInitialState:function(){return{jobSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,moreFilter:!1,filterValue:"",job:null,filter:{}}},mixins:[w.listenTo(j,"onServiceComplete"),(0,E.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.JobFilter;null!==a&&"undefined"!=typeof a&&(a.state.filter=e.filter)}}this.setState({loading:!1,jobSet:e})},componentDidMount:function(){N.getCacheData()},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.outUuid=y.default.selectedOutCorp.uuid,t.more=this.state.moreFilter?"1":"0",N.retrieveOutJobPage(t,this.state.jobSet.startPage,P)},handleOpenCreateWindow:function(e){this.setState({action:"create"})},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的人员",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),N.deleteOutJob(e.uuid)},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;k.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onSearch3:function(){var e=this.refs.JobFilter.state.filter;this.state.filter=e,this.handleQueryClick()},onChangePage:function(e){this.state.jobSet.startPage=e,this.handleQueryClick()},onGoBack:function(){this.setState({action:"query"})},onShowSizeChange:function(e,t){P=t,this.handleQueryClick()},onClickUpdate:function(e,t){this.setState({job:e,action:"update"})},onClickDetails:function(e,t){this.setState({job:e,action:"detail"})},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"员工",dataIndex:"perName",key:"perName",width:140},{title:"结算单价",dataIndex:"userCost",key:"userCost",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140,render:function(e,t){return k.formatDate(e,k.dateFormat)}},{title:"级别",dataIndex:"empLevel",key:"empLevel",width:140,render:function(a,r){return e.getLevelName(t,r.empLevel)}},{title:"技术岗位",dataIndex:"techName",key:"techUuid",width:140},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员"},n.default.createElement(u.Icon,{type:k.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员"},n.default.createElement(u.Icon,{type:k.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDetails.bind(e,a),title:"详情"},n.default.createElement(u.Icon,{type:"bars"})))}}],r=this.state.jobSet.recordSet,i=this.state.moreFilter,l="query"===this.state.action?"":"none",o={showQuickJumper:!0,total:this.state.jobSet.totalRow,pageSize:this.state.jobSet.pageRow,current:this.state.jobSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},s=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:l}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["out-job/retrieve","out-job/remove"]}),n.default.createElement(C.default,{ref:"JobFilter",moreFilter:i}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:k.iconAdd,type:"primary",title:"增加人员",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:k.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),i?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading,style:{marginRight:"8px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.filterToggle},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(x,{placeholder:"查询(员工编号/员工姓名)",style:{width:k.searchWidth},value:this.state.filterValue,onChange:this.onFilterRecord,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.filterToggle,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:r,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:o,size:"middle",bordered:k.tableBorder}))),c=null;return"create"===this.state.action?c=n.default.createElement(m.default,{onBack:this.onGoBack}):"detail"===this.state.action?c=n.default.createElement(g.default,{onBack:this.onGoBack,userUuid:this.state.job.userUuid}):"update"===this.state.action&&(c=n.default.createElement(p.default,{onBack:this.onGoBack,job:this.state.job})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},s,c)}});e.exports=D},function(e,t,a){"use strict";var r=a(1),i=a(225),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("out-job",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},retrieveOutJobDetail:function(e){var t=this,a=this.getServiceUrl("out-job/retrieve-records");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(9)),d=r(s),u=a(12),c=r(u),m=a(14),h=r(m),p=a(7),f=r(p),g=a(4),v=a(1443),C=r(v),b=a(1),y=a(6),S=g.Form.Item,E=g.AutoComplete.Option,w=g.Tabs.TabPane,x=g.Input.Group,k=a(515),j=a(367),N=l.default.createClass({displayName:"CreateStaffPage",getInitialState:function(){return{staffSet:{errMsg:""},loading:!1,staff:{},hints:{},validRules:[],result:[]}},mixins:[b.listenTo(k,"onServiceComplete"),(0,d.default)("staff")],onServiceComplete:function(e){if("create"===e.operation)if(""===e.errMsg){var t=this.refs.jobPage.state.job;this.goBack();var a=this.props.funcCreateUser;if(null!==a&&void 0!==a){for(var r=null,i=this.state.staff.staffCode,n=e.recordSet.length,l=0;l<n;l++){var o=e.recordSet[l];if(o.staffCode==i){r=o;break}}null!==r&&a(r,t)}}else this.setState({loading:!1,staffSet:e})},componentDidMount:function(){this.state.validRules=[{id:"idCode",desc:"证件编号",required:!0,validator:this.checkIcCode,max:"64"},{id:"idType",desc:"证件类型",required:!0,max:"32"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"staffCode",desc:"员工编号",required:!0,max:"64"},{id:"jobTitle",desc:"职位",required:!1,max:"64"},{id:"baseCity",desc:"归属地",required:!0,max:"32"},{id:"phoneno",desc:"电话",required:!0,dataType:"mobile",max:"32"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"eduDegree",desc:"最高学历",required:!0,max:"64"},{id:"eduCollege",desc:"毕业院校",required:!1,max:"128"},{id:"induYears",desc:"行业经验",required:!0,max:"32"},{id:"workYears",desc:"工作年限",required:!1,max:"32"}],this.clear()},checkIcCode:function(e,t,a){var r=this.state.staff;if("身份证"===r.idType)return y.checkDataType(e,"idcard18")},clear:function(){this.state.hints={},this.state.staff.uuid="",this.state.staff.idCode="",this.state.staff.idType="",this.state.staff.perName="",this.state.staff.staffCode="",this.state.staff.jobTitle="",this.state.staff.baseCity="",this.state.staff.phoneno="",this.state.staff.email="",this.state.staff.eduDegree="",this.state.staff.eduCollege="",this.state.staff.induYears="",this.state.staff.workYears="",void 0!==this.refs.jobPage&&this.refs.jobPage.clear(),this.state.loading=!1,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){if(y.formValidator(this,this.state.staff)&&this.refs.jobPage.checkValue()){this.setState({loading:!0});var e=this.state.staff;e.status="在岗";var t=this.refs.jobPage.state.job;e.corpUuid=window.loginData.compUser.corpUuid,e.outUuid=h.default.selectedOutCorp.uuid,e.corpName=h.default.selectedOutCorp.corpName,e.entryDate=""+y.getToday(),this.refs.jobPage.fun();var a={os:e,oj:t};j.createOutStaff(a)}},goBack:function(){this.props.onBack()},handleOnChange2:function(e){var t=1,a=e.target.id,r=a.indexOf("_"),i=a.substr(r+1);"2"===i&&(t=2),a=a.substr(0,r);var n=this.state.staff,l=n[a],o="0";void 0===l||null===l?l="0":(r=l.indexOf("."),r>0&&(o=l.substr(r+1),l=l.substr(0,r))),1===t?(l=e.target.value,""===l&&(l="0")):(o=e.target.value,""===o&&(o="0")),n[a]=l+"."+o,y.validator(this,n,a),this.setState({loading:this.state.loading})},getDisplayValue:function(e){var t=e,a="";if(void 0!==t&&null!==t){var r=t.indexOf(".");r>0&&(a=t.substr(r+1),t=t.substr(0,r),a=""+parseInt(a),t=""+parseInt(t),"0"===a&&(a=""),"0"===t&&(t=""))}return{y:t,m:a}},onTabChange:function(e){"1"===e&&this.props.onBack()},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:y.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.staff;t.email=e,y.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.result,n=r.map(function(e){return l.default.createElement(E,{key:e},e)}),o=this.state.hints,s=this.state.staff,d=(window.loginData.compUser.corpUuid,this.getDisplayValue(s.workYears)),u=this.getDisplayValue(s.induYears);return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(g.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(w,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(w,{tab:"增加人员",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"16px 0 16px 8px",height:"100%",width:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},l.default.createElement(f.default,{ref:"mxgBox",svcList:["out-staff/create","out-staff/createWithJob"]}),l.default.createElement(g.Form,{layout:e},l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"证件类型",required:!0,colon:!0,className:t,help:o.idTypeHint,validateStatus:o.idTypeStatus}),l.default.createElement(c.default,{name:"idType",id:"idType",value:this.state.staff.idType,appName:"简历系统",optName:"证件类型",onSelect:this.handleOnSelected.bind(this,"idType")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"证件编号",required:!0,colon:!0,className:t,help:o.idCodeHint,validateStatus:o.idCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"idCode",id:"idCode",value:this.state.staff.idCode,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"姓名",required:!0,colon:!0,className:t,help:o.perNameHint,validateStatus:o.perNameStatus}),l.default.createElement(g.Input,{type:"text",name:"perName",id:"perName",value:this.state.staff.perName,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"员工编号",required:!0,colon:!0,className:t,help:o.staffCodeHint,validateStatus:o.staffCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.staff.staffCode,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"职位",required:!1,colon:!0,className:t,help:o.jobTitleHint,validateStatus:o.jobTitleStatus}),l.default.createElement(g.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.staff.jobTitle,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"归属地",required:!0,colon:!0,className:t,help:o.baseCityHint,validateStatus:o.baseCityStatus}),l.default.createElement(g.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.staff.baseCity,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:o.phonenoHint,validateStatus:o.phonenoStatus}),l.default.createElement(g.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.staff.phoneno,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"电子邮箱",required:!1,colon:!0,className:t,help:o.emailHint,validateStatus:o.emailStatus}),l.default.createElement(g.AutoComplete,{name:"email",id:"email",value:this.state.staff.email,onSearch:this.handleSearch,placeholder:"请输入电子邮箱",onChange:this.emailOnChange},n)))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"最高学历",required:!0,colon:!0,className:t,help:o.eduDegreeHint,validateStatus:o.eduDegreeStatus}),l.default.createElement(c.default,{name:"eduDegree",id:"eduDegree",value:this.state.staff.eduDegree,appName:"简历系统",optName:"教育背景",onSelect:this.handleOnSelected.bind(this,"eduDegree")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"毕业院校",required:!1,colon:!0,className:t,help:o.eduCollegeHint,validateStatus:o.eduCollegeStatus}),l.default.createElement(g.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.staff.eduCollege,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"行业经验",required:!0,colon:!0,className:t,help:o.induYearsHint,validateStatus:o.induYearsStatus}),l.default.createElement(g.Col,{span:"11"},l.default.createElement(x,{compact:!0},l.default.createElement(g.Input,{style:{width:"70%"},type:"text",name:"induYears_1",id:"induYears_1",value:u.y,onChange:this.handleOnChange2}),l.default.createElement(g.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),l.default.createElement(g.Col,{span:"2"}),l.default.createElement(g.Col,{span:"11"},l.default.createElement(x,{compact:!0},l.default.createElement(g.Input,{style:{width:"70%"},type:"text",name:"induYears_2",id:"induYears_2",value:u.m,onChange:this.handleOnChange2}),l.default.createElement(g.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0}))))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},a,{label:"工作年限",required:!1,colon:!0,className:t,help:o.workYearsHint,validateStatus:o.workYearsStatus}),l.default.createElement(g.Col,{span:"11"},l.default.createElement(x,{compact:!0},l.default.createElement(g.Input,{style:{width:"70%"},type:"text",name:"workYears_1",id:"workYears_1",value:d.y,onChange:this.handleOnChange2}),l.default.createElement(g.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),l.default.createElement(g.Col,{span:"2"}),l.default.createElement(g.Col,{span:"11"},l.default.createElement(x,{compact:!0},l.default.createElement(g.Input,{style:{width:"70%"},type:"text",name:"workYears_2",id:"workYears_2",value:d.m,onChange:this.handleOnChange2}),l.default.createElement(g.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0}))))))),l.default.createElement(C.default,{ref:"jobPage"}),l.default.createElement(g.Form,{layout:e},l.default.createElement(S,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=a(248),d=r(s),u=a(279),c=r(u),m=(a(1),o.Tabs.TabPane),h=a(3),p=n.default.createClass({displayName:"CreateUserPage",getInitialState:function(){return{modal:!1,selectKey:"1",user:null,job:null,userCreated:!1,memberCreated:!1,noticed:!1}},componentDidMount:function(){},initOutStaff:function(e,t){this.state.selectKey="1",this.state.userCreated=!1,this.state.memberCreated=!1,this.state.noticed=!1,this.state.user={},this.state.job={},h.copyValue(e,this.state.user),h.copyValue(t,this.state.job),this.refs.userPage.initOutStaff(e);var a=this.refs.memberPage;null!==a&&void 0!==a&&a.initOutStaff(e,t)},onSave:function(e){"user"===e?this.setState({userCreated:!0,selectKey:"1"}):"member"===e?this.setState({memberCreated:!0,selectKey:"1"}):"notice"===e&&this.setState({noticed:!0,selectKey:"1"})},toggle:function(){this.setState({modal:!this.state.modal})},onTabChange:function(e){this.setState({selectKey:e})},render:function(){var e=0,t=[];return this.state.userCreated||(e+=1,t.push(n.default.createElement(m,{tab:"创建员工账号",key:""+e,style:{width:"100%",height:"100%",padding:"0 10px 0 0"}},n.default.createElement(d.default,{ref:"userPage",onSave:this.onSave,modal:this.state.modal})))),this.state.memberCreated||(e+=1,t.push(n.default.createElement(m,{tab:"加入资源池",key:""+e,style:{width:"100%",height:"100%",padding:"0 10px 0 0"}},n.default.createElement(c.default,{ref:"memberPage",onSave:this.onSave,obj:this.state,type:"out"})))),this.state.noticed||(e+=1,t.push(n.default.createElement(m,{tab:"通知相关人员",key:""+e,style:{width:"100%",height:"100%"}}))),0===e&&(this.state.modal=!1),n.default.createElement(o.Modal,{visible:this.state.modal,width:"640px",title:"后续操作",maskClosable:!1,onCancel:this.toggle,footer:null},n.default.createElement(o.Tabs,{ref:"EmpTabs",activeKey:this.state.selectKey,onChange:this.onTabChange},t))}});t.default=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(7)),u=(r(d),a(9)),c=r(u),m=a(70),h=(r(m),a(12)),p=r(h),f=a(91),g=r(f),v=a(90),C=r(v),b=a(4),y=(a(1),a(6),b.DatePicker.MonthPicker,b.Form.Item),S=(b.Select.Option,o.default.createClass({displayName:"StaffFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],filter:{perName:"",staffCode:"",baseCity:"",eduDegree:"",induYear:"",empLevel:"",techUuid:"",manUuid:""}}},mixins:[(0,c.default)("filter")],componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"staffCode",desc:"员工号",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"eduDegree",desc:"最高学历",required:!1,max:"0"},{id:"induYear",desc:"行业经验",required:!1,max:"0"},{id:"empLevel",desc:"定级",required:!1,max:"0"},{id:"techUuid",desc:"技术岗",required:!1,max:"0"},{id:"manUuid",desc:"管理岗",required:!1,max:"0"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){var e;if(!this.state.modal)return null;var t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:8},wrapperCol:"vertical"==t?null:{span:16}},l=this.state.hints;return o.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},o.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},o.default.createElement(b.Form,{layout:t,style:{width:"100%"}},o.default.createElement(b.Row,{gutter:18},o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"姓名",required:!1,colon:!0,className:a,help:l.perNameHint,validateStatus:l.perNameStatus}),o.default.createElement(b.Input,{type:"text",name:"perName",id:"perName",value:this.state.filter.perName,onChange:this.handleOnChange
}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"员工号",required:!1,colon:!0,className:a,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),o.default.createElement(b.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.filter.staffCode,onChange:this.handleOnChange}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"归属地",required:!1,colon:!0,className:a,help:l.baseCityHint,validateStatus:l.baseCityStatus}),o.default.createElement(b.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.filter.baseCity,onChange:this.handleOnChange}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"最高学历",required:!1,colon:!0,className:a,help:l.eduDegreeHint,validateStatus:l.eduDegreeStatus}),o.default.createElement(p.default,(e={value:this.state.filter.eduDegree,name:"eduDegree",id:"eduDegree"},i(e,"value",this.state.filter.eduDegree),i(e,"appName","简历系统"),i(e,"optName","教育背景"),i(e,"onSelect",this.handleOnSelected.bind(this,"eduDegree")),e))))),o.default.createElement(b.Row,{gutter:18},o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"行业经验",required:!1,colon:!0,className:a,help:l.induYearHint,validateStatus:l.induYearStatus}),o.default.createElement(b.Input,{type:"text",name:"induYear",id:"induYear",value:this.state.filter.induYear,onChange:this.handleOnChange}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"定级",required:!1,colon:!0,className:a,help:l.empLevelHint,validateStatus:l.empLevelStatus}),o.default.createElement(g.default,{name:"empLevel",id:"empLevel",value:this.state.filter.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"技术岗",required:!1,colon:!0,className:a,help:l.techUuidHint,validateStatus:l.techUuidStatus}),o.default.createElement(C.default,{name:"techUuid",id:"techUuid",value:this.state.filter.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"管理岗",required:!1,colon:!0,className:a,help:l.manUuidHint,validateStatus:l.manUuidStatus}),o.default.createElement(C.default,{style:{width:"100%"},name:"manUuid",id:"manUuid",value:this.state.filter.manUuid,onSelect:this.handleOnSelDate.bind(this,"manUuid")})))))))}}));e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(9),u=r(d),c=a(91),m=r(c),h=a(90),p=r(h),f=(a(1),s.Form.Item),g=a(6),v=l.default.createClass({displayName:"StaffJobPage",getInitialState:function(){return{hints:{},job:{},validRules:[]}},mixins:[(0,u.default)("job")],componentDidMount:function(){this.state.validRules=[{id:"empLevel",desc:"员工级别",required:!1,max:"32"},{id:"userCost",desc:"结算单价",required:!1,max:"32"},{id:"techLevel",desc:"技术级别",required:!1,max:"32"},{id:"manLevel",desc:"管理级别",required:!1,max:"32"},{id:"techUuid",desc:"技术岗位",required:!1,max:"24"},{id:"manUuid",desc:"管理岗位",required:!1,max:"24"}]},fun:function(){var e=this.state.job,t=this.refs.techUuidBox.getJobNode();null===t.jobName||""===t.jobName||t.jobName===t.jobCode?e.techName=t.jobCode:e.techName=t.jobCode+"("+t.jobName+")";var a=this.refs.manUuidBox.getJobNode();null===a.jobName||""===a.jobName||a.jobName===a.jobCode?e.manName=a.jobCode:e.manName=a.jobCode+"("+a.jobName+")"},clear:function(){this.state.hints={},this.state.job.empLevel="",this.state.job.userCost="",this.state.job.techLevel="",this.state.job.manLevel="",this.state.job.techUuid="",this.state.job.manUuid=""},checkValue:function(){return g.formValidator(this,this.state.job)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints;return l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(f,i({},a,{label:"员工级别",required:!1,colon:!0,className:t,help:r.empLevelHint,validateStatus:r.empLevelStatus}),l.default.createElement(m.default,{name:"empLevel",id:"empLevel",value:this.state.job.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(f,i({},a,{label:"结算单价",required:!1,colon:!0,className:t,help:r.userCostHint,validateStatus:r.userCostStatus}),l.default.createElement(s.Input,{type:"text",name:"userCost",id:"userCost",value:this.state.job.userCost,onChange:this.handleOnChange})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(f,i({},a,{label:"技术级别",required:!1,colon:!0,className:t,help:r.techLevelHint,validateStatus:r.techLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.job.techLevel,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(f,i({},a,{label:"管理级别",required:!1,colon:!0,className:t,help:r.manLevelHint,validateStatus:r.manLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.job.manLevel,onChange:this.handleOnChange})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(f,i({},a,{label:"技术岗位",required:!1,colon:!0,className:t,help:r.techUuidHint,validateStatus:r.techUuidStatus}),l.default.createElement(p.default,{ref:"techUuidBox",name:"techUuid",id:"techUuid",value:this.state.job.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(f,i({},a,{label:"管理岗位",required:!1,colon:!0,className:t,help:r.manUuidHint,validateStatus:r.manUuidStatus}),l.default.createElement(p.default,{ref:"manUuidBox",name:"manUuid",id:"manUuid",value:this.state.job.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")})))))}});t.default=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(9)),d=r(s),u=a(12),c=r(u),m=a(14),h=r(m),p=a(7),f=r(p),g=a(4),v=a(1),C=a(6),b=a(3),y=g.Form.Item,S=g.AutoComplete.Option,E=g.Tabs.TabPane,w=g.Input.Group,x=a(515),k=a(367),j=l.default.createClass({displayName:"UpdateStaffPage",getInitialState:function(){return{staffSet:{operation:"",errMsg:""},loading:!1,modal:!1,staff:{},hints:{},validRules:[],result:[]}},mixins:[v.listenTo(x,"onServiceComplete"),(0,d.default)("staff")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,staffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"idCode",desc:"证件编号",required:!0,validator:this.checkIcCode,max:"64"},{id:"idType",desc:"证件类型",required:!0,max:"32"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"staffCode",desc:"员工编号",required:!0,max:"64"},{id:"jobTitle",desc:"职位",required:!1,max:"64"},{id:"baseCity",desc:"归属地",required:!1,max:"32"},{id:"phoneno",desc:"电话",required:!1,dataType:"mobile",max:"32"},{id:"email",desc:"电子邮箱",required:!1,dataType:"email",max:"64"},{id:"eduDegree",desc:"最高学历",required:!1,max:"64"},{id:"eduCollege",desc:"毕业院校",required:!1,max:"128"},{id:"induYears",desc:"工龄",required:!1,max:"32"},{id:"workYears",desc:"工作年限",required:!1,max:"32"}],this.initPage(this.props.staff)},checkIcCode:function(e,t,a){var r=this.state.staff;if("身份证"===r.idType)return C.checkDataType(e,"idcard18")},initPage:function(e){b.copyValue(e,this.state.staff),this.setState({loading:!1,hints:{}}),this.state.staffSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){if(C.formValidator(this,this.state.staff)){this.state.staffSet.operation="",this.setState({loading:!0});var e=this.state.staff;e.corpUuid=window.loginData.compUser.corpUuid,e.outUuid=h.default.selectedOutCorp.uuid,k.updateOutStaff(e)}},goBack:function(){this.props.onBack()},handleOnChange2:function(e){var t=1,a=e.target.id,r=a.indexOf("_"),i=a.substr(r+1);"2"===i&&(t=2),a=a.substr(0,r);var n=this.state.staff,l=n[a],o="0";void 0===l||null===l?l="0":(r=l.indexOf("."),r>0&&(o=l.substr(r+1),l=l.substr(0,r))),1===t?(l=e.target.value,""===l&&(l="0")):(o=e.target.value,""===o&&(o="0")),n[a]=l+"."+o,C.validator(this,n,a),this.setState({modal:this.state.modal})},getDisplayValue:function(e){var t=e,a="";if(void 0!==t&&null!==t){var r=t.indexOf(".");r>0&&(a=t.substr(r+1),t=t.substr(0,r),a=""+parseInt(a),t=""+parseInt(t),"0"===a&&(a=""),"0"===t&&(t=""))}return{y:t,m:a}},onTabChange:function(e){"1"===e&&this.props.onBack()},handleSearch:function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:C.eMailList.map(function(t){return e+"@"+t}),this.setState({result:t})},emailOnChange:function(e){var t=this.state.staff;t.email=e,C.validator(this,t,"email"),this.setState({loading:this.state.loading})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.result,n=r.map(function(e){return l.default.createElement(S,{key:e},e)}),o=this.state.hints,s=this.state.staff,d=(window.loginData.compUser.corpUuid,this.getDisplayValue(s.workYears)),u=this.getDisplayValue(s.induYears);return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(g.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(E,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(E,{tab:"修改人员信息",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"16px 0 16px 8px",height:"100%",width:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"600px"}},l.default.createElement(f.default,{ref:"mxgBox",svcList:["out-staff/update"]}),l.default.createElement(g.Form,{layout:e},l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"证件类型",required:!0,colon:!0,className:t,help:o.idTypeHint,validateStatus:o.idTypeStatus}),l.default.createElement(c.default,{name:"idType",id:"idType",disabled:!0,value:this.state.staff.idType,appName:"简历系统",optName:"证件类型",onSelect:this.handleOnSelected.bind(this,"idType")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"证件编号",required:!0,colon:!0,className:t,help:o.idCodeHint,validateStatus:o.idCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"idCode",id:"idCode",disabled:!0,value:this.state.staff.idCode,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"姓名",required:!0,colon:!0,className:t,help:o.perNameHint,validateStatus:o.perNameStatus}),l.default.createElement(g.Input,{type:"text",name:"perName",id:"perName",value:this.state.staff.perName,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"员工编号",required:!0,colon:!0,className:t,help:o.staffCodeHint,validateStatus:o.staffCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.staff.staffCode,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"职位",required:!1,colon:!0,className:t,help:o.jobTitleHint,validateStatus:o.jobTitleStatus}),l.default.createElement(g.Input,{type:"text",name:"jobTitle",id:"jobTitle",value:this.state.staff.jobTitle,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"归属地",required:!0,colon:!0,className:t,help:o.baseCityHint,validateStatus:o.baseCityStatus}),l.default.createElement(g.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.staff.baseCity,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"电话",required:!0,colon:!0,className:t,help:o.phonenoHint,validateStatus:o.phonenoStatus}),l.default.createElement(g.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.staff.phoneno,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"电子邮箱",required:!1,colon:!0,className:t,help:o.emailHint,validateStatus:o.emailStatus}),l.default.createElement(g.AutoComplete,{name:"email",id:"email",value:this.state.staff.email,onSearch:this.handleSearch,onChange:this.emailOnChange},n)))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"最高学历",required:!0,colon:!0,className:t,help:o.eduDegreeHint,validateStatus:o.eduDegreeStatus}),l.default.createElement(c.default,{name:"eduDegree",id:"eduDegree",value:this.state.staff.eduDegree,appName:"简历系统",optName:"教育背景",onSelect:this.handleOnSelected.bind(this,"eduDegree")}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"毕业院校",required:!1,colon:!0,className:t,help:o.eduCollegeHint,validateStatus:o.eduCollegeStatus}),l.default.createElement(g.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.staff.eduCollege,onChange:this.handleOnChange})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"行业经验",required:!0,colon:!0,className:t,help:o.induYearsHint,validateStatus:o.induYearsStatus}),l.default.createElement(g.Col,{span:"11"},l.default.createElement(w,{compact:!0},l.default.createElement(g.Input,{style:{width:"70%"},type:"text",name:"induYears_1",id:"induYears_1",value:u.y,onChange:this.handleOnChange2}),l.default.createElement(g.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),l.default.createElement(g.Col,{span:"2"}),l.default.createElement(g.Col,{span:"11"},l.default.createElement(w,{compact:!0},l.default.createElement(g.Input,{style:{width:"70%"},type:"text",name:"induYears_2",id:"induYears_2",value:u.m,onChange:this.handleOnChange2}),l.default.createElement(g.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0}))))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"工作年限",required:!1,colon:!0,className:t,help:o.workYearsHint,validateStatus:o.workYearsStatus}),l.default.createElement(g.Col,{span:"11"},l.default.createElement(w,{compact:!0},l.default.createElement(g.Input,{style:{width:"70%"},type:"text",name:"workYears_1",id:"workYears_1",value:d.y,onChange:this.handleOnChange2}),l.default.createElement(g.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"年",readOnly:!0}))),l.default.createElement(g.Col,{span:"2"}),l.default.createElement(g.Col,{span:"11"},l.default.createElement(w,{compact:!0},l.default.createElement(g.Input,{style:{width:"70%"},type:"text",name:"workYears_2",id:"workYears_2",value:d.m,onChange:this.handleOnChange2}),l.default.createElement(g.Input,{style:{width:"30%",textAlign:"center"},defaultValue:"月",readOnly:!0}))))))),l.default.createElement(g.Form,{layout:e},l.default.createElement(y,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(7)),u=(r(d),a(9)),c=r(u),m=a(70),h=(r(m),a(12)),p=r(h),f=a(91),g=r(f),v=a(90),C=r(v),b=a(4),y=(a(1),a(6),b.DatePicker.MonthPicker,b.Form.Item),S=(b.Select.Option,o.default.createClass({displayName:"StaffQueryFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],filter:{perName:"",staffCode:"",baseCity:"",eduDegree:"",induYear:"",empLevel:"",techUuid:"",manUuid:""}}},mixins:[(0,c.default)("filter")],componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"staffCode",desc:"员工号",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"eduDegree",desc:"最高学历",required:!1,max:"0"},{id:"induYear",desc:"行业经验",required:!1,max:"0"},{id:"empLevel",desc:"定级",required:!1,max:"0"},{id:"techUuid",desc:"技术岗",required:!1,max:"0"},{id:"manUuid",desc:"管理岗",required:!1,max:"0"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){var e;if(!this.state.modal)return null;var t="horizontal",a="form-item-"+t,r={labelCol:"vertical"==t?null:{span:8},wrapperCol:"vertical"==t?null:{span:16}},l=this.state.hints;return o.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},o.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},o.default.createElement(b.Form,{layout:t,style:{width:"100%"}},o.default.createElement(b.Row,{gutter:18},o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"姓名",required:!1,colon:!0,className:a,help:l.perNameHint,validateStatus:l.perNameStatus}),o.default.createElement(b.Input,{type:"text",name:"perName",id:"perName",value:this.state.filter.perName,onChange:this.handleOnChange}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"员工号",required:!1,colon:!0,className:a,help:l.staffCodeHint,validateStatus:l.staffCodeStatus}),o.default.createElement(b.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.filter.staffCode,onChange:this.handleOnChange}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"归属地",required:!1,colon:!0,className:a,help:l.baseCityHint,validateStatus:l.baseCityStatus}),o.default.createElement(b.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.filter.baseCity,onChange:this.handleOnChange}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"最高学历",required:!1,colon:!0,className:a,help:l.eduDegreeHint,validateStatus:l.eduDegreeStatus}),o.default.createElement(p.default,(e={value:this.state.filter.eduDegree,name:"eduDegree",id:"eduDegree"},i(e,"value",this.state.filter.eduDegree),i(e,"appName","简历系统"),i(e,"optName","教育背景"),i(e,"onSelect",this.handleOnSelected.bind(this,"eduDegree")),e))))),o.default.createElement(b.Row,{gutter:18},o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"行业经验",required:!1,colon:!0,className:a,help:l.induYearHint,validateStatus:l.induYearStatus}),o.default.createElement(b.Input,{type:"text",name:"induYear",id:"induYear",value:this.state.filter.induYear,onChange:this.handleOnChange}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"定级",required:!1,colon:!0,className:a,help:l.empLevelHint,validateStatus:l.empLevelStatus}),o.default.createElement(g.default,{name:"empLevel",id:"empLevel",value:this.state.filter.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"技术岗",required:!1,colon:!0,className:a,help:l.techUuidHint,validateStatus:l.techUuidStatus}),o.default.createElement(C.default,{name:"techUuid",id:"techUuid",value:this.state.filter.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),o.default.createElement(b.Col,{className:"gutter-row",span:6},o.default.createElement(y,n({},r,{label:"管理岗",required:!1,colon:!0,className:a,help:l.manUuidHint,validateStatus:l.manUuidStatus}),o.default.createElement(C.default,{style:{width:"100%"},name:"manUuid",id:"manUuid",value:this.state.filter.manUuid,onSelect:this.handleOnSelDate.bind(this,"manUuid")})))))))}}));e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1445),m=r(c),h=a(14),p=(r(h),a(21)),f=r(p),g=a(1),v=u.Input.Search,C=u.Radio.Button,b=u.Radio.Group,y=a(6),S=(a(3),a(1447)),E=a(749),w=10,x=n.default.createClass({displayName:"StaffQueryPage",getInitialState:function(){return{staffQuerySet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,moreFilter:!1,viewType:"1",filterValue:"",filter:{},staffQuery:null}},mixins:[g.listenTo(S,"onServiceComplete"),(0,f.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffQueryCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.StaffQueryFilter;null!==a&&"undefined"!=typeof a&&(a.state.filter=e.filter)}}this.setState({loading:!1,staffQuerySet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.corpUuid=window.loginData.compUser.corpUuid,t.more=this.state.moreFilter?"1":"0",E.retrieveOutJobPage(t,this.state.staffQuerySet.startPage,w)},componentDidMount:function(){E.getCacheData()},onChangeView:function(e){this.setState({viewType:e.target.value})},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;y.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onSearch3:function(){var e=this.refs.StaffQueryFilter.state.filter;this.state.filter=e,this.handleQueryClick()},onChangePage:function(e){this.state.staffQuerySet.startPage=e,this.handleQueryClick()},onGoBack:function(){this.setState({action:"query"})},onShowSizeChange:function(e,t){w=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},getWorkYear:function(e){if(void 0===e||null===e||""===e)return"";var t=e.indexOf(".");if(t>0){var a=e.substr(0,t),r=e.substr(t+1),i=parseInt(a),n=parseInt(r);return n>0?""+i+"年"+n+"月":""+i+"年"}return e+"年"},render:function(e){var t=this,e=window.loginData.compUser.corpUuid,a=[];a="1"===this.state.viewType?[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"职位",dataIndex:"jobTitle",key:"jobTitle",width:140},{title:"最高学历",dataIndex:"eduDegree",key:"eduDegree",width:140},{title:"公司名称",dataIndex:"corpName",key:"corpName",width:140},{title:"工作年限",dataIndex:"workYears",key:"workYears",width:140,render:function(e,a){return t.getWorkYear(e)}},{title:"行业经验",dataIndex:"induYears",key:"induYears",width:140,render:function(e,a){return t.getWorkYear(e)}},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140}]:[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"公司名称",dataIndex:"corpName",key:"corpName",width:140},{title:"员工级别",dataIndex:"empLevel",key:"empLevel",width:140,render:function(a,r){return t.getLevelName(e,r.empLevel)}},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:140},{title:"技术岗位",dataIndex:"techName",key:"techUuid",width:140},{title:"结算单价",dataIndex:"userCost",key:"userCost",width:140},{title:"生效日期",dataIndex:"effectDate",key:"effectDate",width:140}];var r=this.state.staffQuerySet.recordSet,i=this.state.moreFilter,l="query"===this.state.action?"":"none",o={showQuickJumper:!0,total:this.state.staffQuerySet.totalRow,pageSize:this.state.staffQuerySet.pageRow,current:this.state.staffQuerySet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},s=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:l}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["out-staff/retrieve"]}),n.default.createElement(m.default,{ref:"StaffQueryFilter",moreFilter:i}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:y.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(b,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeView},n.default.createElement(C,{value:"1"},"基本信息"),n.default.createElement(C,{value:"2"},"岗位"))),i?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onSearch3,loading:this.state.loading,style:{marginRight:"8px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.filterToggle},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(v,{placeholder:"查询(员工编号/员工姓名)",style:{width:y.searchWidth},value:this.state.filterValue,onChange:this.onFilterRecord,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.filterToggle,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:r,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:o,size:"middle",bordered:y.tableBorder}))),c=null;return"update"===this.state.action&&(c=n.default.createElement(UpdateStaffQueryPage,{onBack:this.onGoBack,staffQuery:this.state.staffQuery})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},s,c)}});e.exports=x},function(e,t,a){"use strict";var r=a(1),i=a(749),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("out-staff",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveOutJob:function(e){var t=this,a=this.getServiceUrl("out-staff/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveOutJobPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveOutJob(e)},onInitOutJob:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveOutJob(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(12),u=r(d),c=a(7),m=r(c),h=a(9),p=r(h),f=a(25),g=r(f),v=a(1),C=s.Form.Item,b=(s.Select.Option,s.Tabs.TabPane),y=a(6),S=(a(3),a(516)),E=a(368),w=a(14),x=l.default.createClass({displayName:"CreateGroupManPage",getInitialState:function(){return{groupManSet:{},loading:!1,groupMan:{},hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,p.default)("groupMan")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,groupManSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"roleName",desc:"角色",required:!0,max:64},{id:"perName",desc:"姓名",required:!0,max:32},{id:"beginDate",desc:"开始日期",max:24}],this.clear()},clear:function(e){this.state.hints={},this.state.groupMan.uuid="",this.state.groupMan.filter=e,this.state.groupMan.roleName="",this.state.groupMan.perName="",this.state.groupMan.beginDate="",this.state.groupMan.corpUuid=window.loginData.compUser.corpUuid,this.state.groupMan.grpUuid=w.selectedGroup.uuid,this.state.loading=!1,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.groupMan)&&(this.setState({loading:!0}),E.createGroupMan(this.state.groupMan))},onSelectEmpLoyee:function(e){this.state.groupMan.userUuid=e.uuid,this.state.groupMan.staffCode=e.staffCode,this.state.groupMan.perName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,n=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"增加项目群管理员",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(m.default,{ref:"mxgBox",svcList:["group-man/create"]}),l.default.createElement(s.Form,{layout:e,style:{width:"600px"}},l.default.createElement(C,i({},a,{className:t,label:"角色",required:!0,colon:!0,help:r.roleNameHint,validateStatus:r.roleNameStatus}),l.default.createElement(u.default,{name:"roleName",id:"roleName",appName:"项目管理",optName:"项目群角色",value:this.state.groupMan.roleName,onSelect:this.handleOnSelected.bind(this,"roleName")})),l.default.createElement(C,i({},a,{className:t,label:"姓名",required:!0,colon:!0,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(g.default,{corpUuid:n,showError:this.showError,ref:"empSearchBox",type:"text",name:"perName",id:"perName",value:this.state.groupMan.perName,onSelectEmpLoyee:this.onSelectEmpLoyee})),l.default.createElement(C,i({},a,{className:t,label:"开始日期",colon:!0,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(s.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.groupMan.beginDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)})),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading
},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(12),u=r(d),c=a(7),m=r(c),h=a(9),p=r(h),f=a(25),g=r(f),v=a(1),C=s.Form.Item,b=(s.Select.Option,s.Tabs.TabPane),y=a(6),S=a(3),E=a(516),w=a(368),x=l.default.createClass({displayName:"UpdateGroupManPage",getInitialState:function(){return{groupManSet:{},loading:!1,groupMan:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,p.default)("groupMan")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,groupManSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"roleName",desc:"角色",required:!0,max:64},{id:"perName",desc:"姓名",required:!0,max:32},{id:"beginDate",desc:"开始日期",max:24},{id:"endDate",desc:"离组日期",max:24}],this.initPage(this.props.groupMan)},initPage:function(e){S.copyValue(e,this.state.groupMan),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.perName),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.groupMan)&&(this.setState({loading:!0}),w.updateGroupMan(this.state.groupMan))},onSelectEmpLoyee:function(e){this.state.groupMan.userUuid=e.uuid,this.state.groupMan.staffCode=e.staffCode,this.state.groupMan.perName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,n=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"修改项目群管理员信息",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(m.default,{ref:"mxgBox",svcList:["group-man/update"]}),l.default.createElement(s.Form,{layout:e,style:{width:"600px"}},l.default.createElement(C,i({},a,{className:t,label:"角色",required:!0,colon:!0,help:r.roleNameHint,validateStatus:r.roleNameStatus}),l.default.createElement(u.default,{name:"roleName",id:"roleName",appName:"项目管理",optName:"项目群角色",value:this.state.groupMan.roleName,onSelect:this.handleOnSelected.bind(this,"roleName")})),l.default.createElement(C,i({},a,{className:t,label:"姓名",required:!0,colon:!0,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(g.default,{corpUuid:n,showError:this.showError,ref:"empSearchBox",type:"text",name:"perName",id:"perName",value:this.state.groupMan.perName,onSelectEmpLoyee:this.onSelectEmpLoyee})),l.default.createElement(C,i({},a,{className:t,label:"开始日期",colon:!0,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(s.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.groupMan.beginDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)})),l.default.createElement(C,i({},a,{className:t,label:"离组日期",colon:!0,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(s.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.groupMan.endDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",y.dateFormat)})),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(7),c=r(u),m=a(9),h=r(m),p=a(12),f=r(p),g=a(707),v=r(g),C=a(731),b=r(C),y=a(1),S=d.Form.Item,E=(d.Select.Option,a(6)),w=a(517),x=a(369),k=o.default.createClass({displayName:"CreateProjGroupPage",getInitialState:function(){return{projGroupSet:{operation:"",errMsg:""},loading:!1,modal:!1,projGroup:{},hints:{},validRules:[]}},mixins:[y.listenTo(w,"onServiceComplete"),(0,h.default)("projGroup")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({loading:!1,modal:!1}):this.setState({loading:!1,projGroupSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"custName",desc:"客户名称",required:!1,max:"64"},{id:"deptCode",desc:"一级部门",required:!1,max:"64"},{id:"grpCode",desc:"编号",required:!1,max:"64"},{id:"grpName",desc:"名称",required:!0,max:"128"},{id:"grpType",desc:"类型",required:!1,max:"32"},{id:"grpDesc",desc:"说明",required:!1,max:"3600"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"grpStatus",desc:"群状态",required:!1,max:"64"}]},clear:function(e){this.state.hints={},this.state.projGroup.operation="",this.state.projGroup.grpName="",this.state.projGroup.grpType="",this.state.projGroup.grpDesc="",this.state.projGroup.beginDate="",this.state.projGroup.endDate="",this.state.projGroup.grpStatus="运行",this.state.projGroup.orgType="",this.state.projGroup.grpCode="",this.state.projGroup.deptCode="",this.state.projGroup.custName="",this.state.projGroup.custCode="",this.state.projGroup.custDesc="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){E.formValidator(this,this.state.projGroup)&&(this.setState({loading:!0}),this.state.projGroup.operation="",this.state.projGroup.corpUuid=window.loginData.compUser.corpUuid,x.createProjGroup(this.state.projGroup))},onSelectCust:function(e){var t=this.state.projGroup;t.custCode=e.custCode,t.custName=e.custName,t.custDesc=e.custDesc,this.setState({projGroup:t})},render:function(){var e,t,a,r,l,s,u,m,h,p,g,C="horizontal",y="form-item-"+C,w={labelCol:"vertical"==C?null:{span:8},wrapperCol:"vertical"==C?null:{span:16}},x={labelCol:"vertical"==C?null:{span:4},wrapperCol:"vertical"==C?null:{span:20}},k=this.state.hints;return o.default.createElement(d.Modal,{visible:this.state.modal,width:"540px",title:"增加项目群",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(c.default,{ref:"mxgBox",svcList:["proj_group/create"]}),o.default.createElement(d.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(d.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},o.default.createElement(d.Form,{layout:C},o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"24"},o.default.createElement(S,n({},x,(e={className:y,label:"客户",colon:!0},i(e,"className",y),i(e,"help",k.custNameHint),i(e,"validateStatus",k.custNameStatus),e)),o.default.createElement(b.default,{onSelectCust:this.onSelectCust})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"12"},o.default.createElement(S,n({},w,(t={className:y,label:"客户编号",colon:!0},i(t,"className",y),i(t,"help",k.custCodeHint),i(t,"validateStatus",k.custCodeStatus),t)),o.default.createElement(d.Input,{type:"text",name:"custCode",id:"custCode",value:this.state.projGroup.custCode,onChange:this.handleOnChange,readOnly:!0}))),o.default.createElement(d.Col,{span:"12"},o.default.createElement(S,n({},w,(a={className:y,label:"客户简称",colon:!0},i(a,"className",y),i(a,"help",k.custNameHint),i(a,"validateStatus",k.custNameStatus),a)),o.default.createElement(d.Input,{type:"text",name:"custName",id:"custName",value:this.state.projGroup.custName,onChange:this.handleOnChange,readOnly:!0})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"24"},o.default.createElement(S,n({},x,(r={className:y,label:"客户名称",colon:!0},i(r,"className",y),i(r,"help",k.custDescHint),i(r,"validateStatus",k.custDescStatus),r)),o.default.createElement(d.Input,{type:"text",name:"custDesc",id:"custDesc",value:this.state.projGroup.custDesc,onChange:this.handleOnChange,readOnly:!0})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"12"},o.default.createElement(S,n({},w,(l={className:y,label:"编号",colon:!0},i(l,"className",y),i(l,"help",k.grpCodeHint),i(l,"validateStatus",k.grpCodeStatus),l)),o.default.createElement(d.Input,{type:"text",name:"grpCode",id:"grpCode",value:this.state.projGroup.grpCode,onChange:this.handleOnChange})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"24"},o.default.createElement(S,n({},x,(s={className:y,label:"名称",required:!0,colon:!0},i(s,"className",y),i(s,"help",k.grpNameHint),i(s,"validateStatus",k.grpNameStatus),s)),o.default.createElement(d.Input,{type:"text",name:"grpName",id:"grpName",value:this.state.projGroup.grpName,onChange:this.handleOnChange})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"24"},o.default.createElement(S,n({},x,(u={className:y,label:"说明",colon:!0},i(u,"className",y),i(u,"help",k.grpDescHint),i(u,"validateStatus",k.grpDescStatus),u)),o.default.createElement(d.Input,{type:"textarea",name:"grpDesc",id:"grpDesc",value:this.state.projGroup.grpDesc,onChange:this.handleOnChange})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"12"},o.default.createElement(S,n({},w,(m={className:y,label:"类型",colon:!0},i(m,"className",y),i(m,"help",k.grpTypeHint),i(m,"validateStatus",k.grpTypeStatus),m)),o.default.createElement(f.default,{name:"grpType",id:"grpType",value:this.state.projGroup.grpType,appName:"项目管理",optName:"项目群类型",onSelect:this.handleOnSelected.bind(this,"grpType")}))),o.default.createElement(d.Col,{span:"12"},o.default.createElement(S,n({},w,(h={className:y,label:"业务部门",colon:!0},i(h,"className",y),i(h,"help",k.deptCodeHint),i(h,"validateStatus",k.deptCodeStatus),h)),o.default.createElement(v.default,{name:"deptCode",id:"deptCode",value:this.state.projGroup.deptCode,onSelect:this.handleOnSelected.bind(this,"deptCode")})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"12"},o.default.createElement(S,n({},w,(p={className:y,label:"状态",colon:!0},i(p,"className",y),i(p,"help",k.grpStatusHint),i(p,"validateStatus",k.grpStatusStatus),p)),o.default.createElement(f.default,{name:"grpStatus",id:"grpStatus",value:this.state.projGroup.grpStatus,appName:"项目管理",optName:"项目群状态",onSelect:this.handleOnSelected.bind(this,"grpStatus")}))),o.default.createElement(d.Col,{span:"12"},o.default.createElement(S,n({},w,(g={className:y,label:"创建日期",colon:!0},i(g,"className",y),i(g,"help",k.beginDateHint),i(g,"validateStatus",k.beginDateStatus),g)),o.default.createElement(d.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.projGroup.beginDate,E.dateFormat),format:E.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",E.dateFormat)}))))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(4)),u=a(7),c=r(u),m=a(9),h=r(m),p=a(707),f=r(p),g=a(12),v=r(g),C=a(1),b=d.Form.Item,y=(d.Select.Option,a(6)),S=a(3),E=a(517),w=a(369),x=o.default.createClass({displayName:"UpdateProjGroupPage",getInitialState:function(){return{projGroupSet:{operation:"",errMsg:""},loading:!1,modal:!1,projGroup:{},hints:{},validRules:[]}},mixins:[C.listenTo(E,"onServiceComplete"),(0,h.default)("projGroup")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,projGroupSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"custName",desc:"客户名称",required:!1,max:"64"},{id:"deptCode",desc:"一级部门",required:!1,max:"64"},{id:"grpCode",desc:"编号",required:!1,max:"64"},{id:"grpName",desc:"名称",required:!0,max:"128"},{id:"grpType",desc:"类型",required:!1,max:"32"},{id:"grpDesc",desc:"说明",required:!1,max:"3600"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"grpStatus",desc:"群状态",required:!1,max:"64"}]},initPage:function(e){this.state.hints={},S.copyValue(e,this.state.projGroup),this.state.loading=!1,this.state.projGroupSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.projGroup)&&(this.state.projGroupSet.operation="",this.setState({loading:!0}),w.updateProjGroup(this.state.projGroup))},render:function(){var e,t,a,r,l,s,u,m,h="horizontal",p="form-item-"+h,g={labelCol:"vertical"==h?null:{span:8},wrapperCol:"vertical"==h?null:{span:16}},C={labelCol:"vertical"==h?null:{span:4},wrapperCol:"vertical"==h?null:{span:20}},S=this.state.hints;return o.default.createElement(d.Modal,{visible:this.state.modal,width:"540px",title:"修改项目群",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[o.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},o.default.createElement(c.default,{ref:"mxgBox",svcList:["proj_group/update"]}),o.default.createElement(d.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",o.default.createElement(d.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},o.default.createElement(d.Form,{layout:h},o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"12"},o.default.createElement(b,n({},g,(e={className:p,label:"编号",colon:!0},i(e,"className",p),i(e,"help",S.grpCodeHint),i(e,"validateStatus",S.grpCodeStatus),e)),o.default.createElement(d.Input,{type:"text",name:"grpCode",id:"grpCode",value:this.state.projGroup.grpCode,onChange:this.handleOnChange}))),o.default.createElement(d.Col,{span:"12"},o.default.createElement(b,n({},g,(t={className:p,label:"客户名称",colon:!0},i(t,"className",p),i(t,"help",S.custNameHint),i(t,"validateStatus",S.custNameStatus),t)),o.default.createElement(d.Input,{type:"text",name:"custName",id:"custName",value:this.state.projGroup.custName,onChange:this.handleOnChange,readOnly:!0})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"24"},o.default.createElement(b,n({},C,(a={className:p,label:"名称",colon:!0,required:!0},i(a,"className",p),i(a,"help",S.grpNameHint),i(a,"validateStatus",S.grpNameStatus),a)),o.default.createElement(d.Input,{type:"text",name:"grpName",id:"grpName",value:this.state.projGroup.grpName,onChange:this.handleOnChange})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"24"},o.default.createElement(b,n({},C,(r={className:p,label:"说明",colon:!0},i(r,"className",p),i(r,"help",S.grpDescHint),i(r,"validateStatus",S.grpDescStatus),r)),o.default.createElement(d.Input,{type:"textarea",name:"grpDesc",id:"grpDesc",value:this.state.projGroup.grpDesc,onChange:this.handleOnChange})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"12"},o.default.createElement(b,n({},g,(l={className:p,label:"类型",colon:!0},i(l,"className",p),i(l,"help",S.grpTypeHint),i(l,"validateStatus",S.grpTypeStatus),l)),o.default.createElement(v.default,{name:"grpType",id:"grpType",value:this.state.projGroup.grpType,appName:"项目管理",optName:"项目群类型",onSelect:this.handleOnSelected.bind(this,"grpType")}))),o.default.createElement(d.Col,{span:"12"},o.default.createElement(b,n({},g,(s={className:p,label:"业务部门",colon:!0},i(s,"className",p),i(s,"help",S.deptCodeHint),i(s,"validateStatus",S.deptCodeStatus),s)),o.default.createElement(f.default,{name:"deptCode",id:"deptCode",value:this.state.projGroup.deptCode,onSelect:this.handleOnSelected.bind(this,"deptCode")})))),o.default.createElement(d.Row,null,o.default.createElement(d.Col,{span:"12"},o.default.createElement(b,n({},g,(u={className:p,label:"状态",colon:!0},i(u,"className",p),i(u,"help",S.grpStatusHint),i(u,"validateStatus",S.grpStatusStatus),u)),o.default.createElement(v.default,{name:"grpStatus",id:"grpStatus",value:this.state.projGroup.grpStatus,appName:"项目管理",optName:"项目群状态",onSelect:this.handleOnSelected.bind(this,"grpStatus")}))),o.default.createElement(d.Col,{span:"12"},o.default.createElement(b,n({},g,(m={className:p,label:"创建日期",colon:!0},i(m,"className",p),i(m,"help",S.beginDateHint),i(m,"validateStatus",S.beginDateStatus),m)),o.default.createElement(d.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.projGroup.beginDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)}))))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(21),p=r(h),f=a(14),g=r(f),v=a(1),C=(a(6),a(3)),b=m.Form.Item,y=(m.Select.Option,a(753)),S=a(518),E=a(135),w=a(170),x=l.default.createClass({displayName:"CreateTempCheckPage",getInitialState:function(){return{tempCheckSet:{errMsg:""},loading:!1,modal:!1,tempCheck:{},hints:{},validRules:[],isCreate:!1}},mixins:[v.listenTo(y,"onServiceComplete"),(0,c.default)("tempCheck"),v.listenTo(w,"onCheckInfoComplete"),(0,p.default)()],onServiceComplete:function(e){this.state.modal&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tempCheckSet:e}))},onCheckInfoComplete:function(e){g.default.calcCheckDate(this.state.tempCheck,e.posSet,e.leaveSet,this.state.isCreate),this.setState({loading:!1,leaveSet:e.leaveSet,posSet:e.posSet})},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"工号",required:!1,max:"0"},{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"fromHour",desc:"开始时间",required:!1,max:"0"},{id:"toHour",desc:"结束时间",required:!1,max:"0"},{id:"dateType",desc:"日期类型",required:!1,max:"0"},{id:"leaveType",desc:"休假类型",required:!1,max:"0"},{id:"leaveHour",desc:"休假时间",required:!1,max:"0"},{id:"workHour",desc:"工时",required:!1,max:"0"},{id:"overHour",desc:"加班",required:!1,max:"0"},{id:"chkDesc",desc:"备注",required:!1,max:"512"}]},clear:function(e,t){this.state.hints={},C.copyValue(e,this.state.tempCheck);var a=window.loginData.compUser.corpUuid;this.state.tempCheck.corpUuid=a,this.state.tempCheck.chkDate=t,this.state.tempCheck.chkProj=g.default.selectedGroup.uuid,this.state.tempCheck.chkTeam="",this.state.tempCheck.projUuid=e.resUuid,this.state.tempCheck.teamUuid=e.teamUuid,this.state.tempCheck.projType=e.resStatus,this.state.tempCheck.projName=e.resName,this.state.tempCheck.projLoc=e.resLoc,this.state.tempCheck.pmUuid="",this.state.tempCheck.pmCode=window.loginData.compUser.userCode,this.state.tempCheck.pmName=window.loginData.authUser.perName,this.state.tempCheck.fromHour=e.fromTime,this.state.tempCheck.toHour=e.endTime,this.state.tempCheck.dateType=this.getDateType(t),this.state.tempCheck.leaveType="",this.state.tempCheck.leaveHour="0",this.state.tempCheck.chkType="";var r=e.checkUuid;void 0===r||null===r||""===r?(this.state.tempCheck.workHour="0",this.state.tempCheck.overHour="0",this.state.tempCheck.chkDesc="",this.state.isCreate=!0):(this.state.tempCheck.uuid=r,this.state.isCreate=!1),this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),this.state.loading=!0,E.getCheckInfo(a,e.staffCode,e.userId,t)},onClickSave:function(){this.setState({loading:!0}),this.state.isCreate?S.createUserChkBook(this.state.tempCheck):S.updateUserChkBook(this.state.tempCheck)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints,o=this.state.isCreate?"生成考勤":"修改考勤数据";return l.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:o,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/update"]}),l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(m.Form,{layout:e},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"工号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.tempCheck.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{type:"text",name:"perName",id:"perName",value:this.state.tempCheck.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"开始时间",required:!1,colon:!0,className:t,help:n.fromHourHint,validateStatus:n.fromHourStatus}),l.default.createElement(m.Input,{type:"text",name:"fromHour",id:"fromHour",value:this.state.tempCheck.fromHour,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"结束时间",required:!1,colon:!0,className:t,help:n.toHourHint,validateStatus:n.toHourStatus}),l.default.createElement(m.Input,{type:"text",name:"toHour",id:"toHour",value:this.state.tempCheck.toHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(b,i({},r,{label:"签到记录",required:!1,colon:!0,className:t}),l.default.createElement(m.Input,{type:"textarea",name:"checkLogger",id:"checkLogger",value:this.state.tempCheck.checkLogger,readOnly:!0})),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"签到时长",required:!1,colon:!0,className:t}),l.default.createElement(m.Input,{type:"text",name:"checkHour",id:"checkHour",value:this.state.tempCheck.checkHour,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"日期类型",required:!1,colon:!0,className:t,help:n.dateTypeHint,validateStatus:n.dateTypeStatus}),l.default.createElement(m.Input,{type:"text",name:"dateType",id:"dateType",value:this.state.tempCheck.dateType,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"休假类型",required:!1,colon:!0,className:t,help:n.leaveTypeHint,validateStatus:n.leaveTypeStatus}),l.default.createElement(m.Input,{type:"text",name:"leaveType",id:"leaveType",value:this.state.tempCheck.leaveType,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"休假时间",required:!1,colon:!0,className:t,help:n.leaveHourHint,validateStatus:n.leaveHourStatus}),l.default.createElement(m.Input,{type:"text",name:"leaveHour",id:"leaveHour",value:this.state.tempCheck.leaveHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"工时",required:!1,colon:!0,className:t,help:n.workHourHint,validateStatus:n.workHourStatus}),l.default.createElement(m.Input,{type:"text",name:"workHour",id:"workHour",value:this.state.tempCheck.workHour,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"加班",required:!1,colon:!0,className:t,help:n.overHourHint,validateStatus:n.overHourStatus}),l.default.createElement(m.Input,{type:"text",name:"overHour",id:"overHour",value:this.state.tempCheck.overHour,onChange:this.handleOnChange})))),l.default.createElement(m.Row,null,l.default.createElement(b,i({},r,{label:"备注",required:!1,colon:!0,className:t,help:n.chkDescHint,validateStatus:n.chkDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"chkDesc",id:"chkDesc",value:this.state.tempCheck.chkDesc,onChange:this.handleOnChange})))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1452),m=r(c),h=a(30),p=r(h),f=a(133),g=r(f),v=a(1),C=a(11),b=(u.Radio.Button,u.Radio.Group,u.DatePicker.MonthPicker,"YYYY-MM-DD"),y=u.Input.Search,S=a(6),E=(a(3),a(753)),w=a(518),x=a(14),k=""+S.getToday(),j=n.default.createClass({displayName:"TempCheckPage",getInitialState:function(){return{tempCheckSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,errMsg:""},loading:!1,viewType:"1",workDate:k,filter:""}},mixins:[v.listenTo(E,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,tempCheckSet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryUserChkBook(k)},onChangeDate:function(e){var t=e.target.value;this.queryUserChkBook(t),this.setState({loading:!0,workDate:t,selectedRowKeys:null})},queryUserChkBook:function(e){var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.grpUuid=x.selectedGroup.uuid,t.chkCode=window.loginData.compUser.userCode,t.workDate=e,w.retrieveUserChkBook(t)},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workDate:a}),this.queryUserChkBook(a)},showError:function(e){C.showError("res-member-snap","create-proj-chk",e)},onClickUpdate:function(e,t){var a=this.state.workDate;this.refs.createWindow.clear(e,a),this.refs.createWindow.toggle(),t.stopPropagation()},getTitleStyle:function(e){return null===e.checkUuid?{color:"red"}:null},onClickDelete:function(e,t){var a={};a.uuid=e.uuid,a.corpUuid=window.loginData.compUser.corpUuid,a.staffCode=e.staffCode,a.chkDate=this.state.workDate,a.chkProj=e.chkProj,u.Modal.confirm({title:"删除确认",content:"是否删除【"+e.perName+"】的考勤数据",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,a)}),t.stopPropagation()},onClickDelete2:function(e){this.setState({loading:!0}),w.deleteUserChkBook(e)},render:function(){var e=this,t=S.filter(this.state.tempCheckSet.recordSet,this.state.filterValue),a=(this.state.selectedRowKeys,t.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:260}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.onClickUpdate.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title",style:e.getTitleStyle(t)},t.staffCode,"（",t.perName,"）")),n.default.createElement("div",{className:"ant-card-extra"},n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,t),title:"修改"},n.default.createElement(u.Icon,{type:S.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,t),title:"删除考勤数据"},n.default.createElement(u.Icon,{type:S.iconRemove}))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"80px",overflow:"hidden"}},n.default.createElement("p",null,"签到：",t.checkIn,"， 签退：",t.checkOut),n.default.createElement("p",null,"工时：",t.workHour,"， 加班：",t.overHour,"， 经理：",t.pmName))))})),r=S.getCardMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:r.padding}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/remove","res-member-snap/create-proj-chk"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(g.default,{value:this.state.workDate,onChange:this.onChangeDate}),n.default.createElement(u.DatePicker,{style:{width:"100px",marginLeft:"16px"},format:b,onChange:this.datePicker,allowClear:!1})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(y,{placeholder:"查询",style:{width:S.searchWidth},value:this.state.filterValue,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"card-body",style:{paddingTop:"6px"}},this.state.loading?n.default.createElement(u.Spin,{tip:"正在努力加载数据..."},a):n.default.createElement("div",null,a)),n.default.createElement(m.default,{ref:"createWindow"}))}});e.exports=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),m=r(c),h=a(30),p=r(h),f=a(221),g=r(f),v=a(76),C=r(v),b=a(26),y=r(b),S=a(1),E=a(11),w=u.Radio.Button,x=u.Radio.Group,k=u.DatePicker.MonthPicker,j=u.Input.Search,N=a(6),P=(a(3),a(370)),D=a(276),R=a(14),M=a(134),U=""+N.getMonth(),T=n.default.createClass({displayName:"CheckQueryPage",getInitialState:function(){return{checkQuerySet:{recordSet:[],errMsg:""},loading:!1,viewType:"1",workMonth:U,filter:""}},mixins:[S.listenTo(P,"onServiceComplete"),(0,p.default)(),(0,m.default)(),(0,y.default)()],onServiceComplete:function(e){this.setState({loading:!1,checkQuerySet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryCheckQuery(U)},onChangeDate:function(e){var t=e.target.value;this.queryCheckQuery(t),this.setState({loading:!0,workMonth:t,selectedRowKeys:null})},queryCheckQuery:function(e){var t={};null!==e&&""!==e?(t.fromDate=e+"01",t.toDate=e+"31"):(t.fromDate="",t.toDate=""),t.chkProj=R.selectedProj.uuid,D.retrieveCheckQuery(t)},onChangeViewType:function(e){D.getCacheData(),this.setState({loading:!0,viewType:e.target.value})},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workMonth:a}),this.queryCheckQuery(a)},showError:function(e){E.showError("user-chk-book","retrieve",e)},getWorkHours:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];t+=parseFloat(r.workHour)}return t},getOverHours:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"0"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getOverHours3:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"2"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getOverHours2:function(e){
for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"1"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getLeaveHour:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"事假"!==r.leaveType&&"病假"!==r.leaveType&&"其他无薪假期"!==r.leaveType&&(t+=parseFloat(r.leaveHour))}return t},getLeaveHour2:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"事假"!=r.leaveType&&"病假"!=r.leaveType&&"其他无薪假期"!=r.leaveType||(t+=parseFloat(r.leaveHour))}return t},xlsExport:function(){var e=this,t=[],a=this.state.checkQuerySet.recordSet;if("1"===this.state.viewType)a.map(function(a,r){var i={};i.staffCode=a.staffCode,i.perName=a.perName,i.posTime=a.posTime,i.deptName=a.deptName,i.manType=a.manType,i.workHours=e.getWorkHours(a),i.overHours=e.getOverHours(a),i.overHour2=e.getOverHours2(a),i.overHour3=e.getOverHours3(a),i.leaveHour=e.getLeaveHour(a),i.leaveHour2=e.getLeaveHour2(a),t.push(i)}),this.downXlsTempFile2(M.checkMemberFields,t,this.refs.xls);else{for(var r=[{id:"A",name:"staffCode",title:"员工号"},{id:"B",name:"perName",title:"姓名"},{id:"C",name:"deptName",title:"部门"}],i=this.getDays(),n="",l=1;l<i+1;l++){var o={},s=l+67;switch(n=String.fromCharCode(s),s){case 91:n="AA";break;case 92:n="AB";break;case 93:n="AC";break;case 94:n="AD";break;case 95:n="AE";break;case 96:n="AF";break;case 97:n="AG";break;case 98:n="AH"}l=l<10?"0"+l:""+l,o.id=n,o.name=l,o.title=l,r.push(o)}this.downXlsTempFile2(r,a,this.refs.xls)}},getDays:function(){var e=this.state.workMonth.substr(0,4),t=this.state.workMonth.substr(4,2),a=new Date(e,t,0),r=a.getDate();return r},render:function(){var e=this,t=N.filter(this.state.checkQuerySet.recordSet,this.state.filterValue),a=[],r=this.getDays();if("1"===this.state.viewType)a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"类型",dataIndex:"manType",key:"manType",width:140},{title:"工时",dataIndex:"workHours",key:"workHours",width:140,render:function(t,a){return e.getWorkHours(a)}},{title:"加班",dataIndex:"overHours",key:"overHours",width:140,render:function(t,a){return e.getOverHours(a)}},{title:"周末",dataIndex:"overHour2",key:"overHour2",width:140,render:function(t,a){return e.getOverHours2(a)}},{title:"节假日",dataIndex:"overHour3",key:"overHour3",width:140,render:function(t,a){return e.getOverHours3(a)}},{title:"带薪假",dataIndex:"leaveHour",key:"leaveHour",width:140,render:function(t,a){return e.getLeaveHour(a)}},{title:"无薪假",dataIndex:"leaveHour2",key:"leaveHour2",width:140,render:function(t,a){return e.getLeaveHour2(a)}}];else if("2"===this.state.viewType){a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:100,fixed:"left"},{title:"姓名",dataIndex:"perName",key:"perName",width:100,fixed:"left"},{title:"部门",dataIndex:"deptName",key:"deptName",width:140}];for(var i=this.state.workMonth,l=1;l<r+1;l++){l=l<10?"0"+l:""+l;var o="",s=this.getDateType(i+l);"1"!==s&&"2"!==s||(o="leaveWeek"),a.push({title:l,dataIndex:l,key:l,width:120,className:o})}}else if("3"===this.state.viewType){a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:100,fixed:"left"},{title:"姓名",dataIndex:"perName",key:"perName",width:100,fixed:"left"},{title:"部门",dataIndex:"deptName",key:"deptName",width:140}];for(var i=this.state.workMonth,l=1;l<r+1;l++){l=l<10?"0"+l:""+l;var o="",s=this.getDateType(i+l);"1"!==s&&"2"!==s||(o="leaveWeek"),a.push({title:l,dataIndex:l,key:l,width:120,className:o})}}var c=N.getCardMargin(this),m=120*r+340;if("1"===this.state.viewType&&(m=0),"2"===this.state.viewType)for(var l=0;l<t.length;l++)for(var h=t[l],p=0;p<h.chkList.length;p++){var f=h.chkList[p],v=f.chkDate.substr(6,2),b=f.workHour;"0"===b&&(b=""),"0"!=f.overHour&&(b=""===b?"【加】"+parseFloat(f.overHour):b+";【加】"+parseFloat(f.overHour)),"0"!=f.leaveHour&&(b=""===b?"【休】"+parseFloat(f.leaveHour):b+";【休】"+parseFloat(f.leaveHour)),h[v]=b}else if("3"===this.state.viewType)for(var l=0;l<t.length;l++)for(var h=t[l],p=0;p<h.chkList.length;p++){var f=h.chkList[p],v=f.chkDate.substr(6,2),y="",S=f.checkIn,E=f.checkOut;void 0!==S&&null!==S&&""!==S&&(y=S.substr(0,5)),void 0!==E&&null!==E&&""!==E&&(y=y+"~"+E.substr(0,5)),h[v]=y}return n.default.createElement("div",{className:"grid-page",style:{padding:c.padding}},n.default.createElement("div",{style:{margin:c.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(g.default,{value:this.state.workMonth,onChange:this.onChangeDate}),n.default.createElement(k,{allowClear:!1,style:{marginLeft:"16px",width:"120px"},format:N.monthFormat,onChange:this.datePicker}),n.default.createElement(u.Button,{icon:"download",title:"导出考勤数据",onClick:this.xlsExport,style:{marginLeft:"14px"}}),n.default.createElement("div",{style:{float:"right"}},n.default.createElement(x,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeViewType},n.default.createElement(w,{value:"1"},n.default.createElement(u.Icon,{type:"bars"})),n.default.createElement(w,{value:"2"},n.default.createElement(u.Icon,{type:"credit-card"})),n.default.createElement(w,{value:"3"},n.default.createElement(u.Icon,{type:"check-square-o"})))),n.default.createElement(j,{placeholder:"查询",style:{width:"120px",marginLeft:"16px",float:"right"},value:this.state.filterValue,onChange:this.onFilterRecord}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,scroll:{x:m,y:600},rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:N.tableBorder})),n.default.createElement(C.default,{ref:"xls"}))}});e.exports=T},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"CustCheckPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"客户考勤")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"ProjDailyPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"工作量日报")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=(r(m),a(79)),p=(r(h),a(14)),f=r(p),g=a(30),v=r(g),C=a(4),b=a(1),y=a(6),S=a(3),E=C.Form.Item,w=(C.Select.Option,C.Tabs.TabPane),x=a(754),k=a(519),j=l.default.createClass({displayName:"BackSure",getInitialState:function(){return{backSet:{errMsg:""},loading:!1,back:{},hints:{},validRules:[]}},mixins:[b.listenTo(x,"onServiceComplete"),(0,c.default)("back"),(0,v.default)()],onServiceComplete:function(e){"create"===e.operation?""===e.errMsg?this.props.onBack():this.setState({loading:!1,backSet:e}):"retrieveMember"===e.operation&&(""===e.errMsg?(e.member&&(this.state.back.deptName=e.member.deptName,this.state.back.baseCity=e.member.baseCity,this.state.back.manType=e.member.manType,this.state.back.phoneno=e.member.phoneno,this.state.back.eduDegree=e.member.eduDegree,this.state.back.eduCollege=e.member.eduCollege,this.state.back.workBegin=e.member.workBegin,this.state.back.induBegin=e.member.induBegin,this.state.back.techUuid=e.member.techUuid,this.state.back.techName=e.member.techName,this.state.back.manUuid=e.member.manUuid,this.state.back.manName=e.member.manName),this.setState({loading:!1,backSet:e})):this.setState({loading:!1,backSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginTime",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.back)},initPage:function(e){S.copyValue(e,this.state.back),this.state.back.beginDate=y.getToday()+"",this.state.back.beginTime="09:00","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({loading:!0,hints:{}}),k.getMember(e.staffCode)},getLevelName:function(e){var t=this._getNullValue(uuid,"hr_level");return null===t&&(LevelActions.getLevelName(corpUuid,uuid),t=this._getResultValue(uuid,"hr_level")),t},onClickSave:function(){y.formValidator(this,this.state.back)&&(this.setState({loading:!0}),this.state.back.projUuid=f.default.selectedProj.uuid,this.state.back.projName=f.default.selectedProj.projName,this.state.back.grpUuid=f.default.selectedProj.parentUuid,k.backSure(this.state.back))},onTabChange:function(e){"2"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints,o=f.default.selectedProj.uuid,s=this.getTeamName(o,this.state.back.teamUuid),u=(void 0===this.state.back.dispType?"1":this.state.back.dispType,l.default.createElement(C.Form,{layout:e,style:{width:"600px"}},l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"员工编号",className:t}),l.default.createElement(C.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.back.staffCode,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"员工姓名",className:t}),l.default.createElement(C.Input,{type:"text",name:"perName",id:"perName",value:this.state.back.perName,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"人员类型",className:t}),l.default.createElement(C.Input,{type:"text",name:"manType",id:"manType",value:this.state.back.manType,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"归属地",className:t}),l.default.createElement(C.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.back.baseCity,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"24"},l.default.createElement(E,i({},r,{label:"公司",className:t}),l.default.createElement(C.Input,{type:"text",name:"corpName",id:"corpName",value:this.state.back.corpName,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"24"},l.default.createElement(E,i({},r,{label:"部门",className:t}),l.default.createElement(C.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.back.deptName,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"小组名称",className:t}),l.default.createElement(C.Input,{type:"text",name:"teamUuid",id:"teamUuid",value:s,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"客户级别",className:t}),l.default.createElement(C.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.back.projLevel,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"结算单价",className:t}),l.default.createElement(C.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.back.userPrice,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"离组日期",className:t}),l.default.createElement(C.Input,{type:"text",name:"endDate",id:"endDate",value:y.formatDate(this.state.back.endDate,y.dateFormat),disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"离组时间",className:t}),l.default.createElement(C.Input,{type:"text",name:"endTime",id:"endTime",value:this.state.back.endTime,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"回组日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(C.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:y.dateFormat,value:this.formatDate(this.state.back.beginDate,y.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"回组时间",required:!0,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(C.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.back.beginTime,onChange:this.handleOnChange})))),l.default.createElement(E,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(C.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(C.Button,{key:"btnClose",size:"large",onClick:this.props.onBack},"取消"))));return l.default.createElement(C.Tabs,{defaultActiveKey:"3",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(w,{tab:"调度指令",key:"1",disabled:"true",style:{width:"100%",height:"100%"}}),l.default.createElement(w,{tab:"人员回组",key:"2",style:{width:"100%",height:"100%"}}),l.default.createElement(w,{tab:"人员回组确认",key:"3",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/create","proj-member/retrieveMember"]}),this.state.loading?l.default.createElement(C.Spin,null,u):u)))}});e.exports=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),m=r(c),h=a(30),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=(a(3),a(14)),b=a(754),y=a(519),S="",E=10,w=n.default.createClass({displayName:"BackTable",getInitialState:function(){return{backSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[f.listenTo(b,"onServiceComplete"),(0,m.default)(),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,backSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.backSet.operation="";var t=C.selectedProj.uuid;y.retrieveBackTablePage(t,this.state.backSet.startPage,E)},componentDidMount:function(){this.setState({loading:!0});var e=C.selectedProj.uuid;y.initBackTable(e,this.state.backSet.startPage,E)},onClickUpdate:function(e,t){var a={};a.action="backSure",a.back=e,this.props.onChangeAction(a)},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=C.selectedProj,r=a.uuid,i=v.filter(this.state.backSet.recordSet,S),l=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"员工级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(a,r){return e.getLevelName(t,r.userLevel)}},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"技术岗位",dataIndex:"techLevel",key:"techLevel",width:140},{title:"小组",dataIndex:"teamUuid",key:"teamUuid",width:140,render:function(t,a){return e.getTeamName(r,t)}},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"离组日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"回组"},n.default.createElement(u.Icon,{type:"team"})))}}],o=v.getGridMargin(this),s={showQuickJumper:!0,total:this.state.backSet.totalRow,pageSize:this.state.backSet.pageRow,current:this.state.backSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return n.default.createElement("div",{className:"grid-page",style:{padding:o.padding}},n.default.createElement("div",{style:{margin:o.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:S,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:l,dataSource:i,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:s,size:"middle",bordered:v.tableBorder})))}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(79),f=r(p),g=a(14),v=r(g),C=a(4),b=a(1),y=a(6),S=a(3),E=C.Form.Item,w=(C.Select.Option,C.Tabs.TabPane),x=a(755),k=a(520),j=l.default.createClass({displayName:"DispatSure",getInitialState:function(){return{dispatSet:{errMsg:""},loading:!1,dispat:{},hints:{},validRules:[]}},mixins:[b.listenTo(x,"onServiceComplete"),(0,c.default)("dispat")],onServiceComplete:function(e){"create"===e.operation?""===e.errMsg?this.props.onBack():this.setState({loading:!1,dispatSet:e}):"retrieveMember"===e.operation&&(""===e.errMsg?(e.member&&(this.state.dispat.deptName=e.member.deptName,this.state.dispat.baseCity=e.member.baseCity,this.state.dispat.phoneno=e.member.phoneno,this.state.dispat.eduDegree=e.member.eduDegree,this.state.dispat.eduCollege=e.member.eduCollege,this.state.dispat.workBegin=e.member.workBegin,this.state.dispat.induBegin=e.member.induBegin,this.state.dispat.techUuid=e.member.techUuid,this.state.dispat.techName=e.member.techName,this.state.dispat.manUuid=e.member.manUuid,this.state.dispat.manName=e.member.manName),this.setState({loading:!1,dispatSet:e})):this.setState({loading:!1,dispatSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"teamUuid",desc:"项目小组",required:!1,max:"24"},{id:"roleName",desc:"承担角色",required:!1,max:"24"},{id:"projLevel",desc:"客户定级",required:!0,max:"64"},{id:"userPrice",desc:"结算单价",required:!0,max:"16"},{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginTime",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.dispat)},initPage:function(e){S.copyValue(e,this.state.dispat),this.state.dispat.beginDate=y.getToday()+"",this.state.dispat.beginTime="09:00","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({loading:!0,hints:{}}),k.getMember(e.staffCode)},onClickSave:function(){y.formValidator(this,this.state.dispat)&&(this.setState({loading:!0}),this.state.dispat.projUuid=v.default.selectedProj.uuid,this.state.dispat.projName=v.default.selectedProj.projName,this.state.dispat.grpUuid=v.default.selectedProj.parentUuid,k.dispatSure(this.state.dispat))},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=v.default.selectedProj.uuid,o=void 0===this.state.dispat.dispType?"1":this.state.dispat.dispType,s=this.state.dispat,u=v.default.getDisplayWorkYears(s.workBegin),c=v.default.getDisplayWorkYears(s.induBegin),m=l.default.createElement(C.Form,{layout:e,style:{width:"600px"}},l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"员工编号",className:t}),l.default.createElement(C.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.dispat.staffCode,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"员工姓名",className:t}),l.default.createElement(C.Input,{type:"text",name:"perName",id:"perName",value:this.state.dispat.perName,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"任职部门",className:t}),l.default.createElement(C.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.dispat.deptName,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"归属地",className:t}),l.default.createElement(C.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.dispat.baseCity,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"人员类型",className:t}),l.default.createElement(C.Input,{type:"text",name:"manType",id:"manType",value:this.state.dispat.manType,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"电话",className:t}),l.default.createElement(C.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.dispat.phoneno,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"最高学历",className:t}),l.default.createElement(C.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:this.state.dispat.eduDegree,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"毕业院校",className:t}),l.default.createElement(C.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.dispat.eduCollege,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"工龄",className:t}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:u.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(C.Col,{span:"2"}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:u.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"行业经验",className:t}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:c.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(C.Col,{span:"2"}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:c.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"员工级别",className:t}),l.default.createElement(C.Input,{type:"text",name:"userLevel",id:"userLevel",value:this.state.dispat.userLevel,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"成本",className:t}),l.default.createElement(C.Input,{type:"text",name:"userCost",id:"userCost",value:this.state.dispat.userCost,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"技术级别",className:t}),l.default.createElement(C.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.dispat.techLevel,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"管理级别",className:t}),l.default.createElement(C.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.dispat.manLevel,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"技术岗位",className:t}),l.default.createElement(C.Input,{type:"text",name:"techUuid",id:"techUuid",value:this.state.dispat.techName,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"管理岗位",className:t}),l.default.createElement(C.Input,{type:"text",name:"manUuid",id:"manUuid",value:this.state.dispat.manName,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"出发地",className:t}),l.default.createElement(C.Input,{type:"text",name:"dispLoc",id:"dispLoc",value:this.state.dispat.dispLoc,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"派遣类型",className:t}),l.default.createElement(h.default,{name:"dispType",id:"dispType",value:o,appName:"项目管理",optName:"派遣类型",disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"项目小组",required:!1,colon:!0,className:t}),l.default.createElement(f.default,{projUuid:n,name:"teamUuid",id:"teamUuid",value:this.state.dispat.teamUuid,onSelect:this.handleOnSelected.bind(this,"teamUuid")}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:r.roleNameHint,validateStatus:r.roleNameStatus}),l.default.createElement(C.Input,{type:"text",name:"roleName",id:"roleName",value:this.state.dispat.roleName,onChange:this.handleOnChange})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"客户定级",required:!0,colon:!0,className:t,help:r.projLevelHint,validateStatus:r.projLevelStatus}),l.default.createElement(C.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.dispat.projLevel,onChange:this.handleOnChange}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"结算单价",required:!0,colon:!0,className:t,help:r.userPriceHint,validateStatus:r.userPriceStatus}),l.default.createElement(C.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.dispat.userPrice,onChange:this.handleOnChange})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"入组日期",required:!0,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(C.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:y.dateFormat,value:this.formatDate(this.state.dispat.beginDate,y.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"时间",required:!0,colon:!0,className:t,help:r.beginTimeHint,validateStatus:r.beginTimeStatus}),l.default.createElement(C.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.dispat.beginTime,onChange:this.handleOnChange})))),l.default.createElement(E,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(C.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(C.Button,{key:"btnClose",size:"large",onClick:this.props.onBack},"取消")));return l.default.createElement(C.Tabs,{defaultActiveKey:"3",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(w,{tab:"调度指令",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(w,{tab:"人员回组",key:"2",disabled:"true",style:{width:"100%",height:"100%"}}),l.default.createElement(w,{tab:"人员入组确认",key:"3",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-disp/create","proj-disp/retrieveMember"]}),this.state.loading?l.default.createElement(C.Spin,null,m):m)))}});e.exports=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),m=r(c),h=a(1),p=u.Input.Search,f=a(6),g=(a(3),a(14)),v=a(755),C=a(520),b="",y=10,S=n.default.createClass({displayName:"DispatTable",getInitialState:function(){return{dispatSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1}},mixins:[h.listenTo(v,"onServiceComplete"),(0,m.default)()],onServiceComplete:function(e){this.setState({loading:!1,dispatSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.dispatSet.operation="";var t=g.selectedProj.uuid;C.retrieveDispatTablePage(t,this.state.dispatSet.startPage,y)},onChangePage:function(e){this.state.dispatSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){y=t,this.handleQueryClick()},componentDidMount:function(){this.setState({loading:!0});var e=g.selectedProj.uuid;C.initDispatTable(e,this.state.dispatSet.startPage,y)},onClickUpdate:function(e,t){var a={};a.action="dispatSure",a.dispat=e,this.props.onChangeAction(a)},onFilterRecord:function(e){b=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=window.loginData.compUser.corpUuid,a=f.filter(this.state.dispatSet.recordSet,b),r=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"类型",dataIndex:"manType",key:"manType",width:140},{title:"人员级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(a,r){return e.getLevelName(t,r.userLevel)}},{title:"调度人",dataIndex:"dispatcher",key:"dispatcher",width:140},{title:"调度日期",dataIndex:"applyTime",key:"applyTime",width:140,render:function(e,t){return f.formatDate(e,f.dateFormat)}},{title:"计划入组",dataIndex:"planDate",key:"planDate",width:140,render:function(e,t){return f.formatDate(e,f.dateFormat)}},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算单价",dataIndex:"userPrice",key:"userPrice",width:140},{title:"",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"入组"},n.default.createElement(u.Icon,{type:"team"})))}}],i=f.getGridMargin(this),l={showQuickJumper:!0,total:this.state.dispatSet.totalRow,pageSize:this.state.dispatSet.pageRow,current:this.state.dispatSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return n.default.createElement("div",{className:"grid-page",style:{padding:i.padding}},n.default.createElement("div",{style:{margin:i.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-disp/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:f.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(p,{placeholder:"查找记录",style:{width:f.searchWidth},value:b,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:r,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:f.tableBorder})))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(1460),u=r(d),c=a(1458),m=r(c),h=a(1459),p=r(h),f=a(1457),g=r(f),v=(a(1),s.Tabs.TabPane),C=n.default.createClass({displayName:"EntryPage",
getInitialState:function(){return{action:"query",dispat:{},back:{}}},onChangeAction:function(e){"dispatSure"===e.action?this.setState({action:"dispatSure",dispat:e.dispat}):this.setState({action:"backSure",back:e.back})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e="query"===this.state.action?"":"none",t=n.default.createElement("div",{style:{display:e}},n.default.createElement(s.Tabs,{defaultActiveKey:"1",tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(v,{tab:"调度指令",key:"1",style:{width:"100%",height:"100%"}},n.default.createElement(u.default,{onChangeAction:this.onChangeAction})),n.default.createElement(v,{tab:"人员回组",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement(m.default,{onChangeAction:this.onChangeAction})))),a=null;return"dispatSure"===this.state.action?a=n.default.createElement(p.default,{onBack:this.onGoBack,dispat:this.state.dispat}):"backSure"===this.state.action&&(a=n.default.createElement(g.default,{onBack:this.onGoBack,back:this.state.back})),n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},t,a)}});e.exports=C},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(192),g=r(f),v=a(1),C=a(6),b=p.Form.Item,y=(p.Select.Option,p.Tabs.TabPane),S=a(521),E=a(371),w=a(14),x=l.default.createClass({displayName:"CreateProjEventPage",getInitialState:function(){return{projEventSet:{errMsg:""},loading:!1,modal:!1,projEvent:{},hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,c.default)("projEvent")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projEventSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"eventDate",desc:"事件日期",required:!0,max:"16"},{id:"eventBegin",desc:"开始日期",required:!1,max:"16"},{id:"eventEnd",desc:"结束日期",required:!1,max:"16"},{id:"eventType",desc:"类型",required:!0,max:"16"},{id:"eventTitle",desc:"事件标题",required:!0,max:"128"},{id:"eventData3",desc:"事件内容3",required:!1,max:"128"},{id:"eventBody",desc:"事件内容",required:!1,max:"3600"}],this.clear()},clear:function(e){this.state.hints={},this.state.projEvent.uuid="",this.state.projEvent.projUuid=w.selectedProj.uuid,this.state.projEvent.corpUuid="",this.state.projEvent.userUuid="",this.state.projEvent.teamUuid="",this.state.projEvent.eventDate="",this.state.projEvent.eventBegin="",this.state.projEvent.eventEnd="",this.state.projEvent.eventType="",this.state.projEvent.eventTitle="",this.state.projEvent.eventData3="",this.state.projEvent.eventBody="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectProjEvent:function(e){this.state.projEvent.userUuid=e.uuid,this.state.projEvent.staffCode=e.staffCode,this.state.projEvent.eventData3=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){C.formValidator(this,this.state.projEvent)&&(this.setState({loading:!0}),E.createProjEvent(this.state.projEvent))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=w.selectedProj.uuid,s=new Date,u=void 0===this.state.projEvent.eventDate?""+(1e4*s.getFullYear()+100*(s.getMonth()+1)+s.getDate()):this.state.projEvent.eventDate;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(y,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(y,{tab:"增加项目组事件",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-event/create"]}),l.default.createElement(p.Form,{layout:e,style:{width:"600px",marginTop:"24px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"发生日期",required:!0,colon:!0,className:t,help:n.eventDateHint,validateStatus:n.eventDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventDate",id:"eventDate",value:this.formatDate(u,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventDate",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"事件类型",required:!0,colon:!0,className:t,help:n.eventTypeHint,validateStatus:n.eventTypeStatus}),l.default.createElement(h.default,{name:"eventType",id:"eventType",appName:"项目管理",optName:"事件类型",value:this.state.projEvent.eventType,onSelect:this.handleOnSelected.bind(this,"eventType")})))),l.default.createElement(b,i({},a,{label:"事件名称",required:!0,colon:!0,className:t,help:n.eventTitleHint,validateStatus:n.eventTitleStatus}),l.default.createElement(p.Input,{type:"text",name:"eventTitle",id:"eventTitle",value:this.state.projEvent.eventTitle,onChange:this.handleOnChange})),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.eventBeginHint,validateStatus:n.eventBeginStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventBegin",id:"eventBegin",value:this.formatDate(this.state.projEvent.eventBegin,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventBegin",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.eventEndHint,validateStatus:n.eventEndStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventEnd",id:"eventEnd",value:this.formatDate(this.state.projEvent.eventEnd,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventEnd",C.dateFormat)})))),l.default.createElement(b,i({},a,{label:"相关人",required:!1,colon:!0,className:t,help:n.eventData3Hint,validateStatus:n.eventData3Status}),l.default.createElement(g.default,{projUuid:o,showError:this.showError,ref:"empSearchBox",type:"text",name:"eventData3",id:"eventData3",value:this.state.projEvent.eventData3,onSelectMember:this.onSelectProjEvent})),l.default.createElement(b,i({},a,{label:"内容",required:!1,colon:!0,className:t,help:n.eventBodyHint,validateStatus:n.eventBodyStatus}),l.default.createElement(p.Input,{type:"textarea",name:"eventBody",id:"eventBody",value:this.state.projEvent.eventBody,onChange:this.handleOnChange})),l.default.createElement(b,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(4),f=a(192),g=r(f),v=a(1),C=a(6),b=a(3),y=p.Form.Item,S=(p.Select.Option,p.Tabs.TabPane),E=a(521),w=a(371),x=a(14),k=l.default.createClass({displayName:"UpdateProjEventPage",getInitialState:function(){return{projEventSet:{errMsg:""},loading:!1,modal:!1,projEvent:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,c.default)("projEvent")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projEventSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"eventDate",desc:"事件日期",required:!0,max:"16"},{id:"eventBegin",desc:"开始日期",required:!1,max:"16"},{id:"eventEnd",desc:"结束日期",required:!1,max:"16"},{id:"eventType",desc:"类型",required:!0,max:"16"},{id:"eventTitle",desc:"事件标题",required:!0,max:"128"},{id:"eventData3",desc:"事件内容3",required:!1,max:"128"},{id:"eventBody",desc:"事件内容",required:!1,max:"3600"}],this.initPage(this.props.projEvent)},componentWillReceiveProps:function(e){this.initPage(e.projEvent)},initPage:function(e){b.copyValue(e,this.state.projEvent),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.eventData3),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectProjEvent:function(e){this.state.projEvent.userUuid=e.uuid,this.state.projEvent.staffCode=e.staffCode,this.state.projEvent.eventData3=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){C.formValidator(this,this.state.projEvent)&&(this.setState({loading:!0}),w.updateProjEvent(this.state.projEvent))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=x.selectedProj.uuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(S,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(S,{tab:"修改项目组事件",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-event/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"600px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"发生日期",required:!0,colon:!0,className:t,help:n.eventDateHint,validateStatus:n.eventDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventDate",id:"eventDate",value:this.formatDate(this.state.projEvent.eventDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventDate",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"事件类型",required:!0,colon:!0,className:t,help:n.eventTypeHint,validateStatus:n.eventTypeStatus}),l.default.createElement(h.default,{name:"eventType",id:"eventType",appName:"项目管理",optName:"事件类型",value:this.state.projEvent.eventType,onSelect:this.handleOnSelected.bind(this,"eventType")})))),l.default.createElement(y,i({},a,{label:"事件名称",required:!0,colon:!0,className:t,help:n.eventTitleHint,validateStatus:n.eventTitleStatus}),l.default.createElement(p.Input,{type:"text",name:"eventTitle",id:"eventTitle",value:this.state.projEvent.eventTitle,onChange:this.handleOnChange})),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"开始日期",required:!1,colon:!0,className:t,help:n.eventBeginHint,validateStatus:n.eventBeginStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventBegin",id:"eventBegin",value:this.formatDate(this.state.projEvent.eventBegin,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventBegin",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"结束日期",required:!1,colon:!0,className:t,help:n.eventEndHint,validateStatus:n.eventEndStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"eventEnd",id:"eventEnd",value:this.formatDate(this.state.projEvent.eventEnd,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"eventEnd",C.dateFormat)})))),l.default.createElement(y,i({},a,{label:"相关人",required:!1,colon:!0,className:t,help:n.eventData3Hint,validateStatus:n.eventData3Status}),l.default.createElement(g.default,{projUuid:o,showError:this.showError,ref:"empSearchBox",type:"text",name:"eventData3",id:"eventData3",value:this.state.projEvent.eventData3,onSelectMember:this.onSelectProjEvent})),l.default.createElement(y,i({},a,{label:"内容",required:!1,colon:!0,className:t,help:n.eventBodyHint,validateStatus:n.eventBodyStatus}),l.default.createElement(p.Input,{type:"textarea",name:"eventBody",id:"eventBody",value:this.state.projEvent.eventBody,onChange:this.handleOnChange})),l.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1462),m=r(c),h=a(1463),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=a(3),b=a(521),y=a(371),S=a(14),E="",w=n.default.createClass({displayName:"ProjEventPage",getInitialState:function(){return{projEventSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1}},mixins:[f.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projEventSet:e})},handleQueryClick:function(e){var t=S.selectedProj.uuid;this.setState({loading:!0}),y.retrieveProjEvent(t)},componentDidMount:function(){var e=S.selectedProj.uuid;this.setState({loading:!0}),y.initProjEvent(e)},onClickUpdate:function(e,t){this.setState({projEvent:e,action:"update"})},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的事务事件",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.projEventSet.operation="",y.deleteProjEvent(e.uuid)},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},handleCreate:function(e){this.setState({action:"create"})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=[{title:"日期",dataIndex:"eventDate",key:"eventDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"类型",dataIndex:"eventType",key:"eventType",width:140},{title:"开始日期",dataIndex:"eventBegin",key:"eventBegin",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"结束日期",dataIndex:"eventEnd",key:"eventEnd",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"事件",dataIndex:"eventTitle",key:"eventTitle",width:200},{title:"相关人",dataIndex:"eventData3",key:"eventData3",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目组事件"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目组事件"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}],a=v.filter(this.state.projEventSet.recordSet,E),r="query"===this.state.action?"":"none",i=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:r}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-event/retrieve","proj-event/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加项目事件",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查询",style:{width:v.searchWidth},value:E,onChange:this.onFilterRecord}))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder}))),l=null;if("create"===this.state.action)l=n.default.createElement(m.default,{onBack:this.onGoBack});else if("update"===this.state.action){var o={};C.copyValue(this.state.projEvent,o),l=n.default.createElement(p.default,{onBack:this.onGoBack,projEvent:o})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},i,l)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(19),f=r(p),g=a(4),v=a(1),C=a(6),b=(a(14),g.Form.Item),y=(g.Select.Option,g.Radio.Group),S=a(373),E=a(522),w=l.default.createClass({displayName:"CreateHrReqDetailPage",getInitialState:function(){return{HrReqDetailSet:{operation:"",errMsg:""},loading:!1,modal:!1,HrReqDetail:{},hints:{},validRules:[],reqUuid:""}},mixins:[v.listenTo(E,"onServiceComplete"),(0,c.default)("HrReqDetail")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,HrReqDetailSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"reqCount",desc:"人员数量",required:!0,dataType:"number",max:"24"},{id:"manType",desc:"人员类型",required:!0,max:"32"},{id:"induYears",desc:"从业经验",required:!1,max:"32"},{id:"manLevel",desc:"人员级别",required:!0,max:"32"},{id:"techCode",desc:"技术方向",required:!1,max:"128"},{id:"biziCode",desc:"业务方向",required:!1,max:"128"},{id:"techDesc",desc:"技术要求",required:!1,max:"2048"},{id:"biziDesc",desc:"业务要求",required:!1,max:"2048"},{id:"hrCode",desc:"标准分类",required:!1,max:"64"}]},clear:function(e){this.state.hints={},this.state.HrReqDetail.reqCount="",this.state.HrReqDetail.manType="",this.state.HrReqDetail.induYears="",this.state.HrReqDetail.manLevel="",this.state.HrReqDetail.techCode="",this.state.HrReqDetail.biziCode="",this.state.HrReqDetail.techDesc="",this.state.HrReqDetail.biziDesc="",this.state.HrReqDetail.hrCode="",this.state.reqUuid=e,this.state.loading=!1,this.state.HrReqDetailSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){C.formValidator(this,this.state.HrReqDetail)&&(this.setState({loading:!0}),this.state.HrReqDetail.supCount=0,this.state.HrReqDetail.reqUuid=this.state.reqUuid,this.state.HrReqDetail.status="待处理",S.createProjHrReqDetail(this.state.HrReqDetail))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement(g.Modal,{visible:this.state.modal,width:"620px",title:"增加人员明细",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-hr-req-detail/create"]}),l.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(g.Form,{layout:e},l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"人员数量",required:!0,colon:!0,className:t,help:n.reqCountHint,validateStatus:n.reqCountStatus}),l.default.createElement(g.Input,{type:"text",name:"reqCount",id:"reqCount",value:this.state.HrReqDetail.reqCount,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"人员类型",required:!0,colon:!0,className:t,help:n.manTypeHint,validateStatus:n.manTypeStatus}),l.default.createElement(h.default,{name:"manType",id:"manType",appName:"项目管理",optName:"人员需求类型",onSelect:this.handleOnSelected.bind(this,"manType"),value:this.state.HrReqDetail.manType})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"人员级别",required:!0,colon:!0,className:t,help:n.manLevelHint,validateStatus:n.manLevelStatus}),l.default.createElement(y,{onChange:this.onChange1},l.default.createElement(f.default,{name:"manLevel",id:"manLevel",appName:"项目管理",optName:"人员级别",onChange:this.onRadioChange,value:this.state.HrReqDetail.manLevel})))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"从业经验",required:!1,colon:!0,className:t,help:n.induYearsHint,validateStatus:n.induYearsStatus}),l.default.createElement(g.Input,{type:"text",name:"induYears",id:"induYears",onChange:this.handleOnChange,value:this.state.HrReqDetail.induYears,addonAfter:"年"})))),l.default.createElement(b,i({},a,{label:"技术方向",colon:!0,className:t,help:n.techCodeHint,validateStatus:n.techCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"techCode",id:"techCode",onChange:this.handleOnChange,value:this.state.HrReqDetail.techCode})),l.default.createElement(b,i({},a,{label:"业务方向",colon:!0,className:t,help:n.biziCodeHint,validateStatus:n.biziCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"biziCode",id:"biziCode",onChange:this.handleOnChange,value:this.state.HrReqDetail.biziCode})),l.default.createElement(b,i({},a,{label:"技术要求",colon:!0,className:t,help:n.techDescHint,validateStatus:n.techDescStatus}),l.default.createElement(g.Input,{type:"textarea",name:"techDesc",id:"techDesc",onChange:this.handleOnChange,style:{height:"100px"},value:this.state.HrReqDetail.techDesc})),l.default.createElement(b,i({},a,{label:"业务要求",colon:!0,className:t,help:n.biziDescHint,validateStatus:n.biziDescStatus}),l.default.createElement(g.Input,{type:"textarea",name:"biziDesc",id:"biziDesc",onChange:this.handleOnChange,style:{height:"100px"},value:this.state.HrReqDetail.biziDesc}))))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(12),f=(r(p),a(4)),g=a(1),v=a(6),C=a(6),b=f.Form.Item,y=(f.Select.Option,f.Radio.Group),S=a(523),E=a(372),w=a(14),x=l.default.createClass({displayName:"CreateProjHrReqPage",getInitialState:function(){return{ProjHrReqSet:{operation:"",errMsg:""},loading:!1,modal:!1,hints:{},validRules:[],HrReq:{}}},mixins:[g.listenTo(S,"onServiceComplete"),(0,c.default)("HrReq")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1,loading:!1}):this.setState({loading:!1,custSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"reqType",desc:"变更类型：离组、入组",required:!1,max:"24"},{id:"reqType2",desc:"时间类型：预期、即时",required:!1,max:"24"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"reqCount",desc:"人员数量",required:!0,dataType:"number",max:"24"},{id:"reqMemo",desc:"说明",required:!1,max:"512"}]},clear:function(e){this.state.hints={},this.state.HrReq.endDate="",this.state.HrReq.reqCount="",this.state.HrReq.reqMemo="",this.state.HrReq.reqType="入组",this.state.HrReq.reqType2="即时",this.state.HrReq.status="已开启",this.state.HrReq.beginDate=""+v.getToday(),this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){C.formValidator(this,this.state.HrReq)&&(console.log(w.selectedProj),this.setState({loading:!0}),this.state.HrReq.projUuid=w.selectedProj.uuid,this.state.HrReq.corpUuid=window.loginData.compUser.corpUuid,this.state.HrReq.projName=w.selectedProj.projName,this.state.HrReq.projLoc=w.selectedProj.projLoc,this.state.HrReq.pmName=w.selectedProj.pmName,E.createProjHrReq(this.state.HrReq),console.log(this.state.HrReq))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement(f.Modal,{visible:this.state.modal,width:"560px",title:"增加人员需求",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-hr-req/create"]}),l.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"确定")," ",l.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(f.Form,{layout:e,style:{width:"100%"}},l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(b,i({},r,{value:this.state.value2,label:"变更类型",required:!1,colon:!0,className:t,help:n.reqTypeHint,validateStatus:n.reqTypeStatus}),l.default.createElement(y,null,l.default.createElement(h.default,{name:"reqType",id:"reqType",appName:"项目管理",optName:"变更类型",onChange:this.onRadioChange,value:this.state.HrReq.reqType})))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(b,i({},r,{value:this.state.value1,label:"时间要求",required:!1,colon:!0,className:t,help:n.reqType2Hint,validateStatus:n.reqType2Status}),l.default.createElement(y,null,l.default.createElement(h.default,{name:"reqType2",id:"reqType2",appName:"项目管理",optName:"时间要求",onChange:this.onRadioChange,value:this.state.HrReq.reqType2}))))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"开始日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(f.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",onChange:this.handleOnSelDate.bind(this,"beginDate",v.dateFormat),value:this.formatDate(this.state.HrReq.beginDate,v.dateFormat)}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"结束日期",required:!0,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(f.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",onChange:this.handleOnSelDate.bind(this,"endDate",v.dateFormat),value:this.formatDate(this.state.HrReq.endDate,v.dateFormat)})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"人员数量",required:!0,colon:!0,className:t,help:n.reqCountHint,validateStatus:n.reqCountStatus}),l.default.createElement(f.Input,{type:"text",name:"reqCount",id:"reqCount",value:this.state.HrReq.reqCount,onChange:this.handleOnChange})))),l.default.createElement(b,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:n.reqMemoHint,validateStatus:n.reqMemoStatus}),l.default.createElement(f.Input,{type:"textarea",name:"reqMemo",id:"reqMemo",onChange:this.handleOnChange,style:{height:"140px"},value:this.state.HrReq.reqMemo})),l.default.createElement(b,i({},a,{label:"处理状态",required:!1,colon:!0,className:t,help:n.statusHint,validateStatus:n.statusStatus}),l.default.createElement(y,{onChange:this.onChange},l.default.createElement(h.default,{name:"status",id:"status",value:this.state.HrReq.status,appName:"项目管理",optName:"人员需求状态",onChange:this.onRadioChange})))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1466),m=r(c),h=a(1470),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=(a(3),a(523)),b=a(372),y=a(14),S="",E=n.default.createClass({displayName:"HrReqPage",getInitialState:function(){return{projHrReqSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,filter:{}}},mixins:[f.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projHrReqSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),b.retrieveProjHrReq(window.loginData.compUser.corpUuid,y.selectedProj.uuid)},componentDidMount:function(){this.setState({loading:!0}),b.retrieveProjHrReq(window.loginData.compUser.corpUuid,y.selectedProj.uuid)},onClickUpdate:function(e,t){this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的类型 【"+e.reqType+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.projHrReqSet.operation="",b.deleteProjHrReq(e.uuid)},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},handleSelectClick:function(e){this.props.selectsRole(e)},handleCreate:function(e){window.loginData.compUser.corpUuid;this.refs.createWindow.clear(),this.refs.createWindow.toggle()},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=v.filter(this.state.projHrReqSet.recordSet,S),a=[{title:"调动类型",dataIndex:"reqType",key:"reqType",width:140},{title:"时间类型",dataIndex:"reqType2",key:"reqType2",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"人员数量",dataIndex:"reqCount",key:"reqCount",width:140},{title:"执行状态",dataIndex:"status",key:"status",width:140},{title:"更多操作",key:"action",width:130,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员需求"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员需求"},n.default.createElement(u.Icon,{type:v.iconRemove})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.handleSelectClick.bind(e,a),title:"人员详情"},n.default.createElement(u.Icon,{type:v.iconUser})))}}],r="query"===this.state.action?"":"none";return n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:r}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-hr-req/retrieve","proj-hr-req/remove","proj-hr-req-detail/retrieve","proj-hr-req-detail/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加人员需求",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,
style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查询",style:{width:v.searchWidth},onChange:this.onFilterRecord}))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1465),m=r(c),h=a(1469),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=(a(3),a(522)),b=a(373),y="",S=n.default.createClass({displayName:"HrReqDetailPage",getInitialState:function(){return{HrReqDetailSet:{recordSet:[],errMsg:""},loading:!1}},mixins:[f.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,HrReqDetailSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),b.retrieveProjHrReqDetail(this.props.reqUuid)},componentDidMount:function(){this.setState({loading:!0}),b.retrieveProjHrReqDetail(this.props.reqUuid)},componentWillReceiveProps:function(e){b.retrieveProjHrReqDetail(e.reqUuid)},handleOpenCreateWindow:function(e){this.refs.createWindow.clear(this.props.reqUuid),this.refs.createWindow.toggle()},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的人员 【"+e.manType+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),b.deleteProjHrReqDetail(e.uuid)},onFilterRecord:function(e){y=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=v.filter(this.state.HrReqDetailSet.recordSet,y),a=[{title:"人员数量",dataIndex:"reqCount",key:"reqCount",width:140,render:function(e,t){return n.default.createElement("span",null,n.default.createElement("span",null,t.reqCount,"/"),n.default.createElement("span",null,t.supCount))}},{title:"人员类型",dataIndex:"manType",key:"manType",width:140},{title:"从业经验",dataIndex:"induYears",key:"induYears",width:140},{title:"人员级别",dataIndex:"manLevel",key:"manLevel",width:140},{title:"技术方向",dataIndex:"techCode",key:"techCode",width:140},{title:"业务方向",dataIndex:"biziCode",key:"biziCode",width:140},{title:"执行状态",dataIndex:"status",key:"status",width:140},{title:"更多操作",key:"action",width:120,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员信息"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}];return n.default.createElement("div",{className:"grid-page"},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-hr-req-detail/retrieve","proj-hr-req-detail/remove"]}),n.default.createElement("div",null,n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加人员明细",onClick:this.handleOpenCreateWindow}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查找记录",style:{width:v.searchWidth},value:y,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})),n.default.createElement(m.default,{ref:"createWindow"}),n.default.createElement(p.default,{ref:"updateWindow"}))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(12),h=r(m),p=a(19),f=r(p),g=a(4),v=a(25),C=(r(v),a(1)),b=a(6),y=a(3),S=(a(6),g.Form.Item),E=(g.Select.Option,g.Tabs.TabPane,g.Radio.Group),w=a(522),x=a(373),k=l.default.createClass({displayName:"UpdateHrReqDetailPage",getInitialState:function(){return{HrReqDetailSet:{operation:"",errMsg:""},loading:!1,modal:!1,HrReqDetail:{},hints:{},validRules:[]}},mixins:[C.listenTo(w,"onServiceComplete"),(0,c.default)("HrReqDetail")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.setState({loading:!1,modal:!1}):this.setState({loading:!1,HrReqDetailSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"reqCount",desc:"人员数量",required:!0,dataType:"number",max:"24"},{id:"manType",desc:"人员类型",required:!0,max:"32"},{id:"induYears",desc:"从业经验",required:!1,max:"32"},{id:"manLevel",desc:"人员级别",required:!0,max:"32"},{id:"techCode",desc:"技术方向",required:!1,max:"128"},{id:"biziCode",desc:"业务方向",required:!1,max:"128"},{id:"techDesc",desc:"技术要求",required:!1,max:"2048"},{id:"biziDesc",desc:"业务要求",required:!1,max:"2048"},{id:"hrCode",desc:"标准分类",required:!1,max:"64"},{id:"supCount",desc:"到岗数量",required:!1,dataType:"number",max:"24"},{id:"status",desc:"状态：待处理、已关闭",required:!1,max:"12"}],this.initPage(this.props.HrReqDetail)},componentWillReceiveProps:function(e){this.initPage(e.HrReqDetail)},initPage:function(e){y.copyValue(e,this.state.HrReqDetail),this.state.hints={},this.state.loading=!1,this.state.HrReqDetailSet.operation="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){b.formValidator(this,this.state.HrReqDetail)&&(this.state.HrReqDetailSet.operation="",this.setState({loading:!0}),x.updateProjHrReqDetail(this.state.HrReqDetail))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement(g.Modal,{visible:this.state.modal,width:"620px",title:"修改人员明细",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-hr-req-detail/update"]}),l.default.createElement(g.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(g.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(g.Form,{layout:e},l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"人员数量",required:!0,colon:!0,className:t,help:n.reqCountHint,validateStatus:n.reqCountStatus}),l.default.createElement(g.Input,{type:"text",name:"reqCount",id:"reqCount",value:this.state.HrReqDetail.reqCount,onChange:this.handleOnChange}))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"人员类型",required:!0,colon:!0,className:t,help:n.manTypeHint,validateStatus:n.manTypeStatus}),l.default.createElement(h.default,{name:"manType",id:"manType",appName:"项目管理",optName:"人员需求类型",onSelect:this.handleOnSelected.bind(this,"manType"),value:this.state.HrReqDetail.manType})))),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"人员级别",required:!0,colon:!0,className:t,help:n.manLevelHint,validateStatus:n.manLevelStatus}),l.default.createElement(E,{onChange:this.onChange1},l.default.createElement(f.default,{name:"manLevel",id:"manLevel",appName:"项目管理",optName:"人员级别",onChange:this.onRadioChange,value:this.state.HrReqDetail.manLevel})))),l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"从业经验",required:!1,colon:!0,className:t,help:n.induYearsHint,validateStatus:n.induYearsStatus}),l.default.createElement(g.Input,{type:"text",name:"induYears",id:"induYears",onChange:this.handleOnChange,value:this.state.HrReqDetail.induYears,addonAfter:"年"})))),l.default.createElement(S,i({},a,{label:"技术方向",required:!1,colon:!0,className:t,help:n.techCodeHint,validateStatus:n.techCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"techCode",id:"techCode",onChange:this.handleOnChange,value:this.state.HrReqDetail.techCode})),l.default.createElement(S,i({},a,{label:"业务方向",required:!1,colon:!0,className:t,help:n.biziCodeHint,validateStatus:n.biziCodeStatus}),l.default.createElement(g.Input,{type:"text",name:"biziCode",id:"biziCode",onChange:this.handleOnChange,value:this.state.HrReqDetail.biziCode})),l.default.createElement(S,i({},a,{label:"技术要求",required:!1,colon:!0,className:t,help:n.techDescHint,validateStatus:n.techDescStatus}),l.default.createElement(g.Input,{type:"textarea",name:"techDesc",id:"techDesc",onChange:this.handleOnChange,style:{height:"100px"},value:this.state.HrReqDetail.techDesc})),l.default.createElement(S,i({},a,{label:"业务要求",required:!1,colon:!0,className:t,help:n.biziDescHint,validateStatus:n.biziDescStatus}),l.default.createElement(g.Input,{type:"textarea",name:"biziDesc",id:"biziDesc",onChange:this.handleOnChange,style:{height:"100px"},value:this.state.HrReqDetail.biziDesc})),l.default.createElement(g.Row,null,l.default.createElement(g.Col,{span:"12"},l.default.createElement(S,i({},r,{label:"到岗数量",required:!1,colon:!0,className:t,help:n.supCountHint,validateStatus:n.supCountStatus}),l.default.createElement(g.Input,{type:"text",name:"supCount",id:"supCount",onChange:this.handleOnChange,value:this.state.HrReqDetail.supCount})))),l.default.createElement(g.Row,null,l.default.createElement(S,i({},a,{label:"状态",required:!1,colon:!0,className:t,help:n.statusHint,validateStatus:n.statusStatus}),l.default.createElement(E,null,l.default.createElement(f.default,{name:"status",id:"status",appName:"项目管理",optName:"人员需求状态",onChange:this.onRadioChange,value:this.state.HrReqDetail.status}))))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(4),f=a(25),g=(r(f),a(1)),v=a(6),C=a(3),b=(a(6),p.Form.Item),y=(p.Select.Option,p.Tabs.TabPane,p.Radio.Group),S=a(523),E=a(372),w=(a(14),l.default.createClass({displayName:"UpdateHrReqPage",getInitialState:function(){return{HrReqSet:{operation:"",errMsg:""},loading:!1,modal:!1,HrReq:{},hints:{},validRules:[]}},mixins:[g.listenTo(S,"onServiceComplete"),(0,c.default)("HrReq")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,HrReqSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"reqType",desc:"变更类型",required:!1,max:"24"},{id:"reqType2",desc:"时间类型",required:!1,max:"24"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"endDate",desc:"结束日期",required:!0,max:"24"},{id:"reqCount",desc:"人员数量",required:!0,dataType:"number",max:"24"},{id:"reqMemo",desc:"说明",required:!1,max:"512"},{id:"status",desc:"状态",required:!1,max:"12"}]},initPage:function(e){this.state.hints={},C.copyValue(e,this.state.HrReq),this.state.loading=!1,this.state.HrReqSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){v.formValidator(this,this.state.HrReq)&&(this.state.HrReqSet.operation="",this.setState({loading:!0}),E.updateProjHrReq(this.state.HrReq))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement(p.Modal,{visible:this.state.modal,width:"560px",title:"修改人员需求",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-hr-req/update"]}),l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"确定"),l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(p.Form,{layout:e,style:{width:"100%"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"变更类型",required:!1,colon:!0,className:t,help:n.reqTypeHint,validateStatus:n.reqTypeStatus}),l.default.createElement(y,{onChange:this.onChange},l.default.createElement(h.default,{name:"reqType",id:"reqType",appName:"项目管理",optName:"变更类型",value:this.state.HrReq.reqType,onChange:this.onRadioChange})))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"时间要求",required:!1,colon:!0,className:t,help:n.reqType2Hint,validateStatus:n.reqType2Status}),l.default.createElement(y,{onChange:this.onChange1},l.default.createElement(h.default,{name:"reqType2",id:"reqType2",appName:"项目管理",optName:"时间要求",value:this.state.HrReq.reqType2,onChange:this.onRadioChange}))))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"预计日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.HrReq.beginDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",v.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"预计日期",required:!0,colon:!0,className:t,help:n.endDateHint,validateStatus:n.reqCountStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.HrReq.endDate,v.dateFormat),format:v.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",v.dateFormat)})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"人员数量",required:!0,colon:!0,className:t,help:n.reqCountHint,validateStatus:n.reqCountStatus}),l.default.createElement(p.Input,{type:"text",name:"reqCount",id:"reqCount",value:this.state.HrReq.reqCount,onChange:this.handleOnChange})))),l.default.createElement(b,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:n.reqMemoHint,validateStatus:n.reqMemoStatus}),l.default.createElement(p.Input,{type:"textarea",name:"reqMemo",id:"reqMemo",onChange:this.handleOnChange,style:{height:"140px"},value:this.state.HrReq.reqMemo})),l.default.createElement(b,i({},a,{label:"处理状态",required:!1,colon:!0,className:t,help:n.statusHint,validateStatus:n.statusStatus}),l.default.createElement(y,{onChange:this.onChange},l.default.createElement(h.default,{name:"status",id:"status",value:this.state.HrReq.status,appName:"项目管理",optName:"人员需求状态",onChange:this.onRadioChange})))))}}));t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=a(1467),d=r(s),u=a(1468),c=r(u),m=(a(1),a(6)),h=o.Tabs.TabPane,p=n.default.createClass({displayName:"ProjHrReqPage",getInitialState:function(){return{isSelect:!0,selectKey:"1",HrReq:{}}},componentDidMount:function(){},selectsRole:function(e){this.setState({isSelect:!0,selectKey:"2",HrReq:e})},onTabClick:function(e){this.setState({isSelect:!0,selectKey:"1"})},render:function(){var e=(this.state.selectKey,m.getGridMargin(this,0));return n.default.createElement("div",{className:"tab-page",style:{padding:e.padding}},n.default.createElement("div",{style:{margin:e.margin}}),n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(o.Tabs,{defaultActiveKey:"1",activeKey:this.state.selectKey,onTabClick:this.onTabClick,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(h,{tab:"人员需求",key:"1",style:{width:"100%",height:"100%"}},n.default.createElement(d.default,{selectsRole:this.selectsRole.bind(this),style:{width:"100%",height:"100%"}})),n.default.createElement(h,{tab:"人员明细",key:"2",disabled:this.state.isSelect,style:{width:"100%",height:"100%"}},n.default.createElement(c.default,{reqUuid:this.state.HrReq.uuid,style:{width:"100%",height:"100%"}})))))}});e.exports=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(30),p=r(h),f=a(1),g=s.Form.Item,v=(s.Select.Option,s.Tabs.TabPane),C=a(6),b=a(3),y=a(14),S=a(226),E=a(194),w=l.default.createClass({displayName:"EnterProjMemberPage",getInitialState:function(){return{ProjMemberSet:{errMsg:""},loading:!1,modal:!1,ProjMember:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,m.default)("ProjMember"),(0,p.default)()],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,ProjMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24"},{id:"teamUuid",desc:"小组UUID",required:!1,max:"24"},{id:"roleName",desc:"承担角色",required:!1,max:"64"},{id:"oldprojLevel",desc:"客户定级",required:!1,max:"64"},{id:"olduserPrice",desc:"结算单价",required:!1,max:"16"},{id:"projLevel",desc:"新定级",required:!0,max:"64"},{id:"userPrice",desc:"结算单价",required:!0,max:"16"},{id:"effectDate",desc:"生效日期",required:!0,max:"24"}],this.initPage(this.props.projMember)},initPage:function(e){b.copyValue(e,this.state.ProjMember),this.setState({loading:!1,hints:{}}),this.state.ProjMember.oldprojLevel=this.state.ProjMember.projLevel,this.state.ProjMember.olduserPrice=this.state.ProjMember.userPrice,this.state.ProjMember.projLevel="",this.state.ProjMember.userPrice="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){C.formValidator(this,this.state.ProjMember)&&(this.setState({loading:!0}),E.enterProjMember(this.state.ProjMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=y.selectedProj.uuid,o=this.getTeamName(n,this.state.ProjMember.teamUuid);return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(v,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(v,{tab:"人员定级",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto",width:"100%"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["proj-member/update"]}),l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.ProjMember.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.ProjMember.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"入组日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.ProjMember.beginDate,C.dateFormat),disabled:!0,format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"入组时间",required:!1,colon:!0,className:t,help:r.beginTimeHint,validateStatus:r.beginTimeStatus}),l.default.createElement(s.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.ProjMember.beginTime,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"小组名称",required:!1,colon:!0,className:t,help:r.teamUuidHint,validateStatus:r.teamUuidStatus}),l.default.createElement(s.Input,{type:"text",name:"teamUuid",id:"teamUuid",value:o,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:r.roleNameHint,validateStatus:r.roleNameStatus}),l.default.createElement(s.Input,{type:"text",name:"roleName",id:"roleName",value:this.state.ProjMember.roleName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"客户定级",required:!1,colon:!0,className:t,help:r.oldprojLevelHint,validateStatus:r.oldprojLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"oldprojLevel",id:"oldprojLevel",value:this.state.ProjMember.oldprojLevel,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"结算单价",required:!1,colon:!0,className:t,help:r.olduserPriceHint,validateStatus:r.olduserPriceStatus}),l.default.createElement(s.Input,{type:"text",name:"olduserPrice",id:"olduserPrice",value:this.state.ProjMember.olduserPrice,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"新定级",required:!0,colon:!0,className:t,help:r.projLevelHint,validateStatus:r.projLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.ProjMember.projLevel,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"结算单价",required:!0,colon:!0,className:t,help:r.userPriceHint,validateStatus:r.userPriceStatus}),l.default.createElement(s.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.ProjMember.userPrice,onChange:this.handleOnChange})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"生效日期",required:!0,colon:!0,className:t,help:r.effectDateHint,validateStatus:r.effectDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.ProjMember.effectDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",C.dateFormat)}))))),l.default.createElement(s.Form,{layout:e},l.default.createElement(g,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(19),u=r(d),c=a(7),m=r(c),h=a(9),p=r(h),f=a(30),g=r(f),v=a(499),C=r(v),b=a(500),y=r(b),S=a(1),E=s.Form.Item,w=(s.Select.Option,s.Tabs.TabPane),x=a(6),k=a(3),j=a(14),N=a(226),P=a(194),D=l.default.createClass({displayName:"LeaveProjMemberPage",getInitialState:function(){return{ProjMemberSet:{errMsg:""},loading:!1,modal:!1,ProjMember:{},hints:{},validRules:[]}},mixins:[S.listenTo(N,"onServiceComplete"),(0,p.default)("ProjMember"),(0,g.default)()],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,ProjMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"manType",desc:"人员类型:员工、实习、外协",required:!1,max:"16"},{id:"resLoc",desc:"项目地址",required:!1,max:"24"},{id:"teamUuid",desc:"小组UUID",required:!1,max:"24"},{id:"projLevel",desc:"客户定级",required:!1,max:"64"},{id:"userPrice",desc:"结算单价",required:!1,max:"16"},{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24"},{id:"endDate",desc:"离组日期",required:!0,max:"24"},{id:"endTime",desc:"离组时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"},{id:"destGroup",desc:"目的地项目群",required:!1,max:"24"}],this.initPage(this.props.projMember)},initPage:function(e){k.copyValue(e,this.state.ProjMember),this.state.ProjMember.destType="资源池",this.state.ProjMember.destGroup="",this.state.ProjMember.destProj="",this.state.ProjMember.destGroupName="",this.state.ProjMember.destProjName="","#"===this.state.ProjMember.endDate&&(this.state.ProjMember.endDate=""+x.getToday(),this.state.ProjMember.endTime="18:00"),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectGroup:function(e){var t=this.state.ProjMember;t.destGroup=e.uuid,t.destGroupName=e.grpName,this.setState({ProjMember:t})},onGroupChange:function(e){var t=this.state.ProjMember;t.destGroupName!==e&&(t.destGroup="",t.destGroupName="",this.setState({ProjMember:t}))},onClickSave:function(){var e=this.state.ProjMember;if("项目组"===e.destType){if(""===e.destGroup)return void x.errMsg("目的地项目群不能空");if(""===e.destProj)return void x.errMsg("目的地项目组不能空");var t=this.refs.destProj.getProjNode(e.destProj);null!==t&&(e.destProjName=t.projName,e.destProjLoc=t.destProjLoc)}x.formValidator(this,e)&&(this.setState({loading:!0}),e.manStatus="离组",e.projUuid=j.selectedProj.uuid,e.corpUuid=window.loginData.compUser.corpUuid,P.leaveProjMember(this.state.ProjMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=j.selectedProj.uuid,o=this.getTeamName(n,this.state.ProjMember.teamUuid),d=(window.loginData.compUser.corpUuid,null);return"项目组"===this.state.ProjMember.destType&&(d=l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"项目群",required:!0,colon:!0,className:t,help:r.destGroupHint,validateStatus:r.destGroupStatus}),l.default.createElement(C.default,{ref:"destGroup",name:"destGroup",id:"destGroup",value:this.state.ProjMember.destGroupName,onTextChange:this.onGroupChange,onSelectGroup:this.onSelectGroup}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"项目组",required:!0,colon:!0,className:t,help:r.destProjHint,validateStatus:r.destProjStatus}),l.default.createElement(y.default,{ref:"destProj",name:"destProj",id:"destProj",parentUuid:this.state.ProjMember.destGroup,value:this.state.ProjMember.destProj,onSelect:this.handleOnSelected.bind(this,"destProj")}))))),l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(w,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(w,{tab:"人员离组",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto",width:"100%"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},l.default.createElement(m.default,{ref:"mxgBox",svcList:["proj-member/update"]}),l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.ProjMember.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.ProjMember.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"小组名称",required:!1,colon:!0,className:t,help:r.teamUuidHint,validateStatus:r.teamUuidStatus}),l.default.createElement(s.Input,{type:"text",name:"teamUuid",id:"teamUuid",value:o,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"客户定级",required:!1,colon:!0,className:t,help:r.projLevelHint,validateStatus:r.projLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.ProjMember.projLevel,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"结算单价",required:!1,colon:!0,className:t,help:r.userPriceHint,validateStatus:r.userPriceStatus}),l.default.createElement(s.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.ProjMember.userPrice,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"入组日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.ProjMember.beginDate,x.dateFormat),disabled:!0,format:x.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",x.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"入组时间",required:!1,colon:!0,
className:t,help:r.beginTimeHint,validateStatus:r.beginTimeStatus}),l.default.createElement(s.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.ProjMember.beginTime,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"离组日期",required:!0,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.ProjMember.endDate,x.dateFormat),format:x.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",x.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"离组时间",required:!0,colon:!0,className:t,help:r.endTimeHint,validateStatus:r.endTimeStatus}),l.default.createElement(s.Input,{type:"text",name:"endTime",id:"endTime",value:this.state.ProjMember.endTime,onChange:this.handleOnChange})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(E,i({},a,{label:"目的地",required:!0,colon:!0,className:t,help:r.destTypeHint,validateStatus:r.destTypeStatus}),l.default.createElement(u.default,{name:"destType",id:"destType",value:this.state.ProjMember.destType,appName:"项目管理",optName:"项目离组目的地",onChange:this.onRadioChange})))),d),l.default.createElement(s.Form,{layout:e},l.default.createElement(E,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(12),m=(r(c),a(79)),h=r(m),p=a(4),f=(a(1),a(6)),g=a(14),v=p.Form.Item,C=(p.Select.Option,p.DatePicker.MonthPicker),b=l.default.createClass({displayName:"ProjMemberFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],projMember:{perName:"",staffCode:"",teamUuid:"",projLevel:"",userLevel:"",beginMonth:""}}},mixins:[(0,u.default)("projMember")],componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"teamUuid",desc:"小组UUID",required:!0,max:"24"},{id:"projLevel",desc:"客户定级",required:!1,max:"0"},{id:"userLevel",desc:"人员级别",required:!1,max:"0"},{id:"beginMonth",desc:"入组开始",required:!1,max:"0"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=g.selectedProj.uuid;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},l.default.createElement(p.Form,{layout:e,style:{width:"100%"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"8"},l.default.createElement(v,i({},a,{label:"小组",required:!1,colon:!0,className:t,help:r.teamUuidHint,validateStatus:r.teamUuidStatus}),l.default.createElement(h.default,{projUuid:n,name:"teamUuid",id:"teamUuid",value:this.state.projMember.teamUuid,onSelect:this.handleOnSelected.bind(this,"teamUuid")}))),l.default.createElement(p.Col,{span:"8"},l.default.createElement(v,i({},a,{label:"客户定级",required:!1,colon:!0,className:t,help:r.projLevelHint,validateStatus:r.projLevelStatus}),l.default.createElement(p.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.projMember.projLevel,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"8"},l.default.createElement(v,i({},a,{label:"人员级别",required:!1,colon:!0,className:t,help:r.userLevelHint,validateStatus:r.userLevelStatus}),l.default.createElement(p.Input,{type:"text",name:"userLevel",id:"userLevel",value:this.state.projMember.userLevel,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"8"},l.default.createElement(v,i({},a,{label:"入组月份",required:!1,colon:!0,className:t,help:r.beginMonthHint,validateStatus:r.beginMonthStatus}),l.default.createElement(C,{style:{width:"100%"},name:"beginMonth",id:"beginMonth",value:this.formatMonth(this.state.projMember.beginMonth,f.monthFormat),format:f.monthFormat,onChange:this.handleOnSelDate.bind(this,"beginMonth",f.monthFormat)}))),l.default.createElement(p.Col,{span:"8"},l.default.createElement(v,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(p.Input,{type:"text",name:"perName",id:"perName",value:this.state.projMember.perName,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"8"},l.default.createElement(v,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.projMember.staffCode,onChange:this.handleOnChange})))))))}});e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(30),h=r(m),p=a(4),f=a(79),g=r(f),v=a(1),C=a(6),b=a(3),y=p.Form.Item,S=(p.Select.Option,p.Tabs.TabPane),E=a(14),w=a(226),x=a(194),k=l.default.createClass({displayName:"UpdateProjMemberPage",getInitialState:function(){return{ProjMemberSet:{errMsg:""},loading:!1,modal:!1,ProjMember:{},hints:{},validRules:[]}},mixins:[v.listenTo(w,"onServiceComplete"),(0,c.default)("ProjMember"),(0,h.default)()],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,ProjMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"manType",desc:"人员类型:员工、实习、外协",required:!1,max:"16"},{id:"resLoc",desc:"项目地址",required:!1,max:"24"},{id:"projLevel",desc:"客户定级",required:!1,max:"64"},{id:"userPrice",desc:"结算单价",required:!1,max:"16"},{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24"},{id:"oldteamUuid",desc:"小组UUID",required:!1,max:"24"},{id:"teamUuid",desc:"小组UUID",required:!1,max:"24"}],this.initPage(this.props.projMember)},initPage:function(e){b.copyValue(e,this.state.ProjMember),this.setState({loading:!1,hints:{}}),this.state.ProjMember.oldteamUuid=this.state.ProjMember.teamUuid,this.state.ProjMember.teamUuid="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){C.formValidator(this,this.state.ProjMember)&&(this.setState({loading:!0}),this.state.ProjMember.projUuid=E.selectedProj.uuid,this.state.ProjMember.grpUuid=E.selectedProj.parentUuid,this.state.ProjMember.corpUuid=window.loginData.compUser.corpUuid,x.updateProjMember(this.state.ProjMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=E.selectedProj.uuid,o=this.getTeamName(n,this.state.ProjMember.oldteamUuid);return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(S,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(S,{tab:"调整小组",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto",width:"100%"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/update"]}),l.default.createElement(p.Form,{layout:e},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(p.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.ProjMember.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(p.Input,{type:"text",name:"perName",id:"perName",value:this.state.ProjMember.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"客户定级",required:!1,colon:!0,className:t,help:r.projLevelHint,validateStatus:r.projLevelStatus}),l.default.createElement(p.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.ProjMember.projLevel,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"结算单价",required:!1,colon:!0,className:t,help:r.userPriceHint,validateStatus:r.userPriceStatus}),l.default.createElement(p.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.ProjMember.userPrice,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"入组日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.ProjMember.beginDate,C.dateFormat),disabled:!0,format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"入组时间",required:!1,colon:!0,className:t,help:r.beginTimeHint,validateStatus:r.beginTimeStatus}),l.default.createElement(p.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.ProjMember.beginTime,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"原小组",required:!1,colon:!0,className:t,help:r.oldteamUuidHint,validateStatus:r.oldteamUuidStatus}),l.default.createElement(p.Input,{type:"text",name:"oldteamUuid",id:"oldteamUuid",value:o,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(y,i({},a,{label:"新小组",required:!0,colon:!0,className:t,help:r.teamUuidHint,validateStatus:r.teamUuidStatus}),l.default.createElement(g.default,{projUuid:E.selectedProj.uuid,onSelect:this.handleOnSelected.bind(this,"teamUuid")}))))),l.default.createElement(p.Form,{layout:e},l.default.createElement(y,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(26),m=r(c),h=a(134),p=r(h),f=a(4),g=a(1404),v=(r(g),a(1),a(6)),C=a(3),b=f.Form.Item,y=(f.DatePicker.MonthPicker,f.Tabs.TabPane),S=a(14),E=l.default.createClass({displayName:"UploadProjMemberPage",getInitialState:function(){return{projMember:{},file:{},user:{},loading:!1,hints:{},validRules:[]}},mixins:[(0,u.default)("projMember"),(0,m.default)()],componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginTime",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.clear(),this.initPage()},componentWillReceiveProps:function(e){this.clear()},initPage:function(){this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},clear:function(){this.state.hints={},this.state.projMember.corpUuid=window.loginData.compUser.corpUuid,this.state.file="",this.state.projMember.applyTime="",this.state.projMember.projUuid="",this.state.projMember.projName="",this.state.projMember.projLoc="",this.state.projMember.dispatcher="",this.state.projMember.beginDate=""+v.getToday(),this.state.projMember.beginTime="09:00",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},uploadComplete:function(e){this.setState({loading:!1}),""!==e?v.errMsg(e):this.goBack()},beforeUpload:function(e){var t=this.state.projMember.beginDate,a=this.state.projMember.beginTime,r={corpUuid:window.loginData.compUser.corpUuid,applyTime:t,projUuid:S.selectedProj.uuid,projName:S.selectedProj.projName,projLoc:S.selectedProj.projLoc,grpUuid:S.selectedProj.parentUuid,beginDate:t,beginTime:a,projMemberFile:e.name,dispUuid:this.state.user.dispUuid,dispCode:this.state.user.dispCode,dispatcher:this.state.user.dispatcher};return this.setState({file:e,projMember:r}),!1},onClickSave:function(e){if(v.formValidator(this,this.state.projMember)){this.setState({loading:!0});var t=C.projUrl+"proj-member/upload-xls",a=this.state.projMember,r=this.state.file;return this.uploadXlsFile(t,a,p.default.projMemberFields,r,this.uploadComplete),!1}},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},onSelectDisp:function(e){e.dispatcher;this.state.projMember.dispatcher=e.dispatcher,this.refs.dispSearchBox.setValue(e.dispatcher),this.setState({user:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=(window.loginData.compUser.corpUuid,S.selectedProj.uuid,this.state.hints),o=l.default.createElement(f.Form,{layout:e,style:{margin:"12px 0 0 0"}},l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"入组日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(f.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:v.dateFormat,value:this.formatDate(this.state.projMember.beginDate,v.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",v.dateFormat)})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"入组时间",required:!0,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(f.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.projMember.beginTime,onChange:this.handleOnChange})))),l.default.createElement(f.Row,null,l.default.createElement(b,i({},a,{label:"人员文件",required:!0,colon:!0,className:t,help:n.salaryFileHint,validateStatus:n.salaryFileStatus}),l.default.createElement(f.Col,{span:"19"},l.default.createElement(f.Input,{type:"text",name:"projMemberFile",id:"projMemberFile",value:this.state.projMember.projMemberFile,readOnly:!0})),l.default.createElement(f.Col,{span:"5"},l.default.createElement(f.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{width:"100%"}},l.default.createElement(f.Button,{icon:"upload",style:{width:"100%",marginLeft:"4px"}},"选择文件"))))),l.default.createElement(f.Row,null,l.default.createElement(b,{style:{textAlign:"right",margin:"12px 0"},className:t},l.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"上传文件"),l.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.goBack,style:{margin:"0 0 0 12px"}},"取消"))));return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(f.Tabs,{defaultActiveKey:"2",onTabClick:this.goBack,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(y,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(y,{tab:"上传人员文件",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0"}},l.default.createElement("div",{style:{padding:"8px",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"600px"}},o))))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(1),p=a(6),f=a(3),g=m.Form.Item,v=m.Tabs.TabPane,C=a(759),b=a(524),y=l.default.createClass({displayName:"DetailsMemberPage",getInitialState:function(){return{loading:!1,memberEval:{},hints:{},validRules:[]}},mixins:[h.listenTo(C,"onServiceComplete"),(0,c.default)("memberEval")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"evalDate",desc:"评价日期",required:!1,max:"24"},{id:"contribute",desc:"贡献度",required:!1,max:"16"},{id:"roleDesc",desc:"职责说明",required:!1,max:"3600"},{id:"evaluate",desc:"评价",required:!1,max:"3600"}],this.initPage(this.props.memberEval)},initPage:function(e){e.evalDate=""+p.getToday(),f.copyValue(e,this.state.memberEval),this.setState({loading:!1,hints:{}}),this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},showError:function(e){console.log(e)},onClickSave:function(){p.formValidator(this,this.state.memberEval)&&(this.setState({loading:!0}),b.updateProjMember(this.state.memberEval))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(v,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(v,{tab:"人员评价",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/update"]}),l.default.createElement(m.Form,{layout:e,style:{width:"600px",marginTop:"24px"}},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.memberEval.staffCode,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{type:"text",name:"perName",id:"perName",value:this.state.memberEval.perName,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"员工类型",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),l.default.createElement(m.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.memberEval.deptName,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"任职部门",required:!1,colon:!0,className:t,help:n.manTypeHint,validateStatus:n.manTypeStatus}),l.default.createElement(m.Input,{type:"text",name:"manType",id:"manType",value:this.state.memberEval.manType,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"小组名称",required:!1,colon:!0,className:t,help:n.teamUuidHint,validateStatus:n.teamUuidStatus}),l.default.createElement(m.Input,{type:"text",name:"teamUuid",id:"teamUuid",value:this.state.memberEval.teamUuid,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"客户定级",required:!1,colon:!0,className:t,help:n.projLevelHint,validateStatus:n.projLevelStatus}),l.default.createElement(m.Input,{style:{zIndex:"20"},type:"text",name:"projLevel",id:"projLevel",value:this.state.memberEval.projLevel,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"结算单价",required:!1,colon:!0,className:t,help:n.userPriceHint,validateStatus:n.userPriceStatus}),l.default.createElement(m.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.memberEval.userPrice,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"入组日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(m.Input,{type:"text",name:"beginDate",id:"beginDate",value:this.state.memberEval.beginDate,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"离组日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(m.Input,{type:"text",name:"endDate",id:"endDate",value:this.state.memberEval.endDate,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"评价日期",required:!1,colon:!0,className:t,help:n.evalDateHint,validateStatus:n.evalDateStatus}),l.default.createElement(m.DatePicker,{style:{width:"100%"},name:"evalDate",id:"evalDate",value:this.formatDate(this.state.memberEval.evalDate,p.dateFormat),format:p.dateFormat,onChange:this.handleOnSelDate.bind(this,"evalDate",p.dateFormat)}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"贡献度",required:!1,colon:!0,className:t,help:n.contributeHint,validateStatus:n.contributeStatus}),l.default.createElement(m.Input,{type:"text",name:"contribute",id:"contribute",value:this.state.memberEval.contribute,onChange:this.handleOnChange})))),l.default.createElement(m.Row,null,l.default.createElement(g,i({},a,{label:"职责说明",required:!1,colon:!0,className:t,help:n.roleDescHint,validateStatus:n.roleDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"roleDesc",id:"roleDesc",value:this.state.memberEval.roleDesc,onChange:this.handleOnChange}))),l.default.createElement(m.Row,null,l.default.createElement(g,i({},a,{label:"评价",required:!1,colon:!0,className:t,help:n.evaluateHint,validateStatus:n.evaluateStatus}),l.default.createElement(m.Input,{style:{zIndex:"20"},type:"textarea",name:"evaluate",id:"evaluate",value:this.state.memberEval.evaluate,onChange:this.handleOnChange}))),l.default.createElement(g,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(12),m=r(c),h=a(79),p=r(h),f=a(4),g=(a(1),a(6)),v=a(14),C=f.Form.Item,b=(f.Select.Option,l.default.createClass({displayName:"MemberEvalFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],memberEval:{perName:"",staffCode:"",teamUuid:"",manStatus:"",endDate:""}}},mixins:[(0,u.default)("memberEval")],componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"endDate",desc:"离组日期",required:!1,max:"24"},{id:"manStatus",desc:"状态",required:!1,max:"16"},{id:"teamUuid",desc:"小组UUID",required:!0,max:"24"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=v.selectedProj.uuid;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},l.default.createElement(f.Form,{layout:e,style:{width:"100%"}},l.default.createElement(f.Row,{style:{textAlign:"right"}},l.default.createElement(f.Col,{span:"8"}),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(f.Input,{type:"text",name:"perName",id:"perName",value:this.state.memberEval.perName,onChange:this.handleOnChange}))),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(f.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.memberEval.staffCode,onChange:this.handleOnChange})))),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"小组",required:!1,colon:!0,className:t,help:r.teamUuidHint,validateStatus:r.teamUuidStatus}),l.default.createElement(p.default,{projUuid:n,name:"teamUuid",id:"teamUuid",value:this.state.memberEval.teamUuid,onSelect:this.handleOnSelected.bind(this,"teamUuid")}))),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"状态",required:!1,colon:!0,className:t,help:r.manStatusHint,validateStatus:r.manStatusStatus}),l.default.createElement(m.default,{name:"manStatus",id:"manStatus",value:this.state.memberEval.manStatus,appName:"项目管理",optName:"项目组人员状态",onSelect:this.handleOnSelected.bind(this,"manStatus")}))),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"离组日期",required:!1,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(f.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.memberEval.endDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",g.dateFormat)}))))))}}));e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1478),m=r(c),h=a(1477),p=r(h),f=a(21),g=r(f),v=a(1),C=u.Input.Search,b=u.Radio.Button,y=u.Radio.Group,S=a(6),E=(a(3),a(759)),w=a(524),x=a(14),k=10,j=n.default.createClass({displayName:"MemberEvalPage",getInitialState:function(){return{memberEvalSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,viewType:"1",action:"query",memberEval:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[v.listenTo(E,"onServiceComplete"),(0,g.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.MemberEvalFilter;null!==a&&"undefined"!=typeof a&&(a.state.memberEval=this.state.filter)}}this.setState({loading:!1,memberEvalSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.projUuid=x.selectedProj.uuid,this.state.filter.more=this.state.moreFilter?"1":"0",w.retrieveProjMemberPage(this.state.filter,this.state.memberEvalSet.startPage,k)},componentDidMount:function(){w.getCacheData(x.selectedProj.uuid)},onClickDetails:function(e,t){this.setState({memberEval:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},onChangeView:function(e){this.setState({viewType:e.target.value})},onChangePage:function(e){this.state.memberEvalSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){k=t,this.handleQueryClick()},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onMoreSearch:function(){var e=this.refs.MemberEvalFilter.state.memberEval;null!==e.beginDate&&""!==e.beginDate?(e.beginDate1=e.beginDate+"01",e.beginDate2=e.beginDate+"31"):(e.beginDate1="",e.beginDate2=""),this.state.filter=e,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;S.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},render:function(){var e=this,t=[];t="1"!==this.state.viewType?[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"人员级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(t,a){return e.getLevelName(a.corpUuid,a.userLevel)}},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算单价",dataIndex:"userPrice",key:"userPrice",width:140},{title:"技术岗位",dataIndex:"techLevel",key:"techLevel",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return S.formatDate(e,S.dateFormat)}},{title:"离组日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return S.formatDate(e,S.dateFormat)}},{title:"操作",key:"action",width:90,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickDetails.bind(e,a),title:"详情"},n.default.createElement(u.Icon,{type:"bars"})))}}]:[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:140},{title:"评价日期",dataIndex:"evalDate",key:"evalDate",width:140,render:function(e,t){return S.formatDate(e,S.dateFormat)}},{title:"评价人",dataIndex:"evalName",key:"evalName",width:140},{title:"贡献度",dataIndex:"contribute",key:"contribute",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return S.formatDate(e,S.dateFormat)}},{title:"离组日期",
dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return S.formatDate(e,S.dateFormat)}},{title:"操作",key:"action",width:90,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickDetails.bind(e,a),title:"详情"},n.default.createElement(u.Icon,{type:"bars"})))}}];var a=this.state.memberEvalSet.recordSet,r=this.state.moreFilter,i="query"===this.state.action?"":"none",l={showQuickJumper:!0,total:this.state.memberEvalSet.totalRow,pageSize:this.state.memberEvalSet.pageRow,current:this.state.memberEvalSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{overflow:"hidden",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/retrieve"]}),n.default.createElement(m.default,{ref:"MemberEvalFilter",moreFilter:r}),n.default.createElement("div",null,n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:S.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(y,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeView},n.default.createElement(b,{value:"1"},"评价"),n.default.createElement(b,{value:"2"},"人员信息"))),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(C,{placeholder:"查询(员工编号/员工姓名)",style:{width:S.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:S.tableBorder}))),s=null;return"update"===this.state.action&&(s=n.default.createElement(p.default,{onBack:this.onGoBack,memberEval:this.state.memberEval})),n.default.createElement("div",{style:{width:"100%"}},o,s)}});e.exports=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(12),m=r(c),h=a(79),p=r(h),f=a(4),g=(a(1),a(6)),v=a(14),C=f.Form.Item,b=(f.Select.Option,l.default.createClass({displayName:"MemberLogFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],memberLog:{perName:"",staffCode:"",teamUuid:"",manStatus:"",endDate:""}}},mixins:[(0,u.default)("memberLog")],componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"endDate",desc:"离组日期",required:!1,max:"24"},{id:"manStatus",desc:"状态",required:!1,max:"16"},{id:"teamUuid",desc:"小组UUID",required:!0,max:"24"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=v.selectedProj.uuid;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},l.default.createElement(f.Form,{layout:e,style:{width:"100%"}},l.default.createElement(f.Row,{style:{textAlign:"right"}},l.default.createElement(f.Col,{span:"8"}),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(f.Input,{type:"text",name:"perName",id:"perName",value:this.state.memberLog.perName,onChange:this.handleOnChange}))),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(f.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.memberLog.staffCode,onChange:this.handleOnChange})))),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"小组",required:!1,colon:!0,className:t,help:r.teamUuidHint,validateStatus:r.teamUuidStatus}),l.default.createElement(p.default,{projUuid:n,name:"teamUuid",id:"teamUuid",value:this.state.memberLog.teamUuid,onSelect:this.handleOnSelected.bind(this,"teamUuid")}))),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"状态",required:!1,colon:!0,className:t,help:r.manStatusHint,validateStatus:r.manStatusStatus}),l.default.createElement(m.default,{name:"manStatus",id:"manStatus",value:this.state.memberLog.manStatus,appName:"项目管理",optName:"项目组人员状态",onSelect:this.handleOnSelected.bind(this,"manStatus")}))),l.default.createElement(f.Col,{span:"8"},l.default.createElement(C,i({},a,{label:"离组日期",required:!1,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(f.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.memberLog.endDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",g.dateFormat)}))))))}}));e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1480),m=r(c),h=a(30),p=r(h),f=a(21),g=r(f),v=a(14),C=r(v),b=a(1),y=u.Input.Search,S=a(6),E=(a(3),a(1482)),w=a(760),x=10,k=n.default.createClass({displayName:"MemberLogPage",getInitialState:function(){return{memberLogSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,MemberLog:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[b.listenTo(E,"onServiceComplete"),(0,p.default)(),(0,g.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.MemberLogFilter;null!==a&&"undefined"!=typeof a&&(a.state.memberLog=this.state.filter)}}this.setState({loading:!1,memberLogSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.more=this.state.moreFilter?"1":"0",this.state.filter.projUuid=C.default.selectedProj.uuid,w.retrieveProjMemberPage(this.state.filter,this.state.memberLogSet.startPage,x)},componentDidMount:function(){w.getCacheData(C.default.selectedProj.uuid)},onChangePage:function(e){this.state.memberLogSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){x=t,this.handleQueryClick()},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onMoreSearch:function(){var e=this.refs.MemberLogFilter.state.memberLog;null!==e.beginDate&&""!==e.beginDate?(e.beginDate1=e.beginDate+"01",e.beginDate2=e.beginDate+"31"):(e.beginDate1="",e.beginDate2=""),this.state.filter=e,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;S.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},render:function(){var e=this,t=this.state.memberLogSet.recordSet,a=this.state.moreFilter,r={showQuickJumper:!0,total:this.state.memberLogSet.totalRow,pageSize:this.state.memberLogSet.pageRow,current:this.state.memberLogSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},i=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return S.formatDate(e,S.dateFormat)}},{title:"离组日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return S.formatDate(e,S.dateFormat)}},{title:"小组",dataIndex:"teamUuid",key:"teamUuid",width:140,render:function(t,a){return e.getTeamName(a.projUuid,t)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:140},{title:"人员级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(t,a){return e.getLevelName(a.corpUuid,a.userLevel)}},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算单价",dataIndex:"userPrice",key:"userPrice",width:140}];return n.default.createElement("div",{className:"grid-page"},n.default.createElement("div",null,n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/retrieve"]}),n.default.createElement(m.default,{ref:"MemberLogFilter",moreFilter:a}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:S.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),a?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(y,{placeholder:"查询(员工编号/员工姓名)",style:{width:S.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:S.tableBorder})))}});e.exports=k},function(e,t,a){"use strict";var r=a(1),i=a(760),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onGetCacheData:function(e){this.filter.projUuid!==e&&(this.filter={},this.recordSet=[],this.startPage=0,this.pageRow=0,this.totalRow=0),this.fireEvent("cache","",this)},onRetrieveProjMember:function(e){var t=this,a=this.getServiceUrl("proj-member/retrieve2");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjMember(e)},onInitProjMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjMember(e)},onCreateProjMember:function(e){var t=this.getServiceUrl("proj-member/create");n.recordCreate(this,e,t)},onUpdateProjMember:function(e){var t=this.getServiceUrl("proj-member/update");n.recordUpdate(this,e,t)},onDeleteProjMember:function(e){var t=this.getServiceUrl("proj-member/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"OverBookPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"加班登记表")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1),m=a(14),h=a(1485),p=a(763),f=n.default.createClass({displayName:"ChkProjPage",getInitialState:function(){return{projSet:{proj:{},operation:"",errMsg:""},loading:!1}},mixins:[c.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){"retrieve"===e.operation&&this.setState({loading:!1,projSet:e})},componentDidMount:function(){if(window.loginData.compUser){var e={};e.staffCode=window.loginData.compUser.userCode,e.corpUuid=window.loginData.compUser.corpUuid,e.chkRole="1",this.setState({loading:!0}),p.initProj(e)}},handleResClick:function(e){m.openResChkPage(e)},handleGroupClick:function(e){m.openGroupChkPage(e)},handleProjClick:function(e){m.openProjChkPage(e)},handleBiziProjClick:function(e){m.openBiziProjChkPage(e)},render:function(){var e=this,t=this.state.projSet.proj,a=[],r=[],i=[],l=[],o=0,d=0,c=0,m=0;t.res&&t.res.length>0&&(o=t.res.length,a=t.res.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleResClick.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.poolName,n.default.createElement("p",{style:{float:"right"}},n.default.createElement(s.Icon,{type:"team",title:"小组数量"})," ",t.childCount?t.childCount:0,n.default.createElement("span",{style:{padding:"0 8px"}},"|"),n.default.createElement(s.Icon,{type:"user",title:"成员数量"})," ",t.memberCount?t.memberCount:0))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},t.poolDesc)))})),t.group&&t.group.length>0&&(d=t.group.length,r=t.group.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleGroupClick.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.grpName,n.default.createElement("p",{style:{float:"right"}},n.default.createElement(s.Icon,{type:"share-alt",title:"项目数量"})," ",t.childCount?t.childCount:0,n.default.createElement("span",{style:{padding:"0 8px"}},"|"),n.default.createElement(s.Icon,{type:"user",title:"成员数量"})," ",t.memberCount?t.memberCount:0))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},t.grpDesc)))})),t.proj&&t.proj.length>0&&(c=t.proj.length,i=t.proj.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleProjClick.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.projName,n.default.createElement("p",{style:{float:"right"}},n.default.createElement(s.Icon,{type:"team",title:"小组数量"})," ",t.childCount?t.childCount:0,n.default.createElement("span",{style:{padding:"0 8px"}},"|"),n.default.createElement(s.Icon,{type:"user",title:"成员数量"})," ",t.memberCount?t.memberCount:0))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},t.projDesc)))})),t.bizi&&t.bizi.length>0&&(m=t.bizi.length,l=t.bizi.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleBiziProjClick.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.projName,n.default.createElement("p",{style:{float:"right"}},n.default.createElement(s.Icon,{type:"user",title:"成员数量"})," ",t.memberCount?t.memberCount:0))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",minHeight:84}},t.projDesc)))}));var h=n.default.createElement("div",null,0===o&&0===d&&0===c&&0===m?n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"没有可管理的资源池和项目"):"",n.default.createElement("div",{style:{overflow:"hidden"}},0===o?"":n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"共",o,"个资源池"),a),n.default.createElement("div",{style:{overflow:"hidden"}},0===d?"":n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"共",d,"个项目群"),r),n.default.createElement("div",{style:{overflow:"hidden"}},0===c?"":n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"共",c,"个项目组"),i),n.default.createElement("div",{style:{overflow:"hidden"}},0===m?"":n.default.createElement("div",{style:{marginLeft:"16px",marginBottom:"12px"}},"共",m,"个事务性项目"),l));return n.default.createElement("div",{className:"form-page",style:{width:"100%",padding:"24px 16px 0 16px"}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj/retrieve"]}),this.state.loading?n.default.createElement(s.Spin,{tip:"正在努力加载数据..."},n.default.createElement("div",{style:{minHeight:"200px"}},h)):n.default.createElement("div",null,h))}});e.exports=f},function(e,t,a){"use strict";var r=a(1),i=a(763),n=a(3),l=a(11),o=r.createStore({listenables:[i],proj:{},filter:"",init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({proj:a.proj,filter:a.filter,operation:e,errMsg:t}),l.showError("proj",e,t)},onRetrieveProj:function(e){var t=this,a=this.getServiceUrl("proj/retrieve");n.doGetRecordService(a,e).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.proj=a.object,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProj:function(e){return"{}"!==JSON.stringify(this.proj)&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProj(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(762),n=a(3),l=a(11),o=r.createStore({listenables:[i],proj:{},filter:"",init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({proj:a.proj,filter:a.filter,operation:e,errMsg:t}),l.showError("proj",e,t)},onRetrieveProj:function(e){var t=this,a=this.getServiceUrl("proj/retrieve");n.doGetRecordService(a,e).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.proj=a.object,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProj:function(e){return"{}"!==JSON.stringify(this.proj)&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProj(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"ProjCheckPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"项目组考勤")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(12),p=(r(h),a(30)),f=r(p),g=a(67),v=r(g),C=a(1),b=s.Form.Item,y=(s.Select.Option,a(6)),S=a(14),E=a(227),w=a(195),x=l.default.createClass({displayName:"CreateProjCondPage",getInitialState:function(){return{contSet:{operation:"",errMsg:""},loading:!1,modal:!1,cond:{},hints:{},validRules:[]}},mixins:[C.listenTo(E,"onServiceComplete"),(0,f.default)(),(0,m.default)("cond")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({loading:!1,modal:!1}):this.setState({loading:!1,contSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"staffCode",desc:"员工编号",required:!0,true:"32"},{id:"refTime",desc:"推荐时间",required:!1,max:"64"},{id:"refJob",desc:"推荐岗位",required:!1,max:"64"},{id:"refMemo",desc:"推荐说明",required:!1,max:"64"}]},clear:function(){this.state.hints={},this.state.cond.projUuid=S.selectedProj.uuid,this.state.cond.projName=S.selectedProj.projName,this.state.cond.perName="",this.state.cond.staffCode="",this.state.cond.poolUuid="",this.state.cond.baseCity="",this.state.cond.status="",this.state.cond.refName="项目组",this.state.cond.refJob="",this.state.cond.refMemo="",this.state.cond.provStatus="未处理",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){if(y.formValidator(this,this.state.cond)){this.setState({loading:!0});var e=new Date;this.state.cond.corpUuid=window.loginData.compUser.corpUuid,this.state.cond.refDate=""+y.getToday(),this.state.cond.refTime=e.getHours()+":"+e.getMinutes(),w.createProjCond(this.state.cond)}},onSelectMember:function(e){var t=this.state.cond;t.staffCode=e.staffCode,t.perName=e.perName,t.userId=e.userId,t.poolUuid=e.poolUuid,t.baseCity=e.baseCity,t.teamUuid=e.teamUuid,t.resStatus=e.resStatus,t.resName=e.resName,this.setState({cond:t})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.cond.poolUuid,o=n;null!==n&&void 0!==n&&""!==n&&(o=this.getResPoolName(n),o!==n&&(this.state.cond.poolName=o));var d=this.state.hints;return l.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"推荐组员",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["proj_cond/create"]}),l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"4"}),l.default.createElement(s.Col,{span:"20"},l.default.createElement(b,{label:"",colon:!0,className:t,help:d.custNameHint,validateStatus:d.custNameStatus},l.default.createElement(v.default,{onSelectMember:this.onSelectMember})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"员工编号",required:!0,colon:!0,className:t,help:d.staffCodeHint,validateStatus:d.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.cond.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"员工姓名",required:!0,colon:!0,className:t,help:d.perNameHint,validateStatus:d.perNameStatus}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.cond.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"资源池",colon:!0,className:t,help:d.staffCodeHint,validateStatus:d.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"poolName",id:"poolName",value:o,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"属地",colon:!0,className:t,help:d.baseCityHint,validateStatus:d.baseCityStatus}),l.default.createElement(s.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.cond.baseCity,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"当前状态",colon:!0,className:t,help:d.resStatusHint,validateStatus:d.resStatusStatus}),l.default.createElement(s.Input,{type:"text",name:"resStatus",id:"resStatus",value:this.state.cond.resStatus,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"所在项目",colon:!0,className:t,help:d.resNameHint,validateStatus:d.resNameStatus}),l.default.createElement(s.Input,{type:"text",name:"resName",id:"resName",value:this.state.cond.resName,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"推荐岗位",required:!1,colon:!0,className:t,help:d.refJobHint,validateStatus:d.refJobStatus}),l.default.createElement(s.Input,{type:"text",name:"refJob",id:"refJob",value:this.state.cond.refJob,onChange:this.handleOnChange})))),l.default.createElement(b,i({},r,{label:"推荐说明",required:!1,colon:!0,className:t,help:d.refMemoHint,validateStatus:d.refMemoStatus}),l.default.createElement(s.Input,{type:"textarea",name:"refMemo",id:"refMemo",onChange:this.handleOnChange,style:{height:"140px"},value:this.state.cond.refMemo}))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(12),p=(r(h),a(30)),f=r(p),g=a(67),v=r(g),C=a(1),b=s.Form.Item,y=(s.Select.Option,a(6)),S=a(14),E=a(227),w=a(195),x=l.default.createClass({displayName:"CreateProjCondPage2",getInitialState:function(){return{contSet:{operation:"",errMsg:""},loading:!1,modal:!1,cond:{},hints:{},validRules:[]}},mixins:[C.listenTo(E,"onServiceComplete"),(0,f.default)(),(0,m.default)("cond")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({loading:!1,modal:!1}):this.setState({loading:!1,contSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"staffCode",desc:"员工编号",required:!0,max:"32"},{id:"lastDate",desc:"最后期限",required:!1,max:"16"},{id:"refTime",desc:"推荐时间",required:!1,max:"64"},{id:"refJob",desc:"推荐岗位",required:!1,max:"64"},{id:"refMemo",desc:"推荐说明",required:!1,max:"64"}]},clear:function(e,t){this.state.hints={};var a=S.selectedPool;this.state.cond.projUuid=e,this.state.cond.projName=t,this.state.cond.perName="",this.state.cond.staffCode="",this.state.cond.poolUuid=a.uuid,this.state.cond.poolName=a.poolName,this.state.cond.baseCity="",this.state.cond.status="",this.state.cond.refName=window.loginData.authUser.perName,this.state.cond.refJob="",this.state.cond.refMemo="",this.state.cond.lastDate="",this.state.cond.provStatus="未处理",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){if(y.formValidator(this,this.state.cond)){this.setState({loading:!0});var e=new Date;this.state.cond.corpUuid=window.loginData.compUser.corpUuid,this.state.cond.refDate=""+y.getToday(),this.state.cond.refTime=e.getHours()+":"+e.getMinutes(),w.createProjCond(this.state.cond)}},onSelectMember:function(e){var t=this.state.cond;t.staffCode=e.staffCode,t.perName=e.perName,t.userId=e.userId,t.baseCity=e.baseCity,t.teamUuid=e.teamUuid,this.setState({cond:t})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=S.selectedPool,o=this.state.hints;return l.default.createElement(s.Modal,{visible:this.state.modal,width:"540px",title:"推荐组员",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["proj_cond/create"]}),l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"4"}),l.default.createElement(s.Col,{span:"20"},l.default.createElement(b,{label:"",colon:!0,className:t,help:o.custNameHint,validateStatus:o.custNameStatus},l.default.createElement(v.default,{onSelectMember:this.onSelectMember,poolUuid:n.uuid})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"员工编号",required:!0,colon:!0,className:t,help:o.staffCodeHint,validateStatus:o.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.cond.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"员工姓名",required:!0,colon:!0,className:t,help:o.perNameHint,validateStatus:o.perNameStatus}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.cond.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"资源池",colon:!0,className:t,help:o.poolNameHint,validateStatus:o.poolNameStatus}),l.default.createElement(s.Input,{type:"text",name:"poolName",id:"poolName",value:this.state.cond.poolName,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"属地",colon:!0,className:t,help:o.baseCityHint,validateStatus:o.baseCityStatus}),l.default.createElement(s.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.cond.baseCity,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"推荐岗位",required:!1,colon:!0,className:t,help:o.refJobHint,validateStatus:o.refJobStatus}),l.default.createElement(s.Input,{type:"text",name:"refJob",id:"refJob",value:this.state.cond.refJob,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"锁定日期",required:!1,colon:!0,className:t,help:o.lastDateHint,validateStatus:o.lastDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"lastDate",id:"lastDate",value:this.formatDate(this.state.cond.lastDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"lastDate",y.dateFormat)})))),l.default.createElement(b,i({},r,{label:"推荐说明",required:!1,colon:!0,className:t,help:o.refMemoHint,validateStatus:o.refMemoStatus}),l.default.createElement(s.Input,{type:"textarea",name:"refMemo",id:"refMemo",onChange:this.handleOnChange,style:{height:"140px"},value:this.state.cond.refMemo}))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(5),d=(r(s),a(7)),u=r(d),c=a(9),m=r(c),h=a(19),p=(r(h),
a(79)),f=(r(p),a(284)),g=r(f),v=a(14),C=r(v),b=a(21),y=r(b),S=a(776),E=r(S),w=a(4),x=a(1),k=a(6),j=a(3),N=w.Form.Item,P=(w.Select.Option,w.Tabs.TabPane),D=a(227),R=a(195),M=o.default.createClass({displayName:"UpdateProjCondPage",getInitialState:function(){return{condSet:{errMsg:""},loading:!1,cond:{},userId:"",member:{},hints:{},validRules:[]}},mixins:[x.listenTo(D,"onServiceComplete"),(0,y.default)(),(0,m.default)("cond")],onServiceComplete:function(e){"update"===e.operation?""===e.errMsg?this.props.onBack():this.setState({loading:!1,condSet:e}):"retrieveMember"===e.operation&&(""===e.errMsg?this.setState({loading:!1,condSet:e,member:e.member}):this.setState({loading:!1,condSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"refMemo",desc:"推荐说明",required:!1,max:"64"},{id:"refJob",desc:"推荐岗位",required:!1,max:"64"},{id:"lastDate",desc:"最后期限",required:!1,max:"16"}],this.initPage(this.props.cond)},initPage:function(e){this.state.userId=e.userId,j.copyValue(e,this.state.cond),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),this.setState({loading:!0}),R.getMember(e.staffCode)},onClickSave:function(e){var t=this.state.cond;if(k.formValidator(this,t)){if("确认"===e){t.provCode=window.loginData.compUser.userCode,t.provName=window.loginData.authUser.perName;var a=new Date;t.provDate=""+k.getToday(),t.provTime=a.getHours()+":"+a.getMinutes()}this.setState({loading:!0}),R.updateProjCond(t)}},onSave:function(){this.onClickSave("保存")},onWaitIntv:function(){this.state.cond.provStatus="待面试",this.onClickSave("确认")},onWaitEnter:function(){this.state.cond.provStatus="待入组",this.onClickSave("确认")},onUnapt:function(){this.state.cond.provStatus="不合适",this.onClickSave("确认")},onCancel:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},l=this.state.hints,s="项目组"!==this.state.cond.refName,d=this.state.member,c=C.default.getDisplayWorkYears(d.workBegin),m=C.default.getDisplayWorkYears(d.induBegin),h=null===d.corpName||""===d.corpName?d.deptName:d.corpName,p=[];s?(p.push(o.default.createElement(N,n({},r,{label:"处理意见",required:!1,colon:!0,className:t,help:l.provMemoHint,validateStatus:l.provMemoStatus}),o.default.createElement(w.Input,{type:"textarea",name:"provMemo",id:"provMemo",onChange:this.handleOnChange,style:{height:"70px"},value:this.state.cond.provMemo}))),p.push(o.default.createElement(N,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},o.default.createElement(w.Button,{key:"btnStatus1",type:"primary",size:"large",disabled:this.state.disbtn,onClick:this.onWaitIntv,loading:this.state.loading},"待面试")," ",o.default.createElement(w.Button,{key:"btnStatus2",size:"large",disabled:this.state.disbtn,onClick:this.onWaitEnter},"待入组")," ",o.default.createElement(w.Button,{key:"btnStatus3",size:"large",disabled:this.state.disbtn,onClick:this.onUnapt},"不合适")," ",o.default.createElement(w.Button,{key:"btnClose",size:"large",onClick:this.onCancel},"取消")))):p.push(o.default.createElement(N,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},o.default.createElement(w.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onSave,loading:this.state.loading},"保存")," ",o.default.createElement(w.Button,{key:"btnClose",size:"large",onClick:this.onCancel},"取消")));var f=o.default.createElement(w.Form,{layout:e,style:{width:"600px"}},o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"员工编号",className:t}),o.default.createElement(w.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.cond.staffCode,disabled:!0}))),o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"员工姓名",className:t}),o.default.createElement(w.Input,{type:"text",name:"perName",id:"perName",value:this.state.cond.perName,disabled:!0})))),o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"公司名称",className:t}),o.default.createElement(w.Input,{type:"text",name:"corpName",id:"corpName",value:h,disabled:!0}))),o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"归属地",className:t}),o.default.createElement(w.Input,{type:"text",name:"baseCity",id:"baseCity",value:d.baseCity,disabled:!0})))),o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"最高学历",className:t}),o.default.createElement(w.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:d.eduDegree,disabled:!0}))),o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"毕业院校",className:t}),o.default.createElement(w.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:d.eduCollege,disabled:!0})))),o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"工龄",className:t}),o.default.createElement(w.Col,{span:"11"},o.default.createElement(w.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:c.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),o.default.createElement(w.Col,{span:"2",style:{textAlign:"center"}}),o.default.createElement(w.Col,{span:"11"},o.default.createElement(w.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:c.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"行业经验",className:t}),o.default.createElement(w.Col,{span:"11"},o.default.createElement(w.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:m.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),o.default.createElement(w.Col,{span:"2",style:{textAlign:"center"}}),o.default.createElement(w.Col,{span:"11"},o.default.createElement(w.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:m.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"员工级别",className:t}),o.default.createElement(w.Input,{type:"text",name:"empLevel",id:"empLevel",value:this.getLevelName(d.corpUuid,d.empLevel),disabled:!0})))),o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"技术级别",required:!1,colon:!0,className:t}),o.default.createElement(w.Input,{type:"text",name:"techLevel",id:"techLevel",value:d.techLevel,disabled:!0}))),o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"管理级别",required:!1,colon:!0,className:t}),o.default.createElement(w.Input,{type:"text",name:"manLevel",id:"manLevel",value:d.manLevel,disabled:!0})))),o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"技术岗位",required:!1,colon:!0,className:t}),o.default.createElement(w.Input,{type:"text",name:"techUuid",id:"techUuid",value:d.techName,disabled:!0}))),o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"管理岗位",required:!1,colon:!0,className:t}),o.default.createElement(w.Input,{type:"text",name:"manUuid",id:"manUuid",value:d.manName,disabled:!0})))),o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{className:t,label:"资源池"}),o.default.createElement(w.Input,{type:"text",name:"poolName",id:"poolName",value:this.state.cond.poolName,disabled:!0})))),o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,i({className:t,label:"当前状态",colon:!0},"className",t)),o.default.createElement(w.Input,{type:"text",name:"status",id:"status",value:d.resStatus,disabled:!0}))),o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,i({className:t,label:"所在项目",colon:!0},"className",t)),o.default.createElement(w.Input,{type:"text",name:"resName",id:"resName",value:d.resName,disabled:!0})))),o.default.createElement(w.Row,null,o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"推荐岗位",required:!1,colon:!0,className:t,help:l.refJobHint,validateStatus:l.refJobStatus}),o.default.createElement(w.Input,{type:"text",name:"refJob",id:"refJob",value:this.state.cond.refJob,onChange:this.handleOnChange,disabled:s}))),o.default.createElement(w.Col,{span:"12"},o.default.createElement(N,n({},a,{label:"锁定日期",required:!1,colon:!0,className:t,help:l.lastDateHint,validateStatus:l.lastDateStatus}),o.default.createElement(w.DatePicker,{style:{width:"100%"},name:"lastDate",id:"lastDate",value:this.formatDate(this.state.cond.lastDate,k.dateFormat),format:k.dateFormat,onChange:this.handleOnSelDate.bind(this,"lastDate",k.dateFormat),disabled:!0})))),o.default.createElement(N,n({},r,{label:"推荐说明",required:!1,colon:!0,className:t,help:l.refMemoHint,validateStatus:l.refMemoStatus}),o.default.createElement(w.Input,{type:"textarea",name:"refMemo",id:"refMemo",onChange:this.handleOnChange,style:{height:"70px"},value:this.state.cond.refMemo,disabled:s})),p);return o.default.createElement(w.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},o.default.createElement(P,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),o.default.createElement(P,{tab:"基本信息",key:"2",style:{width:"100%",height:"100%"}},o.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},o.default.createElement(u.default,{ref:"mxgBox",svcList:["proj_cond/update","res-member/retrieveMember"]}),this.state.loading?o.default.createElement(w.Spin,null,f):f)),o.default.createElement(P,{tab:"项目经历",key:"3",style:{width:"100%",height:"100%"}},o.default.createElement("div",{style:{padding:"24px 12px 16px 0",height:"100%",overflowY:"auto"}},o.default.createElement(E.default,{staffCode:this.state.cond.staffCode}))),o.default.createElement(P,{tab:"个人简历",key:"4",style:{width:"100%",height:"100%"}},o.default.createElement(g.default,{userId:this.state.userId})))}});e.exports=M},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(1488),u=r(d),c=a(1490),m=r(c),h=a(7),p=r(h),f=a(1),g=s.Input.Search,v=a(6),C=(a(3),a(227)),b=a(195),y=a(14),S=10,E="",w=n.default.createClass({displayName:"ProjCondPage",getInitialState:function(){return{condSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,errMsg:""},cond:{},action:"query",loading:!1,filter:{}}},mixins:[f.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,condSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.projUuid=y.selectedProj.uuid,t.corpUuid=window.loginData.compUser.corpUuid,b.retrieveProjCondPage(t,this.state.condSet.startPage,S)},componentDidMount:function(){this.setState({loading:!0});var e={};e.projUuid=y.selectedProj.uuid,e.corpUuid=window.loginData.compUser.corpUuid,b.initProjCond(e,this.state.condSet.startPage,S)},onClickUpdate:function(e,t){this.setState({action:"update",cond:e})},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的类型 【"+e.uuid+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),b.deleteProjCond(e.uuid)},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},handleCreate:function(e){this.refs.createWindow.clear(),this.refs.createWindow.toggle()},onChangePage:function(e){this.state.condSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){S=t,this.handleQueryClick()},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=v.filter(this.state.condSet.recordSet,E),a=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"推荐岗位",dataIndex:"refJob",key:"refJob",width:140},{title:"推荐人",dataIndex:"refName",key:"refName",width:140},{title:"推荐说明",dataIndex:"refMemo",key:"refMemo",width:140},{title:"锁定期",dataIndex:"lastDate",key:"lastDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"状态",dataIndex:"provStatus",key:"provStatus",width:140},{title:"更多操作",key:"action",width:130,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员需求"},n.default.createElement(s.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员需求"},n.default.createElement(s.Icon,{type:v.iconRemove})))}}],r={showQuickJumper:!0,total:this.state.condSet.totalRow,pageSize:this.state.condSet.pageRow,current:this.state.condSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},i="query"===this.state.action?"":"none",l=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(p.default,{ref:"mxgBox",svcList:["proj_cond/retrieve","proj_cond/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:v.iconAdd,type:"primary",title:"推荐组员",onClick:this.handleCreate}),n.default.createElement(s.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查询",style:{width:v.searchWidth},onChange:this.onFilterRecord}))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:v.tableBorder})),n.default.createElement(u.default,{ref:"createWindow"})),o=null;return"update"===this.state.action&&(o=n.default.createElement(m.default,{onBack:this.onGoBack,cond:this.state.cond})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},l,o)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1489),m=r(c),h=a(764),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=(a(3),a(227)),b=a(195),y=(a(14),10),S="",E=n.default.createClass({displayName:"ProjCondPage2",getInitialState:function(){return{condSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},cond:{},action:"query",loading:!1,filter:{}}},mixins:[f.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,condSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.filter;t.projUuid=this.props.projDisp.uuid,t.corpUuid=window.loginData.compUser.corpUuid,b.retrieveProjCondPage(t,this.state.condSet.startPage,y)},componentDidMount:function(){this.setState({loading:!0}),this.handleQueryClick()},onClickUpdate:function(e,t){this.props.doAction("update-cond",e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.condSet.operation="",b.deleteProjCond(e.uuid)},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},handleCreate:function(e){var t=this.props.projDisp;this.refs.createWindow.clear(t.uuid,t.projName),this.refs.createWindow.toggle()},onChangePage:function(e){this.state.condSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){y=t,this.handleQueryClick()},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=v.filter(this.state.condSet.recordSet,S),a=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"推荐岗位",dataIndex:"refJob",key:"refJob",width:140},{title:"推荐人",dataIndex:"refName",key:"refName",width:140},{title:"资源池",dataIndex:"poolName",key:"poolName",width:140},{title:"锁定期",dataIndex:"lastDate",key:"lastDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"状态",dataIndex:"provStatus",key:"provStatus",width:140},{title:"更多操作",key:"action",width:130,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员需求"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员需求"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}],r={showQuickJumper:!0,total:this.state.condSet.totalRow,pageSize:this.state.condSet.pageRow,current:this.state.condSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},i="query"===this.state.action?"":"none",l=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_cond/retrieve","proj_cond/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"推荐组员",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查询",style:{width:v.searchWidth},onChange:this.onFilterRecord}))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:v.tableBorder})),n.default.createElement(m.default,{ref:"createWindow"})),o=null;return"update2"===this.state.action&&(o=n.default.createElement(p.default,{onBack:this.onGoBack,cond:this.state.cond})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},l,o)}});e.exports=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=(r(s),a(9)),u=r(d),c=a(4),m=(a(1),a(6)),h=(a(14),c.Form.Item),p=(c.Select.Option,l.default.createClass({displayName:"ProjLevelFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],projLevel:{perName:"",staffCode:"",proLevel:"",beginMonth:""}}},mixins:[(0,u.default)("projLevel")],componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"proLevel",desc:"定级",required:!1,max:"24"},{id:"beginMonth",desc:"调整月份",required:!1,max:"16"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"20px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"900px",height:"100%",float:"right"}},l.default.createElement(c.Form,{layout:e,style:{width:"100%"}},l.default.createElement(c.Row,null,l.default.createElement(c.Col,{span:"8"}),l.default.createElement(c.Col,{span:"8"},l.default.createElement(h,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(c.Input,{type:"text",name:"perName",id:"perName",value:this.state.projLevel.perName,onChange:this.handleOnChange}))),l.default.createElement(c.Col,{span:"8"},l.default.createElement(h,i({},a,{label:"员工号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(c.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.projLevel.staffCode,onChange:this.handleOnChange})))),l.default.createElement(c.Col,{span:"8"}),l.default.createElement(c.Col,{span:"8"},l.default.createElement(h,i({},a,{label:"定级",required:!1,colon:!0,className:t,help:r.proLevelHint,validateStatus:r.proLevelStatus}),l.default.createElement(c.Input,{type:"text",name:"proLevel",id:"proLevel",value:this.state.projLevel.proLevel,onChange:this.handleOnChange}))),l.default.createElement(c.Col,{span:"8"},l.default.createElement(h,i({},a,{label:"调整月份",required:!1,colon:!0,className:t,help:r.beginMonthHint,validateStatus:r.beginMonthStatus}),l.default.createElement(c.DatePicker,{style:{width:"100%"},name:"beginMonth",id:"beginMonth",value:this.formatDate(this.state.projLevel.beginMonth,m.dateFormat),format:m.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginMonth",m.dateFormat)}))))))}}));e.exports=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1493),m=r(c),h=a(21),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=(a(3),a(1495)),b=a(765),y=a(14),S=10,E=n.default.createClass({displayName:"ProjLevelPage",getInitialState:function(){return{projLevelSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,projLevel:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[f.listenTo(C,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.ProjLevelFilter;null!==a&&"undefined"!=typeof a&&(a.state.projLevel=this.state.filter)}}this.setState({loading:!1,projLevelSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.more=this.state.moreFilter?"1":"0",this.state.filter.projUuid=y.selectedProj.uuid,b.retrieveProjMemberLevelPage(this.state.filter,this.state.projLevelSet.startPage,S)},componentDidMount:function(){this.setState({loading:!0}),this.state.filter.projUuid=y.selectedProj.uuid,b.initProjMemberLevel(this.state.filter)},onChangePage:function(e){this.state.projLevelSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){S=t,this.handleQueryClick()},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},filterToggle:function(e){this.setState({moreFilter:!this.state.moreFilter})},onMoreSearch:function(){var e=this.refs.ProjLevelFilter.state.projLevel;null!==e.beginDate&&""!==e.beginDate?(e.beginDate1=e.beginMonth+"01",e.beginDate2=e.beginMonth+"31"):(e.beginDate1="",e.beginDate2=""),this.state.filter=e,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;v.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},render:function(){var e=this,t=this.state.projLevelSet.recordSet,a=this.state.moreFilter,r={showQuickJumper:!0,total:this.state.projLevelSet.totalRow,pageSize:this.state.projLevelSet.pageRow,current:this.state.projLevelSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},i=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"执行日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算单价",dataIndex:"userPrice",key:"userPrice",width:140},{title:"人员级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(t,a){return e.getLevelName(a.corpUuid,a.userLevel)}},{title:"成本价",dataIndex:"userCost",key:"userCost",width:140}];return n.default.createElement("div",{className:"grid-page"},n.default.createElement("div",null,n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member-level/retrieve","proj-member-level/remove"]}),n.default.createElement(m.default,{ref:"ProjLevelFilter",moreFilter:a}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),a?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(g,{placeholder:"查询(员工编号/员工姓名)",style:{width:v.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:i,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:r,size:"middle",bordered:v.tableBorder})))}});e.exports=E},function(e,t,a){"use strict";var r=a(1),i=a(765),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member-level",e,t)},onRetrieveProjMemberLevel:function(e){var t=this,a=this.getServiceUrl("proj-member-level/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjMemberLevelPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjMemberLevel(e)},onInitProjMemberLevel:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjMemberLevel(e)},onCreateProjMemberLevel:function(e){var t=this.getServiceUrl("proj-member-level/create");n.recordCreate(this,e,t)},onUpdateProjMemberLevel:function(e){var t=this.getServiceUrl("proj-member-level/update");n.recordUpdate(this,e,t)},onDeleteProjMemberLevel:function(e){var t=this.getServiceUrl("proj-member-level/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"ProjReportPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"加班登记表")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(4),f=a(192),g=r(f),v=a(1),C=a(6),b=p.Form.Item,y=(p.Select.Option,p.Tabs.TabPane),S=a(525),E=a(374),w=a(14),x=l.default.createClass({displayName:"CreateProjRolePage",getInitialState:function(){return{projRoleSet:{operation:"",errMsg:""},loading:!1,modal:!1,projRole:{},hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,c.default)("projRole")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projRoleSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"roleName",desc:"角色",required:!0,max:"64"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"}],this.clear()},clear:function(e){this.state.hints={},this.state.projRole.uuid="",this.state.projRole.projUuid=w.selectedProj.uuid,this.state.projRole.corpUuid=window.loginData.compUser.corpUuid,this.state.projRole.teamUuid="",this.state.projRole.roleName="助理",this.state.projRole.perName="",this.state.projRole.beginDate=""+C.getToday(),this.state.projRole.endDate="",this.state.loading=!1,this.state.projRoleSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectProjRole:function(e){this.state.projRole.memo2=e.deptName,this.state.projRole.staffCode=e.staffCode,this.state.projRole.perName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){this.setState({loading:!0}),E.createProjRole(this.state.projRole)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,n=!this.state.projRole.perName,o=w.selectedProj.uuid;return void 0===this.state.projRole.roleName&&(this.state.projRole.roleName="助理"),this.state.projRole.beginDate=""+C.getToday(),l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(y,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(y,{tab:"增加管理员",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-role/create"]}),l.default.createElement(p.Form,{layout:e,style:{width:"450px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"24"},l.default.createElement(b,i({},a,{label:"角色",required:!0,colon:!0,className:t,help:r.roleNameHint,validateStatus:r.roleNameStatus}),l.default.createElement(h.default,{name:"roleName",id:"roleName",value:this.state.projRole.roleName,appName:"项目管理",optName:"角色",onChange:this.onRadioChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"24"},l.default.createElement(b,i({},a,{label:"姓名",required:!0,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(g.default,{projUuid:o,showError:this.showError,ref:"empSearchBox",type:"text",name:"perName",id:"perName",value:this.state.projRole.perName,onSelectMember:this.onSelectProjRole})))),l.default.createElement(b,i({},a,{label:"开始日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(p.DatePicker,{
style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.projRole.beginDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)})),l.default.createElement(b,i({},a,{label:"结束日期",required:!1,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.projRole.endDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})),l.default.createElement(b,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",disabled:n,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(4),f=a(192),g=r(f),v=a(1),C=a(6),b=a(3),y=p.Form.Item,S=(p.Select.Option,p.Tabs.TabPane),E=a(525),w=a(374),x=a(14),k=l.default.createClass({displayName:"UpdateProjRolePage",getInitialState:function(){return{projRoleSet:{operation:"",errMsg:""},loading:!1,modal:!1,projRole:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,c.default)("projRole")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projRoleSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"roleName",desc:"角色",required:!0,max:"64"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"}],this.initPage(this.props.projRole)},componentWillReceiveProps:function(e){this.initPage(e.projRole)},initPage:function(e){b.copyValue(e,this.state.projRole),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.perName),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectProjRole:function(e){this.state.projRole.memo2=e.deptName,this.state.projRole.staffCode=e.staffCode,this.state.projRole.perName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){C.formValidator(this,this.state.projRole)&&(this.state.projRoleSet.operation="",this.setState({loading:!0}),w.updateProjRole(this.state.projRole))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,n=x.selectedProj.uuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(S,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(S,{tab:"修改管理员",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-role/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"450px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"24"},l.default.createElement(y,i({},a,{label:"角色",required:!0,colon:!0,className:t,help:r.roleNameHint,validateStatus:r.roleNameStatus}),l.default.createElement(h.default,{name:"roleName",id:"roleName",value:this.state.projRole.roleName,appName:"项目管理",optName:"角色",onChange:this.onRadioChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"24"},l.default.createElement(y,i({},a,{label:"姓名",required:!0,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(g.default,{projUuid:n,showError:this.showError,ref:"empSearchBox",type:"text",name:"perName",id:"perName",value:this.state.projRole.perName,onSelectMember:this.onSelectProjRole})))),l.default.createElement(y,i({},a,{label:"开始日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.projRole.beginDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)})),l.default.createElement(y,i({},a,{label:"结束日期",required:!1,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.projRole.endDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})),l.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1497),m=r(c),h=a(1498),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=a(3),b=a(525),y=a(374),S=a(14),E="",w=n.default.createClass({displayName:"ProjRolePage",getInitialState:function(){return{projRoleSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,oldIndex:-1}},mixins:[f.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){if(this.setState({loading:!1,projRoleSet:e}),"retrieve"===e.operation)for(var t=e.recordSet.length,a=0;a<t;a++)if("组长"!==e.recordSet[a].roleName&&"1"===e.recordSet[a].chkRole)return void this.setState({oldIndex:a})},handleQueryClick:function(e){var t=S.selectedProj.uuid;this.setState({loading:!0}),y.retrieveProjRole(t)},componentDidMount:function(){var e=S.selectedProj.uuid;this.setState({loading:!0}),y.initProjRole(e)},onClickDelete:function(e,t){"助理"!==e.roleName&&"副经理"!==e.roleName||u.Modal.confirm({title:"删除确认",content:"是否删除选中的管理员 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),y.deleteProjRole(e.uuid)},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){"助理"!==e.roleName&&"副经理"!==e.roleName||this.setState({projRole:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},onRoleCheck:function(e,t){var a={};return C.copyValue(e,a),"组长"===e.roleName?(a.chkRole="1"===a.chkRole?"0":"1",this.setState({loading:!0}),void y.updateProjRole(a)):"1"===a.chkRole?(a.chkRole="0",this.setState({loading:!0,oldIndex:-1}),void y.updateProjRole(a)):void(this.state.oldIndex!==-1&&this.state.oldIndex!==t?u.Modal.warning({title:"非法操作",content:"已存在考勤员，请先取消原考勤员",okText:"确定"}):this.onRoleCheck2(a,t))},onRoleCheck2:function(e,t){e.chkRole="1",this.setState({loading:!0,oldIndex:t}),y.updateProjRole(e)},render:function(){var e=this,t=v.filter(this.state.projRoleSet.recordSet,E),a=[{title:"角色",dataIndex:"roleName",key:"roleName",width:140,render:function(t,a){return C.getOptionName("项目管理","角色",a.roleName,!1,e)}},{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"小组",dataIndex:"memo2",key:"memo2",width:140},{title:"考勤员",dataIndex:"chkRole",key:"chkRole",width:140,render:function(t,a,r){return n.default.createElement("input",{type:"checkbox",name:"chkRole",checked:"1"===t,onClick:e.onRoleCheck.bind(e,a,r)})}},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",{style:{display:"助理"===a.roleName||"副经理"===a.roleName?"block":"none"}},n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改管理员"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除管理员"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}],r="query"===this.state.action?"":"none",i=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:r}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-role/retrieve","proj-role/remove","proj-role/update"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加小组",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查询",style:{width:v.searchWidth},value:E,onChange:this.onFilterRecord}))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder}))),l=null;if("create"===this.state.action)l=n.default.createElement(m.default,{onBack:this.onGoBack});else if("update"===this.state.action){var o={};C.copyValue(this.state.projRole,o),l=n.default.createElement(p.default,{onBack:this.onGoBack,projRole:o})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},i,l)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(12),u=r(d),c=a(7),m=r(c),h=a(9),p=r(h),f=a(734),g=r(f),v=a(1),C=s.Form.Item,b=(s.Select.Option,s.Tabs.TabPane),y=a(6),S=(a(3),a(228)),E=a(196),w=a(14),x=l.default.createClass({displayName:"CreateProjTaskPage",getInitialState:function(){return{projTaskSet:{},loading:!1,projTask:{},hints:{},validRules:[],user:{}}},mixins:[v.listenTo(S,"onServiceComplete"),(0,p.default)("projTask")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projTaskSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"ordCode",desc:"订单编号"},{id:"ordName",desc:"订单名称"},{id:"itemCode",desc:"任务编号"},{id:"itemName",desc:"任务名称"},{id:"beginDate",desc:"开始日期"},{id:"endDate",desc:"结束日期"},{id:"tastStatus",desc:"状态",required:!0}],this.clear()},clear:function(){this.state.hints={},this.state.projTask.uuid="",this.state.projTask.projUuid=w.selectedProj.uuid,this.state.projTask.corpUuid=window.loginData.compUser.corpUuid,this.state.projTask.ordCode="",this.state.projTask.ordName="",this.state.projTask.itemCode="",this.state.projTask.itemName="",this.state.projTask.beginDate="",this.state.projTask.endDate="",this.state.projTask.tastStatus="有效任务",this.state.loading=!1,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.projTask)&&(this.setState({loading:!0}),E.createProjTask(this.state.projTask))},onSelectProjTask:function(e){this.state.projTask.ordUuid=e.uuid,this.state.projTask.ordCode=e.ordCode,this.state.projTask.ordName=e.ordName,this.state.projTask.itemUuid=e.itemUuid,this.state.projTask.itemCode=e.itemCode,this.state.projTask.itemName=e.itemName,this.setState({user:e})},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=w.selectedProj.parentUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"增加任务",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(m.default,{ref:"mxgBox",svcList:["proj_task/create"]}),l.default.createElement(s.Form,{layout:e,style:{width:"600px"}},l.default.createElement(s.Row,null,l.default.createElement(C,i({},a,{className:t,label:"任务查询",colon:!0,help:n.ordCodeHint,validateStatus:n.ordCodeStatus}),l.default.createElement(g.default,{grpUuid:o,showError:this.showError,onSelectProjTask:this.onSelectProjTask}))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"订单编号",colon:!0,help:n.ordCodeHint,validateStatus:n.ordCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"ordCode",id:"ordCode",value:this.state.projTask.ordCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"订单名称",colon:!0,help:n.ordNameHint,validateStatus:n.ordNameStatus}),l.default.createElement(s.Input,{type:"text",name:"ordName",id:"ordName",value:this.state.projTask.ordName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"任务编号",colon:!0,help:n.itemCodeHint,validateStatus:n.itemCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"itemCode",id:"itemCode",value:this.state.projTask.itemCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"任务名称",colon:!0,help:n.itemNameHint,validateStatus:n.itemNameStatus}),l.default.createElement(s.Input,{type:"text",name:"itemName",id:"itemName",value:this.state.projTask.itemName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"状态",required:!0,colon:!0,help:n.tastStatusHint,validateStatus:n.tastStatusStatus}),l.default.createElement(u.default,{name:"tastStatus",id:"tastStatus",appName:"项目管理",optName:"项目任务状态",value:this.state.projTask.tastStatus,onSelect:this.handleOnSelected.bind(this,"tastStatus")})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"开始日期",colon:!0,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(s.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projTask.beginDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},r,{className:t,label:"结束日期",colon:!0,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(s.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.projTask.endDate,y.dateFormat),format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",y.dateFormat)})))),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(2),o=r(l),s=a(8),d=(r(s),a(5)),u=r(d),c=a(4),m=a(1),h=(a(14),a(3),a(78)),p=a(228),f=a(196),g=a(14),v=o.default.createClass({displayName:"ProjTaskListPage",getInitialState:function(){return{projSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},selectedRowUuid:"",loading:!1}},setLoading:function(){this.state.projSet.operation="",this.setState({loading:!0})},componentDidMount:function(e){this.setLoading();var e={};e.projUuid=g.selectedProj.uuid,f.initProjTask(e)},handleProjTaskClick:function(e){null!=e&&this.props.onSelectProjTask(e)},render:function(){this.state.loading&&"retrieve"===this.state.projSet.operation&&(this.state.loading=!1);var e=this.props,t=(e.filter,e.onSelectProjTask,i(e,["filter","onSelectProjTask"])),a=this.state.projSet.recordSet;return this.state.loading?o.default.createElement(c.Spin,{tip:"正在努力加载数据..."}):o.default.createElement(h,n({dataSource:a,rowText:"ordName",onClick:this.handleProjTaskClick},t))}});u.default.onClass(v,m.connect(p,"projSet")),e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1500),m=r(c),h=a(766),p=r(h),f=a(1),g=(s.Input.Search,a(6)),v=a(3),C=a(228),b=a(196),y=a(14),S=10,E=n.default.createClass({displayName:"ProjTaskPage",getInitialState:function(){return{projTaskSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,errMsg:""},loading:!1,action:"query",projTask:null}},mixins:[f.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projTaskSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={};e.projUuid=y.selectedProj.uuid,b.initProjTask(e)},handleQueryClick:function(){this.setState({loading:!0});var e={};e.projUuid=y.selectedProj.uuid,b.retrieveProjTaskPage(e,this.state.projTaskSet.startPage,S)},onChangePage:function(e){this.state.projTaskSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){S=t,this.handleQueryClick()},handleOpenCreateWindow:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){null!=e&&this.setState({projTask:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},onClickDelete:function(e,t){s.Modal.confirm({title:"删除确认",content:"是否删除选中的项目组订单表 【"+e.ordName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),b.deleteProjTask(e.uuid)},render:function(){var e=this,t=this.state.projTaskSet.recordSet,a=[{title:"订单编号",dataIndex:"ordCode",key:"ordCode",width:140},{title:"订单名称",dataIndex:"ordName",key:"ordName",width:140},{title:"任务编号",dataIndex:"itemCode",key:"itemCode",width:140},{title:"任务名称",dataIndex:"itemName",key:"itemName",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return g.formatDate(e,g.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return g.formatDate(e,g.dateFormat)}},{title:"状态",dataIndex:"tastStatus",key:"tastStatus",width:140,render:function(t,a){return v.getOptionName("项目管理","项目任务状态",t,!1,e)}},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改项目组订单表"},n.default.createElement(s.Icon,{type:g.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除项目组订单表"},n.default.createElement(s.Icon,{type:g.iconRemove})))}}],r=g.getGridMargin(this),i={showQuickJumper:!0,total:this.state.projTaskSet.totalRow,pageSize:this.state.projTaskSet.pageRow,current:this.state.projTaskSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},l="query"===this.state.action?"":"none",o=n.default.createElement("div",{className:"grid-page",style:{padding:r.padding,display:l}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj_task/retrieve","proj_task/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:g.iconAdd,type:"primary",title:"增加项目组订单表",onClick:this.handleOpenCreateWindow}),n.default.createElement(s.Button,{icon:g.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:i,size:"middle",bordered:g.tableBorder}))),d=null;return"create"===this.state.action?d=n.default.createElement(m.default,{onBack:this.onGoBack}):"update"===this.state.action&&(d=n.default.createElement(p.default,{onBack:this.onGoBack,projTask:this.state.projTask})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,d)}});e.exports=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(192),p=r(h),f=a(1),g=a(6),v=m.Form.Item,C=(m.Select.Option,a(14)),b=a(375),y=a(277),S=l.default.createClass({displayName:"CreateProjTaskMemberPage",getInitialState:function(){return{projTaskMemberSet:{operation:"",errMsg:""},loading:!1,modal:!1,projTaskMember:{},hints:{},validRules:[],user:{}}},mixins:[f.listenTo(b,"onServiceComplete"),(0,c.default)("projTaskMember")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,projTaskMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!0,max:"64"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"},{id:"roleName",desc:"承担角色",required:!1,max:"64"},{id:"manStatus",desc:"状态：入组、离组",required:!1,max:"16"},{id:"endDate",desc:"离组日期",required:!1,max:"24"},{id:"endTime",desc:"离组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}]},clear:function(e){this.state.hints={},this.state.projTaskMember.uuid="",this.state.projTaskMember.taskUuid=e,this.state.projTaskMember.projUuid=C.selectedProj.uuid,this.state.projTaskMember.corpUuid=window.loginData.compUser.corpUuid,this.state.projTaskMember.staffCode="",this.state.projTaskMember.perName="",this.state.projTaskMember.beginDate=""+g.getToday(),this.state.projTaskMember.beginTime="09:00",this.state.projTaskMember.roleName="",this.state.projTaskMember.manStatus="入组",this.state.projTaskMember.endDate="",this.state.projTaskMember.endTime="",this.state.loading=!1,this.state.projTaskMemberSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.projTaskMember)&&(this.state.projTaskMemberSet.operation="",this.setState({loading:!0}),y.createProjTaskMember(this.state.projTaskMember))},onSelectProjTask:function(e){this.state.projTaskMember.userUuid=e.userUuid,this.state.projTaskMember.staffCode=e.staffCode,this.state.projTaskMember.perName=e.perName,this.state.projTaskMember.baseCity=e.baseCity,this.state.projTaskMember.resName=e.resName,this.setState({user:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=C.selectedProj.uuid;return l.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加人员",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-task-member/create"]}),l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(m.Form,{layout:e},l.default.createElement("div",{style:{borderBottom:"1px solid #ccc",marginBottom:"16px"}},l.default.createElement(p.default,{style:{width:"400px",margin:"0 0 15px 22px"},projUuid:o,showError:this.showError,onSelectMember:this.onSelectProjTask})),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{disabled:!0,type:"text",name:"staffCode",id:"staffCode",value:this.state.projTaskMember.staffCode,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{disabled:!0,type:"text",name:"perName",id:"perName",value:this.state.projTaskMember.perName,onChange:this.handleOnChange})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"入组日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(m.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projTaskMember.beginDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",g.dateFormat)}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(m.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.projTaskMember.beginTime,onChange:this.handleOnChange})))),l.default.createElement(v,i({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:n.roleNameHint,validateStatus:n.roleNameStatus}),l.default.createElement(m.Input,{type:"textarea",name:"roleName",id:"roleName",value:this.state.projTaskMember.roleName,onChange:this.handleOnChange}))))}});t.default=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(1405),p=r(h),f=a(1),g=a(6),v=m.Form.Item,C=(m.Select.Option,a(14)),b=a(375),y=a(277),S=l.default.createClass({displayName:"CreateProjTempMemberPage",getInitialState:function(){return{projTaskMemberSet:{operation:"",errMsg:""},loading:!1,modal:!1,projTaskMember:{},hints:{},validRules:[],user:{}}},mixins:[f.listenTo(b,"onServiceComplete"),(0,c.default)("projTaskMember")],onServiceComplete:function(e){this.state.modal&&"create"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,projTaskMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!0,max:"64"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"},{id:"roleName",desc:"承担角色",required:!1,max:"64"},{id:"manStatus",desc:"状态：入组、离组",required:!1,max:"16"},{id:"endDate",desc:"离组日期",required:!1,max:"24"},{id:"endTime",desc:"离组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}]},clear:function(e){this.state.hints={},this.state.projTaskMember.uuid="",this.state.projTaskMember.taskUuid=e,this.state.projTaskMember.projUuid=C.selectedProj.uuid,this.state.projTaskMember.corpUuid=window.loginData.compUser.corpUuid,this.state.projTaskMember.staffCode="",this.state.projTaskMember.perName="",this.state.projTaskMember.beginDate=""+g.getToday(),this.state.projTaskMember.beginTime="09:00",this.state.projTaskMember.roleName="",this.state.projTaskMember.manStatus="入组",this.state.projTaskMember.endDate="",this.state.projTaskMember.endTime="",this.state.loading=!1,this.state.projTaskMemberSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.projTaskMember)&&(this.state.projTaskMemberSet.operation="",this.setState({loading:!0}),y.createProjTaskMember(this.state.projTaskMember))},onSelectProjTask:function(e){this.state.projTaskMember.userUuid=e.userUuid,this.state.projTaskMember.staffCode=e.staffCode,this.state.projTaskMember.perName=e.perName,this.state.projTaskMember.baseCity=e.baseCity,this.state.projTaskMember.resName=e.resName,this.setState({user:e})},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=C.selectedProj.uuid;return l.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:"增加临时人员",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-task-member/create"]}),l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(m.Form,{layout:e},l.default.createElement("div",{style:{borderBottom:"1px solid #ccc",marginBottom:"16px"}},l.default.createElement(p.default,{style:{width:"400px",margin:"0 0 15px 22px"},projUuid:o,showError:this.showError,onSelectMember:this.onSelectProjTask})),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{disabled:!0,type:"text",name:"staffCode",id:"staffCode",value:this.state.projTaskMember.staffCode,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{
label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{disabled:!0,type:"text",name:"perName",id:"perName",value:this.state.projTaskMember.perName,onChange:this.handleOnChange})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"入组日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(m.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projTaskMember.beginDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",g.dateFormat)}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(m.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.projTaskMember.beginTime,onChange:this.handleOnChange})))),l.default.createElement(v,i({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:n.roleNameHint,validateStatus:n.roleNameStatus}),l.default.createElement(m.Input,{type:"textarea",name:"roleName",id:"roleName",value:this.state.projTaskMember.roleName,onChange:this.handleOnChange}))))}});t.default=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=(r(d),a(1503)),c=r(u),m=a(1506),h=r(m),p=a(1504),f=r(p),g=a(1),v=s.Input.Search,C=a(6),b=(a(14),a(3),a(375)),y=a(277),S="",E=10,w=n.default.createClass({displayName:"ProjTaskTablePage",getInitialState:function(){return{projSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,taskUuid:"",recordSet:[]}},mixins:[g.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){var t=this;this.state.recordSet=[],""===e.errMsg&&""!==this.state.taskUuid&&e.recordSet.map(function(e,a){t.state.taskUuid===e.taskUuid&&t.state.recordSet.push(e)}),this.setState({loading:!1,projSet:e})},componentDidMount:function(){},handleQueryClick:function(){this.setState({loading:!0});var e=this.state.taskUuid;y.retrieveProjTaskMemberPage(e,this.state.projSet.startPage,E)},initProjTask:function(e){this.state.taskUuid=e.uuid;var t=this.state.taskUuid;this.setState({loading:!0}),y.retrieveProjTaskMemberPage(t,this.state.projSet.startPage,E)},handleOpenCreateWindow:function(){var e=this.state.taskUuid;this.refs.createWindow.clear(e),this.refs.createWindow.toggle()},handleCreateTempMember:function(){var e=this.state.taskUuid;this.refs.tempMemberWindow.clear(e),this.refs.tempMemberWindow.toggle()},handleUpdateClick:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle()),t.stopPropagation()},handleRemoveClick:function(e){s.Modal.confirm({title:C.removeTitle,content:"是否删除选中的功能 【"+e.perName+"】",okText:C.removeOkText,cancelText:C.removeCancelText,onOk:this.handleRemoveClick2.bind(this,e)}),event.stopPropagation()},handleRemoveClick2:function(e){this.setState({loading:!0}),y.deleteProjTaskMember(e.uuid)},onChangePage:function(e){this.state.projSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){E=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onFilterRecord:function(e){S=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=C.filter(this.state.projSet.recordSet,S),a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return C.formatDate(e,C.dateFormat)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:140},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"当前项目组",dataIndex:"resName",key:"resName",width:140},{title:"更多操作",key:"action",width:60,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.handleUpdateClick.bind(e,t),title:"修改"},n.default.createElement(s.Icon,{type:C.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.handleRemoveClick.bind(e,t),title:"删除"},n.default.createElement(s.Icon,{type:C.iconRemove})))}}],r=""!==this.state.taskUuid,i={showQuickJumper:!0,total:this.state.projSet.totalRow,pageSize:this.state.projSet.pageRow,current:this.state.projSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage};return n.default.createElement("div",{className:"grid-page",style:{padding:"58px 0 0 0"}},n.default.createElement("div",{style:{margin:"-58px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:C.iconAdd,disabled:!r,onClick:this.handleOpenCreateWindow,type:"primary",title:"增加人员"}),n.default.createElement(s.Button,{icon:C.iconAdd,disabled:!r,onClick:this.handleCreateTempMember,title:"增加临时人员",style:{marginLeft:"4px"}}),n.default.createElement(s.Button,{icon:C.iconRefresh,disabled:!r,onClick:this.handleQueryClick,title:"刷新数据",style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(v,{placeholder:"查找记录",style:{width:C.searchWidth},value:S,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:i,size:"middle",bordered:C.tableBorder})),n.default.createElement(c.default,{ref:"createWindow"}),n.default.createElement(h.default,{ref:"updateWindow"}),n.default.createElement(f.default,{ref:"tempMemberWindow"}))}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(4),f=a(1),g=a(6),v=a(3),C=p.Form.Item,b=a(375),y=a(277),S=l.default.createClass({displayName:"UpdateProjTaskMemberPage",getInitialState:function(){return{projTaskMemberSet:{operation:"",errMsg:""},loading:!1,modal:!1,projTaskMember:{},hints:{},validRules:[]}},mixins:[f.listenTo(b,"onServiceComplete"),(0,c.default)("projTaskMember")],onServiceComplete:function(e){this.state.modal&&"update"===e.operation&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,projTaskMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!0,max:"64"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"},{id:"roleName",desc:"承担角色",required:!1,max:"64"},{id:"manStatus",desc:"状态：入组、离组",required:!1,max:"16"},{id:"endDate",desc:"离组日期",required:!1,max:"24"},{id:"endTime",desc:"离组时间",required:!1,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.projTaskMember)},initPage:function(e){this.state.hints={},v.copyValue(e,this.state.projTaskMember),this.state.loading=!1,this.state.projTaskMemberSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.projTaskMember)&&(this.state.projTaskMemberSet.operation="",this.setState({loading:!0}),y.updateProjTaskMember(this.state.projTaskMember))},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement(p.Modal,{visible:this.state.modal,width:"540px",title:"修改人员",maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-task-member/update"]}),l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(p.Form,{layout:e},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(p.Input,{disabled:!0,type:"text",name:"staffCode",id:"staffCode",value:this.state.projTaskMember.staffCode,onChange:this.handleOnChange}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(p.Input,{disabled:!0,type:"text",name:"perName",id:"perName",value:this.state.projTaskMember.perName,onChange:this.handleOnChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"入组日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(p.DatePicker,{name:"beginDate",id:"beginDate",style:{width:"100%"},value:this.formatDate(this.state.projTaskMember.beginDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",g.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(p.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.projTaskMember.beginTime,onChange:this.handleOnChange})))),l.default.createElement(C,i({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:n.roleNameHint,validateStatus:n.roleNameStatus}),l.default.createElement(p.Input,{type:"textarea",name:"roleName",id:"roleName",value:this.state.projTaskMember.roleName,onChange:this.handleOnChange})),l.default.createElement(p.Row,null,l.default.createElement(C,i({},a,{label:"人员状态",required:!1,colon:!0,className:t,help:n.manStatusHint,validateStatus:n.manStatusStatus}),l.default.createElement(h.default,{name:"manStatus",id:"manStatus",value:this.state.projTaskMember.manStatus,appName:"项目管理",optName:"订单人员状态",onChange:this.onRadioChange}))),l.default.createElement(p.Row,{style:{display:"入组"===this.state.projTaskMember.manStatus?"none":"block"}},l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"离组日期",required:!1,colon:!0,className:t,help:n.endDateHint,validateStatus:n.endDateStatus}),l.default.createElement(p.DatePicker,{name:"endDate",id:"endDate",style:{width:"100%"},value:this.formatDate(this.state.projTaskMember.endDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",g.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"离组时间",required:!1,colon:!0,className:t,help:n.endTimeHint,validateStatus:n.endTimeStatus}),l.default.createElement(p.Input,{type:"text",name:"endTime",id:"endTime",value:this.state.projTaskMember.endTime,onChange:this.handleOnChange}))))))}});t.default=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1501),m=r(c),h=a(1505),p=r(h),f=(a(1),s.Input.Search,a(6)),g=(a(3),n.default.createClass({displayName:"TaskMemberPage",getInitialState:function(){return{}},componentDidMount:function(){},onSelectProjTask:function(e){this.refs.tablePage.initProjTask(e)},render:function(){var e=f.getGridMargin(this,0);return n.default.createElement("div",{className:"grid-page",style:{padding:e.padding}},n.default.createElement("div",{style:{margin:e.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj-task-member/retrieve","proj-task-member/remove"]})),n.default.createElement("div",{style:{height:"100%",paddingLeft:"4px"}},n.default.createElement(m.default,{ref:"modList",caption:"请选择订单",width:"220px",onSelectProjTask:this.onSelectProjTask},n.default.createElement(p.default,{ref:"tablePage"}))))}}));e.exports=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(192),p=r(h),f=a(1),g=(a(6),m.Form.Item),v=(m.Select.Option,m.Tabs.TabPane),C=a(172),b=a(127),y=a(14),S=l.default.createClass({displayName:"CreateProjTeamPage",getInitialState:function(){return{projTeamSet:{operation:"",errMsg:""},loading:!1,modal:!1,projTeam:{},hints:{},validRules:[]}},mixins:[f.listenTo(C,"onServiceComplete"),(0,c.default)("projTeam")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"teamCode",desc:"小组编号",required:!0,max:"64"},{id:"tmName",desc:"组长姓名",required:!1,max:"32"},{id:"teamDesc",desc:"小组说明",required:!1,max:"3600"},{id:"projScope",desc:"项目范围",required:!1,max:"3600"},{id:"techDesc",desc:"开发语言",required:!1,max:"256"},{id:"teamName",desc:"小组名称",required:!0,max:"128"}],this.clear()},componentWillReceiveProps:function(e){this.clear()},clear:function(e){this.state.hints={},this.state.projTeam.uuid="",this.state.projTeam.projUuid=y.selectedProj.uuid,this.state.projTeam.corpUuid=window.loginData.compUser.corpUuid,this.state.projTeam.teamName="",this.state.projTeam.teamCode="",this.state.projTeam.tmName="",this.state.projTeam.teamDesc="",this.state.projTeam.projScope="",this.state.projTeam.techDesc="",this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectProjTeam:function(e){this.state.projTeam.tmUuid=e.uuid,this.state.projTeam.tmCode=e.staffCode,this.state.projTeam.tmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){this.setState({loading:!0}),b.createProjTeam(this.state.projTeam)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.projTeam.teamCode,s=y.selectedProj.uuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(v,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(v,{tab:"增加小组",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_team/create"]}),l.default.createElement(m.Form,{layout:e,style:{width:"600px"}},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},r,{label:"小组编号",required:!0,colon:!0,className:t,help:n.teamCodeHint,validateStatus:n.teamCodeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"teamCode",id:"teamCode",value:this.state.projTeam.teamCode,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"组长",required:!1,colon:!0,className:t,help:n.tmNameHint,validateStatus:n.tmNameStatus}),l.default.createElement(p.default,{projUuid:s,showError:this.showError,ref:"empSearchBox",type:"text",name:"tmName",id:"tmName",value:this.state.projTeam.tmName,onSelectMember:this.onSelectProjTeam})))),l.default.createElement(g,i({},a,{label:"小组名称",required:!0,colon:!0,className:t,help:n.teamNameHint,validateStatus:n.teamNameStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"teamName",id:"teamName",value:this.state.projTeam.teamName,onChange:this.handleOnChange})),l.default.createElement(g,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:n.teamDescHint,validateStatus:n.teamDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"teamDesc",id:"teamDesc",value:this.state.projTeam.teamDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(g,i({},a,{label:"实施范围",required:!1,colon:!0,className:t,help:n.projScopeHint,validateStatus:n.projScopeStatus}),l.default.createElement(m.Input,{type:"textarea",name:"projScope",id:"projScope",value:this.state.projTeam.projScope,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(g,i({},a,{label:"技术要求",required:!1,colon:!0,className:t,help:n.techDescHint,validateStatus:n.techDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"techDesc",id:"techDesc",value:this.state.projTeam.techDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(g,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(192),p=r(h),f=a(1),g=a(6),v=a(3),C=m.Form.Item,b=(m.Select.Option,m.Tabs.TabPane),y=a(172),S=a(127),E=a(14),w=l.default.createClass({displayName:"UpdateProjTeamPage",getInitialState:function(){return{projTeamSet:{operation:"",errMsg:""},loading:!1,modal:!1,projTeam:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("projTeam")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projTeamSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"teamCode",desc:"小组编号",required:!0,max:"64"},{id:"tmName",desc:"组长姓名",required:!0,max:"32"},{id:"teamDesc",desc:"小组说明",required:!1,max:"3600"},{id:"projScope",desc:"项目范围",required:!1,max:"3600"},{id:"techDesc",desc:"开发语言",required:!1,max:"256"},{id:"teamName",desc:"小组名称",required:!0,max:"128"}],this.initPage(this.props.projTeam)},componentWillReceiveProps:function(e){this.initPage(e.projTeam)},initPage:function(e){v.copyValue(e,this.state.projTeam),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.tmName),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectProjTeam:function(e){this.state.projTeam.tmUuid=e.uuid,this.state.projTeam.tmCode=e.staffCode,this.state.projTeam.tmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){g.formValidator(this,this.state.projTeam)&&(this.state.projTeamSet.operation="",this.setState({loading:!0}),S.updateProjTeam(this.state.projTeam))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=E.selectedProj.uuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"修改小组",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_team/update"]}),l.default.createElement(m.Form,{layout:e,style:{width:"600px"}},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(C,i({},r,{label:"小组编号",required:!0,colon:!0,className:t,help:n.teamCodeHint,validateStatus:n.teamCodeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"teamCode",id:"teamCode",value:this.state.projTeam.teamCode,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"组长",required:!0,colon:!0,className:t,help:n.tmNameHint,validateStatus:n.tmNameStatus}),l.default.createElement(p.default,{projUuid:o,showError:this.showError,ref:"empSearchBox",type:"text",name:"tmName",id:"tmName",value:this.state.projTeam.tmName,onSelectMember:this.onSelectProjTeam})))),l.default.createElement(C,i({},a,{label:"小组名称",required:!0,colon:!0,className:t,help:n.teamNameHint,validateStatus:n.teamNameStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"teamName",id:"teamName",value:this.state.projTeam.teamName,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:n.teamDescHint,validateStatus:n.teamDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"teamDesc",id:"teamDesc",value:this.state.projTeam.teamDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(C,i({},a,{label:"实施范围",required:!1,colon:!0,className:t,help:n.projScopeHint,validateStatus:n.projScopeStatus}),l.default.createElement(m.Input,{type:"textarea",name:"projScope",id:"projScope",value:this.state.projTeam.projScope,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(C,i({},a,{label:"技术要求",required:!1,colon:!0,className:t,help:n.techDescHint,validateStatus:n.techDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"techDesc",id:"techDesc",value:this.state.projTeam.techDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n,l=a(2),o=r(l),s=a(8),d=(r(s),a(5)),u=(r(d),a(7)),c=r(u),m=a(4),h=a(1508),p=r(h),f=a(1509),g=r(f),v=a(1),C=m.Input.Search,b=a(6),y=a(3),S=a(172),E=a(127),w=a(14),x="",k=o.default.createClass((n={displayName:"ProjTeamPage",getInitialState:function(){return{projTeamSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,filter:{}}},mixins:[v.listenTo(S,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projTeamSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.projUuid=w.selectedProj.uuid,E.retrieveProjTeamPage(this.state.filter)},componentDidMount:function(){var e=w.selectedProj.uuid;this.setState({loading:!0}),E.initProjTeam(e)},onClickUpdate:function(e,t){null!=e&&(this.refs.updateWindow.initPage(e),this.refs.updateWindow.toggle())},onClickDelete:function(e,t){m.Modal.confirm({title:"删除确认",content:"是否删除选中的小组 【"+e.teamName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.projTeamSet.operation="",E.deleteProjTeam(e.uuid)},onFilterRecord:function(e){x=e.target.value,this.setState({loading:this.state.loading})},handleCreate:function(e){this.setState({action:"create"})}},i(n,"onClickUpdate",function(e,t){this.setState({projTeam:e,action:"update"})}),i(n,"onGoBack",function(){this.setState({action:"query"})}),i(n,"render",function(){var e=this,t=b.filter(this.state.projTeamSet.recordSet,x),a=[{title:"小组编号",dataIndex:"teamCode",key:"teamCode",width:140},{title:"小组名称",dataIndex:"teamName",key:"teamName",width:140},{title:"组长",dataIndex:"tmName",key:"tmName",width:140},{title:"实施范围",dataIndex:"projScope",key:"projScope",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return o.default.createElement("span",null,o.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改小组"},o.default.createElement(m.Icon,{type:b.iconUpdate})),o.default.createElement("span",{className:"ant-divider"}),o.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除小组"},o.default.createElement(m.Icon,{type:b.iconRemove})))}}],r="query"===this.state.action?"":"none",i=o.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:r}},o.default.createElement(c.default,{ref:"mxgBox",svcList:["proj_team/retrieve","proj_team/remove"]}),o.default.createElement("div",{className:"toolbar-table"},o.default.createElement("div",{style:{float:"left"}},o.default.createElement(m.Button,{icon:b.iconAdd,type:"primary",title:"增加小组",onClick:this.handleCreate}),o.default.createElement(m.Button,{icon:b.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),o.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},o.default.createElement(C,{placeholder:"查询",style:{width:b.searchWidth},value:x,onChange:this.onFilterRecord}))),o.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},o.default.createElement(m.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:b.tableBorder}))),n=null;if("create"===this.state.action)n=o.default.createElement(p.default,{onBack:this.onGoBack});else if("update"===this.state.action){var l={};y.copyValue(this.state.projTeam,l),n=o.default.createElement(g.default,{onBack:this.onGoBack,projTeam:l})}return o.default.createElement("div",{style:{width:"100%",height:"100%"}},i,n)}),n));e.exports=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(21),p=r(h),f=a(14),g=r(f),v=a(1),C=(a(6),a(3)),b=m.Form.Item,y=(m.Select.Option,a(767)),S=a(526),E=a(135),w=a(170),x=l.default.createClass({displayName:"CreateTempCheckPage",getInitialState:function(){return{tempCheckSet:{errMsg:""},loading:!1,modal:!1,tempCheck:{},hints:{},validRules:[],isCreate:!1}},mixins:[v.listenTo(y,"onServiceComplete"),(0,c.default)("tempCheck"),v.listenTo(w,"onCheckInfoComplete"),(0,p.default)()],onServiceComplete:function(e){this.state.modal&&(""===e.errMsg?this.setState({modal:!1}):this.setState({loading:!1,tempCheckSet:e}))},onCheckInfoComplete:function(e){g.default.calcCheckDate(this.state.tempCheck,e.posSet,e.leaveSet,this.state.isCreate),this.setState({loading:!1,leaveSet:e.leaveSet,posSet:e.posSet})},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"工号",required:!1,max:"0"},{id:"perName",desc:"姓名",required:!1,max:"0"},{id:"fromHour",desc:"开始时间",required:!1,max:"0"},{id:"toHour",desc:"结束时间",required:!1,max:"0"},{id:"dateType",desc:"日期类型",required:!1,max:"0"},{id:"leaveType",desc:"休假类型",required:!1,max:"0"},{id:"leaveHour",desc:"休假时间",required:!1,max:"0"},{id:"workHour",desc:"工时",required:!1,max:"0"},{id:"overHour",desc:"加班",required:!1,max:"0"},{id:"chkDesc",desc:"备注",required:!1,max:"512"}]},clear:function(e,t){this.state.hints={},C.copyValue(e,this.state.tempCheck);var a=window.loginData.compUser.corpUuid;this.state.tempCheck.corpUuid=a,this.state.tempCheck.chkDate=t,this.state.tempCheck.chkProj=g.default.selectedProj.uuid,this.state.tempCheck.chkTeam="",this.state.tempCheck.projUuid=e.resUuid,this.state.tempCheck.teamUuid=e.teamUuid,this.state.tempCheck.projType=e.resStatus,this.state.tempCheck.projName=e.resName,this.state.tempCheck.projLoc=e.resLoc,this.state.tempCheck.pmUuid="",this.state.tempCheck.pmCode=window.loginData.compUser.userCode,this.state.tempCheck.pmName=window.loginData.authUser.perName,this.state.tempCheck.fromHour=e.fromTime,this.state.tempCheck.toHour=e.endTime,this.state.tempCheck.dateType=this.getDateType(t),this.state.tempCheck.leaveType="",this.state.tempCheck.leaveHour="0",this.state.tempCheck.chkType="";var r=e.checkUuid;void 0===r||null===r||""===r?(this.state.tempCheck.workHour="0",this.state.tempCheck.overHour="0",this.state.tempCheck.chkDesc="",this.state.isCreate=!0):(this.state.tempCheck.uuid=r,this.state.isCreate=!1),this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear(),this.state.loading=!0,E.getCheckInfo(a,e.staffCode,e.userId,t)},onClickSave:function(){this.setState({loading:!0}),this.state.isCreate?S.createUserChkBook(this.state.tempCheck):S.updateUserChkBook(this.state.tempCheck)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints,o=this.state.isCreate?"生成考勤":"修改考勤数据";return l.default.createElement(m.Modal,{visible:this.state.modal,width:"540px",title:o,maskClosable:!1,onOk:this.onClickSave,onCancel:this.toggle,footer:[l.default.createElement("div",{key:"footerDiv",style:{display:"block",textAlign:"right"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/update"]}),l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.toggle},"取消"))]},l.default.createElement(m.Form,{layout:e},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"工号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.tempCheck.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{type:"text",name:"perName",id:"perName",value:this.state.tempCheck.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"开始时间",required:!1,colon:!0,className:t,help:n.fromHourHint,validateStatus:n.fromHourStatus}),l.default.createElement(m.Input,{type:"text",name:"fromHour",id:"fromHour",value:this.state.tempCheck.fromHour,
onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"结束时间",required:!1,colon:!0,className:t,help:n.toHourHint,validateStatus:n.toHourStatus}),l.default.createElement(m.Input,{type:"text",name:"toHour",id:"toHour",value:this.state.tempCheck.toHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(b,i({},r,{label:"签到记录",required:!1,colon:!0,className:t}),l.default.createElement(m.Input,{type:"textarea",name:"checkLogger",id:"checkLogger",value:this.state.tempCheck.checkLogger,readOnly:!0})),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"签到时长",required:!1,colon:!0,className:t}),l.default.createElement(m.Input,{type:"text",name:"checkHour",id:"checkHour",value:this.state.tempCheck.checkHour,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"日期类型",required:!1,colon:!0,className:t,help:n.dateTypeHint,validateStatus:n.dateTypeStatus}),l.default.createElement(m.Input,{type:"text",name:"dateType",id:"dateType",value:this.state.tempCheck.dateType,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"休假类型",required:!1,colon:!0,className:t,help:n.leaveTypeHint,validateStatus:n.leaveTypeStatus}),l.default.createElement(m.Input,{type:"text",name:"leaveType",id:"leaveType",value:this.state.tempCheck.leaveType,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"休假时间",required:!1,colon:!0,className:t,help:n.leaveHourHint,validateStatus:n.leaveHourStatus}),l.default.createElement(m.Input,{type:"text",name:"leaveHour",id:"leaveHour",value:this.state.tempCheck.leaveHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"工时",required:!1,colon:!0,className:t,help:n.workHourHint,validateStatus:n.workHourStatus}),l.default.createElement(m.Input,{type:"text",name:"workHour",id:"workHour",value:this.state.tempCheck.workHour,onChange:this.handleOnChange}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(b,i({},a,{label:"加班",required:!1,colon:!0,className:t,help:n.overHourHint,validateStatus:n.overHourStatus}),l.default.createElement(m.Input,{type:"text",name:"overHour",id:"overHour",value:this.state.tempCheck.overHour,onChange:this.handleOnChange})))),l.default.createElement(m.Row,null,l.default.createElement(b,i({},r,{label:"备注",required:!1,colon:!0,className:t,help:n.chkDescHint,validateStatus:n.chkDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"chkDesc",id:"chkDesc",value:this.state.tempCheck.chkDesc,onChange:this.handleOnChange})))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1511),m=r(c),h=a(30),p=r(h),f=a(133),g=r(f),v=a(1),C=a(11),b=(u.Radio.Button,u.Radio.Group,u.DatePicker.MonthPicker,"YYYY-MM-DD"),y=u.Input.Search,S=a(6),E=(a(3),a(767)),w=a(526),x=a(14),k=""+S.getToday(),j=n.default.createClass({displayName:"TempCheckPage",getInitialState:function(){return{tempCheckSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,errMsg:""},loading:!1,viewType:"1",workDate:k,filter:""}},mixins:[v.listenTo(E,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,tempCheckSet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryUserChkBook(k)},onChangeDate:function(e){var t=e.target.value;this.queryUserChkBook(t),this.setState({loading:!0,workDate:t,selectedRowKeys:null})},queryUserChkBook:function(e){var t={};t.corpUuid=window.loginData.compUser.corpUuid,t.chkProj=x.selectedProj.uuid,t.chkCode=window.loginData.compUser.userCode,t.workDate=e,w.retrieveUserChkBook(t)},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workDate:a}),this.queryUserChkBook(a)},showError:function(e){C.showError("res-member-snap","create-proj-chk",e)},onClickUpdate:function(e,t){var a=this.state.workDate;this.refs.createWindow.clear(e,a),this.refs.createWindow.toggle(),t.stopPropagation()},getTitleStyle:function(e){return null===e.checkUuid?{color:"red"}:null},onClickDelete:function(e,t){var a={};a.uuid=e.uuid,a.corpUuid=window.loginData.compUser.corpUuid,a.staffCode=e.staffCode,a.chkDate=this.state.workDate,a.chkProj=e.chkProj,u.Modal.confirm({title:"删除确认",content:"是否删除【"+e.perName+"】的考勤数据",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,a)}),t.stopPropagation()},onClickDelete2:function(e){this.setState({loading:!0}),w.deleteUserChkBook(e)},render:function(){var e=this,t=S.filter(this.state.tempCheckSet.recordSet,this.state.filterValue),a=(this.state.selectedRowKeys,t.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:260}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.onClickUpdate.bind(e,t)},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title",style:e.getTitleStyle(t)},t.staffCode,"（",t.perName,"）")),n.default.createElement("div",{className:"ant-card-extra"},n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,t),title:"修改"},n.default.createElement(u.Icon,{type:S.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,t),title:"删除考勤数据"},n.default.createElement(u.Icon,{type:S.iconRemove}))),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"80px",overflow:"hidden"}},n.default.createElement("p",null,"签到：",t.checkIn,"， 签退：",t.checkOut),n.default.createElement("p",null,"工时：",t.workHour,"， 加班：",t.overHour,"， 经理：",t.pmName))))})),r=S.getCardMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:r.padding}},n.default.createElement("div",{style:{margin:r.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve","user-chk-book/remove","res-member-snap/create-proj-chk"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(g.default,{value:this.state.workDate,onChange:this.onChangeDate}),n.default.createElement(u.DatePicker,{style:{width:"100px",marginLeft:"16px"},format:b,onChange:this.datePicker,allowClear:!1})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(y,{placeholder:"查询",style:{width:S.searchWidth},value:this.state.filterValue,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"card-body",style:{paddingTop:"6px"}},a),n.default.createElement(m.default,{ref:"createWindow"}))}});e.exports=j},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(19),u=(r(d),a(7)),c=r(u),m=a(9),h=r(m),p=a(67),f=r(p),g=a(79),v=r(g),C=a(1),b=s.Form.Item,y=(s.Select.Option,s.Tabs.TabPane),S=a(6),E=a(14),w=a(278),x=a(229),k=l.default.createClass({displayName:"CreateTempMemberPage",getInitialState:function(){return{tempMemberSet:{errMsg:""},loading:!1,tempMember:{},user:{},hints:{},validRules:[]}},mixins:[C.listenTo(w,"onServiceComplete"),(0,h.default)("tempMember")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,tempMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"teamUuid",desc:"小组UUID",required:!1,max:"24"},{id:"projLevel",desc:"客户定级",required:!1,max:"64"},{id:"userPrice",desc:"结算单价",required:!1,max:"16"},{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24"},{id:"roleName",desc:"角色名称",required:!0,max:"24"}],this.clear()},clear:function(){this.state.hints={},this.state.tempMember.uuid="",this.state.tempMember.corpUuid=window.loginData.compUser.corpUuid,this.state.tempMember.projUuid=E.selectedProj.uuid,this.state.tempMember.projName=E.selectedProj.projName,this.state.tempMember.projLoc=E.selectedProj.projLoc,this.state.tempMember.grpUuid=E.selectedProj.parentUuid,this.state.tempMember.userUuid="",this.state.tempMember.staffCode="",this.state.tempMember.perName="",this.state.tempMember.manStatus="入组",this.state.tempMember.teamUuid="",this.state.tempMember.projLevel="",this.state.tempMember.userPrice="",this.state.tempMember.roleName="",this.state.tempMember.beginDate=""+S.getToday(),this.state.tempMember.beginTime="09:00",this.state.tempMember.endDate="#",this.state.tempMember.dispType="",this.state.loading=!1,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectMember:function(e){this.state.tempMember.userUuid=e.uuid,this.state.tempMember.staffCode=e.staffCode,this.state.tempMember.perName=e.perName,this.setState({user:e})},showError:function(e){console.log(e)},onClickSave:function(){var e=this.state.tempMember;e.applyTime=e.beginDate,this.setState({loading:!0}),x.createProjTempMember(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.tempMember.userUuid,d=(window.loginData.compUser.corpUuid,this.state.user.corpName);return""!==d&&null!==d||(d=this.state.user.deptName),l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"20px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(y,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(y,{tab:"增加人员",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},l.default.createElement(c.default,{ref:"mxgBox",svcList:["proj_temp_member/create"]}),l.default.createElement(f.default,{style:{padding:"20px 0 16px 32px",width:"700px"},onSelectMember:this.onSelectMember}),l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.user.staffCode,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.user.perName,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"公司名称",required:!1,colon:!0,className:t,help:n.corpNameHint,validateStatus:n.corpNameStatus}),l.default.createElement(s.Input,{type:"text",name:"corpName",id:"corpName",value:d,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"归属地",required:!1,colon:!0,className:t,help:n.baseCityHint,validateStatus:n.baseCityStatus}),l.default.createElement(s.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.user.baseCity,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"项目小组",required:!1,colon:!0,className:t,help:n.teamUuidHint,validateStatus:n.teamUuidStatus}),l.default.createElement(v.default,{name:"teamUuid",id:"teamUuid",projUuid:E.selectedProj.uuid,value:this.state.tempMember.teamUuid,onChange:this.handleOnSelected.bind(this,"teamUuid")})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"用户定级",required:!1,colon:!0,className:t,help:n.projLevelHint,validateStatus:n.projLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.tempMember.projLevel,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"结算单价",required:!1,colon:!0,className:t,help:n.userPriceHint,validateStatus:n.userPriceStatus}),l.default.createElement(s.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.tempMember.userPrice,onChange:this.handleOnChange})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"入组日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:S.dateFormat,value:this.formatDate(this.state.tempMember.beginDate,S.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",S.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(b,i({},r,{label:"入组时间",required:!1,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(s.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.tempMember.beginTime,onChange:this.handleOnChange})))),l.default.createElement(b,i({},a,{label:"承担角色",required:!1,colon:!0,className:t,help:n.roleNameHint,validateStatus:n.roleNameStatus}),l.default.createElement(s.Input,{type:"text",name:"roleName",id:"roleName",value:this.state.tempMember.roleName,onChange:this.handleOnChange})),l.default.createElement(b,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:o},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(1),p=s.Form.Item,f=(s.Select.Option,s.Tabs.TabPane),g=a(6),v=a(3),C=(a(14),a(278)),b=a(229),y=l.default.createClass({displayName:"EnterTempMemberPage",getInitialState:function(){return{tempMemberSet:{errMsg:""},loading:!1,modal:!1,tempMember:{},hints:{},validRules:[]}},mixins:[h.listenTo(C,"onServiceComplete"),(0,m.default)("tempMember")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,tempMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"resLoc",desc:"项目地址",required:!1,max:"24"},{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24"},{id:"roleName",desc:"承担角色",required:!1,max:"64"},{id:"oldprojLevel",desc:"客户定级",required:!1,max:"64"},{id:"olduserPrice",desc:"结算单价",required:!1,max:"16"},{id:"projLevel",desc:"新定级",required:!0,max:"64"},{id:"userPrice",desc:"结算单价",required:!0,max:"16"},{id:"effectDate",desc:"生效日期",required:!0,max:"24"}],this.initPage(this.props.tempMember)},initPage:function(e){v.copyValue(e,this.state.tempMember),this.setState({loading:!1,hints:{}}),this.state.tempMember.oldprojLevel=this.state.tempMember.projLevel,this.state.tempMember.olduserPrice=this.state.tempMember.userPrice,this.state.tempMember.projLevel="",this.state.tempMember.userPrice="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.tempMember)&&(this.setState({loading:!0}),b.chgProjMemberLevel(this.state.tempMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},n=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(f,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(f,{tab:"人员定级",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto",width:"100%"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["proj-member/update"]}),l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.tempMember.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.tempMember.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"入组日期",required:!1,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.tempMember.beginDate,g.dateFormat),disabled:!0,format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",g.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"入组时间",required:!1,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(s.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.tempMember.beginTime,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(p,i({},r,{label:"承担角色",required:!1,colon:!0,className:t,help:n.roleNameHint,validateStatus:n.roleNameStatus}),l.default.createElement(s.Input,{type:"text",name:"roleName",id:"roleName",value:this.state.tempMember.roleName,onChange:this.handleOnChange,disabled:!0})),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"客户定级",required:!1,colon:!0,className:t,help:n.oldprojLevelHint,validateStatus:n.oldprojLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"oldprojLevel",id:"oldprojLevel",value:this.state.tempMember.oldprojLevel,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"结算单价",required:!1,colon:!0,className:t,help:n.olduserPriceHint,validateStatus:n.olduserPriceStatus}),l.default.createElement(s.Input,{type:"text",name:"olduserPrice",id:"olduserPrice",value:this.state.tempMember.olduserPrice,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"新定级",required:!0,colon:!0,className:t,help:n.projLevelHint,validateStatus:n.projLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.tempMember.projLevel,onChange:this.handleOnChange}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"结算单价",required:!0,colon:!0,className:t,help:n.userPriceHint,validateStatus:n.userPriceStatus}),l.default.createElement(s.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.tempMember.userPrice,onChange:this.handleOnChange})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(p,i({},a,{label:"生效日期",required:!0,colon:!0,className:t,help:n.effectDateHint,validateStatus:n.effectDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"effectDate",id:"effectDate",value:this.formatDate(this.state.tempMember.effectDate,g.dateFormat),format:g.dateFormat,onChange:this.handleOnSelDate.bind(this,"effectDate",g.dateFormat)}))))),l.default.createElement(s.Form,{layout:e},l.default.createElement(p,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(30),p=r(h),f=a(1),g=s.Form.Item,v=(s.Select.Option,s.Tabs.TabPane),C=a(6),b=a(3),y=a(14),S=a(278),E=a(229),w=l.default.createClass({displayName:"LeaveTempMemberPage",getInitialState:function(){return{tempMemberSet:{errMsg:""},loading:!1,modal:!1,tempMember:{},hints:{},validRules:[]}},mixins:[f.listenTo(S,"onServiceComplete"),(0,m.default)("tempMember"),(0,p.default)()],onServiceComplete:function(e){console.log("data",e),"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,tempMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"manType",desc:"人员类型:员工、实习、外协",required:!1,max:"16"},{id:"resLoc",desc:"项目地址",required:!1,max:"24"},{id:"teamUuid",desc:"小组UUID",required:!1,max:"24"},{id:"projLevel",desc:"客户定级",required:!1,max:"64"},{id:"userPrice",desc:"结算单价",required:!1,max:"16"},{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24"},{id:"endDate",desc:"离组日期",required:!0,max:"24"},{id:"endTime",desc:"离组时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.tempMember)},initPage:function(e){b.copyValue(e,this.state.tempMember),"#"===this.state.tempMember.endDate&&(this.state.tempMember.endDate=""+C.getToday(),this.state.tempMember.endTime="18:00"),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){C.formValidator(this,this.state.tempMember)&&(this.setState({loading:!0}),this.state.tempMember.manStatus="离组",E.updateProjTempMember(this.state.tempMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=y.selectedProj.uuid,o=this.getTeamName(n,this.state.tempMember.teamUuid);window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(v,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(v,{tab:"人员离组",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto",width:"100%"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["proj-member/update"]}),l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.tempMember.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.tempMember.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"小组名称",required:!1,colon:!0,className:t,help:r.teamUuidHint,validateStatus:r.teamUuidStatus}),l.default.createElement(s.Input,{type:"text",name:"teamUuid",id:"teamUuid",value:o,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"客户定级",required:!1,colon:!0,className:t,help:r.projLevelHint,validateStatus:r.projLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.tempMember.projLevel,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"结算单价",required:!1,colon:!0,className:t,help:r.userPriceHint,validateStatus:r.userPriceStatus}),l.default.createElement(s.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.tempMember.userPrice,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"入组日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.tempMember.beginDate,C.dateFormat),disabled:!0,format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"入组时间",required:!1,colon:!0,className:t,help:r.beginTimeHint,validateStatus:r.beginTimeStatus}),l.default.createElement(s.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.tempMember.beginTime,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"离组日期",required:!0,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.tempMember.endDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(g,i({},a,{label:"离组时间",required:!0,colon:!0,className:t,help:r.endTimeHint,validateStatus:r.endTimeStatus}),l.default.createElement(s.Input,{type:"text",name:"endTime",id:"endTime",value:this.state.tempMember.endTime,onChange:this.handleOnChange}))))),l.default.createElement(s.Form,{layout:e},l.default.createElement(g,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(30),p=r(h),f=a(79),g=r(f),v=a(1),C=s.Form.Item,b=(s.Select.Option,s.Tabs.TabPane),y=a(6),S=a(3),E=a(14),w=a(278),x=a(229),k=l.default.createClass({displayName:"UpdateTempMemberPage",getInitialState:function(){return{tempMemberSet:{errMsg:""},loading:!1,modal:!1,tempMember:{},hints:{},validRules:[]}},mixins:[v.listenTo(w,"onServiceComplete"),(0,m.default)("tempMember"),(0,p.default)()],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,tempMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"manType",desc:"人员类型:员工、实习、外协",required:!1,max:"16"},{id:"resLoc",desc:"项目地址",required:!1,max:"24"},{id:"projLevel",desc:"客户定级",required:!1,max:"64"},{id:"userPrice",desc:"结算单价",required:!1,max:"16"},{id:"beginDate",desc:"入组日期",required:!1,max:"24"},{id:"beginTime",desc:"入组时间",required:!1,max:"24"},{id:"oldteamUuid",desc:"小组UUID",required:!1,max:"24"},{id:"teamUuid",desc:"小组UUID",required:!1,max:"24"}],this.initPage(this.props.tempMember)},initPage:function(e){S.copyValue(e,this.state.tempMember),this.setState({loading:!1,hints:{}}),this.state.tempMember.oldteamUuid=this.state.tempMember.teamUuid,this.state.tempMember.teamUuid="","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){y.formValidator(this,this.state.tempMember)&&(this.setState({loading:!0}),this.state.tempMember.grpUuid=E.selectedProj.parentUuid,x.updateProjTempMember(this.state.tempMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=E.selectedProj.uuid,o=this.getTeamName(n,this.state.tempMember.oldteamUuid);return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"调整小组",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto",width:"100%"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"700px"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["proj-member/update"]}),l.default.createElement(s.Form,{layout:e},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(s.Input,{type:"text",name:"staffCode",
id:"staffCode",value:this.state.tempMember.staffCode,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:this.state.tempMember.perName,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"客户定级",required:!1,colon:!0,className:t,help:r.projLevelHint,validateStatus:r.projLevelStatus}),l.default.createElement(s.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.tempMember.projLevel,onChange:this.handleOnChange,disabled:!0}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"结算单价",required:!1,colon:!0,className:t,help:r.userPriceHint,validateStatus:r.userPriceStatus}),l.default.createElement(s.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.tempMember.userPrice,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"入组日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.tempMember.beginDate,y.dateFormat),disabled:!0,format:y.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",y.dateFormat)}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"入组时间",required:!1,colon:!0,className:t,help:r.beginTimeHint,validateStatus:r.beginTimeStatus}),l.default.createElement(s.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.tempMember.beginTime,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"原小组",required:!1,colon:!0,className:t,help:r.oldteamUuidHint,validateStatus:r.oldteamUuidStatus}),l.default.createElement(s.Input,{type:"text",name:"oldteamUuid",id:"oldteamUuid",value:o,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"新小组",required:!0,colon:!0,className:t,help:r.teamUuidHint,validateStatus:r.teamUuidStatus}),l.default.createElement(g.default,{projUuid:E.selectedProj.uuid,onSelect:this.handleOnSelected.bind(this,"teamUuid")}))))),l.default.createElement(s.Form,{layout:e},l.default.createElement(C,{style:{textAlign:"right",padding:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(s.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading,disabled:!1},"保存")," ",l.default.createElement(s.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(21),m=r(c),h=a(30),p=r(h),f=a(79),g=(r(f),a(1513)),v=r(g),C=a(1515),b=r(C),y=a(1516),S=r(y),E=a(1514),w=r(E),x=a(1),k=s.Input.Search,j=a(6),N=(a(3),a(278)),P=a(229),D=a(14),R="",M=n.default.createClass({displayName:"TempMemberPage",getInitialState:function(){return{projMemberSet:{recordSet:[],errMsg:""},action:"query",loading:!1,tempMember:null}},mixins:[x.listenTo(N,"onServiceComplete"),(0,m.default)(),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,projMemberSet:e})},componentDidMount:function(){this.setState({loading:!0});var e=D.selectedProj.uuid,t={projUuid:e,manStatus:"入组"};P.initProjTempMember(t)},handleQueryClick:function(e){this.setState({loading:!0});var t=D.selectedProj.uuid,a={projUuid:t,manStatus:"入组"};P.retrieveProjTempMember(a)},onGoBack:function(){this.setState({action:"query"})},onClickLeave:function(e,t){this.setState({tempMember:e,action:"leave"})},onClickUpdate:function(e,t){this.setState({tempMember:e,action:"update"})},onClickEnter:function(e,t){this.setState({tempMember:e,action:"enter"})},handleAddMember:function(e){this.setState({action:"create"})},onFilterRecord:function(e){R=e.target.value,this.setState({loading:this.state.loading})},render:function(){var e=this,t=j.filter(this.state.projMemberSet.recordSet,R),a=D.selectedProj,r=a.uuid,i=window.loginData.compUser.corpUuid,l=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"员工级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(t,a){return e.getLevelName(i,a.userLevel)}},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"技术岗位",dataIndex:"techLevel",key:"techLevel",width:140},{title:"小组",dataIndex:"teamUuid",key:"teamUuid",width:140,render:function(t,a){return e.getTeamName(r,t)}},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return j.formatDate(e,j.dateFormat)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:240},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickLeave.bind(e,a),title:"人员离组"},n.default.createElement(s.Icon,{type:"user-delete"})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"小组调整"},n.default.createElement(s.Icon,{type:"team"})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickEnter.bind(e,a),title:"人员定级"},n.default.createElement(s.Icon,{type:"star"})))}}],o="query"===this.state.action?"":"none",d=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:o}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj_temp_member/retrieve"]}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:j.iconAdd,type:"primary",title:"增加组员",onClick:this.handleAddMember,style:{marginRight:"4px"}}),n.default.createElement(s.Button,{icon:j.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick})),n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(k,{placeholder:"查找记录",style:{width:j.searchWidth},value:R,onChange:this.onFilterRecord})))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(s.Table,{columns:l,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:j.tableBorder}))),c=null;return"create"===this.state.action?c=n.default.createElement(v.default,{onBack:this.onGoBack}):"leave"===this.state.action?c=n.default.createElement(b.default,{onBack:this.onGoBack,tempMember:this.state.tempMember}):"update"===this.state.action?c=n.default.createElement(S.default,{onBack:this.onGoBack,tempMember:this.state.tempMember}):"enter"===this.state.action&&(c=n.default.createElement(w.default,{onBack:this.onGoBack,tempMember:this.state.tempMember})),n.default.createElement("div",null,d,c)}});e.exports=M},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"WorkReportPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"加班登记表")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1522),m=r(c),h=a(1520),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=(a(3),a(1525)),b=a(230),y=10,S=n.default.createClass({displayName:"BiziDispPage",getInitialState:function(){return{biziDispSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,biziDisp:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[f.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.projCode;if(t||(t=e.filter.projName,t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.BiziDispFilter;a&&(a.state.biziDisp=this.state.filter)}if(this.state.filter.corpUuid!==window.loginData.compUser.corpUuid)return void this.handleQueryClick()}this.setState({loading:!1,biziDispSet:e})},componentDidMount:function(){b.getCacheData()},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",b.retrieveBiziProjPage(this.state.filter,this.state.biziDispSet.startPage,y)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.biziDispSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){y=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;v.isIncNumber(t)?this.state.filter.projCode=t:this.state.filter.projName=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.BiziDispFilter.state.biziDisp;null!==e.beginDate&&""!==e.beginDate?(e.beginDate1=e.beginDate+"01",e.beginDate2=e.beginDate+"31"):(e.beginDate1="",e.beginDate2=""),this.state.filter=e,this.handleQueryClick()},onClickMember:function(e,t){this.setState({biziDisp:e,action:"member"})},onFilterRecord:function(e){filterValue=e.target.value,this.setState({loading:this.state.loading})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=[{title:"项目编号",dataIndex:"projCode",key:"projCode",width:140},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"项目类型",dataIndex:"projType",key:"projType",width:140},{title:"主办方",dataIndex:"projHost",key:"projHost",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"项目地址",dataIndex:"projLoc",key:"projLoc",width:140},{title:"负责人姓名",dataIndex:"pmName",key:"pmName",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickMember.bind(e,a),title:"人员调度"},n.default.createElement(u.Icon,{type:"bars"})))}}],a=this.state.biziDispSet.recordSet,r=this.state.moreFilter,i="query"===this.state.action?"":"none",l=(this.state.selectKey,v.getGridMargin(this,0),{showQuickJumper:!0,total:this.state.biziDispSet.totalRow,pageSize:this.state.biziDispSet.pageRow,current:this.state.biziDispSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage}),o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj/retrieve","bizi-proj/remove"]}),n.default.createElement(p.default,{ref:"BiziDispFilter",moreFilter:r}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(g,{placeholder:"查询(项目编号/项目名称)",style:{width:v.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:v.tableBorder}))),s=null;return"member"===this.state.action&&(s=n.default.createElement(m.default,{onBack:this.onGoBack,biziProj:this.state.biziDisp})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=r(s),u=a(4),c=a(9),m=r(c),h=(a(1),u.DatePicker.MonthPicker),p=(u.DatePicker.RangePicker,u.Form.Item),f=a(6),g={moreFilter:l.default.PropTypes.bool},v=l.default.createClass({displayName:"BiziDispFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],biziDisp:{projCode:"",projName:"",beginDate:"",beginDate1:"",beginDate2:"",projType:"",projHost:"",projLoc:""}}},mixins:[(0,m.default)("biziDisp")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"projCode",desc:"项目编号",required:!1,max:"64"},{id:"projName",desc:"项目名称",required:!1,max:"128"},{id:"projType",desc:"项目类型",required:!1,max:"64"},{id:"projHost",desc:"主办方",required:!1,max:"256"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"projLoc",desc:"项目地址",required:!1,max:"128"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",padding:"16px 18px 20px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"800px",height:"100%",float:"right"}},l.default.createElement(u.Form,{layout:e},l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"项目名称",required:!1,colon:!0,className:t,help:r.projNameHint,validateStatus:r.projNameStatus}),l.default.createElement(u.Input,{type:"text",name:"projName",id:"projName",value:this.state.biziDisp.projName,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"项目编号",required:!1,colon:!0,className:t,help:r.projCodeHint,validateStatus:r.projCodeStatus}),l.default.createElement(u.Input,{type:"text",name:"projCode",id:"projCode",value:this.state.biziDisp.projCode,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"开始月份",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(h,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:f.monthFormat,value:this.formatMonth(this.state.biziDisp.beginDate,f.monthFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",f.monthFormat)})))),l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"项目类型",required:!1,colon:!0,className:t,help:r.projTypeHint,validateStatus:r.projTypeStatus}),l.default.createElement(d.default,{name:"projType",id:"projType",value:this.state.biziDisp.projType,appName:"项目管理",optName:"事务项目类型",onSelect:this.handleOnSelected.bind(this,"projType")}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"主办方",required:!1,colon:!0,className:t,help:r.projHostHint,validateStatus:r.projHostStatus}),l.default.createElement(u.Input,{type:"text",name:"projHost",id:"projHost",value:this.state.biziDisp.projHost,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:8},l.default.createElement(p,i({},a,{label:"所在城市",required:!1,colon:!0,className:t,help:r.projLocHint,validateStatus:r.projLocStatus}),l.default.createElement(u.Input,{type:"text",name:"projLoc",id:"projLoc",value:this.state.biziDisp.projLoc,onChange:this.handleOnChange})))))))}});v.propTypes=g,e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=(r(s),a(4)),u=a(9),c=r(u),m=(a(1),d.DatePicker.MonthPicker,d.DatePicker.RangePicker,d.Form.Item),h=(a(6),{moreFilter:l.default.PropTypes.bool}),p=l.default.createClass({displayName:"BiziProjMemberFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],biziProjMember:{perName:"",staffCode:"",corpName:"",deptName:""}}},mixins:[(0,c.default)("biziProjMember")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"staffCode",desc:"员工编号",required:!1,max:"64"},{id:"corpName",desc:"公司名称",required:!1,max:"128"},{id:"deptName",desc:"部门名称",required:!1,max:"128"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:6},wrapperCol:"vertical"==e?null:{span:18}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",padding:"20px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"500px",float:"right"}},l.default.createElement(d.Form,{layout:e},l.default.createElement(d.Row,{gutter:16},l.default.createElement(d.Col,{className:"gutter-row",span:12},l.default.createElement(m,i({},a,{label:"姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(d.Input,{type:"text",name:"perName",id:"perName",value:this.state.biziProjMember.perName,onChange:this.handleOnChange}))),l.default.createElement(d.Col,{className:"gutter-row",span:12},l.default.createElement(m,i({},a,{label:"工号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(d.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.biziProjMember.staffCode,onChange:this.handleOnChange})))),l.default.createElement(d.Row,{gutter:16},l.default.createElement(d.Col,{className:"gutter-row",span:12},l.default.createElement(m,i({},a,{label:"公司",required:!1,colon:!0,className:t,help:r.corpNameHint,validateStatus:r.corpNameStatus}),l.default.createElement(d.Input,{type:"text",name:"corpName",id:"corpName",value:this.state.biziProjMember.corpName,onChange:this.handleOnChange}))),l.default.createElement(d.Col,{className:"gutter-row",span:12},l.default.createElement(m,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:r.deptNameHint,validateStatus:r.deptNameStatus}),l.default.createElement(d.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.biziProjMember.deptName,onChange:this.handleOnChange})))))))}});p.propTypes=h,e.exports=p},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1523),m=r(c),h=a(1524),p=r(h),f=a(1521),g=r(f),v=a(1),C=u.Input.Search,b=u.Tabs.TabPane,y=a(6),S=a(3),E=a(529),w=a(230),x=10,k=n.default.createClass({displayName:"BiziProjMemberPage",getInitialState:function(){return{biziProjMemberSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,biziProjMember:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[v.listenTo(E,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.staffCode;if(null!==t&&"undefined"!=typeof t&&""!==t||(t=e.filter.perName,null!==t&&"undefined"!=typeof t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.BiziProjMemberFilter;null!==a&&"undefined"!=typeof a&&(a.state.biziProjMember=this.state.filter)}}this.setState({loading:!1,biziProjMemberSet:e})},componentDidMount:function(){this.setState({loading:!0}),this.state.filter.corpUuid=this.props.biziProj.corpUuid,this.state.filter.projUuid=this.props.biziProj.uuid,w.initBiziProjMember(this.state.filter)},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.corpUuid=this.props.biziProj.corpUuid,this.state.filter.projUuid=this.props.biziProj.uuid,this.state.filter.more=this.state.moreFilter?"1":"0",w.retrieveBiziProjMemberPage(this.state.filter,this.state.biziProjMemberSet.startPage,x)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.biziProjMemberSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){x=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;y.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){this.state.filter=this.refs.BiziProjMemberFilter.state.biziProjMember,this.handleQueryClick()},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的人员 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.biziProjMemberSet.operation="",w.deleteBiziProjMember(e.uuid)},onTabChange:function(e){"1"===e&&this.props.onBack()},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){this.setState({biziProjMember:e,action:"update"})},onGoBack:function(e){"1"===e?this.props.onBack():this.setState({action:"query"})},render:function(){var e=this,t=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:140},{title:"公司/部门名称",dataIndex:"corpName",key:"corpName",width:140,render:function(e,t){return t.corpName?t.corpName:t.deptName}},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return y.formatDate(e,y.dateFormat)}},{title:"入组时间",dataIndex:"beginTime",key:"beginTime",width:140,render:function(e,t){return y.formatDate(e,y.dateFormat)}},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改人员"},n.default.createElement(u.Icon,{type:y.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:e.onClickDelete.bind(e,a),title:"删除人员"},n.default.createElement(u.Icon,{type:y.iconRemove})))}}],a=this.state.biziProjMemberSet.recordSet,r=this.state.moreFilter,i="query"===this.state.action?"":"none",l={showQuickJumper:!0,total:this.state.biziProjMemberSet.totalRow,pageSize:this.state.biziProjMemberSet.pageRow,current:this.state.biziProjMemberSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px",display:i}},n.default.createElement(u.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(b,{tab:"项目组人员",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},n.default.createElement("div",{style:{padding:"2px 0 16px 0"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj-member/retrieve","bizi-proj-member/remove"]}),n.default.createElement(g.default,{ref:"BiziProjMemberFilter",moreFilter:r}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:y.iconAdd,type:"primary",title:"增加人员信息",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:y.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(C,{placeholder:"查询(员工编号/员工姓名)",style:{width:y.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:y.tableBorder})))))),s=null;if("create"===this.state.action)s=n.default.createElement(m.default,{onBack:this.onGoBack,biziProj:this.props.biziProj});else if("update"===this.state.action){var c={};S.copyValue(this.state.biziProjMember,c),s=n.default.createElement(p.default,{onBack:this.onGoBack,biziProjMember:c})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});e.exports=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(67),p=r(h),f=a(1),g=a(6),v=m.Form.Item,C=(m.Select.Option,m.Tabs.TabPane),b=a(529),y=a(230),S=l.default.createClass({displayName:"CreateBiziProjMemberPage",getInitialState:function(){return{loading:!1,modal:!1,biziProjMember:{},user:{},hints:{},validRules:[]}},mixins:[f.listenTo(b,"onServiceComplete"),(0,c.default)("biziProjMember")],onServiceComplete:function(e){if("create"===e.operation)if(""===e.errMsg){var t=e.recordSet.length,a=e.recordSet[t-1],r=this.state.user;a.userUuid===r.uuid&&(a.baseCity=r.baseCity,a.corpName=r.corpName,a.deptName=r.deptName,a.manType=r.manType,a.phoneno=r.phoneno),this.goBack()}else this.setState({loading:!1})},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginTime",desc:"入组时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.clear()},clear:function(e){this.state.hints={},this.state.biziProjMember.uuid="",this.state.biziProjMember.userUuid="",this.state.biziProjMember.corpUuid=window.loginData.compUser.corpUuid,this.state.biziProjMember.staffCode="",this.state.biziProjMember.perName="",this.state.biziProjMember.baseCity="",this.state.biziProjMember.corpName="",this.state.biziProjMember.deptName="",this.state.biziProjMember.projUuid=this.props.biziProj.uuid,this.state.biziProjMember.projName=this.props.biziProj.projName,this.state.biziProjMember.projLoc=this.props.biziProj.projLoc,this.state.biziProjMember.beginDate=""+g.getToday(),this.state.biziProjMember.beginTime="09:00",this.setState({loading:!1}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectBiziProjMember:function(e){this.state.biziProjMember.userUuid=e.uuid,this.state.biziProjMember.staffCode=e.staffCode,this.state.biziProjMember.perName=e.perName,this.state.biziProjMember.baseCity=e.baseCity,this.state.biziProjMember.corpName=e.corpName,this.state.biziProjMember.deptName=e.deptName,this.state.biziProjMember.manType=e.manType,this.state.biziProjMember.phoneno=e.phoneno,this.setState({user:e})},onClickSave:function(){g.formValidator(this,this.state.biziProjMember)&&(this.setState({loading:!0}),y.createBiziProjMember(this.state.biziProjMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"!==e&&"2"!==e||this.props.onBack(e)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.biziProjMember.userUuid,s=window.loginData.compUser.corpUuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"3",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(C,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(C,{tab:"项目组人员",key:"2",style:{width:"100%",height:"100%"}}),l.default.createElement(C,{tab:"人员入组",key:"3",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"8px 0 16px 8px"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj-member/create"]}),l.default.createElement(p.default,{style:{padding:"16px 0 16px 32px",width:"100%",maxWidth:"600px"},corpUuid:s,showError:this.showError,onSelectMember:this.onSelectBiziProjMember}),l.default.createElement(m.Form,{layout:e,style:{width:"100%",maxWidth:"600px"}},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.biziProjMember.staffCode,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.biziProjMember.perName,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"员工类型",required:!1,colon:!0,className:t,help:n.manTypeHint,validateStatus:n.manTypeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"manType",id:"manType",value:this.state.biziProjMember.manType,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"归属地",required:!1,colon:!0,className:t,help:n.baseCityHint,validateStatus:n.baseCityStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"baseCity",id:"baseCity",value:this.state.biziProjMember.baseCity,disabled:!0})))),l.default.createElement(v,i({},a,{label:"公司",required:!1,colon:!0,className:t,help:n.corpNameHint,validateStatus:n.corpNameStatus}),l.default.createElement(m.Input,{type:"text",name:"corpName",id:"corpName",value:this.state.biziProjMember.corpName,disabled:!0})),l.default.createElement(v,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),l.default.createElement(m.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.biziProjMember.deptName,
disabled:!0})),l.default.createElement(m.Row,{style:{paddingTop:"16px"}},l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"入组日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(m.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:g.dateFormat,value:this.formatDate(this.state.biziProjMember.beginDate,g.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",g.dateFormat)})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"入组时间",required:!0,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(m.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.biziProjMember.beginTime,onChange:this.handleOnChange})))),l.default.createElement(v,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(67),p=(r(h),a(1)),f=a(6),g=a(3),v=m.Form.Item,C=(m.Select.Option,m.Tabs.TabPane),b=a(529),y=a(230),S=l.default.createClass({displayName:"UpdateBiziProjMemberPage",getInitialState:function(){return{biziProjMemberSet:{errMsg:""},loading:!1,biziProjMember:{},hints:{},validRules:[]}},mixins:[p.listenTo(b,"onServiceComplete"),(0,c.default)("biziProjMember")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,biziProjMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginTime",desc:"入组时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.biziProjMember)},initPage:function(e){g.copyValue(e,this.state.biziProjMember),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){f.formValidator(this,this.state.biziProjMember)&&(this.setState({loading:!0}),y.updateBiziProjMember(this.state.biziProjMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"!==e&&"2"!==e||this.props.onBack(e)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"3",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(C,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(C,{tab:"项目组人员",key:"2",style:{width:"100%",height:"100%"}}),l.default.createElement(C,{tab:"人员修改",key:"3",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["bizi-proj-member/update"]}),l.default.createElement(m.Form,{layout:e,style:{width:"100%",maxWidth:"600px"}},l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"员工编号",required:!1,colon:!0,className:t,help:n.staffCodeHint,validateStatus:n.staffCodeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.biziProjMember.staffCode,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"员工姓名",required:!1,colon:!0,className:t,help:n.perNameHint,validateStatus:n.perNameStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.biziProjMember.perName,disabled:!0})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"员工类型",required:!1,colon:!0,className:t,help:n.manTypeHint,validateStatus:n.manTypeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"manType",id:"manType",value:this.state.biziProjMember.manType,disabled:!0}))),l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"归属地",required:!1,colon:!0,className:t,help:n.baseCityHint,validateStatus:n.baseCityStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"baseCity",id:"baseCity",value:this.state.biziProjMember.baseCity,disabled:!0})))),l.default.createElement(v,i({},a,{label:"公司",required:!1,colon:!0,className:t,help:n.corpNameHint,validateStatus:n.corpNameStatus}),l.default.createElement(m.Input,{type:"text",name:"corpName",id:"corpName",value:this.state.biziProjMember.corpName,disabled:!0})),l.default.createElement(v,i({},a,{label:"部门",required:!1,colon:!0,className:t,help:n.deptNameHint,validateStatus:n.deptNameStatus}),l.default.createElement(m.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.biziProjMember.deptName,disabled:!0})),l.default.createElement(m.Row,{style:{paddingTop:"16px"}},l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"入组日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(m.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:f.dateFormat,value:this.formatDate(this.state.biziProjMember.beginDate,f.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",f.dateFormat)})))),l.default.createElement(m.Row,null,l.default.createElement(m.Col,{span:"12"},l.default.createElement(v,i({},r,{label:"入组时间",required:!0,colon:!0,className:t,help:n.beginTimeHint,validateStatus:n.beginTimeStatus}),l.default.createElement(m.Input,{type:"text",name:"beginTime",id:"beginTime",value:this.state.biziProjMember.beginTime,onChange:this.handleOnChange})))),l.default.createElement(v,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=S},function(e,t,a){"use strict";var r=a(1),i=a(230),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("bizi-proj",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveBiziProj:function(e){var t=this,a=this.getServiceUrl("bizi-proj/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveBiziProjPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveBiziProj(e)},onInitBiziProj:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveBiziProj(e)},onCreateBiziProj:function(e){var t=this.getServiceUrl("bizi-proj/create");n.recordCreate(this,e,t)},onUpdateBiziProj:function(e){var t=this.getServiceUrl("bizi-proj/update");n.recordUpdate(this,e,t)},onDeleteBiziProj:function(e){var t=this.getServiceUrl("bizi-proj/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),m=r(c),h=a(30),p=r(h),f=a(221),g=r(f),v=a(1),C=a(11),b=u.Radio.Button,y=u.Radio.Group,S=u.DatePicker.MonthPicker,E=u.Input.Search,w=a(6),x=(a(3),a(370)),k=a(276),j=a(14),N=""+w.getMonth(),P=n.default.createClass({displayName:"CheckQueryPage",getInitialState:function(){return{checkQuerySet:{recordSet:[],errMsg:""},loading:!1,viewType:"1",workMonth:N,filter:""}},mixins:[v.listenTo(x,"onServiceComplete"),(0,p.default)(),(0,m.default)()],onServiceComplete:function(e){this.setState({loading:!1,checkQuerySet:e})},componentDidMount:function(){new Date;this.setState({loading:!0,viewType:"1"}),this.queryCheckQuery(N)},onChangeDate:function(e){var t=e.target.value;this.queryCheckQuery(t),this.setState({loading:!0,workMonth:t,selectedRowKeys:null})},queryCheckQuery:function(e){var t={};null!==e&&""!==e?(t.fromDate=e+"01",t.toDate=e+"31"):(t.fromDate="",t.toDate=""),t.chkProj=j.selectedPool.uuid,k.retrieveCheckQuery(t)},onChangeViewType:function(e){k.getCacheData(),this.setState({loading:!0,viewType:e.target.value})},onFilterRecord:function(e){this.setState({filterValue:e.target.value})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,workMonth:a}),this.queryCheckQuery(a)},showError:function(e){C.showError("user-chk-book","retrieve",e)},getWorkHours:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];t+=parseFloat(r.workHour)}return t},getOverHours:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"0"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getOverHours3:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"2"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getOverHours2:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"1"==r.dateType&&(t+=parseFloat(r.overHour))}return t},getLeaveHour:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"事假"!==r.leaveType&&"病假"!==r.leaveType&&"其他无薪假期"!==r.leaveType&&(t+=parseFloat(r.leaveHour))}return t},getLeaveHour2:function(e){for(var t=0,a=0;a<e.chkList.length;a++){var r=e.chkList[a];"事假"!=r.leaveType&&"病假"!=r.leaveType&&"其他无薪假期"!=r.leaveType||(t+=parseFloat(r.leaveHour))}return t},render:function(){var e=this,t=w.filter(this.state.checkQuerySet.recordSet,this.state.filterValue),a=[],r=this.state.workMonth.substr(0,4),i=this.state.workMonth.substr(4,2),l=new Date(r,i,0),o=l.getDate();if("1"===this.state.viewType)a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"部门",dataIndex:"deptName",key:"deptName",width:140},{title:"类型",dataIndex:"manType",key:"manType",width:140},{title:"工时",dataIndex:"workHours",key:"workHours",width:140,render:function(t,a){return e.getWorkHours(a)}},{title:"加班",dataIndex:"overHours",key:"overHours",width:140,render:function(t,a){return e.getOverHours(a)}},{title:"周末",dataIndex:"overHour2",key:"overHour2",width:140,render:function(t,a){return e.getOverHours2(a)}},{title:"节假日",dataIndex:"overHour3",key:"overHour3",width:140,render:function(t,a){return e.getOverHours3(a)}},{title:"带薪假",dataIndex:"leaveHour",key:"leaveHour",width:140,render:function(t,a){return e.getLeaveHour(a)}},{title:"无薪假",dataIndex:"leaveHour2",key:"leaveHour2",width:140,render:function(t,a){return e.getLeaveHour2(a)}}];else if("2"===this.state.viewType){a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:100,fixed:"left"},{title:"姓名",dataIndex:"perName",key:"perName",width:100,fixed:"left"},{title:"部门",dataIndex:"deptName",key:"deptName",width:140}];for(var s=this.state.workMonth,c=1;c<o+1;c++){c=c<10?"0"+c:""+c;var m="",h=this.getDateType(s+c);"1"!==h&&"2"!==h||(m="leaveWeek"),a.push({title:c,dataIndex:c,key:c,width:120,className:m})}}else if("3"===this.state.viewType){a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:100,fixed:"left"},{title:"姓名",dataIndex:"perName",key:"perName",width:100,fixed:"left"},{title:"部门",dataIndex:"deptName",key:"deptName",width:140}];for(var s=this.state.workMonth,c=1;c<o+1;c++){c=c<10?"0"+c:""+c;var m="",h=this.getDateType(s+c);"1"!==h&&"2"!==h||(m="leaveWeek"),a.push({title:c,dataIndex:c,key:c,width:120,className:m})}}var p=w.getCardMargin(this),f=120*o+340;if("1"===this.state.viewType&&(f=0),"2"===this.state.viewType)for(var c=0;c<t.length;c++)for(var v=t[c],C=0;C<v.chkList.length;C++){var x=v.chkList[C],k=x.chkDate.substr(6,2),j=x.workHour;"0"===j&&(j=""),"0"!=x.overHour&&(j=""===j?"【加】"+parseFloat(x.overHour):j+";【加】"+parseFloat(x.overHour)),"0"!=x.leaveHour&&(j=""===j?"【休】"+parseFloat(x.leaveHour):j+";【休】"+parseFloat(x.leaveHour)),v[k]=j}else if("3"===this.state.viewType)for(var c=0;c<t.length;c++)for(var v=t[c],C=0;C<v.chkList.length;C++){var x=v.chkList[C],k=x.chkDate.substr(6,2),N="",P=x.checkIn,D=x.checkOut;void 0!==P&&null!==P&&""!==P&&(N=P.substr(0,5)),void 0!==D&&null!==D&&""!==D&&(N=N+"~"+D.substr(0,5)),v[k]=N}return n.default.createElement("div",{className:"grid-page",style:{padding:p.padding}},n.default.createElement("div",{style:{margin:p.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["user-chk-book/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(g.default,{value:this.state.workMonth,onChange:this.onChangeDate}),n.default.createElement(S,{allowClear:!1,style:{marginLeft:"16px",width:"120px"},format:w.monthFormat,onChange:this.datePicker}),n.default.createElement("div",{style:{float:"right"}},n.default.createElement(y,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeViewType},n.default.createElement(b,{value:"1"},n.default.createElement(u.Icon,{type:"bars"})),n.default.createElement(b,{value:"2"},n.default.createElement(u.Icon,{type:"credit-card"})),n.default.createElement(b,{value:"3"},n.default.createElement(u.Icon,{type:"check-square-o"})))),n.default.createElement(E,{placeholder:"查询",style:{width:"120px",marginLeft:"16px",float:"right"},value:this.state.filterValue,onChange:this.onFilterRecord}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:t,scroll:{x:f,y:600},rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:w.tableBorder})))}});e.exports=P},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(14),m=r(c),h=a(133),p=r(h),f=a(1),g=(u.Input.Search,"YYYY-MM-DD"),v=a(6),C=(a(3),a(1528)),b=a(769),y=10,S=""+v.getToday(),E=n.default.createClass({displayName:"DispLogPage",getInitialState:function(){return{dispLogSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,errMsg:""},viewType:"",loading:!1,changeDate:""}},mixins:[f.listenTo(C,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,dispLogSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=this.state.changeDate,a=m.default.selectedPool.uuid;b.retrieveProjMemberPage(a,t,this.state.dispLogSet.startPage,y)},componentDidMount:function(){this.setState({loading:!0,viewType:S});var e=m.default.selectedPool.uuid;b.retrieveProjMember(e,S)},onChangePage:function(e){this.state.dispLogSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){y=t,this.handleQueryClick()},onChangeView:function(e){var t=m.default.selectedPool.uuid,a=e.target.value;this.state.changeDate=a,b.retrieveProjMember(t,a),this.setState({loading:!0,viewType:a})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,viewType:a});var r=m.default.selectedPool.uuid;b.retrieveProjMember(r,a)},render:function(){var e=this.state.dispLogSet.recordSet,t={showQuickJumper:!0,total:this.state.dispLogSet.totalRow,pageSize:this.state.dispLogSet.pageRow,current:this.state.dispLogSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"调动类型",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return t.beginDate===t.chkDate?"调入":"调出"}},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"项目地址",dataIndex:"projLoc",key:"projLoc",width:140},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算价",dataIndex:"userPrice",key:"userPrice",width:140},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"公司/部门",dataIndex:"corpName",key:"corpName",width:140,render:function(e,t){return t.corpName?t.corpName:t.deptName}}];return n.default.createElement("div",{className:"grid-page"},n.default.createElement("div",null,n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(p.default,{value:this.state.viewType,onChange:this.onChangeView}),n.default.createElement(u.DatePicker,{allowClear:!1,style:{marginLeft:"16px",width:"120px"},onChange:this.datePicker,format:g}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:t,size:"middle",bordered:v.tableBorder})))}});e.exports=E},function(e,t,a){"use strict";var r=a(1),i=a(769),n=a(3),l=a(11),o=r.createStore({listenables:[i],poolUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({poolUuid:a.poolUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onRetrieveProjMember:function(e,t){var a=this,r={};r.poolUuid=e,r.chkDate=t;var i=this.getServiceUrl("proj-member/retrieve3");n.doRetrieveService(i,r,a.startPage,a.pageRow,a.totalRow).then(function(r){null==r.errCode||""==r.errCode||"000000"==r.errCode?(a.recordSet=r.object.list,a.startPage=r.object.startPage,a.pageRow=r.object.pageRow,a.totalRow=r.object.totalRow,a.poolUuid=e,a.chkDate=t,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+r.errCode+"]["+r.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})},onRetrieveProjMemberPage:function(e,t,a,r){this.startPage=a,this.pageRow=r,this.chkDate=t,this.onRetrieveProjMember(e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(14),f=r(p),g=a(21),v=r(g),C=a(4),b=a(67),y=r(b),S=a(1),E=a(6),w=(C.DatePicker.MonthPicker,C.DatePicker.RangePicker,C.Form.Item),x=(C.Select.Option,C.Tabs.TabPane),k=a(530),j=a(376),N=l.default.createClass({displayName:"CreateProjMemberPage",getInitialState:function(){return{projMemberSet:{errMsg:""},loading:!1,modal:!1,user:{},projMember:{},hints:{},validRules:[]}},mixins:[S.listenTo(k,"onServiceComplete"),(0,c.default)("projMember"),(0,v.default)()],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},componentDidMount:function(){this.state.validRules=[{id:"userPrice",desc:"结算单价",required:!0,max:"24"},{id:"dispLoc",desc:"出发地",required:!1,max:"24"},{id:"projLevel",desc:"客户定级",required:!0,max:"24"},{id:"planDate",desc:"考勤开始日期",required:!0,max:"24"},{id:"planTime",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.clear()},clear:function(){this.state.hints={},this.state.projMember.uuid="",this.state.projMember.corpUuid=window.loginData.compUser.corpUuid,this.state.projMember.poolUuid=f.default.selectedPool.uuid,this.state.projMember.projUuid=f.default.selectedDispProj.uuid,this.state.projMember.grpUuid=f.default.selectedDispProj.parentUuid,this.state.projMember.planTime="09:00",this.state.projMember.dispType="长期",this.state.projMember.planDate=""+E.getToday(),this.state.loading=!1,"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectMember:function(e){this.state.projMember.poolUuid=f.default.selectedPool.uuid,this.state.projMember.corpUuid=window.loginData.compUser.corpUuid,this.state.projMember.dispatcher=window.loginData.authUser.perName,this.state.projMember.dispCode=window.loginData.compUser.userCode,this.state.projMember.projName=f.default.selectedDispProj.projName,this.state.projMember.grpUuid=f.default.selectedDispProj.parentUuid,this.state.projMember.userUuid=e.uuid,this.state.projMember.uuid=e.uuid,this.state.projMember.staffCode=e.staffCode,this.state.projMember.perName=e.perName,this.state.projMember.manType=e.manType,this.state.projMember.deptName=e.deptName,this.state.projMember.eduDegree=e.eduDegree,this.state.projMember.userLevel=e.empLevel,this.state.projMember.techUuid=e.techUuid,this.state.projMember.manLevel=e.manLevel,this.state.projMember.eduCollege=e.eduCollege,this.state.projMember.techLevel=e.techLevel,this.state.projMember.phoneno=e.phoneno,this.state.projMember.manName=e.manName,this.state.projMember.baseCity=e.baseCity,this.state.projMember.workBegin=e.workBegin,this.state.projMember.induBegin=e.induBegin,this.state.projMember.userCost=e.userCost,this.state.projMember.techName=e.techName,this.setState({user:e})},onClickSave:function(){E.formValidator(this,this.state.projMember)&&(this.setState({loading:!0}),j.createDispOrder(this.state.projMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"2"!==e&&"1"!==e||this.props.onBack(e)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=!this.state.projMember.corpUuid,o=f.default.selectedPool.uuid,s=f.default.getDisplayWorkYears(this.state.projMember.workBegin),u=f.default.getDisplayWorkYears(this.state.projMember.induBegin),c=this.getLevelName(this.state.projMember.corpUuid,this.state.projMember.userLevel),m=l.default.createElement(C.Form,{layout:e,style:{width:"600px"}},l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"员工编号",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.projMember.staffCode,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"姓名",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"perName",id:"perName",value:this.state.projMember.perName,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"任职部门",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.projMember.deptName,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"归属地",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.projMember.baseCity,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"人员类型",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"manType",id:"manType",value:this.state.projMember.manType,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"电话",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.projMember.phoneno,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"最高学历",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:this.state.projMember.eduDegree,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"毕业院校",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.projMember.eduCollege,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"工龄",required:!1,colon:!0,className:t}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:s.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(C.Col,{span:"2"}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:s.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"行业经验",required:!1,colon:!0,className:t}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:u.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(C.Col,{span:"2"}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:u.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"人员级别",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"userLevel",id:"userLevel",value:c,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"成本",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"userCost",id:"userCost",value:this.state.projMember.userCost,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"技术级别",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.projMember.techLevel,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"管理级别",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.projMember.manLevel,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"技术岗位",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"techName",id:"techName",value:this.state.projMember.techName,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"管理岗位",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"manName",id:"manName",value:this.state.projMember.manName,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"客户定级",required:!0,colon:!0,className:t,help:r.projLevelHint,validateStatus:r.projLevelStatus}),l.default.createElement(C.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.projMember.projLevel,onChange:this.handleOnChange}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"结算单价",required:!0,colon:!0,className:t,help:r.userPriceHint,validateStatus:r.userPriceStatus}),l.default.createElement(C.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.projMember.userPrice,onChange:this.handleOnChange})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"派遣类型",required:!1,colon:!0,className:t}),l.default.createElement(h.default,{name:"dispType",id:"dispType",value:this.state.projMember.dispType,appName:"项目管理",optName:"派遣类型",onChange:this.onRadioChange}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"出发地",required:!1,colon:!0,className:t,help:r.dispLocHint,validateStatus:r.dispLocStatus}),l.default.createElement(C.Input,{type:"text",name:"dispLoc",id:"dispLoc",value:this.state.projMember.dispLoc,onChange:this.handleOnChange})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"考勤开始日期",required:!0,colon:!0,className:t,help:r.planDateHint,validateStatus:r.planDateStatus}),l.default.createElement(C.DatePicker,{style:{width:"100%"},name:"planDate",id:"planDate",format:E.dateFormat,value:this.formatDate(this.state.projMember.planDate,E.dateFormat),onChange:this.handleOnSelDate.bind(this,"planDate",E.dateFormat)}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"时间",required:!0,colon:!0,className:t,help:r.planTimeHint,validateStatus:r.planTimeStatus}),l.default.createElement(C.Input,{type:"text",name:"planTime",id:"planTime",value:this.state.projMember.planTime,onChange:this.handleOnChange})))),l.default.createElement(w,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(C.Button,{key:"btnOK",type:"primary",size:"large",disabled:n,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(C.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")));return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(C.Tabs,{defaultActiveKey:"5",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(x,{tab:"返回",key:"1",disabled:"true",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"调度指令",key:"2",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"人员筹备",key:"3",disabled:"true",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"项目组成员",key:"4",disabled:"true",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"人员调度",key:"5",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-disp/create"]}),l.default.createElement(y.default,{style:{padding:"10px 0 16px 32px",width:"600px"},poolUuid:o,showError:this.showError,onSelectMember:this.onSelectMember}),this.state.loading?l.default.createElement(C.Spin,null,m):m))))}});e.exports=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(14),f=r(p),g=a(21),v=r(g),C=a(4),b=a(67),y=(r(b),a(1)),S=a(6),E=a(3),w=C.Form.Item,x=(C.Select.Option,C.Tabs.TabPane),k=a(530),j=a(376),N=l.default.createClass({displayName:"UpdateProjMemberPage",getInitialState:function(){return{projMemberSet:{errMsg:""},loading:!1,projMember:{},hints:{},validRules:[]}},mixins:[y.listenTo(k,"onServiceComplete"),(0,c.default)("projMember"),(0,v.default)()],
onServiceComplete:function(e){"retrieveResMeb"===e.operation?e.dispMeb&&(this.state.projMember.eduDegree=e.dispMeb.eduDegree,this.state.projMember.baseCity=e.dispMeb.baseCity,this.state.projMember.deptName=e.dispMeb.deptName,this.state.projMember.eduCollege=e.dispMeb.eduCollege,this.state.projMember.eduDegree=e.dispMeb.eduDegree,this.state.projMember.induBegin=e.dispMeb.induBegin,this.state.projMember.phoneno=e.dispMeb.phoneno,this.state.projMember.workBegin=e.dispMeb.workBegin,this.state.projMember.userLevel=e.dispMeb.empLevel,this.state.projMember.techUuid=e.dispMeb.techUuid,this.state.projMember.manUuid=e.dispMeb.manUuid,this.state.projMember.techName=e.dispMeb.techName,this.state.projMember.manName=e.dispMeb.manName,this.state.projMember.userCost=e.dispMeb.userCost,this.setState({loading:!1,projMemberSet:e})):"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,projMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"userPrice",desc:"结算单价",required:!0,max:"24"},{id:"dispLoc",desc:"出发地",required:!1,max:"24"},{id:"projLevel",desc:"客户定级",required:!0,max:"24"},{id:"planDate",desc:"考勤开始日期",required:!0,max:"24"},{id:"planTime",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.projMember)},initPage:function(e){E.copyValue(e,this.state.projMember),this.setState({loading:!1,hints:{}}),this.state.projMember.beginDate=S.getToday()+"",this.state.projMember.beginTime="09:00","undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear(),j.retrieveResMeb(this.props.projMember.staffCode)},onClickSave:function(){S.formValidator(this,this.state.projMember)&&(this.state.projMember.grpUuid=f.default.selectedDispProj.parentUuid,j.updateDispOrder(this.state.projMember))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"!==e&&"2"!==e||this.props.onBack(e)},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=window.loginData.compUser.corpUuid,o=void 0===this.state.projMember.dispType?"1":this.state.projMember.dispType,s=f.default.getDisplayWorkYears(this.state.projMember.workBegin),u=f.default.getDisplayWorkYears(this.state.projMember.induBegin),c=this.getLevelName(n,this.state.projMember.userLevel);return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(C.Tabs,{defaultActiveKey:"5",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(x,{tab:"返回",key:"1",disabled:"true",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"调度指令",key:"2",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"人员筹备",key:"3",disabled:"true",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"项目组成员",key:"4",disabled:"true",style:{width:"100%",height:"100%"}}),l.default.createElement(x,{tab:"人员调度修改",key:"5",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-disp/update","proj-disp/retrieveMember"]}),l.default.createElement(C.Form,{layout:e,style:{width:"600px"}},l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"员工编号",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.projMember.staffCode,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"姓名",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"perName",id:"perName",value:this.state.projMember.perName,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"任职部门",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.projMember.deptName,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"归属地",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.projMember.baseCity,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"人员类型",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"manType",id:"manType",value:this.state.projMember.manType,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"电话",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.projMember.phoneno,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"最高学历",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:this.state.projMember.eduDegree,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"毕业院校",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.projMember.eduCollege,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"工龄",required:!1,colon:!0,className:t}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:s.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(C.Col,{span:"2"}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:s.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"行业经验",required:!1,colon:!0,className:t}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:u.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(C.Col,{span:"2"}),l.default.createElement(C.Col,{span:"11"},l.default.createElement(C.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:u.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"人员级别",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"userLevel",id:"userLevel",value:c,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"成本",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"userCost",id:"userCost",value:this.state.projMember.userCost,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"技术级别",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.projMember.techLevel,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"管理级别",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.projMember.manLevel,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"技术岗位",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"techUuid",id:"techUuid",value:this.state.projMember.techName,disabled:!0}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"管理岗位",required:!1,colon:!0,className:t}),l.default.createElement(C.Input,{type:"text",name:"manUuid",id:"manUuid",value:this.state.projMember.manName,disabled:!0})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"客户定级",required:!0,colon:!0,className:t,help:r.projLevelHint,validateStatus:r.projLevelStatus}),l.default.createElement(C.Input,{type:"text",name:"projLevel",id:"projLevel",value:this.state.projMember.projLevel,onChange:this.handleOnChange}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"结算单价",required:!0,colon:!0,className:t,help:r.userPriceHint,validateStatus:r.userPriceStatus}),l.default.createElement(C.Input,{type:"text",name:"userPrice",id:"userPrice",value:this.state.projMember.userPrice,onChange:this.handleOnChange})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"派遣类型",required:!1,colon:!0,className:t}),l.default.createElement(h.default,{name:"dispType",id:"dispType",value:o,appName:"项目管理",optName:"派遣类型",onChange:this.onRadioChange}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"出发地",required:!1,colon:!0,className:t,help:r.dispLocHint,validateStatus:r.dispLocStatus}),l.default.createElement(C.Input,{type:"text",name:"dispLoc",id:"dispLoc",value:this.state.projMember.dispLoc,onChange:this.handleOnChange})))),l.default.createElement(C.Row,null,l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"考勤开始日期",required:!0,colon:!0,className:t,help:r.planDateHint,validateStatus:r.planDateStatus}),l.default.createElement(C.DatePicker,{style:{width:"100%"},name:"planDate",id:"planDate",format:S.dateFormat,value:this.formatDate(this.state.projMember.planDate,S.dateFormat),onChange:this.handleOnSelDate.bind(this,"planDate",S.dateFormat)}))),l.default.createElement(C.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"时间",required:!0,colon:!0,className:t,help:r.planTimeHint,validateStatus:r.planTimeStatus}),l.default.createElement(C.Input,{type:"text",name:"planTime",id:"planTime",value:this.state.projMember.planTime,onChange:this.handleOnChange})))),l.default.createElement(w,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(C.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(C.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))),";"))))}});t.default=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(14),m=r(c),h=a(21),p=r(h),f=a(1),g=u.Input.Search,v=(u.Form.Item,u.Tabs.TabPane,a(6)),C=(a(3),a(530)),b=a(376),y="",S=n.default.createClass({displayName:"DispOrderPage",getInitialState:function(){return{dispOrderSet:{recordSet:[],errMsg:""},loading:!1,filter:{}}},mixins:[f.listenTo(C,"onServiceComplete"),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,dispOrderSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.poolUuid=m.default.selectedPool.uuid,this.state.filter.projUuid=m.default.selectedDispProj.uuid,b.retrieveDispOrderPage(this.state.filter)},componentDidMount:function(){this.setState({loading:!1});var e=m.default.selectedDispProj.uuid;b.getCacheData(e)},onClickDelete:function(e,t){u.Modal.confirm({title:"删除确认",content:"是否删除选中的事件 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.dispOrderSet.operation="",b.deleteDispOrder(e.uuid)},onFilterRecord:function(e){y=e.target.value,this.setState({loading:this.state.loading})},handleCreate:function(e){this.props.doAction("create-disp")},onClickUpdate:function(e,t){this.props.doAction("update-disp",e)},render:function(e){var t=this,a=v.filter(this.state.dispOrderSet.recordSet,y),e=window.loginData.compUser.corpUuid,r=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"类型",dataIndex:"manType",key:"manType",width:140},{title:"人员级别",dataIndex:"userLevel",key:"userLevel",width:140,render:function(a,r){return t.getLevelName(e,r.userLevel)}},{title:"调度人",dataIndex:"dispatcher",key:"dispatcher",width:140},{title:"调度日期",dataIndex:"applyTime",key:"applyTime",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"计划入组",dataIndex:"planDate",key:"planDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"更多操作",key:"action",width:100,render:function(e,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:t.onClickUpdate.bind(t,a),title:"修改调度指令"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDelete.bind(t,a),title:"删除调度指令"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}],i=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-disp/retrieve","proj-disp/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加人员调度",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查询",style:{width:v.searchWidth},value:y,onChange:this.onFilterRecord}))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:r,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder})));return i}});e.exports=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),m=r(c),h=a(26),p=r(h),f=a(134),g=r(f),v=a(1),C=(u.Input.Search,u.Radio.Button),b=u.Radio.Group,y=a(6),S=a(3),E=a(14),w=a(101),x=a(80),k=n.default.createClass({displayName:"BatchCreateOutStaffPage",getInitialState:function(){return{recordSet:[],loading:!1,viewType:"1",filter:{},resMember:{}}},mixins:[v.listenTo(w,"onServiceComplete"),(0,m.default)(),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,resMemberSet:e})},componentDidMount:function(){},onChangeView:function(e){this.setState({viewType:e.target.value})},handleBatchCreate:function(e){this.setState({loading:!0}),this.state.filter.more=this.state.moreFilter?"1":"0";for(var t=0;t<this.state.recordSet.length;t++){var a=this.state.recordSet[t];a.userUuid=a.uuid,delete a.uuid}x.batchCreateResMember(this.state.recordSet)},handleTempDown:function(e){this.downXlsTempFile(g.default.resMemberFields)},uploadComplete:function(e,t){if(this.setState({loading:!1}),""!==e)y.errMsg(e);else{for(var a=0;a<t.list.length;a++){var r=t.list[a];r.workBegin=E.calcBeginMonth(r.beginDate,r.workYears),r.induBegin=E.calcBeginMonth(r.beginDate,r.induYears),r.corpUuid=window.loginData.compUser.corpUuid,r.poolUuid=E.selectedPool.uuid,r.teamUuid=this.props.team.uuid,r.userUuid=r.uuid,r.userId=r.userId,r.manType="外协",r.status="在岗",r.poolCode=E.selectedPool.poolCode,r.poolName=E.selectedPool.poolName,r.poolLoc="";var i=r.beginHour;if(4===i.length){var n=i.indexOf(":");n<0&&(r.beginHour=i.substr(0,2)+":"+i.substr(2))}r.resStatus="资源池",r.resLoc=r.baseCity,r.resUuid=r.poolUuid,r.resName=r.poolName,r.resDate=r.beginDate,r.resHour=r.beginHour}this.setState({recordSet:t.list})}},beforeUpload:function(e){this.setState({loading:!0});var t=S.projUrl+"out-staff/retrieve-xls",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,g.default.resMemberFields,e,this.uploadComplete),!1},render:function(){var e=this,t=this.state.recordSet,a=window.loginData.compUser.corpUuid,r=[];r="1"===this.state.viewType?[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:120},{title:"成本",dataIndex:"userCost",key:"userCost",width:100},{title:"入池日期",dataIndex:"beginDate",key:"beginDate",width:100,render:function(e,t){return y.formatDate(e,y.dateFormat)}},{title:"入池时间",dataIndex:"beginHour",key:"beginHour",width:100},{title:"最高学历",dataIndex:"eduDegree",key:"eduDegree",width:120},{title:"毕业院校",dataIndex:"eduCollege",key:"eduCollege",width:140},{title:"工作年限",dataIndex:"workBegin",key:"workBegin",width:100,render:function(e,t){return E.getColumnWorkYears(e)}},{title:"行业经验",dataIndex:"induBegin",key:"induBegin",width:100,render:function(e,t){return E.getColumnWorkYears(e)}}]:[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:120},{title:"公司名称",dataIndex:"corpName",key:"corpName",width:140,render:function(e,t){return null===e||""===e||void 0===e?t.deptName:e}},{title:"员工级别",dataIndex:"empLevel",key:"empLevel",width:100,render:function(t,r){return e.getLevelName(a,r.empLevel)}},{title:"技术岗位",dataIndex:"techName",key:"techUuid",width:100},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:100},{title:"入池日期",dataIndex:"beginDate",key:"beginDate",width:100,render:function(e,t){return y.formatDate(e,y.dateFormat)}},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:100}];var i=0===t.length;return n.default.createElement("div",{style:{width:"100%",height:"100%"}},n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/create"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:"save",type:"primary",title:"批量保存成员",onClick:this.handleBatchCreate,disabled:i},"批量保存成员"),n.default.createElement(u.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(u.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},n.default.createElement(u.Button,{icon:"upload",title:"上传文件, 需要用户确认后才会保存到数据库"}))),n.default.createElement(b,{value:this.state.viewType,style:{paddingLeft:"32px"},onChange:this.onChangeView},n.default.createElement(C,{value:"1"},"工作经验"),n.default.createElement(C,{value:"2"},"岗位"))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:r,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:y.tableBorder}))))}});e.exports=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(21),m=r(c),h=a(26),p=r(h),f=a(134),g=r(f),v=a(1),C=(u.Input.Search,u.Radio.Button),b=u.Radio.Group,y=a(6),S=a(3),E=a(14),w=a(101),x=a(80),k=n.default.createClass({displayName:"BatchCreateResMemberPage",getInitialState:function(){return{resMemberSet:{recordSet:[],errMsg:""},recordSet:[],filter:{},loading:!1,viewType:"1"}},mixins:[v.listenTo(w,"onServiceComplete"),(0,m.default)(),(0,p.default)()],onServiceComplete:function(e){this.setState({loading:!1,resMemberSet:e})},componentDidMount:function(){},onChangeView:function(e){this.setState({viewType:e.target.value})},handleBatchCreate:function(e){this.setState({loading:!0}),this.state.filter.more=this.state.moreFilter?"1":"0";for(var t=0;t<this.state.recordSet.length;t++){var a=this.state.recordSet[t];a.userUuid=a.uuid,delete a.uuid}x.batchCreateResMember(this.state.recordSet)},handleTempDown:function(e){this.downXlsTempFile(g.default.resMemberFields)},uploadComplete:function(e,t){if(this.setState({loading:!1}),""!==e)y.errMsg(e);else{for(var a=0;a<t.list.length;a++){var r=t.list[a];r.workBegin=E.calcBeginMonth(r.entryDate,r.workYears),r.induBegin=E.calcBeginMonth(r.entryDate,r.induYears),r.corpUuid=window.loginData.compUser.corpUuid,r.poolUuid=E.selectedPool.uuid,r.teamUuid=this.props.team.uuid,r.userUuid=r.uuid,r.manType="员工"==r.empType?"员工":"实习",r.status="在岗",r.poolCode=E.selectedPool.poolCode,r.poolName=E.selectedPool.poolName,r.poolLoc="";var i=r.beginHour;if(4===i.length){var n=i.indexOf(":");n<0&&(r.beginHour=i.substr(0,2)+":"+i.substr(2))}r.resStatus="资源池",r.resLoc=r.baseCity,r.resUuid=r.poolUuid,r.resName=r.poolName,r.resDate=r.beginDate,r.resHour=r.beginHour}this.setState({recordSet:t.list})}},beforeUpload:function(e){this.setState({loading:!0});var t=S.hrUrl+"hr-employee/retrieve-xls",a={corpUuid:window.loginData.compUser.corpUuid};return this.uploadXlsFile(t,a,g.default.resMemberFields,e,this.uploadComplete),!1},render:function(){var e=this,t=this.state.recordSet,a=window.loginData.compUser.corpUuid,r=[];r="1"===this.state.viewType?[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:120},{title:"成本",dataIndex:"userCost",key:"userCost",width:100},{title:"入池日期",dataIndex:"beginDate",key:"beginDate",width:100,render:function(e,t){return y.formatDate(e,y.dateFormat)}},{title:"入池时间",dataIndex:"beginHour",key:"beginHour",width:100},{title:"最高学历",dataIndex:"eduDegree",key:"eduDegree",width:120},{title:"毕业院校",dataIndex:"eduCollege",key:"eduCollege",width:140},{title:"工作年限",dataIndex:"workBegin",key:"workBegin",width:100,render:function(e,t){return E.getColumnWorkYears(e)}},{title:"行业经验",dataIndex:"induBegin",key:"induBegin",width:100,render:function(e,t){return E.getColumnWorkYears(e)}}]:[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:120},{title:"公司名称",dataIndex:"corpName",key:"corpName",width:140,render:function(e,t){return null===e||""===e||void 0===e?t.deptName:e}},{title:"员工级别",dataIndex:"empLevel",key:"empLevel",width:100,render:function(t,r){return e.getLevelName(a,r.empLevel)}},{title:"技术岗位",dataIndex:"techName",key:"techUuid",width:100},{title:"管理岗位",dataIndex:"manName",key:"manUuid",width:100},{title:"入职",dataIndex:"entryDate",key:"entryDate",width:100,render:function(e,t){return y.formatDate(e,y.dateFormat)}},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:100}];var i=0===t.length;return n.default.createElement("div",{style:{width:"100%",height:"100%"}},n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/create"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:"save",type:"primary",title:"批量保存成员",onClick:this.handleBatchCreate,disabled:i},"批量保存成员"),n.default.createElement(u.Button,{icon:"download",title:"下载模板",onClick:this.handleTempDown,style:{marginLeft:"4px"}}),n.default.createElement(u.Upload,{name:"file",action:"/posts/",beforeUpload:this.beforeUpload,style:{marginLeft:"4px"}},n.default.createElement(u.Button,{icon:"upload",title:"上传文件, 需要用户确认后才会保存到数据库"}))),n.default.createElement(b,{value:this.state.viewType,style:{paddingLeft:"32px"},onChange:this.onChangeView},n.default.createElement(C,{value:"1"},"工作经验"),n.default.createElement(C,{value:"2"},"岗位"))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:r,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:y.tableBorder}))))}});e.exports=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=(r(m),a(193)),p=r(h),f=a(149),g=r(f),v=a(21),C=r(v),b=a(30),y=r(b),S=a(4),E=a(1),w=a(6),x=a(3),k=S.Form.Item,j=(S.Select.Option,a(101)),N=a(80),P=a(14),D=l.default.createClass({displayName:"ChangeResMemberPage",getInitialState:function(){return{resMemberSet:{errMsg:""},loading:!1,resMember:{},poolUuid:"",teamUuid:"",hints:{},validRules:[]}},mixins:[E.listenTo(j,"onServiceComplete"),(0,c.default)("resMember"),(0,y.default)(),(0,C.default)()],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,resMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"teamUuid",desc:"小组UUID",required:!0,max:"24"},{id:"poolUuid",desc:"资源池UUID",required:!0,max:"24"}],this.initPage(this.props.resMember)},componentWillReceiveProps:function(e){this.initPage(e.resMember)},initPage:function(e){x.copyValue(e,this.state.resMember);var t=this.state.resMember;t.poolUuid===t.resUuid&&(t.resDate=""+w.getToday(),t.resHour="09:00"),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){var e=this.state.resMember,t=e.poolUuid,a=e.teamUuid;if(t===this.state.poolUuid&&a===this.state.teamUuid)return void this.goBack();if(w.formValidator(this,e)){if(this.state.poolUuid!==t){var r=e.resUuid,i=this.refs.poolBox,n=i.getPoolNode(this.state.poolUuid);e.poolUuid=this.state.poolUuid,e.poolCode=n.poolCode,e.poolName=n.poolName,t===r&&(e.resUuid=this.state.poolUuid,e.resName=e.poolName)}e.teamUuid=this.state.teamUuid,this.setState({loading:!0}),N.updateResMember2(this.state.resMember)}},handleOnSelectedPool:function(e){this.state.poolUuid!==e&&(this.state.teamUuid="",this.setState({poolUuid:e}))},handleOnSelectedTeam:function(e){this.setState({teamUuid:e})},goBack:function(){this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=!this.state.resMember.userUuid,o=this.state.resMember,s=P.getDisplayWorkYears(o.workBegin),u=P.getDisplayWorkYears(o.induBegin),c="外协"===o.manType?o.corpName:o.deptName,m=this.state.poolUuid,h=P.selectedPool.corpUuid,f=P.selectedPool.poolName,v=o.poolUuid!==o.resUuid?null:l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"生效日期",required:!0,colon:!0,className:t,help:r.resDateHint,validateStatus:r.resDateStatus}),l.default.createElement(S.DatePicker,{style:{width:"100%"},name:"resDate",id:"resDate",format:w.dateFormat,value:this.formatDate(this.state.resMember.resDate,w.dateFormat),onChange:this.handleOnSelDate.bind(this,"resDate",w.dateFormat)}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"生效时间",required:!0,colon:!0,className:t,help:r.resHourHint,validateStatus:r.resHourStatus}),l.default.createElement(S.Input,{type:"text",name:"resHour",id:"resHour",value:this.state.resMember.resHour,onChange:this.handleOnChange}))));return l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/update"]}),l.default.createElement(S.Form,{layout:e,style:{width:"600px"}},l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"员工编号",className:t}),l.default.createElement(S.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.resMember.staffCode,disabled:!0}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"姓名",className:t}),l.default.createElement(S.Input,{type:"text",name:"perName",id:"perName",value:this.state.resMember.perName,disabled:!0})))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"任职部门",className:t}),l.default.createElement(S.Input,{type:"text",name:"deptName",id:"deptName",value:c,disabled:!0}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"归属地",className:t}),l.default.createElement(S.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.resMember.baseCity,disabled:!0})))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"人员类型",className:t}),l.default.createElement(S.Input,{type:"text",name:"manType",id:"manType",value:this.state.resMember.manType,disabled:!0}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"电话",className:t}),l.default.createElement(S.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.resMember.phoneno,disabled:!0})))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"最高学历",className:t}),l.default.createElement(S.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:this.state.resMember.eduDegree,disabled:!0}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"毕业院校",className:t}),l.default.createElement(S.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.resMember.eduCollege,disabled:!0})))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"工龄",className:t}),l.default.createElement(S.Col,{span:"11"},l.default.createElement(S.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:s.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(S.Col,{span:"2",style:{textAlign:"center"}}),l.default.createElement(S.Col,{span:"11"},l.default.createElement(S.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:s.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"行业经验",className:t}),l.default.createElement(S.Col,{span:"11"},l.default.createElement(S.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:u.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(S.Col,{span:"2",style:{textAlign:"center"}}),l.default.createElement(S.Col,{span:"11"},l.default.createElement(S.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:u.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"员工级别",className:t}),l.default.createElement(S.Input,{type:"text",name:"empLevel",id:"empLevel",value:this.getLevelName(h,this.state.resMember.empLevel),disabled:!0})))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"技术级别",className:t}),l.default.createElement(S.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.resMember.techLevel,disabled:!0}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"管理级别",className:t}),l.default.createElement(S.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.resMember.manLevel,disabled:!0})))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"技术岗位",className:t}),l.default.createElement(S.Input,{type:"text",name:"techUuid",id:"techUuid",value:this.state.resMember.techName,disabled:!0}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"管理岗位",className:t}),l.default.createElement(S.Input,{type:"text",name:"manUuid",id:"manUuid",value:this.state.resMember.manName,
disabled:!0})))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"项目名称",className:t}),l.default.createElement(S.Input,{type:"text",name:"resName",id:"resName",value:this.state.resMember.resName,disabled:!0}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"项目地址",className:t}),l.default.createElement(S.Input,{type:"text",name:"resLoc",id:"resLoc",value:this.state.resMember.resLoc,disabled:!0})))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"原资源池",className:t}),l.default.createElement(S.Input,{type:"text",name:"poolUuid",id:"poolUuid",value:f,disabled:!0}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"原小组",className:t}),l.default.createElement(S.Input,{type:"text",name:"poolUuid",id:"poolUuid",value:this.getResTeamName(this.state.resMember.poolUuid,this.state.resMember.teamUuid),disabled:!0})))),l.default.createElement(S.Row,null,l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"新资源池",required:!0,colon:!0,className:t,help:r.poolUuidHint,validateStatus:r.poolUuidStatus}),l.default.createElement(g.default,{ref:"poolBox",corpUuid:h,name:"poolUuid",id:"poolUuid",value:this.state.poolUuid,onSelect:this.handleOnSelectedPool}))),l.default.createElement(S.Col,{span:"12"},l.default.createElement(k,i({},a,{label:"新小组",required:!0,colon:!0,className:t,help:r.teamUuidHint,validateStatus:r.teamUuidStatus}),l.default.createElement(p.default,{poolUuid:m,name:"teamUuid",id:"teamUuid",value:this.state.teamUuid,onSelect:this.handleOnSelectedTeam})))),v,l.default.createElement(k,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(S.Button,{key:"btnOK",type:"primary",size:"large",disabled:n,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(S.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))}});t.default=D},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=(r(m),a(21)),p=r(h),f=a(4),g=a(1532),v=r(g),C=a(732),b=r(C),y=a(1),S=a(6),E=f.Form.Item,w=(f.Select.Option,f.Tabs.TabPane),x=a(101),k=a(80),j=a(14),N=l.default.createClass({displayName:"CreateOutStaffPage",getInitialState:function(){return{outStaffSet:{operation:"",errMsg:""},loading:!1,outStaff:{},hints:{},validRules:[]}},mixins:[y.listenTo(x,"onServiceComplete"),(0,c.default)("outStaff"),(0,p.default)()],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,outStaffSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"userCost",desc:"核算成本",required:!1,max:"32"},{id:"beginDate",desc:"入池日期",required:!0,max:"24"},{id:"beginHour",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}]},clear:function(){this.state.hints={},this.state.outStaff={},this.state.loading=!1,this.state.outStaffSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectStaff:function(e){var t=this.state.outStaff;t.poolUuid=j.selectedPool.uuid,t.teamUuid=this.props.team.uuid,t.corpUuid=window.loginData.compUser.corpUuid,t.userUuid=e.uuid,t.userId=e.userId,t.staffCode=e.staffCode,t.perName=e.perName,t.baseCity=e.baseCity,t.phoneno=e.phoneno,t.email=e.email,t.eduDegree=e.eduDegree,t.eduCollege=e.eduCollege,t.workYears=e.workYears,t.workBegin=j.calcBeginMonth(e.entryDate,e.workYears),t.induYears=e.induYears,t.induBegin=j.calcBeginMonth(e.entryDate,e.induYears),t.empLevel=e.empLevel,t.techLevel=e.techLevel,t.manLevel=e.manLevel,t.techUuid=e.techUuid,t.techName=e.techName,t.manUuid=e.manUuid,t.manName=e.manName,t.manType="外协",t.resStatus="资源池",t.corpName=e.corpName,t.poolCode=j.selectedPool.poolCode,t.poolName=j.selectedPool.poolName,t.poolLoc="",t.status="在岗",t.resLoc=e.baseCity,t.beginDate=S.getToday()+"",t.beginHour="09:00",this.setState({outStaff:t})},showError:function(e){console.log(e)},onClickSave:function(){var e=this.state.outStaff;e.resUuid=e.poolUuid,e.resName=e.poolName,e.resDate=e.beginDate,e.resHour=e.beginHour,this.setState({loading:!0}),k.createResMember(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.outStaff.userUuid,s=window.loginData.compUser.corpUuid,u=this.state.outStaff,c=j.getDisplayWorkYears(u.workBegin),m=j.getDisplayWorkYears(u.induBegin),h=l.default.createElement(f.Form,{layout:e,style:{width:"600px"}},l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"员工编号",className:t}),l.default.createElement(f.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.outStaff.staffCode,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"姓名",className:t}),l.default.createElement(f.Input,{type:"text",name:"perName",id:"perName",value:this.state.outStaff.perName,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"公司名称",className:t}),l.default.createElement(f.Input,{type:"text",name:"corpName",id:"corpName",value:this.state.outStaff.corpName,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"归属地",className:t}),l.default.createElement(f.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.outStaff.baseCity,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"人员类型",className:t}),l.default.createElement(f.Input,{type:"text",name:"manType",id:"manType",value:this.state.outStaff.manType,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"电话",className:t}),l.default.createElement(f.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.outStaff.phoneno,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"最高学历",className:t}),l.default.createElement(f.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:this.state.outStaff.eduDegree,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"毕业院校",className:t}),l.default.createElement(f.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.outStaff.eduCollege,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"工龄",className:t}),l.default.createElement(f.Col,{span:"10"},l.default.createElement(f.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:c.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(f.Col,{span:"2"}),l.default.createElement(f.Col,{span:"10"},l.default.createElement(f.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:c.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"行业经验",className:t}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:m.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(f.Col,{span:"2"}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:m.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"员工级别",className:t}),l.default.createElement(f.Input,{type:"text",name:"empLevel",id:"empLevel",value:this.getLevelName(s,this.state.outStaff.empLevel),disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"技术级别",className:t}),l.default.createElement(f.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.outStaff.techLevel,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"管理级别",className:t}),l.default.createElement(f.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.outStaff.manLevel,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"技术岗位",className:t}),l.default.createElement(f.Input,{type:"text",name:"techUuid",id:"techUuid",value:this.state.outStaff.techName,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"管理岗位",className:t}),l.default.createElement(f.Input,{type:"text",name:"manUuid",id:"manUuid",value:this.state.outStaff.manName,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"入池日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(f.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:S.dateFormat,value:this.formatDate(this.state.outStaff.beginDate,S.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",S.dateFormat)}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(E,i({},r,{label:"时间",required:!0,colon:!0,className:t,help:n.beginHourHint,validateStatus:n.beginHourStatus}),l.default.createElement(f.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.outStaff.beginHour,onChange:this.handleOnChange})))),l.default.createElement(E,i({},a,{label:"核算成本",required:!1,colon:!0,className:t,help:n.userCost,validateStatus:n.userCost}),l.default.createElement(f.Input,{type:"text",name:"userCost",id:"userCost",value:this.state.outStaff.userCost,onChange:this.handleOnChange})),l.default.createElement(E,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")));return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(f.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(w,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(w,{tab:"增加外协成员",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/create"]}),l.default.createElement(b.default,{style:{padding:"10px 0 16px 32px",width:"600px"},showError:this.showError,onSelectStaff:this.onSelectStaff}),this.state.loading?l.default.createElement(f.Spin,null,h):h)),l.default.createElement(w,{tab:"批量增加成员",key:"3",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement(v.default,{team:this.props.team}))))}});t.default=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=(r(m),a(21)),p=r(h),f=a(4),g=a(25),v=r(g),C=a(1),b=a(6),y=f.Form.Item,S=(f.Select.Option,f.Tabs.TabPane,a(101)),E=a(80),w=a(14),x=l.default.createClass({displayName:"CreateResMemberPage",getInitialState:function(){return{resMemberSet:{empJob:{},errMsg:""},loading:!1,resMember:{},hints:{},validRules:[]}},mixins:[C.listenTo(S,"onServiceComplete"),(0,c.default)("resMember"),(0,p.default)()],onServiceComplete:function(e){"retrieveEmpJob"===e.operation?(this.state.resMember.empLevel=e.empJob.empLevel,this.state.resMember.techLevel=e.empJob.techLevel,this.state.resMember.manLevel=e.empJob.manLevel,this.state.resMember.techUuid=e.empJob.techUuid,this.state.resMember.techName=e.empJob.techName,this.state.resMember.manUuid=e.empJob.manUuid,this.state.resMember.manName=e.empJob.manName,this.state.resMember.manType="员工"==e.empJob.empType?"员工":"实习",this.state.resMember.resStatus="资源池",this.setState({loading:!1,resMemberSet:e})):"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,resMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"userCost",desc:"核算成本",required:!1,max:"32"},{id:"beginDate",desc:"入池日期",required:!0,max:"24"},{id:"beginHour",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}]},clear:function(){this.state.hints={},this.state.resMember={},this.state.loading=!1,this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectEmpLoyee:function(e){var t=this.state.resMember;t.poolUuid=w.selectedPool.uuid,t.corpUuid=window.loginData.compUser.corpUuid,t.teamUuid=this.props.team.uuid,t.userUuid=e.uuid,t.userId=e.userId,t.staffCode=e.staffCode,t.perName=e.perName,t.deptName=e.deptName,t.baseCity=e.baseCity,t.phoneno=e.phoneno,t.email=e.email,t.eduDegree=e.eduDegree,t.eduCollege=e.eduCollege,t.workYears=e.workYears,t.workBegin=w.calcBeginMonth(e.entryDate,e.workYears),t.induYears=e.induYears,t.induBegin=w.calcBeginMonth(e.entryDate,e.induYears),t.beginDate=b.getToday()+"",t.poolCode=w.selectedPool.poolCode,t.poolName=w.selectedPool.poolName,t.poolLoc="",t.status="在岗",t.resLoc=e.baseCity,t.beginDate=b.getToday()+"",t.beginHour="09:00",this.setState({loading:!0}),E.retrieveEmpJob(e.uuid)},showError:function(e){console.log(e)},onClickSave:function(){var e=this.state.resMember;e.resUuid=e.poolUuid,e.resName=e.poolName,e.resDate=e.beginDate,e.resHour=e.beginHour,this.setState({loading:!0}),E.createResMember(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.resMember.userUuid,s=window.loginData.compUser.corpUuid,u=this.state.resMember,c=w.getDisplayWorkYears(u.workBegin),m=w.getDisplayWorkYears(u.induBegin),h=l.default.createElement(f.Form,{layout:e,style:{width:"600px"}},l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"员工编号",className:t}),l.default.createElement(f.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.resMember.staffCode,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"姓名",className:t}),l.default.createElement(f.Input,{type:"text",name:"perName",id:"perName",value:this.state.resMember.perName,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"任职部门",className:t}),l.default.createElement(f.Input,{type:"text",name:"deptName",id:"deptName",value:this.state.resMember.deptName,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"归属地",className:t}),l.default.createElement(f.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.resMember.baseCity,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"人员类型",className:t}),l.default.createElement(f.Input,{type:"text",name:"manType",id:"manType",value:this.state.resMember.manType,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"电话",className:t}),l.default.createElement(f.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.resMember.phoneno,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"最高学历",className:t}),l.default.createElement(f.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:this.state.resMember.eduDegree,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"毕业院校",className:t}),l.default.createElement(f.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.resMember.eduCollege,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"工龄",className:t}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:c.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(f.Col,{span:"2"}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:c.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"行业经验",className:t}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:m.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(f.Col,{span:"2"}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:m.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"员工级别",className:t}),l.default.createElement(f.Input,{type:"text",name:"empLevel",id:"empLevel",value:this.getLevelName(s,this.state.resMember.empLevel),disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"技术级别",className:t}),l.default.createElement(f.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.resMember.techLevel,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"管理级别",className:t}),l.default.createElement(f.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.resMember.manLevel,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"技术岗位",className:t}),l.default.createElement(f.Input,{type:"text",name:"techUuid",id:"techUuid",value:this.state.resMember.techName,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"管理岗位",className:t}),l.default.createElement(f.Input,{type:"text",name:"manUuid",id:"manUuid",value:this.state.resMember.manName,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"入池日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(f.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:b.dateFormat,value:this.formatDate(this.state.resMember.beginDate,b.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",b.dateFormat)}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"时间",required:!0,colon:!0,className:t,help:n.beginHourHint,validateStatus:n.beginHourStatus}),l.default.createElement(f.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.resMember.beginHour,onChange:this.handleOnChange})))),l.default.createElement(y,i({},a,{label:"核算成本",required:!1,colon:!0,className:t,help:n.userCost,validateStatus:n.userCost}),l.default.createElement(f.Input,{type:"text",name:"userCost",id:"userCost",value:this.state.resMember.userCost,onChange:this.handleOnChange})),l.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")));return l.default.createElement("div",{style:{padding:"8px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/create"]}),l.default.createElement(v.default,{style:{padding:"10px 0 16px 32px",width:"600px"},corpUuid:s,showError:this.showError,onSelectEmpLoyee:this.onSelectEmpLoyee}),this.state.loading?l.default.createElement(f.Spin,null,h):h)}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=(r(m),a(193)),p=(r(h),a(149)),f=(r(p),a(21)),g=r(f),v=a(30),C=r(v),b=a(4),y=a(1),S=a(6),E=a(3),w=b.Form.Item,x=(b.Select.Option,a(101)),k=a(80),j=a(14),N=l.default.createClass({displayName:"LeaveResMemberPage",getInitialState:function(){return{resMemberSet:{errMsg:""},loading:!1,resMember:{},hints:{},validRules:[]}},mixins:[y.listenTo(x,"onServiceComplete"),(0,c.default)("resMember"),(0,C.default)(),(0,g.default)()],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,resMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"endDate",desc:"离场日期",required:!0,max:"24"}],this.initPage(this.props.resMember)},componentWillReceiveProps:function(e){this.initPage(e.resMember)},initPage:function(e){E.copyValue(e,this.state.resMember),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){var e=this.state.resMember;S.formValidator(this,e)&&(e.status="离场",this.setState({loading:!0}),k.updateResMember2(this.state.resMember))},goBack:function(){this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=this.state.resMember,o=j.getDisplayWorkYears(n.workBegin),s=j.getDisplayWorkYears(n.induBegin),u="外协"===n.manType?n.corpName:n.deptName,c=j.selectedPool.corpUuid,m=j.selectedPool.poolName;return l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/update"]}),l.default.createElement(b.Form,{layout:e,style:{width:"600px"}},l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"员工编号",className:t}),l.default.createElement(b.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.resMember.staffCode,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"姓名",className:t}),l.default.createElement(b.Input,{type:"text",name:"perName",id:"perName",value:this.state.resMember.perName,disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"任职部门",className:t}),l.default.createElement(b.Input,{type:"text",name:"deptName",id:"deptName",value:u,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"归属地",className:t}),l.default.createElement(b.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.resMember.baseCity,disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"人员类型",className:t}),l.default.createElement(b.Input,{type:"text",name:"manType",id:"manType",value:this.state.resMember.manType,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"电话",className:t}),l.default.createElement(b.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.resMember.phoneno,disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"最高学历",className:t}),l.default.createElement(b.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:this.state.resMember.eduDegree,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"毕业院校",className:t}),l.default.createElement(b.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.resMember.eduCollege,disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"工龄",className:t}),l.default.createElement(b.Col,{span:"11"},l.default.createElement(b.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:o.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(b.Col,{span:"2",style:{textAlign:"center"}}),l.default.createElement(b.Col,{span:"11"},l.default.createElement(b.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:o.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"行业经验",className:t}),l.default.createElement(b.Col,{span:"11"},l.default.createElement(b.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:s.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(b.Col,{span:"2",style:{textAlign:"center"}}),l.default.createElement(b.Col,{span:"11"},l.default.createElement(b.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:s.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"员工级别",className:t}),l.default.createElement(b.Input,{type:"text",name:"empLevel",id:"empLevel",value:this.getLevelName(c,this.state.resMember.empLevel),disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"技术级别",className:t}),l.default.createElement(b.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.resMember.techLevel,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"管理级别",className:t}),l.default.createElement(b.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.resMember.manLevel,disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"技术岗位",className:t}),l.default.createElement(b.Input,{type:"text",name:"techUuid",id:"techUuid",value:this.state.resMember.techName,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"管理岗位",className:t}),l.default.createElement(b.Input,{type:"text",name:"manUuid",id:"manUuid",value:this.state.resMember.manName,disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"项目名称",className:t}),l.default.createElement(b.Input,{type:"text",name:"resName",id:"resName",value:this.state.resMember.resName,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"项目地址",className:t}),l.default.createElement(b.Input,{type:"text",name:"resLoc",id:"resLoc",value:this.state.resMember.resLoc,disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"资源池",className:t}),l.default.createElement(b.Input,{type:"text",name:"poolUuid",id:"poolUuid",value:m,disabled:!0}))),l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"小组",className:t}),l.default.createElement(b.Input,{type:"text",name:"poolUuid",id:"poolUuid",value:this.getResTeamName(this.state.resMember.poolUuid,this.state.resMember.teamUuid),disabled:!0})))),l.default.createElement(b.Row,null,l.default.createElement(b.Col,{span:"12"},l.default.createElement(w,i({},a,{label:"离场日期",required:!0,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(b.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",format:S.dateFormat,value:this.formatDate(this.state.resMember.endDate,S.dateFormat),onChange:this.handleOnSelDate.bind(this,"endDate",S.dateFormat)})))),l.default.createElement(w,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(b.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(b.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))}});t.default=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(9)),d=r(s),u=a(4),c=a(12),m=r(c),h=a(91),p=r(h),f=a(90),g=r(f),v=(a(1),a(6),u.DatePicker.MonthPicker,u.Form.Item),C=(u.Select.Option,a(14)),b=l.default.createClass({displayName:"ResMemberFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],filter:{corpUuid:window.loginData.compUser.corpUuid,poolUuid:C.selectedPool.uuid,value:"",resStatus:"",baseCity:"",eduDegree:"",induYearss:"",empLevel:"",techUuid:"",manUuid:""}}},mixins:[(0,d.default)("filter")],componentDidMount:function(){this.state.validRules=[{id:"value",desc:"姓名/工号",required:!1,max:"64"},{id:"resStatus",desc:"当前状态",required:!1,max:"32"},{id:"baseCity",desc:"归属地",required:!1,max:"32"},{id:"eduDegree",desc:"最高学历",required:!1,max:"64"},{id:"induYearss",desc:"行业经验",required:!1,max:"32"},{id:"empLevel",desc:"员工级别",required:!1,max:"32"},{id:"techUuid",desc:"技术岗位",required:!1,max:"24"},{id:"manUuid",desc:"管理岗位",required:!1,max:"24"}]},componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},l.default.createElement(u.Form,{layout:e,style:{width:"1000px",padding:"20px 0px"}},l.default.createElement(u.Row,{gutter:18},l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"姓名/工号",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(u.Input,{type:"text",name:"value",id:"value",value:this.state.filter.value,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"状态",required:!1,colon:!0,className:t,help:r.statusHint,
validateStatus:r.statusStatus}),l.default.createElement(m.default,{name:"resStatus",id:"resStatus",value:this.state.filter.resStatus,appName:"项目管理",optName:"资源池人员状态",onSelect:this.handleOnSelected.bind(this,"resStatus")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:r.baseCityHint,validateStatus:r.baseCityStatus}),l.default.createElement(u.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.filter.baseCity,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"最高学历",required:!1,colon:!0,className:t,help:r.eduDegreeHint,validateStatus:r.eduDegreeStatus}),l.default.createElement(m.default,{name:"eduDegree",id:"eduDegree",value:this.state.filter.eduDegree,appName:"简历系统",optName:"教育背景",onSelect:this.handleOnSelected.bind(this,"eduDegree")})))),l.default.createElement(u.Row,{gutter:18},l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"行业经验",required:!1,colon:!0,className:t,help:r.induYearsHint,validateStatus:r.induYearsStatus}),l.default.createElement(u.Input,{type:"text",name:"induYears",id:"induYears",value:this.state.filter.induYears,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"定级",required:!1,colon:!0,className:t,help:r.empLevelHint,validateStatus:r.empLevelStatus}),l.default.createElement(p.default,{ref:"empLevelBox",name:"empLevel",id:"empLevel",value:this.state.filter.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"技术岗",required:!1,colon:!0,className:t,help:r.techUuidHint,validateStatus:r.techUuidStatus}),l.default.createElement(g.default,{ref:"techUuidBox",name:"techUuid",id:"techUuid",value:this.state.filter.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"管理岗",required:!1,colon:!0,className:t,help:r.manUuidHint,validateStatus:r.manUuidStatus}),l.default.createElement(g.default,{ref:"manUuidBox",name:"manUuid",id:"manUuid",value:this.state.filter.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")})))))))}});e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=(r(m),a(21)),p=r(h),f=a(4),g=a(25),v=(r(g),a(1)),C=a(6),b=a(3),y=f.Form.Item,S=(f.Select.Option,f.Tabs.TabPane,a(101)),E=a(80),w=a(14),x=l.default.createClass({displayName:"UpdateResMemberPage",getInitialState:function(){return{resMemberSet:{errMsg:""},loading:!1,modal:!1,resMember:{},hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,c.default)("resMember"),(0,p.default)()],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,resMemberSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"roleName",desc:"角色",required:!1,max:"64"},{id:"perName",desc:"姓名",required:!1,max:"32"},{id:"beginDate",desc:"开始日期",required:!0,max:"24"},{id:"resHour",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.resMember)},componentWillReceiveProps:function(e){this.initPage(e.resMember)},initPage:function(e){b.copyValue(e,this.state.resMember),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){var e=this.state.resMember;C.formValidator(this,e)&&(e.poolUuid===e.resUuid&&(e.resDate=e.beginDate),this.setState({loading:!0}),E.updateResMember(e))},goBack:function(){this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},n=this.state.hints,o=!this.state.resMember.userUuid,s=window.loginData.compUser.corpUuid,u=this.state.resMember,c=w.getDisplayWorkYears(u.workBegin),m=w.getDisplayWorkYears(u.induBegin),h="外协"===u.manType?u.corpName:u.deptName,p="资源池"===u.resStatus&&u.beginDate===u.resDate;return l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/update"]}),l.default.createElement(f.Form,{layout:e,style:{width:"600px"}},l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"员工编号",className:t}),l.default.createElement(f.Input,{type:"text",name:"staffCode",id:"staffCode",value:this.state.resMember.staffCode,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"姓名",className:t}),l.default.createElement(f.Input,{type:"text",name:"perName",id:"perName",value:this.state.resMember.perName,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"任职部门",className:t}),l.default.createElement(f.Input,{type:"text",name:"deptName",id:"deptName",value:h,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"归属地",className:t}),l.default.createElement(f.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.resMember.baseCity,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"人员类型",className:t}),l.default.createElement(f.Input,{type:"text",name:"manType",id:"manType",value:this.state.resMember.manType,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"电话",className:t}),l.default.createElement(f.Input,{type:"text",name:"phoneno",id:"phoneno",value:this.state.resMember.phoneno,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"最高学历",className:t}),l.default.createElement(f.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:this.state.resMember.eduDegree,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"毕业院校",className:t}),l.default.createElement(f.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.resMember.eduCollege,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"工龄",className:t}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:c.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(f.Col,{span:"2",style:{textAlign:"center"}}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:c.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"行业经验",className:t}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:m.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(f.Col,{span:"2",style:{textAlign:"center"}}),l.default.createElement(f.Col,{span:"11"},l.default.createElement(f.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:m.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"员工级别",className:t}),l.default.createElement(f.Input,{type:"text",name:"empLevel",id:"empLevel",value:this.getLevelName(s,this.state.resMember.empLevel),disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"技术级别",className:t}),l.default.createElement(f.Input,{type:"text",name:"techLevel",id:"techLevel",value:this.state.resMember.techLevel,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"管理级别",className:t}),l.default.createElement(f.Input,{type:"text",name:"manLevel",id:"manLevel",value:this.state.resMember.manLevel,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"技术岗位",className:t}),l.default.createElement(f.Input,{type:"text",name:"techUuid",id:"techUuid",value:this.state.resMember.techName,disabled:!0}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"管理岗位",className:t}),l.default.createElement(f.Input,{type:"text",name:"manUuid",id:"manUuid",value:this.state.resMember.manName,disabled:!0})))),l.default.createElement(f.Row,null,l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"入池日期",required:!0,colon:!0,className:t,help:n.beginDateHint,validateStatus:n.beginDateStatus}),l.default.createElement(f.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:C.dateFormat,value:this.formatDate(this.state.resMember.beginDate,C.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)}))),l.default.createElement(f.Col,{span:"12"},l.default.createElement(y,i({},r,{label:"时间",required:!0,colon:!0,className:t,help:n.resHourHint,validateStatus:n.resHourStatus}),l.default.createElement(f.Input,{type:"text",name:"resHour",id:"resHour",value:this.state.resMember.resHour,onChange:this.handleOnChange,disabled:!p})))),l.default.createElement(y,i({},a,{label:"核算成本",required:!1,colon:!0,className:t,help:n.userCost,validateStatus:n.userCost}),l.default.createElement(f.Input,{type:"text",name:"userCost",id:"userCost",value:this.state.resMember.userCost,onChange:this.handleOnChange})),l.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(f.Button,{key:"btnOK",type:"primary",size:"large",disabled:o,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(f.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消"))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(30),h=r(m),p=a(4),f=a(1),g=a(6),v=a(3),C=p.Form.Item,b=(p.Select.Option,p.Tabs.TabPane),y=a(531),S=a(377),E=l.default.createClass({displayName:"BackPage",getInitialState:function(){return{memberBackSet:{operation:"",errMsg:""},loading:!1,modal:!1,memberBack:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("memberBack"),(0,h.default)()],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,memberBackSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginHour",desc:"入组时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.memberBack)},initPage:function(e){v.copyValue(e,this.state.memberBack),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.memberBack)&&(this.state.memberBackSet.operation="",this.setState({loading:!0}),S.createResMember(this.state.memberBack))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"人员回组",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"100%",maxWidth:"600px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:r.staffCodeHint,validateStatus:r.staffCodeStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.memberBack.staffCode,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.memberBack.perName,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"任职部门",required:!1,colon:!0,className:t,help:r.deptNameHint,validateStatus:r.deptNameStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.memberBack.deptName,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:r.baseCityHint,validateStatus:r.baseCityStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"baseCity",id:"baseCity",value:this.state.memberBack.baseCity,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"人员类型",required:!1,colon:!0,className:t,help:r.manTypeHint,validateStatus:r.manTypeStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"manType",id:"manType",value:this.state.memberBack.manType,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"电话",required:!1,colon:!0,className:t,help:r.phonenoHint,validateStatus:r.phonenoStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"phoneno",id:"phoneno",value:this.state.memberBack.phoneno,disabled:!0})))),l.default.createElement(p.Row,{style:{paddingTop:"16px"}},l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"状态",required:!1,colon:!0,className:t,help:r.resStatusHint,validateStatus:r.resStatusStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"resStatus",id:"resStatus",value:this.state.memberBack.resStatus,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"项目名称",required:!1,colon:!0,className:t,help:r.resNameHint,validateStatus:r.resNameStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"resName",id:"resName",value:this.state.memberBack.resName,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"项目地址",required:!1,colon:!0,className:t,help:r.resLocHint,validateStatus:r.resLocStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"resLoc",id:"resLoc",value:this.state.memberBack.resLoc,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"日期",required:!1,colon:!0,className:t,help:r.resDateHint,validateStatus:r.resDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"resDate",id:"resDate",format:g.dateFormat,value:this.formatDate(this.state.memberBack.resDate,g.dateFormat),disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"时间",required:!1,colon:!0,className:t,help:r.resHourHint,validateStatus:r.resHourStatus}),l.default.createElement(p.Input,{type:"text",name:"resHour",id:"resHour",value:this.state.memberBack.resHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"回组日期",required:!0,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:g.dateFormat,value:this.formatDate(this.state.memberBack.beginDate,g.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",g.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"时间",required:!0,colon:!0,className:t,help:r.beginHourHint,validateStatus:r.beginHourStatus}),l.default.createElement(p.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.memberBack.beginHour,onChange:this.handleOnChange})))),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=r(s),u=a(4),c=a(9),m=r(c),h=a(91),p=r(h),f=a(90),g=r(f),v=(a(1),u.DatePicker.MonthPicker,u.DatePicker.RangePicker,u.Form.Item),C=a(14),b=(a(6),{moreFilter:l.default.PropTypes.bool}),y=l.default.createClass({displayName:"MemberBackFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],filter:null,memberBack:{corpUuid:window.loginData.compUser.corpUuid,poolUuid:C.selectedPool.uuid,value:"",resStatus:"",baseCity:"",eduDegree:"",empLevel:"",techUuid:"",manUuid:"",induBegin:""}}},mixins:[(0,m.default)("memberBack")],componentWillReceiveProps:function(e){if(e.filter){if(!this.state.filter){this.state.filter=e.filter;var t=this.state.memberBack;t.value=e.filterValue,t.resStatus=e.filter.resStatus,t.baseCity=e.filter.baseCity,t.eduDegree=e.filter.eduDegree,t.empLevel=e.filter.empLevel,t.techUuid=e.filter.techUuid,t.manUuid=e.filter.manUuid,t.induBegin=e.filter.induBegin}}else this.state.filter=null;this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"value",desc:"姓名/工号",required:!1,max:"0"},{id:"resStatus",desc:"状态",required:!1,max:"0"},{id:"baseCity",desc:"归属地",required:!1,max:"0"},{id:"eduDegree",desc:"最高学历",required:!1,max:"0"},{id:"empLevel",desc:"员工级别",required:!1,max:"0"},{id:"techUuid",desc:"技术岗位",required:!1,max:"0"},{id:"manUuid",desc:"管理岗位",required:!1,max:"0"},{id:"induBegin",desc:"行业经验",required:!1,max:"0"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",padding:"20px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},l.default.createElement(u.Form,{layout:e,style:{width:"1000px",padding:"20px 0px"}},l.default.createElement(u.Row,{gutter:18},l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"姓名/工号",required:!1,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(u.Input,{type:"text",name:"value",id:"value",value:this.state.memberBack.value,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"状态",required:!1,colon:!0,className:t,help:r.resStatusHint,validateStatus:r.resStatusStatus}),l.default.createElement(d.default,{name:"resStatus",id:"resStatus",value:this.state.memberBack.resStatus,appName:"项目管理",optName:"资源池人员状态",onSelect:this.handleOnSelected.bind(this,"resStatus")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:r.baseCityHint,validateStatus:r.baseCityStatus}),l.default.createElement(u.Input,{type:"text",name:"baseCity",id:"baseCity",value:this.state.memberBack.baseCity,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"最高学历",required:!1,colon:!0,className:t,help:r.eduDegreeHint,validateStatus:r.eduDegreeStatus}),l.default.createElement(d.default,{name:"eduDegree",id:"eduDegree",value:this.state.memberBack.eduDegree,appName:"简历系统",optName:"教育背景",onSelect:this.handleOnSelected.bind(this,"eduDegree")})))),l.default.createElement(u.Row,{gutter:18},l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"行业经验",required:!1,colon:!0,className:t,help:r.induBeginHint,validateStatus:r.induBeginStatus}),l.default.createElement(u.Input,{type:"text",name:"induBegin",id:"induBegin",value:this.state.memberBack.induBegin,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"定级",required:!1,colon:!0,className:t,help:r.empLevelHint,validateStatus:r.empLevelStatus}),l.default.createElement(p.default,{ref:"empLevelBox",name:"empLevel",id:"empLevel",value:this.state.memberBack.empLevel,onSelect:this.handleOnSelected.bind(this,"empLevel")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"技术岗",required:!1,colon:!0,className:t,help:r.techUuidHint,validateStatus:r.techUuidStatus}),l.default.createElement(g.default,{ref:"techUuidBox",name:"techUuid",id:"techUuid",value:this.state.memberBack.techUuid,onSelect:this.handleOnSelected.bind(this,"techUuid")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(v,i({},a,{label:"管理岗",required:!1,colon:!0,className:t,help:r.manUuidHint,validateStatus:r.manUuidStatus}),l.default.createElement(g.default,{ref:"manUuidBox",name:"manUuid",id:"manUuid",value:this.state.memberBack.manUuid,onSelect:this.handleOnSelected.bind(this,"manUuid")})))))))}});y.propTypes=b,e.exports=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(14),h=r(m),p=a(4),f=a(1),g=a(6),v=a(3),C=p.Form.Item,b=(p.Select.Option,p.Tabs.TabPane),y=a(531),S=a(377),E=l.default.createClass({displayName:"UpdateMemberBackPage",getInitialState:function(){return{memberBackSet:{operation:"",errMsg:""},loading:!1,modal:!1,memberBack:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("memberBack")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,memberBackSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"beginDate",desc:"入组日期",required:!0,max:"24"},{id:"beginHour",desc:"时间",required:!0,max:"24",pattern:/^(([0-1][0-9])|(2[0-3])):([0-5][0-9])$/,patternPrompt:"时间格式错误"}],this.initPage(this.props.memberBack)},initPage:function(e){v.copyValue(e,this.state.memberBack),this.state.memberBack.beginDate=this.state.memberBack.resDate,this.state.memberBack.beginHour=this.state.memberBack.resHour,this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onClickSave:function(){g.formValidator(this,this.state.memberBack)&&(console.log(this.state.memberBack),this.setState({loading:!0}),S.updateResMember(this.state.memberBack))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.memberBack,n=h.default.getDisplayWorkYears(r.workBegin),o=h.default.getDisplayWorkYears(r.induBegin),s=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"修改人员回组日期",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},l.default.createElement("div",{style:{padding:"24px 0 16px 8px"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"100%",maxWidth:"600px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"员工编号",required:!1,colon:!0,className:t,help:s.staffCodeHint,validateStatus:s.staffCodeStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"staffCode",id:"staffCode",value:this.state.memberBack.staffCode,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"员工姓名",required:!1,colon:!0,className:t,help:s.perNameHint,validateStatus:s.perNameStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"perName",id:"perName",value:this.state.memberBack.perName,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"任职部门",required:!1,colon:!0,className:t,help:s.deptNameHint,validateStatus:s.deptNameStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"deptName",id:"deptName",value:this.state.memberBack.deptName,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"归属地",required:!1,colon:!0,className:t,help:s.baseCityHint,validateStatus:s.baseCityStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"baseCity",id:"baseCity",value:this.state.memberBack.baseCity,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"人员类型",required:!1,colon:!0,className:t,help:s.manTypeHint,validateStatus:s.manTypeStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"manType",id:"manType",value:this.state.memberBack.manType,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"电话",required:!1,colon:!0,className:t,help:s.phonenoHint,validateStatus:s.phonenoStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"phoneno",id:"phoneno",value:this.state.memberBack.phoneno,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"最高学历",className:t}),l.default.createElement(p.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:this.state.memberBack.eduDegree,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"毕业院校",className:t}),l.default.createElement(p.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:this.state.memberBack.eduCollege,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"工龄",className:t}),l.default.createElement(p.Col,{span:"11"},l.default.createElement(p.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:n.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(p.Col,{span:"2"}),l.default.createElement(p.Col,{span:"11"},l.default.createElement(p.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:n.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0})))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"行业经验",className:t}),l.default.createElement(p.Col,{span:"11"},l.default.createElement(p.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:o.y,addonAfter:"年",onChange:this.handleOnChange2,disabled:!0})),l.default.createElement(p.Col,{span:"2"}),l.default.createElement(p.Col,{span:"11"},l.default.createElement(p.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:o.m,addonAfter:"月",onChange:this.handleOnChange2,disabled:!0}))))),l.default.createElement(p.Row,{style:{paddingTop:"16px"}},l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"状态",required:!1,colon:!0,className:t,help:s.resStatusHint,validateStatus:s.resStatusStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"resStatus",id:"resStatus",value:this.state.memberBack.resStatus,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"项目名称",required:!1,colon:!0,className:t,help:s.resNameHint,validateStatus:s.resNameStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"resName",id:"resName",value:this.state.memberBack.resName,disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"项目地址",required:!1,colon:!0,className:t,help:s.resLocHint,validateStatus:s.resLocStatus}),l.default.createElement(p.Input,{style:{zIndex:"2"},type:"text",name:"resLoc",id:"resLoc",value:this.state.memberBack.resLoc,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"日期",required:!1,colon:!0,className:t,help:s.resDateHint,validateStatus:s.resDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"resDate",id:"resDate",format:g.dateFormat,value:this.formatDate(this.state.memberBack.resDate,g.dateFormat),disabled:!0}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"时间",required:!1,colon:!0,className:t,help:s.resHourHint,validateStatus:s.resHourStatus}),l.default.createElement(p.Input,{type:"text",name:"resHour",id:"resHour",value:this.state.memberBack.resHour,onChange:this.handleOnChange,disabled:!0})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"回组日期",required:!0,colon:!0,className:t,help:s.beginDateHint,validateStatus:s.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:g.dateFormat,value:this.formatDate(this.state.memberBack.beginDate,g.dateFormat),onChange:this.handleOnSelDate.bind(this,"beginDate",g.dateFormat)}))),l.default.createElement(p.Col,{span:"12"},l.default.createElement(C,i({},a,{label:"时间",required:!0,colon:!0,className:t,help:s.beginHourHint,validateStatus:s.beginHourStatus}),l.default.createElement(p.Input,{type:"text",name:"beginHour",id:"beginHour",value:this.state.memberBack.beginHour,onChange:this.handleOnChange
})))),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(30),m=r(c),h=a(14),p=r(h),f=a(21),g=r(f),v=a(1540),C=r(v),b=a(1542),y=r(b),S=a(1541),E=r(S),w=a(1),x=u.Input.Search,k=u.Radio.Button,j=u.Radio.Group,N=a(6),P=(a(3),a(531)),D=a(377),R=10,M=n.default.createClass({displayName:"MemberBackPage",getInitialState:function(){return{memberBackSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},loading:!1,viewType:"1",memberBack:null,action:"query",moreFilter:!1,filterValue:"",filter:{}}},mixins:[w.listenTo(P,"onServiceComplete"),(0,m.default)(),(0,g.default)()],onServiceComplete:function(e){if("cache"===e.operation){if(this.state.memberBackSet=e,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.filterValue=e.filter.staffCode?e.filter.staffCode:e.filter.perName,this.state.filterValue||(this.state.filterValue=""),this.state.filter.poolUuid!==p.default.selectedPool.uuid)return void this.handleQueryClick()}else this.state.memberBackSet=e;this.setState({loading:!1})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.poolUuid=p.default.selectedPool.uuid,this.state.filter.more=this.state.moreFilter?"1":"0",D.retrieveResMemberPage(this.state.filter,this.state.memberBackSet.startPage,R)},componentDidMount:function(){D.getCacheData()},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.memberBackSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){R=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;N.isIncNumber(t)?this.state.filter.staffCode=t:this.state.filter.perName=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.MemberBackFilter.state.memberBack;e.value?N.isIncNumber(e.value)?e.staffCode=e.value:e.perName=e.value:(e.staffCode="",e.perName=""),this.state.filter=e,this.handleQueryClick()},onTabChange:function(e){"1"===e&&this.props.onBack()},onClickUpdate:function(e,t){e.beginHour=this.setState({memberBack:e,action:"update"})},onClickBack:function(e){this.setState({memberBack:e,action:"back"})},onGoBack:function(){this.setState({action:"query"})},onChangeView:function(e){this.setState({viewType:e.target.value})},render:function(){var e=this,t=[];t="1"===this.state.viewType?[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"小组",dataIndex:"teamUuid",key:"teamUuid",width:140,render:function(t,a){return e.getResTeamName(a.poolUuid,t)}},{title:"项目名称",dataIndex:"resName",key:"resName",width:140},{title:"状态",dataIndex:"resStatus",key:"resStatus",width:140},{title:"入组日期",dataIndex:"resDate",key:"resDate",width:140,render:function(e,t){return N.formatDate(e,N.dateFormat)}},{title:"时间",dataIndex:"resHour",key:"resHour",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickBack.bind(e,a),title:"人员回组",style:{display:"资源池"===a.resStatus?"none":"block"}},n.default.createElement(u.Icon,{type:"team"})),n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改回组时间",style:{display:"资源池"===a.resStatus?"block":"none"}},n.default.createElement(u.Icon,{type:N.iconUpdate})))}}]:[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"最高学历",dataIndex:"eduDegree",key:"eduDegree",width:140},{title:"员工级别",dataIndex:"empLevel",key:"empLevel",width:140,render:function(t,a){return e.getLevelName(a.corpUuid,a.empLevel)}},{title:"技术岗",dataIndex:"techName",key:"techName",width:140},{title:"管理岗",dataIndex:"manName",key:"manName",width:140},{title:"行业经验",dataIndex:"induBegin",key:"induBegin",width:140,render:function(e,t){return p.default.getColumnWorkYears(e)}},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickBack.bind(e,a),title:"人员回组",style:{display:"资源池"===a.resStatus?"none":"block"}},n.default.createElement(u.Icon,{type:"team"})),n.default.createElement("a",{href:"#",onClick:e.onClickUpdate.bind(e,a),title:"修改回组时间",style:{display:"资源池"===a.resStatus?"block":"none"}},n.default.createElement(u.Icon,{type:N.iconUpdate})))}}];var a=this.state.memberBackSet.recordSet,r=this.state.moreFilter,i=r?this.state.filter:null,l="query"===this.state.action?"":"none",o={showQuickJumper:!0,total:this.state.memberBackSet.totalRow,pageSize:this.state.memberBackSet.pageRow,current:this.state.memberBackSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},s=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:l}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["res-member/retrieve","res-member/remove"]}),n.default.createElement(E.default,{ref:"MemberBackFilter",moreFilter:r,filter:i,filterValue:this.state.filterValue}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:N.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(j,{value:this.state.viewType,style:{marginLeft:"16px"},onChange:this.onChangeView},n.default.createElement(k,{value:"1"},"人员信息"),n.default.createElement(k,{value:"2"},"工资经验"))),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(x,{placeholder:"查询(项目编号/项目名称)",style:{width:N.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:o,size:"middle",bordered:N.tableBorder}))),c=null;return"update"===this.state.action?c=n.default.createElement(y.default,{onBack:this.onGoBack,memberBack:this.state.memberBack}):"back"===this.state.action&&(c=n.default.createElement(C.default,{onBack:this.onGoBack,memberBack:this.state.memberBack})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},s,c)}});e.exports=M},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"OverBookPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"加班登记表")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(12)),d=r(s),u=a(4),c=a(9),m=r(c),h=(a(1),u.DatePicker.MonthPicker),p=(u.DatePicker.RangePicker,u.Form.Item),f=a(6),g={moreFilter:l.default.PropTypes.bool},v=l.default.createClass({displayName:"ProjDispFilter",getInitialState:function(){return{modal:this.props.moreFilter,hints:{},validRules:[],projDisp:{projName:"",beginMonth:"",payType:"",induType:"",projType:"",beginDate1:"",beginDate2:"",projCode:"",delivArea:"",projStatus:"",biziType:""}}},mixins:[(0,m.default)("projDisp")],componentWillReceiveProps:function(e){this.setState({modal:e.moreFilter})},componentDidMount:function(){this.state.validRules=[{id:"projCode",desc:"项目编号",required:!1,max:"64"},{id:"projName",desc:"项目名称",required:!1,max:"128"}]},render:function(){if(!this.state.modal)return null;var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:7},wrapperCol:"vertical"==e?null:{span:17}},r=this.state.hints;return l.default.createElement("div",{style:{width:"100%",height:"104px",padding:"0px 18px 0px 24px"}},l.default.createElement("div",{style:{width:"100%",maxWidth:"1000px",height:"100%",float:"right"}},l.default.createElement(u.Form,{layout:e,style:{width:"1000px",padding:"20px 0px"}},l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},a,{label:"项目名称",required:!1,colon:!0,className:t,help:r.projNameHint,validateStatus:r.projNameStatus}),l.default.createElement(u.Input,{type:"text",name:"projName",id:"projName",value:this.state.projDisp.projName,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},a,{label:"项目编号",required:!1,colon:!0,className:t,help:r.projCodeHint,validateStatus:r.projCodeStatus}),l.default.createElement(u.Input,{type:"text",name:"projCode",id:"projCode",value:this.state.projDisp.projCode,onChange:this.handleOnChange}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},a,{label:"开始月份",required:!1,colon:!0,className:t,help:r.beginMonthHint,validateStatus:r.beginMonthStatus}),l.default.createElement(h,{style:{width:"100%"},name:"beginMonth",id:"beginMonth",format:f.monthFormat,value:this.formatMonth(this.state.projDisp.beginMonth,f.monthFormat),onChange:this.handleOnSelDate.bind(this,"beginMonth",f.monthFormat)}))),l.default.createElement(u.Col,{className:"gutter-row",span:"6"},l.default.createElement(p,i({},a,{label:"业务类型",required:!1,colon:!0,className:t,help:r.biziTypeHint,validateStatus:r.biziTypeStatus}),l.default.createElement(d.default,{name:"biziType",id:"biziType",value:this.state.projDisp.biziType,appName:"项目管理",optName:"业务类型",onSelect:this.handleOnSelected.bind(this,"biziType")})))),l.default.createElement(u.Row,{gutter:24},l.default.createElement(u.Col,{className:"gutter-row",span:"6"},l.default.createElement(p,i({},a,{label:"结算类型",required:!1,colon:!0,className:t,help:r.payTypeHint,validateStatus:r.payTypeStatus}),l.default.createElement(d.default,{name:"payType",id:"payType",value:this.state.projDisp.payType,appName:"项目管理",optName:"订单结算类型",onSelect:this.handleOnSelected.bind(this,"payType")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},a,{label:"行业类型",required:!1,colon:!0,className:t,help:r.induTypeHint,validateStatus:r.induTypeStatus}),l.default.createElement(d.default,{name:"induType",id:"induType",value:this.state.projDisp.induType,appName:"项目管理",optName:"所属行业",onSelect:this.handleOnSelected.bind(this,"induType")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},a,{label:"项目类型",required:!1,colon:!0,className:t,help:r.projTypeHint,validateStatus:r.projTypeStatus}),l.default.createElement(d.default,{name:"projType",id:"projType",value:this.state.projDisp.projType,appName:"项目管理",optName:"项目类型",onSelect:this.handleOnSelected.bind(this,"projType")}))),l.default.createElement(u.Col,{className:"gutter-row",span:6},l.default.createElement(p,i({},a,{label:"交付区域",required:!1,colon:!0,className:t,help:r.delivAreaHint,validateStatus:r.delivAreaStatus}),l.default.createElement(d.default,{name:"delivArea",id:"delivArea",value:this.state.projDisp.delivArea,appName:"项目管理",optName:"交付区域",onSelect:this.handleOnSelected.bind(this,"delivArea")})))))))}});v.propTypes=g,e.exports=v},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(5),o=(r(l),a(4)),s=a(7),d=r(s),u=a(1547),c=r(u),m=a(1531),h=r(m),p=a(1492),f=r(p),g=a(14),v=(r(g),a(1529)),C=r(v),b=a(1530),y=r(b),S=a(764),E=r(S),w=a(1),x=a(6),k=(a(3),o.Form.Item,o.Tabs.TabPane),j=a(772),N=(a(532),n.default.createClass({displayName:"ProjMebDispPage",getInitialState:function(){return{user:{},projDisp:{},message:"",memberDisp:{},action:"tab"}},componentDidMount:function(){},mixins:[w.listenTo(j,"onServiceComplete")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1}))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},doAction:function(e,t){this.setState({action:e,memberDisp:t})},onGoBack:function(e){"1"===e?this.props.onBack():this.setState({action:"tab"})},render:function(){var e=this.props.proj,t=(this.state.selectKey,x.getGridMargin(this,0)),a="tab"===this.state.action?"":"none",r=n.default.createElement("div",{className:"tab-page",style:{padding:t.padding,display:a}},n.default.createElement("div",{style:{margin:t.margin}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_info/create"]})),n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(o.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(k,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(k,{tab:"调度指令",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement(h.default,{doAction:this.doAction,projDisp:e})),n.default.createElement(k,{tab:"人员筹备",key:"3",style:{width:"100%",height:"100%"}},n.default.createElement(f.default,{doAction:this.doAction,projDisp:e})),n.default.createElement(k,{tab:"项目组成员",key:"4",style:{width:"100%",height:"100%"}},n.default.createElement(c.default,{projDisp:e}))))),i=null;return"create-disp"===this.state.action?i=n.default.createElement(C.default,{onBack:this.onGoBack}):"update-disp"===this.state.action?i=n.default.createElement(y.default,{onBack:this.onGoBack,projMember:this.state.memberDisp}):"update-cond"===this.state.action&&(i=n.default.createElement(E.default,{onBack:this.onGoBack,cond:this.state.memberDisp})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},r,i)}}));e.exports=N},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(14),m=r(c),h=a(1),p=u.Input.Search,f=(u.Form.Item,u.Tabs.TabPane,a(6)),g=(a(3),a(1549)),v=a(771),C="",b=n.default.createClass({displayName:"ProjMemberPage",getInitialState:function(){return{projMemberSet:{recordSet:[],errMsg:""},loading:!1,filter:{}}},mixins:[h.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projMemberSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.projUuid=m.default.selectedDispProj.uuid,v.retrieveProjMemberPage(this.state.filter)},componentDidMount:function(){this.setState({loading:!0}),this.state.filter.projUuid=m.default.selectedDispProj.uuid,v.initProjMember(this.state.filter)},onFilterRecord:function(e){C=e.target.value,this.setState({loading:this.state.loading})},render:function(e){var t=f.filter(this.state.projMemberSet.recordSet,C),a=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"人员级别",dataIndex:"userLevel",key:"userLevel",width:140},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算单价",dataIndex:"userPrice",key:"userPrice",width:140},{title:"入组日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return f.formatDate(e,f.dateFormat)}},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:140},{title:"技术岗位",dataIndex:"techLevel",key:"techLevel",width:140}],r=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto"}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/retrieve","proj-member/remove"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:f.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(p,{placeholder:"查询",style:{width:f.searchWidth},value:C,onChange:this.onFilterRecord}))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:a,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:f.tableBorder})));return r}});e.exports=b},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(14),m=r(c),h=a(1545),p=r(h),f=a(1546),g=r(f),v=a(1),C=u.Input.Search,b=a(6),y=a(3),S=a(772),E=a(532),w=10,x=n.default.createClass({displayName:"ProjDispPage",getInitialState:function(){return{projDispSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,projDisp:null,moreFilter:!1,filterValue:"",filter:{}}},mixins:[v.listenTo(S,"onServiceComplete")],onServiceComplete:function(e){if("cache"===e.operation){var t=e.filter.projCode;if(t||(t=e.filter.projName,t||(t="")),this.state.filterValue=t,this.state.filter=e.filter,this.state.moreFilter="1"===e.filter.more,this.state.moreFilter){var a=this.refs.ProjDispFilter;null!==a&&"undefined"!=typeof a&&(a.state.projDisp=this.state.filter)}if(this.state.filter.corpUuid!==window.loginData.compUser.corpUuid)return void this.handleQueryClick()}this.setState({loading:!1,projDispSet:e})},componentDidMount:function(){E.getCacheData()},handleQueryClick:function(e){this.setState({loading:!0}),this.state.filter.status="1",this.state.filter.corpUuid=window.loginData.compUser.corpUuid,this.state.filter.more=this.state.moreFilter?"1":"0",E.retrieveProjInfoPage(this.state.filter,this.state.projDispSet.startPage,w)},showMoreFilter:function(e){this.setState({moreFilter:!this.state.moreFilter})},onChangePage:function(e){this.state.projDispSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){w=t,this.handleQueryClick()},onChangeFilter:function(e){this.setState({filterValue:e.target.value})},onSearch:function(e){this.state.filter={};var t=this.state.filterValue;b.isIncNumber(t)?this.state.filter.projCode=t:this.state.filter.projName=t,this.handleQueryClick()},onMoreSearch:function(){var e=this.refs.ProjDispFilter.state.projDisp;null!==e.beginMonth&&""!==e.beginMonth?(e.beginDate1=e.beginMonth+"01",e.beginDate2=e.beginMonth+"31"):(e.beginDate1="",e.beginDate2=""),this.state.filter=e,this.handleQueryClick()},onClickMember:function(e,t){m.default.selectedDispProj=e,this.setState({projDisp:e,action:"detail"})},onFilterRecord:function(e){filterValue=e.target.value,this.setState({loading:this.state.loading})},onGoBack:function(){this.setState({action:"query"})},render:function(){var e=this,t=[{title:"项目编号",dataIndex:"projCode",key:"projCode",width:140},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"业务类型",dataIndex:"biziType",key:"biziType",width:140},{title:"项目类型",dataIndex:"projType",key:"projType",width:140},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return b.formatDate(e,b.dateFormat)}},{title:"项目状态",dataIndex:"projStatus",key:"projStatus",width:140},{title:"项目经理",dataIndex:"pmName",key:"pmName",width:140},{title:"更多操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickMember.bind(e,a),title:"人员调度"},n.default.createElement(u.Icon,{type:"bars"})))}}],a=this.state.projDispSet.recordSet,r=this.state.moreFilter,i="query"===this.state.action?"":"none",l={showQuickJumper:!0,total:this.state.projDispSet.totalRow,pageSize:this.state.projDispSet.pageRow,current:this.state.projDispSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},o=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj_info/retrieve","proj_info/remove"]}),n.default.createElement(p.default,{ref:"ProjDispFilter",moreFilter:r}),n.default.createElement("div",{style:{margin:"8px 0 0 0"}},n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:b.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),r?n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(u.Button,{title:"查询",onClick:this.onMoreSearch,loading:this.state.loading,style:{marginRight:"5px"}},"查询"),n.default.createElement(u.Button,{title:"快速条件",onClick:this.showMoreFilter},"快速条件")):n.default.createElement("div",{style:{textAlign:"right",width:"100%"}},n.default.createElement(C,{placeholder:"查询(项目编号/项目名称)",style:{width:b.searchWidth},value:this.state.filterValue,onChange:this.onChangeFilter,onSearch:this.onSearch}),n.default.createElement(u.Button,{title:"更多条件",onClick:this.showMoreFilter,style:{marginLeft:"8px"}},"更多条件")))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:t,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:l,size:"middle",bordered:b.tableBorder}))),s=null;if("detail"===this.state.action){var c={};y.copyValue(this.state.projDisp,c),s=n.default.createElement(g.default,{onBack:this.onGoBack,proj:c})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,s)}});e.exports=x},function(e,t,a){"use strict";var r=a(1),i=a(771),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onGetCacheData:function(){this.fireEvent("cache","",this)},onRetrieveProjMember:function(e){var t=this,a=this.getServiceUrl("/proj-member/retrieve1");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveProjMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveProjMember(e)},onInitProjMember:function(e){return this.recordSet.length>0&&n.compareTo(this.filter,e)?void this.fireEvent("retrieve","",this):void this.onRetrieveProjMember(e)},onCreateProjMember:function(e){var t=this.getServiceUrl("proj-member/create");n.recordCreate(this,projDisp,t)},onUpdateProjMember:function(e){var t=this.getServiceUrl("proj-member/update");n.recordUpdate(this,projDisp,t)},onDeleteProjMember:function(e){var t=this.getServiceUrl("proj-member/remove");n.recordDelete(this,e,t)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(21),m=r(c),h=a(1),p=(s.Input.Search,s.Tabs.TabPane),f=a(6),g=(a(3),a(14)),v=a(117),C=a(151),b=a(1551),y=n.default.createClass({displayName:"ResTeamGrpPage",getInitialState:function(){return{resTeamSet:{recordSet:[],errMsg:""},loading:!1,teamLoading:!1,viewType:"1",team:{},action:"team"}},mixins:[h.listenTo(C,"onServiceComplete2"),(0,m.default)()],onServiceComplete2:function(e){this.setState({teamLoading:!1,resTeamSet:e})},handleQueryClickTeam:function(){var e=g.selectedPool.uuid;this.setState({teamLoading:!0}),this.state.resTeamSet.operation="",v.retrieveResTeam(e)},componentDidMount:function(){var e=g.selectedPool.uuid;this.setState({teamLoading:!0}),v.initResTeam(e)},handleItemClick:function(e,t){this.setState({team:e,action:"group"})},onGoBackTeam:function(){this.setState({action:"team"})},onTabChange:function(e){"1"===e&&this.onGoBackTeam()},render:function(){var e=this,t="team"===this.state.action?"":"none",a=this.state.resTeamSet.recordSet,r=a.length,i=a.map(function(t,a){return n.default.createElement("div",{key:t.uuid,className:"card-div",style:{width:300}},n.default.createElement("div",{className:"ant-card ant-card-bordered",style:{width:"100%"},onClick:e.handleItemClick.bind(e,t),title:"点击进入小组成员管理页面"},n.default.createElement("div",{className:"ant-card-head"},n.default.createElement("h3",{className:"ant-card-head-title"},t.teamName)),n.default.createElement("div",{className:"ant-card-body",style:{cursor:"pointer",height:"66px",overflow:"hidden"}},n.default.createElement("p",null,t.teamDesc,"（",t.tmName,"）",n.default.createElement(s.Icon,{type:"user",title:"成员数量",style:{marginLeft:"10px"}})," ",t.memberCount?t.memberCount:0))))}),l=f.getCardMargin(this),o=n.default.createElement("div",{className:"card-page",style:{padding:l.padding,display:t}},n.default.createElement("div",{style:{margin:l.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["res-team/retrieve","res-team/remove"]}),n.default.createElement("div",{className:"toolbar-card"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement("div",{style:{paddingTop:"16px",paddingRight:"4px",display:"inline"}},"共",r,"个小组"),n.default.createElement(s.Icon,{type:"reload",onClick:this.handleQueryClickTeam,title:"刷新数据",className:"toolbar-icon",style:{paddingLeft:"8px"}})))),this.state.teamLoading?n.default.createElement(s.Spin,{tip:"正在努力加载数据..."},n.default.createElement("div",{style:{minHeight:"200px"}},i)):n.default.createElement("div",null,i)),d=null;return"group"===this.state.action&&(d=n.default.createElement(b,{team:this.state.team}),d=n.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},n.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(p,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(p,{tab:"小组管理",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement(b,{goBack:this.onGoBackTeam,team:this.state.team}))))),n.default.createElement("div",{style:{width:"100%",height:"100%"}},o,d)}});e.exports=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"ResTeamGrpTreePage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"小组管理")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(4),f=a(67),g=r(f),v=a(1),C=a(6),b=p.Form.Item,y=(p.Select.Option,p.Tabs.TabPane),S=a(536),E=a(136),w=a(14),x=l.default.createClass({displayName:"CreateResRolePage",getInitialState:function(){return{resRoleSet:{operation:"",errMsg:""},loading:!1,modal:!1,resRole:{},hints:{},validRules:[]}},mixins:[v.listenTo(S,"onServiceComplete"),(0,c.default)("resRole")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,resRoleSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"roleName",desc:"角色",required:!0,max:"64"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"}],this.clear()},clear:function(e){new Date;this.state.hints={},this.state.resRole.uuid="",this.state.resRole.poolUuid=w.selectedPool.uuid,this.state.resRole.corpUuid=window.loginData.compUser.corpUuid,this.state.resRole.teamUuid="",this.state.resRole.roleName="助理",this.state.resRole.perName="",this.state.resRole.beginDate=""+C.getToday(),this.state.resRole.endDate="",this.state.loading=!1,this.state.resRoleSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectResRole:function(e){this.state.resRole.memo2=e.deptName,this.state.resRole.staffCode=e.staffCode,this.state.resRole.perName=e.perName,this.state.resRole.userUuid=e.uuid,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){this.setState({loading:!0}),E.createResRole(this.state.resRole)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,n=!this.state.resRole.perName;w.selectedPool.uuid;return void 0===this.state.resRole.roleName&&(this.state.resRole.roleName="助理"),this.state.resRole.beginDate=""+C.getToday(),l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(y,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(y,{tab:"增加管理员",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-role/create"]}),l.default.createElement(p.Form,{layout:e,style:{width:"450px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"24"},l.default.createElement(b,i({},a,{label:"角色",required:!0,colon:!0,className:t,help:r.roleNameHint,validateStatus:r.roleNameStatus}),l.default.createElement(h.default,{name:"roleName",id:"roleName",value:this.state.resRole.roleName,appName:"项目管理",optName:"角色",onChange:this.onRadioChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"24"},l.default.createElement(b,i({},a,{label:"姓名",required:!0,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(g.default,{ref:"empSearchBox",type:"text",name:"perName",id:"perName",value:this.state.resRole.perName,onSelectMember:this.onSelectResRole})))),l.default.createElement(b,i({},a,{label:"开始日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.resRole.beginDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)})),l.default.createElement(b,i({},a,{
label:"结束日期",required:!1,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.resRole.endDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})),l.default.createElement(b,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",disabled:n,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(19),h=r(m),p=a(4),f=a(67),g=r(f),v=a(1),C=a(6),b=a(3),y=p.Form.Item,S=(p.Select.Option,p.Tabs.TabPane),E=a(536),w=a(136),x=a(14),k=l.default.createClass({displayName:"UpdateResRolePage",getInitialState:function(){return{resRoleSet:{operation:"",errMsg:""},loading:!1,modal:!1,resRole:{},hints:{},validRules:[]}},mixins:[v.listenTo(E,"onServiceComplete"),(0,c.default)("resRole")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,resRoleSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"roleName",desc:"角色",required:!0,max:"64"},{id:"perName",desc:"姓名",required:!0,max:"32"},{id:"beginDate",desc:"开始日期",required:!1,max:"24"},{id:"endDate",desc:"结束日期",required:!1,max:"24"}],this.initPage(this.props.resRole)},initPage:function(e){b.copyValue(e,this.state.resRole),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.perName),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectResRole:function(e){this.state.resRole.memo2=e.deptName,this.state.resRole.staffCode=e.staffCode,this.state.resRole.perName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){C.formValidator(this,this.state.resRole)&&(this.state.resRoleSet.operation="",this.setState({loading:!0}),w.updateResRole(this.state.resRole))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints;x.selectedPool.uuid;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(p.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(S,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(S,{tab:"修改管理员",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-role/update"]}),l.default.createElement(p.Form,{layout:e,style:{width:"450px"}},l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"24"},l.default.createElement(y,i({},a,{label:"角色",required:!0,colon:!0,className:t,help:r.roleNameHint,validateStatus:r.roleNameStatus}),l.default.createElement(h.default,{name:"roleName",id:"roleName",value:this.state.resRole.roleName,appName:"项目管理",optName:"角色",onChange:this.onRadioChange})))),l.default.createElement(p.Row,null,l.default.createElement(p.Col,{span:"24"},l.default.createElement(y,i({},a,{label:"姓名",required:!0,colon:!0,className:t,help:r.perNameHint,validateStatus:r.perNameStatus}),l.default.createElement(g.default,{ref:"empSearchBox",type:"text",name:"perName",id:"perName",value:this.state.resRole.perName,onSelectMember:this.onSelectResRole})))),l.default.createElement(y,i({},a,{label:"开始日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",value:this.formatDate(this.state.resRole.beginDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"beginDate",C.dateFormat)})),l.default.createElement(y,i({},a,{label:"结束日期",required:!1,colon:!0,className:t,help:r.endDateHint,validateStatus:r.endDateStatus}),l.default.createElement(p.DatePicker,{style:{width:"100%"},name:"endDate",id:"endDate",value:this.formatDate(this.state.resRole.endDate,C.dateFormat),format:C.dateFormat,onChange:this.handleOnSelDate.bind(this,"endDate",C.dateFormat)})),l.default.createElement(y,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(p.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(p.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});t.default=k},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(1552),m=r(c),h=a(1553),p=r(h),f=a(1),g=u.Input.Search,v=a(6),C=a(3),b=a(536),y=a(136),S=a(14),E="",w=n.default.createClass({displayName:"ResRolePage",getInitialState:function(){return{resRoleSet:{recordSet:[],startPage:0,pageRow:0,totalRow:0,operation:"",errMsg:""},action:"query",loading:!1,oldIndex:-1}},mixins:[f.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){if(this.setState({loading:!1,resRoleSet:e}),"retrieve"===e.operation)for(var t=e.recordSet.length,a=0;a<t;a++)if("组长"!==e.recordSet[a].roleName&&"1"==e.recordSet[a].chkRole)return void this.setState({oldIndex:a})},handleQueryClick:function(e){var t=S.selectedPool.uuid;console.log(S.selectedPool),this.setState({loading:!0}),this.state.resRoleSet.operation="",y.retrieveResRole(t)},componentDidMount:function(e){var t=S.selectedPool.uuid;this.setState({loading:!0}),y.initResRole(t)},onClickDelete:function(e,t){"助理"!==e.roleName&&"副经理"!==e.roleName||u.Modal.confirm({title:"删除确认",content:"是否删除选中的管理员 【"+e.perName+"】",okText:"确定",cancelText:"取消",onOk:this.onClickDelete2.bind(this,e)})},onClickDelete2:function(e){this.setState({loading:!0}),this.state.resRoleSet.operation="",y.deleteResRole(e.uuid)},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},handleCreate:function(e){this.setState({action:"create"})},onClickUpdate:function(e,t){"助理"!==e.roleName&&"副经理"!==e.roleName||this.setState({resRole:e,action:"update"})},onGoBack:function(){this.setState({action:"query"})},onRoleCheck:function(e,t){var a={};return C.copyValue(e,a),"组长"===e.roleName?(a.chkRole="1"==a.chkRole?"0":"1",this.setState({loading:!0}),void y.updateResRole(a)):"1"==a.chkRole?(a.chkRole="0",this.setState({loading:!0,oldIndex:-1}),void y.updateResRole(a)):void(this.state.oldIndex!==-1&&this.state.oldIndex!==t?u.Modal.warning({title:"非法操作",content:"已存在考勤员，请先取消原考勤员",okText:"确定"}):this.onRoleCheck2(a,t))},onRoleCheck2:function(e,t){e.chkRole="1",this.setState({loading:!0,oldIndex:t}),y.updateResRole(e)},render:function(e){var t=this,a=v.filter(this.state.resRoleSet.recordSet,E),r=[{title:"角色",dataIndex:"roleName",key:"roleName",width:140,render:function(e,a){return C.getOptionName("项目管理","角色",a.roleName,!0,t)}},{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"小组",dataIndex:"memo2",key:"memo2",width:140},{title:"考勤员",dataIndex:"chkRole",key:"chkRole",width:140,render:function(e,a,r){return n.default.createElement("input",{type:"checkbox",name:"chkRole",checked:"1"==e,onClick:t.onRoleCheck.bind(t,a,r)})}},{title:"开始日期",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"结束日期",dataIndex:"endDate",key:"endDate",width:140,render:function(e,t){return v.formatDate(e,v.dateFormat)}},{title:"更多操作",key:"action",width:100,render:function(e,a){return n.default.createElement("span",{style:{display:"助理"===a.roleName||"副经理"===a.roleName?"block":"none"}},n.default.createElement("a",{href:"#",onClick:t.onClickUpdate.bind(t,a),title:"修改管理员"},n.default.createElement(u.Icon,{type:v.iconUpdate})),n.default.createElement("span",{className:"ant-divider"}),n.default.createElement("a",{href:"#",onClick:t.onClickDelete.bind(t,a),title:"删除管理员"},n.default.createElement(u.Icon,{type:v.iconRemove})))}}],i="query"===this.state.action?"":"none",l=n.default.createElement("div",{className:"grid-page",style:{padding:"8px 0 0 0",overflow:"auto",display:i}},n.default.createElement(d.default,{ref:"mxgBox",svcList:["res-role/retrieve","res-role/remove","res-role/update"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(u.Button,{icon:v.iconAdd,type:"primary",title:"增加小组",onClick:this.handleCreate}),n.default.createElement(u.Button,{icon:v.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(g,{placeholder:"查询",style:{width:v.searchWidth},value:E,onChange:this.onFilterRecord}))),n.default.createElement("div",{style:{width:"100%",padding:"0 18px 8px 20px"}},n.default.createElement(u.Table,{columns:r,dataSource:a,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:v.tableBorder}))),o=null;if("create"===this.state.action)o=n.default.createElement(m.default,{onBack:this.onGoBack});else if("update"===this.state.action){var e={};C.copyValue(this.state.resRole,e),o=n.default.createElement(p.default,{onBack:this.onGoBack,resRole:e})}return n.default.createElement("div",{style:{width:"100%",height:"100%"}},l,o)}});e.exports=w},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(67),p=r(h),f=a(1),g=a(6),v=m.Form.Item,C=(m.Select.Option,m.Tabs.TabPane),b=a(151),y=a(117),S=a(14),E=l.default.createClass({displayName:"CreateResTeamPage",getInitialState:function(){return{resTeamSet:{operation:"",errMsg:""},loading:!1,modal:!1,resTeam:{},hints:{},validRules:[]}},mixins:[f.listenTo(b,"onServiceComplete"),(0,c.default)("resTeam")],onServiceComplete:function(e){"create"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,resTeamSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"teamCode",desc:"小组编号",required:!1,max:"64"},{id:"teamName",desc:"小组名称",required:!0,max:"128"},{id:"tmName",desc:"组长姓名",required:!1,max:"32"},{id:"teamDesc",desc:"小组说明",required:!1,max:"3600"}],this.clear()},clear:function(e){this.state.hints={},this.state.resTeam.uuid="",this.state.resTeam.corpUuid=window.loginData.compUser.corpUuid,this.state.resTeam.poolUuid=S.selectedPool.uuid,this.state.resTeam.teamCode="",this.state.resTeam.teamName="",this.state.resTeam.tmName="",this.state.resTeam.teamDesc="",this.state.loading=!1,this.state.resTeamSet.operation="",this.state.modal||"undefined"==typeof this.refs.mxgBox||this.refs.mxgBox.clear()},onSelectResTeam:function(e){this.state.resTeam.tmUuid=e.uuid,this.state.resTeam.tmCode=e.staffCode,this.state.resTeam.tmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){g.formValidator(this,this.state.resTeam)&&(this.state.resTeamSet.operation="",this.setState({loading:!0}),y.createResTeam(this.state.resTeam))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints,n=!this.state.resTeam.teamCode;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(C,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(C,{tab:"增加小组",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-team/create"]}),l.default.createElement(m.Form,{layout:e,style:{width:"600px"}},l.default.createElement(v,i({},a,{label:"小组编号",required:!1,colon:!0,className:t,help:r.teamCodeHint,validateStatus:r.teamCodeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"teamCode",id:"teamCode",value:this.state.resTeam.teamCode,onChange:this.handleOnChange})),l.default.createElement(v,i({},a,{label:"小组名称",required:!0,colon:!0,className:t,help:r.teamNameHint,validateStatus:r.teamNameStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"teamName",id:"teamName",value:this.state.resTeam.teamName,onChange:this.handleOnChange})),l.default.createElement(v,i({},a,{label:"组长",required:!1,colon:!0,className:t,help:r.tmNameHint,validateStatus:r.tmNameStatus}),l.default.createElement(p.default,{showError:this.showError,ref:"empSearchBox",type:"text",name:"tmName",id:"tmName",value:this.state.resTeam.tmName,onSelectMember:this.onSelectResTeam})),l.default.createElement(v,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:r.teamDescHint,validateStatus:r.teamDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"teamDesc",id:"teamDesc",value:this.state.resTeam.teamDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(v,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",disabled:n,onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}});e.exports=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(7)),d=r(s),u=a(9),c=r(u),m=a(4),h=a(67),p=r(h),f=a(1),g=a(6),v=a(3),C=m.Form.Item,b=(m.Select.Option,m.Tabs.TabPane),y=a(151),S=a(117),E=(a(14),l.default.createClass({displayName:"UpdateResTeamPage",getInitialState:function(){return{resTeamSet:{operation:"",errMsg:""},loading:!1,modal:!1,resTeam:{},hints:{},validRules:[]}},mixins:[f.listenTo(y,"onServiceComplete"),(0,c.default)("resTeam")],onServiceComplete:function(e){"update"===e.operation&&(""===e.errMsg?this.goBack():this.setState({loading:!1,resTeamSet:e}))},componentDidMount:function(){this.state.validRules=[{id:"teamCode",desc:"小组编号",required:!1,max:"64"},{id:"teamName",desc:"小组名称",required:!0,max:"128"},{id:"tmName",desc:"组长姓名",required:!1,max:"32"},{id:"teamDesc",desc:"小组说明",required:!1,max:"3600"}],this.initPage(this.props.resTeam)},initPage:function(e){v.copyValue(e,this.state.resTeam),void 0!==this.refs.empSearchBox&&this.refs.empSearchBox.setValue(e.tmName),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},onSelectResTeam:function(e){this.state.resTeam.tmUuid=e.uuid,this.state.resTeam.tmCode=e.staffCode,this.state.resTeam.tmName=e.perName,this.refs.empSearchBox.setValue(e.perName),this.setState({user:e})},onClickSave:function(){g.formValidator(this,this.state.resTeam)&&(this.state.resTeamSet.operation="",this.setState({loading:!0}),S.updateResTeam(this.state.resTeam))},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:4},wrapperCol:"vertical"==e?null:{span:20}},r=this.state.hints;return l.default.createElement("div",{style:{overflow:"hidden",height:"100%",paddingLeft:"4px"}},l.default.createElement(m.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},l.default.createElement(b,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),l.default.createElement(b,{tab:"修改小组",key:"2",style:{width:"100%",height:"100%"}},l.default.createElement("div",{style:{padding:"20px 0 16px 8px",height:"100%",overflowY:"auto"}},l.default.createElement(d.default,{ref:"mxgBox",svcList:["res-team/update"]}),l.default.createElement(m.Form,{layout:e,style:{width:"600px"}},l.default.createElement(C,i({},a,{label:"小组编号",required:!1,colon:!0,className:t,help:r.teamCodeHint,validateStatus:r.teamCodeStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"teamCode",id:"teamCode",value:this.state.resTeam.teamCode,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"小组名称",required:!0,colon:!0,className:t,help:r.teamNameHint,validateStatus:r.teamNameStatus}),l.default.createElement(m.Input,{style:{zIndex:"2"},type:"text",name:"teamName",id:"teamName",value:this.state.resTeam.teamName,onChange:this.handleOnChange})),l.default.createElement(C,i({},a,{label:"组长",required:!0,colon:!0,className:t,help:r.tmNameHint,validateStatus:r.tmNameStatus}),l.default.createElement(p.default,{showError:this.showError,ref:"empSearchBox",type:"text",name:"tmName",id:"tmName",value:this.state.resTeam.tmName,onSelectMember:this.onSelectResTeam})),l.default.createElement(C,i({},a,{label:"说明",required:!1,colon:!0,className:t,help:r.teamDescHint,validateStatus:r.teamDescStatus}),l.default.createElement(m.Input,{type:"textarea",name:"teamDesc",id:"teamDesc",value:this.state.resTeam.teamDesc,onChange:this.handleOnChange,style:{height:"100px"}})),l.default.createElement(C,{style:{textAlign:"right",margin:"4px 0"},required:!1,colon:!0,className:t},l.default.createElement(m.Button,{key:"btnOK",type:"primary",size:"large",onClick:this.onClickSave,loading:this.state.loading},"保存")," ",l.default.createElement(m.Button,{key:"btnClose",size:"large",onClick:this.goBack},"取消")))))))}}));t.default=E},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(722),n=r(i),l=a(36),o=r(l),s=a(726),d=r(s),u=a(747),c=r(u),m=a(761),h=(r(m),a(752)),p=r(h),f=a(758),g=r(f),v=a(770),C=r(v),b=a(748),y=r(b),S=a(723),E=r(S),w=a(751),x=r(w),k=a(756),j=r(k),N=a(728),P=r(N),D=a(768),R=r(D),M=a(750),U=r(M),T=a(773),I=r(T),B=a(725),O=r(B);e.exports={path:"/proj",component:n.default,indexRoute:{component:o.default},childRoutes:[{path:"/proj/",component:a(746),indexRoute:{component:d.default},childRoutes:[{path:"cust/CustPage/",component:a(726)},{path:"cust/ContractPage/",component:a(1367)},{path:"cust/ProjOrderPage/",component:a(1383)},{path:"cust/EventPage/",component:a(1376)}]},{path:"/proj/",component:a(746),indexRoute:{component:c.default},childRoutes:[{path:"out/CorpPage/",component:a(747)},{path:"out/StaffQueryPage/",component:a(1446)}]},{path:"/proj/proj/ProjPage/",component:a(761)},{path:"/proj/proj/ChkProjPage/",component:a(1484)},{path:"/proj/",component:a(1429),indexRoute:{component:p.default},childRoutes:[{path:"group/PoolPage/",component:a(1397)},{path:"group/ProjGroupPage/",component:a(752)},{path:"group/BiziProjPage/",component:a(1384)},{path:"staff/StaffDispPage/",component:a(1558)},{path:"staff/UserCheckPage/",component:a(1574)},{path:"staff/OverBookPage/",component:a(1559)},{path:"staff/StaffQueryPage/",component:a(1564)},{path:"staff/ProjMemberPage/",component:a(1560)},{path:"staff/TaskMemberPage/",component:a(1572)},{path:"staff/ResGroupQueryPage/",component:a(1568)}]},{path:"/proj/",component:a(1426),indexRoute:{component:g.default},childRoutes:[{path:"proj2/ProjTeamPage/",component:a(1510)},{path:"proj2/ProjRolePage/",component:a(1499)},{path:"proj2/ProjMemberPage/",component:a(758)},{path:"proj2/EntryPage/",component:a(1461)},{path:"proj2/MemberEvalPage/",component:a(1479)},{path:"proj2/ProjLevelPage/",component:a(1494)},{path:"proj2/ProjHrReqPage/",component:a(1471)},{path:"proj2/ProjCheckPage/",component:a(1487)},{path:"proj2/CustCheckPage/",component:a(1455)},{path:"proj2/ProjReportPage/",component:a(1496)},{path:"proj2/WorkReportPage/",component:a(1518)},{path:"proj2/ProjEventPage/",component:a(1464)},{path:"proj2/ProjDailyPage/",component:a(1456)},{path:"proj2/MemberLogPage/",component:a(1481)},{path:"proj2/ProjTaskPage/",component:a(1502)},{path:"proj2/ProjCondPage/",component:a(1491)},{path:"proj2/TaskMemberPage/",component:a(1507)},{path:"proj2/TempMemberPage/",component:a(1517)}]},{path:"/proj/",component:a(1423),indexRoute:{component:x.default},childRoutes:[{path:"group/GroupManPage/",component:a(751)},{path:"group/ProjPage/",component:a(1394)},{path:"group/GroupMemberPage/",component:a(1390)},{path:"group/ProjTaskDispPage/",component:a(1401)}]},{path:"/proj/",component:a(1427),indexRoute:{component:C.default},childRoutes:[{path:"res2/ResRolePage/",component:a(1554)},{path:"res2/ResMemberPage/",component:a(770)},{path:"res2/ResTeamGrpPage/",component:a(1550)},{path:"res2/OverBookPage/",component:a(1544)},{path:"res2/BiziDispPage/",component:a(1519)},{path:"res2/ProjDispPage/",component:a(1548)},{path:"res2/MemberBackPage/",component:a(1543)},{path:"res2/ProjReqPage/",component:a(534)},{path:"res2/DispLogPage/",component:a(1527)}]},{path:"/proj/",component:a(1416),indexRoute:{component:E.default},childRoutes:[{path:"bizi2/BiziRolePage/",component:a(1359)},{path:"bizi2/BiziMemberPage/",component:a(723)}]},{path:"/proj/",component:a(1422),indexRoute:{component:y.default},childRoutes:[{path:"out2/StaffPage/",component:a(748)},{path:"out2/StaffJobPage/",component:a(1438)},{path:"out2/CheckPage/",component:a(1430)}]},{path:"/proj/",component:a(1424),indexRoute:{component:P.default},childRoutes:[{path:"proj2/ProjQueryPage/",component:a(728)}]},{path:"/proj/",component:a(1425),indexRoute:{component:j.default},childRoutes:[{path:"proj2/BatchInputPage/",component:a(756)}]},{path:"/proj/",component:a(1419),indexRoute:{component:R.default},childRoutes:[{path:"proj2/UserCheckPage/",component:a(768)},{path:"proj2/OverBookPage/",component:a(1483)},{path:"proj2/TempCheckPage/",component:a(1512)},{path:"proj2/CheckQueryPage/",component:a(1454)}]},{path:"/proj/",component:a(1418),indexRoute:{component:U.default},childRoutes:[{path:"group/GroupCheckPage/",component:a(750)},{path:"group/TempCheckPage/",component:a(1453)},{path:"group/CheckQueryPage/",component:a(1388)}]},{path:"/proj/",component:a(1420),indexRoute:{component:I.default},childRoutes:[{path:"res2/UserCheckPage/",component:a(773)},{path:"res2/CheckQueryPage/",component:a(1526)}]},{path:"/proj/",component:a(1417),indexRoute:{component:O.default},childRoutes:[{path:"bizi2/UserCheckPage/",component:a(725)},{path:"bizi2/OverBookPage/",component:a(1358)},{path:"bizi2/CheckQueryPage/",component:a(1355)}]}]}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(7)),d=r(s),u=a(4),c=a(133),m=r(c),h=a(1),p=(u.Input.Search,"YYYY-MM-DD"),f=a(6),g=(a(3),a(774)),v=a(538),C=10,b=""+f.getToday(),y=n.default.createClass({displayName:"StaffDispPage",getInitialState:function(){return{staffDispSet:{recordSet:[],startPage:1,pageRow:10,totalRow:0,operation:"",errMsg:""},viewType:"",loading:!1,changeDate:""}},mixins:[h.listenTo(g,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,staffDispSet:e})},handleQueryClick:function(e){this.setState({loading:!0}),this.state.staffDispSet.operation="";var t=this.state.changeDate,a=window.loginData.compUser.corpUuid;v.retrieveProjMemberPage(a,t,this.state.staffDispSet.startPage,C)},componentDidMount:function(){this.setState({loading:!0,viewType:b});var e=window.loginData.compUser.corpUuid;v.retrieveProjMember(e,b)},onChangePage:function(e){this.state.staffDispSet.startPage=e,this.handleQueryClick()},onShowSizeChange:function(e,t){C=t,this.handleQueryClick()},onChangeView:function(e){var t=window.loginData.compUser.corpUuid,a=e.target.value;this.state.changeDate=a,v.retrieveProjMember(t,a),this.setState({loading:!0,viewType:a})},datePicker:function(e,t){var a=t.split("-").join("");this.setState({loading:!0,viewType:a});var r=window.loginData.compUser.corpUuid;v.retrieveProjMember(r,a)},render:function(){var e=this.state.staffDispSet.recordSet,t={showQuickJumper:!0,total:this.state.staffDispSet.totalRow,pageSize:this.state.staffDispSet.pageRow,current:this.state.staffDispSet.startPage,size:"large",showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,onChange:this.onChangePage},a=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"调动类型",dataIndex:"beginDate",key:"beginDate",width:140,render:function(e,t){return t.beginDate===t.chkDate?"调入":"调出"}},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"项目地址",dataIndex:"projLoc",key:"projLoc",width:140},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算价",dataIndex:"userPrice",key:"userPrice",width:140},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:140},{title:"公司/部门",dataIndex:"corpName",key:"corpName",width:140,render:function(e,t){return t.corpName?t.corpName:t.deptName}}];return n.default.createElement("div",{className:"grid-page"},n.default.createElement("div",null,n.default.createElement(d.default,{ref:"mxgBox",svcList:["proj-member/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement(m.default,{value:this.state.viewType,onChange:this.onChangeView}),n.default.createElement(u.DatePicker,{allowClear:!1,style:{marginLeft:"16px",width:"120px"},onChange:this.datePicker,format:p}))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(u.Table,{columns:a,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:t,size:"middle",bordered:f.tableBorder})))}});e.exports=y},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"OverBookPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"加班查询")}}));e.exports=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(26),m=r(c),h=a(134),p=r(h),f=a(76),g=r(f),v=a(1),C=s.Input.Search,b=a(6),y=(a(3),a(1561)),S=a(775),E="",w=n.default.createClass({displayName:"ProjMemberPage",getInitialState:function(){return{projMemberSet:{recordSet:[],errMsg:""},loading:!1}},mixins:[v.listenTo(y,"onServiceComplete"),(0,m.default)()],onServiceComplete:function(e){this.setState({loading:!1,projMemberSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=window.loginData.compUser.corpUuid;S.retrieveProjMember(t)},componentDidMount:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid;S.initProjMember(e)},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},xlsExport:function(){var e=[],t=this.state.projMemberSet.recordSet;t.map(function(t,a){var r={};r.staffCode=t.staffCode,r.perName=t.perName,r.poolName=t.poolName,r.teamName=t.teamName,r.grpName=t.grpName,r.projName=t.projName,r.projLevel=t.projLevel,e.push(r)}),this.downXlsTempFile2(p.default.projMemberFields,e,this.refs.xls)},render:function(){var e=b.filter(this.state.projMemberSet.recordSet,E),t=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"员工",dataIndex:"perName",key:"perName",width:140},{title:"资源池",dataIndex:"poolName",key:"poolName",width:140},{title:"小组名称",dataIndex:"teamName",key:"teamName",width:140},{title:"项目群",dataIndex:"grpName",key:"grpName",width:140},{title:"项目组",dataIndex:"projName",key:"projName",width:140},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140}],a=b.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:a.padding}},n.default.createElement("div",{style:{margin:a.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj-member/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:b.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(s.Button,{icon:"download",title:"导出项目人员数据",onClick:this.xlsExport,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(C,{placeholder:"查找记录",style:{width:b.searchWidth},value:E,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:b.tableBorder})),n.default.createElement(g.default,{ref:"xls"}))}});e.exports=w},function(e,t,a){"use strict";var r=a(1),i=a(775),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-member",e,t)},onRetrieveProjMember:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("proj-member/member-proj");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProjMember:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveProjMember(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(2),l=r(n),o=a(5),s=(r(o),a(4)),d=a(7),u=r(d),c=a(9),m=r(c),h=a(21),p=r(h),f=a(30),g=r(f),v=(a(1),s.Form.Item),C=a(6),b=a(3),y=(a(101),a(80),a(14)),S=l.default.createClass({displayName:"BaseInfoPage",getInitialState:function(){return{resMemberSet:{errMsg:""},loading:!1,resMember:{},hints:{},validRules:[]}},mixins:[(0,m.default)("resMember"),(0,g.default)(),(0,p.default)()],componentDidMount:function(){this.initPage(this.props.resMember)},componentWillReceiveProps:function(e){this.initPage(e.resMember)},initPage:function(e){b.copyValue(e,this.state.resMember),this.setState({loading:!1,hints:{}}),"undefined"!=typeof this.refs.mxgBox&&this.refs.mxgBox.clear()},render:function(){var e="horizontal",t="form-item-"+e,a={labelCol:"vertical"==e?null:{span:8},wrapperCol:"vertical"==e?null:{span:16}},r=this.state.hints,n=this.state.resMember,o=y.getDisplayWorkYears(n.workBegin),d=y.getDisplayWorkYears(n.induBegin),c="外协"===n.manType?n.corpName:n.deptName,m=window.loginData.compUser.corpUuid;
return l.default.createElement("div",{style:{padding:"12px 0 16px 0px",height:"100%",overflowY:"auto"}},l.default.createElement(u.default,{ref:"mxgBox",svcList:["res-member/update"]}),l.default.createElement(s.Form,{layout:e,style:{width:"600px"}},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"员工编号",className:t}),l.default.createElement(s.Input,{type:"text",name:"staffCode",id:"staffCode",value:n.staffCode}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"姓名",className:t}),l.default.createElement(s.Input,{type:"text",name:"perName",id:"perName",value:n.perName})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"任职部门",className:t}),l.default.createElement(s.Input,{type:"text",name:"deptName",id:"deptName",value:c}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"归属地",className:t}),l.default.createElement(s.Input,{type:"text",name:"baseCity",id:"baseCity",value:n.baseCity})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"人员类型",className:t}),l.default.createElement(s.Input,{type:"text",name:"manType",id:"manType",value:n.manType}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"电话",className:t}),l.default.createElement(s.Input,{type:"text",name:"phoneno",id:"phoneno",value:n.phoneno})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"最高学历",className:t}),l.default.createElement(s.Input,{type:"text",name:"eduDegree",id:"eduDegree",value:n.eduDegree}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"毕业院校",className:t}),l.default.createElement(s.Input,{type:"text",name:"eduCollege",id:"eduCollege",value:n.eduCollege})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"工龄",className:t}),l.default.createElement(s.Col,{span:"11"},l.default.createElement(s.Input,{type:"text",name:"workYears_1",id:"workYears_1",value:o.y,addonAfter:"年"})),l.default.createElement(s.Col,{span:"2",style:{textAlign:"center"}}),l.default.createElement(s.Col,{span:"11"},l.default.createElement(s.Input,{type:"text",name:"workYears_2",id:"workYears_2",value:o.m,addonAfter:"月"})))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"行业经验",className:t}),l.default.createElement(s.Col,{span:"11"},l.default.createElement(s.Input,{type:"text",name:"induYears_1",id:"induYears_1",value:d.y,addonAfter:"年"})),l.default.createElement(s.Col,{span:"2",style:{textAlign:"center"}}),l.default.createElement(s.Col,{span:"11"},l.default.createElement(s.Input,{type:"text",name:"induYears_2",id:"induYears_2",value:d.m,addonAfter:"月"}))))),l.default.createElement(s.Row,{style:{margin:"16px 0 0 0"}},l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"员工级别",className:t}),l.default.createElement(s.Input,{type:"text",name:"empLevel",id:"empLevel",value:this.getLevelName(m,n.empLevel)})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"技术级别",className:t}),l.default.createElement(s.Input,{type:"text",name:"techLevel",id:"techLevel",value:n.techLevel}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"管理级别",className:t}),l.default.createElement(s.Input,{type:"text",name:"manLevel",id:"manLevel",value:n.manLevel})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"技术岗位",className:t}),l.default.createElement(s.Input,{type:"text",name:"techUuid",id:"techUuid",value:n.techName}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"管理岗位",className:t}),l.default.createElement(s.Input,{type:"text",name:"manUuid",id:"manUuid",value:n.manName})))),l.default.createElement(s.Row,{style:{margin:"16px 0 0 0"}},l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"资源池",className:t}),l.default.createElement(s.Input,{type:"text",name:"poolUuid",id:"poolUuid",value:n.poolUuid}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"小组",className:t}),l.default.createElement(s.Input,{type:"text",name:"teamUuid",id:"teamUuid",value:this.getResTeamName(n.poolUuid,n.teamUuid)})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"核算成本",required:!1,colon:!0,className:t,help:r.userCost,validateStatus:r.userCost}),l.default.createElement(s.Input,{type:"text",name:"userCost",id:"userCost",value:n.userCost}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"入池日期",required:!1,colon:!0,className:t,help:r.beginDateHint,validateStatus:r.beginDateStatus}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"beginDate",id:"beginDate",format:C.dateFormat,value:this.formatDate(n.beginDate,C.dateFormat)})))),l.default.createElement(s.Row,{style:{margin:"16px 0 0 0"}},l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"当前状态",required:!1,colon:!0,className:t}),l.default.createElement(s.Input,{type:"text",name:"resStatus",id:"resStatus",value:n.resStatus}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"项目名称",required:!1,colon:!0,className:t}),l.default.createElement(s.Input,{type:"text",name:"resName",id:"resName",value:n.resName})))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"项目地址",required:!1,colon:!0,className:t}),l.default.createElement(s.Input,{type:"text",name:"resLoc",id:"resLoc",value:n.resLoc}))),l.default.createElement(s.Col,{span:"12"},l.default.createElement(v,i({},a,{label:"开始日期",required:!1,colon:!0,className:t}),l.default.createElement(s.DatePicker,{style:{width:"100%"},name:"resDate",id:"resDate",format:C.dateFormat,value:this.formatDate(n.resDate,C.dateFormat)}))))))}});t.default=S},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1),m=(s.Input.Search,a(6)),h=(a(3),a(1565)),p=a(777),f=n.default.createClass({displayName:"TempProjPage",getInitialState:function(){return{projSet:{recordSet:[]},staffCode:"",loading:!1}},mixins:[c.listenTo(h,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,projSet:e})},handleQueryClick:function(){this.setState({loading:!0});var e=this.state.staffCode,t=window.loginData.compUser.corpUuid;p.retrieveTempProj(t,e)},componentDidMount:function(){var e=this.props.resMember;null!==e&&""!==e.staffCode&&e.staffCode!==this.state.staffCode&&(this.state.staffCode=e.staffCode,this.handleQueryClick())},componentWillReceiveProps:function(e){var t=e.resMember;if(null===t||t.staffCode!==this.state.staffCode){if(null===t||""===t.staffCode||t.staffCode===this.state.staffCode){var a={recordSet:[]};return void this.setState({loading:!1,projSet:a})}this.state.staffCode=t.staffCode,this.handleQueryClick()}},render:function(){var e=this.state.projSet.recordSet,t=[{title:"员工号",dataIndex:"staffCode",key:"staffCode",width:140},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"日期",dataIndex:"beginDate",key:"beginDate",width:160,render:function(e,t){return t.beginDate+"--"+("#"===t.endDate?"":t.endDate)}},{title:"项目名称",dataIndex:"projName",key:"projName",width:140},{title:"项目地址",dataIndex:"projLoc",key:"projLoc",width:140},{title:"客户定级",dataIndex:"projLevel",key:"projLevel",width:140},{title:"结算价",dataIndex:"userPrice",key:"userPrice",width:140},{title:"承担角色",dataIndex:"roleName",key:"roleName",width:200}];return n.default.createElement("div",{className:"grid-page"},n.default.createElement(u.default,{ref:"mxgBox",svcList:["temp-member/retrieve"]}),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:m.tableBorder})))}});e.exports=f},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=(r(d),a(67)),c=r(u),m=a(1562),h=r(m),p=a(776),f=r(p),g=a(1563),v=r(g),C=(a(1),s.Input.Search,s.Tabs.TabPane),b=(a(6),a(3),n.default.createClass({displayName:"StaffQueryPage",getInitialState:function(){return{member:{},loading:!1}},componentDidMount:function(){},onSelectMember:function(e){console.log("data",e),this.setState({member:e})},render:function(){var e=window.loginData.compUser.corpUuid,t=this.state.member?this.state.member.staffCode:"";return n.default.createElement("div",{style:{width:"100%",height:"100%",padding:"60px 0 0 0"}},n.default.createElement("div",{style:{width:"100%",margin:"-40px 0 16px 0"}},n.default.createElement(c.default,{style:{padding:"0 0 0 32px",width:"600px"},corpUuid:e,onSelectMember:this.onSelectMember})),n.default.createElement(s.Tabs,{defaultActiveKey:"1",tabBarStyle:{paddingLeft:"16px"}},n.default.createElement(C,{tab:"基本信息",key:"1"},n.default.createElement(h.default,{resMember:this.state.member})),n.default.createElement(C,{tab:"项目经历",key:"2",style:{width:"100%",height:"100%"}},n.default.createElement(f.default,{staffCode:t})),n.default.createElement(C,{tab:"临时项目",key:"4",style:{width:"100%",height:"100%"}},n.default.createElement(v.default,{resMember:this.state.member}))))}}));e.exports=b},function(e,t,a){"use strict";var r=a(1),i=a(777),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",staffCode:"",recordSet:[],init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,staffCode:a.staffCode,recordSet:a.recordSet,operation:e,errMsg:t}),l.showError("temp-member",e,t)},onRetrieveTempProj:function(e,t){var a=this;if(null===t||""===t||void 0===t)return a.recordSet=[],a.corpUuid=e,a.staffCode="",void a.fireEvent("retrieve","",a);var r={};r.corpUuid=e,r.staffCode=t;var i=this.getServiceUrl("proj_temp_member/findStaffLog");n.doRetrieveService(i,r,0,0,0).then(function(r){null==r.errCode||""==r.errCode||"000000"==r.errCode?(a.recordSet=r.object.list,a.corpUuid=e,a.staffCode=t,a.fireEvent("retrieve","",a)):a.fireEvent("retrieve","处理错误["+r.errCode+"]["+r.errDesc+"]",a)},function(e){a.fireEvent("retrieve","调用服务错误",a)})}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1),m=s.Tabs.TabPane,h=a(6),p=(a(3),a(1570)),f=a(778),g=n.default.createClass({displayName:"ResMemberPage",getInitialState:function(){return{resMemberSet:{recordSet:[],errMsg:""},loading:!1}},mixins:[c.listenTo(p,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,resMemberSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.grpCode=this.props.resTeam.grpCode,e.baseCity=this.props.resTeam.baseCity,f.retrieveResMember(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e=this.state.resMemberSet.recordSet,t=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:120},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:120},{title:"状态",dataIndex:"resStatus",key:"resStatus",width:120},{title:"项目名称",dataIndex:"resName",key:"resName",width:140}];h.getGridMargin(this);return n.default.createElement("div",{className:"grid-page"},n.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(m,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(m,{tab:"组员查询",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},n.default.createElement("div",null,n.default.createElement(u.default,{ref:"mxgBox",svcList:["res-member/retrieve"]})),n.default.createElement("div",{className:"grid-body",style:{paddingTop:"12px"}},n.default.createElement(s.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:h.tableBorder})))))}});e.exports=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1),m=s.Tabs.TabPane,h=a(6),p=(a(3),a(1569)),f=a(779),g=n.default.createClass({displayName:"ResMemberSmallPage",getInitialState:function(){return{resMemberSet:{recordSet:[],errMsg:""},loading:!1}},mixins:[c.listenTo(p,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,resMemberSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,e.groupUuid=this.props.resTeam.uuid,f.retrieveResMemberSmall(e)},goBack:function(){this.props.onBack()},onTabChange:function(e){"1"===e&&this.props.onBack()},render:function(){var e=this.state.resMemberSet.recordSet,t=[{title:"员工编号",dataIndex:"staffCode",key:"staffCode",width:120},{title:"姓名",dataIndex:"perName",key:"perName",width:140},{title:"电话",dataIndex:"phoneno",key:"phoneno",width:120},{title:"状态",dataIndex:"resStatus",key:"resStatus",width:120},{title:"项目名称",dataIndex:"resName",key:"resName",width:140}];h.getGridMargin(this);return n.default.createElement("div",{className:"grid-page"},n.default.createElement(s.Tabs,{defaultActiveKey:"2",onChange:this.onTabChange,tabBarStyle:{paddingLeft:"16px",margin:"-36px 0 0"},style:{width:"100%",height:"100%",padding:"36px 0 0"}},n.default.createElement(m,{tab:"返回",key:"1",style:{width:"100%",height:"100%"}}),n.default.createElement(m,{tab:"组员查询",key:"2",style:{width:"100%",height:"100%",overflowY:"auto"}},n.default.createElement("div",null,n.default.createElement(u.default,{ref:"mxgBox",svcList:["res-member/retrieve"]})),n.default.createElement("div",{className:"grid-body",style:{paddingTop:"12px"}},n.default.createElement(s.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:h.tableBorder})))))}});e.exports=g},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(1566),m=r(c),h=a(1567),p=r(h),f=a(1),g=(s.Tabs.TabPane,s.Radio.Button),v=s.Radio.Group,C=a(6),b=(a(3),a(1571)),y=a(780),S=n.default.createClass({displayName:"ResTeamGrpPage",getInitialState:function(){return{resTeamGrpSet:{recordSet:[],errMsg:""},loading:!1,viewType:"1",action:"query",resTeam:null}},mixins:[f.listenTo(b,"onServiceComplete")],onServiceComplete:function(e){this.setState({loading:!1,resTeamGrpSet:e})},componentDidMount:function(){this.setState({loading:!0});var e={};e.corpUuid=window.loginData.compUser.corpUuid,y.retrieveResTeamGrp(e)},onChangeView:function(e){this.setState({viewType:e.target.value})},onGoBack:function(){this.setState({action:"query",viewType:"1"})},onClickhandle:function(e,t){"大组"===e.grpLevel?this.setState({resTeam:e,action:"big"}):"小组"===e.grpLevel&&this.setState({resTeam:e,action:"small"})},render:function(){var e=this;if("1"===this.state.viewType)var t=this.state.resTeamGrpSet.recordSet;else if("2"===this.state.viewType){var a=this.state.resTeamGrpSet.recordSet,t=[];a.map(function(e,a){"大组"===e.grpLevel&&t.push(e)})}else if("3"===this.state.viewType){var a=this.state.resTeamGrpSet.recordSet,t=[];a.map(function(e,a){"小组"===e.grpLevel&&t.push(e)})}var r=[];r=[{title:"编号",dataIndex:"grpCode",key:"grpCode",width:100},{title:"名称",dataIndex:"grpName",key:"grpName",width:120},{title:"组长",dataIndex:"pmName",key:"pmName",width:100},{title:"归属地",dataIndex:"baseCity",key:"baseCity",width:100},{title:"级别",dataIndex:"grpLevel",key:"grpLevel",width:100},{title:"说明",dataIndex:"grpDesc",key:"grpDesc",width:160},{title:"操作",key:"action",width:100,render:function(t,a){return n.default.createElement("span",null,n.default.createElement("a",{href:"#",onClick:e.onClickhandle.bind(e,a),title:"操作"},n.default.createElement(s.Icon,{type:"bars"})))}}];var i=C.getGridMargin(this),l=null;return"query"===this.state.action?l=n.default.createElement("div",{className:"grid-page",style:{padding:i.padding}},n.default.createElement("div",{style:{margin:i.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["res-team-grp/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(v,{value:this.state.viewType,onChange:this.onChangeView},n.default.createElement(g,{value:"1"},"所有"),n.default.createElement(g,{value:"2"},"大组"),n.default.createElement(g,{value:"3"},"小组"))))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:r,dataSource:t,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:C.tableBorder}))):"big"===this.state.action?l=n.default.createElement(m.default,{onBack:this.onGoBack,resTeam:this.state.resTeam}):"small"===this.state.action&&(l=n.default.createElement(p.default,{onBack:this.onGoBack,resTeam:this.state.resTeam})),n.default.createElement("div",{style:{width:"100%",height:"100%"}},l)}});e.exports=S},function(e,t,a){"use strict";var r=a(1),i=a(779),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-member",e,t)},onRetrieveResMemberSmall:function(e){var t=this,a=this.getServiceUrl("res-member/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(778),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:{},recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-member",e,t)},onRetrieveResMember:function(e){var t=this,a=this.getServiceUrl("res-member/retrieveGroupMember");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onRetrieveResMemberPage:function(e,t,a){this.startPage=t,this.pageRow=a,this.onRetrieveResMember(e)}});e.exports=o},function(e,t,a){"use strict";var r=a(1),i=a(780),n=a(3),l=a(11),o=r.createStore({listenables:[i],filter:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({filter:a.filter,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("res-team-grp",e,t)},onRetrieveResTeamGrp:function(e){var t=this,a=this.getServiceUrl("res-team-grp/retrieve");n.doRetrieveService(a,e,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.filter=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(4)),d=a(7),u=r(d),c=a(26),m=r(c),h=a(134),p=r(h),f=a(76),g=r(f),v=a(1),C=s.Input.Search,b=a(6),y=(a(3),a(1573)),S=a(781),E="",w=n.default.createClass({displayName:"ProjTaskMemberPage",getInitialState:function(){return{projTaskMemberSet:{recordSet:[],errMsg:""},loading:!1}},mixins:[v.listenTo(y,"onServiceComplete"),(0,m.default)()],onServiceComplete:function(e){this.setState({loading:!1,projTaskMemberSet:e})},handleQueryClick:function(e){this.setState({loading:!0});var t=window.loginData.compUser.corpUuid;S.retrieveProjTaskMember(t)},componentDidMount:function(){this.setState({loading:!0});var e=window.loginData.compUser.corpUuid;S.initProjTaskMember(e)},onFilterRecord:function(e){E=e.target.value,this.setState({loading:this.state.loading})},xlsExport:function(){var e=[],t=this.state.projTaskMemberSet.recordSet;t.map(function(t,a){var r={};r.ordCode=t.ordCode,r.ordName=t.ordName,r.grpName=t.grpName,r.member=t.member,e.push(r)}),this.downXlsTempFile2(p.default.projTaskMemberFields,e,this.refs.xls)},render:function(){var e=b.filter(this.state.projTaskMemberSet.recordSet,E),t=[{title:"订单编号",dataIndex:"ordCode",key:"ordCode",width:80},{title:"订单名称",dataIndex:"ordName",key:"ordName",width:80},{title:"项目群名称",dataIndex:"grpName",key:"grpName",width:80},{title:"成员",dataIndex:"member",key:"member",width:320,render:function(e,t){return e.replace(/,/g,",  ")}}],a=b.getGridMargin(this);return n.default.createElement("div",{className:"grid-page",style:{padding:a.padding}},n.default.createElement("div",{style:{margin:a.margin}},n.default.createElement(u.default,{ref:"mxgBox",svcList:["proj-task-member/retrieve"]}),n.default.createElement("div",{className:"toolbar-table"},n.default.createElement("div",{style:{float:"left"}},n.default.createElement(s.Button,{icon:b.iconRefresh,title:"刷新数据",onClick:this.handleQueryClick,style:{marginLeft:"4px"}}),n.default.createElement(s.Button,{icon:"download",title:"导出订单人员数据",onClick:this.xlsExport,style:{marginLeft:"4px"}})),n.default.createElement("div",{style:{textAlign:"right",width:"100%",paddingRight:"8px"}},n.default.createElement(C,{placeholder:"查找记录",style:{width:b.searchWidth},value:E,onChange:this.onFilterRecord})))),n.default.createElement("div",{className:"grid-body"},n.default.createElement(s.Table,{columns:t,dataSource:e,rowKey:function(e){return e.uuid},loading:this.state.loading,pagination:!1,size:"middle",bordered:b.tableBorder})),n.default.createElement(g.default,{ref:"xls"}))}});e.exports=w},function(e,t,a){"use strict";var r=a(1),i=a(781),n=a(3),l=a(11),o=r.createStore({listenables:[i],corpUuid:"",recordSet:[],startPage:0,pageRow:0,totalRow:0,init:function(){},getServiceUrl:function(e){return n.projUrl+e},fireEvent:function(e,t,a){a.trigger({corpUuid:a.corpUuid,recordSet:a.recordSet,startPage:a.startPage,pageRow:a.pageRow,totalRow:a.totalRow,operation:e,errMsg:t}),l.showError("proj-task-member",e,t)},onRetrieveProjTaskMember:function(e){var t=this,a={};a.corpUuid=e;var r=this.getServiceUrl("proj-task-member/member-task2");n.doRetrieveService(r,a,t.startPage,t.pageRow,t.totalRow).then(function(a){null==a.errCode||""==a.errCode||"000000"==a.errCode?(t.recordSet=a.object.list,t.startPage=a.object.startPage,t.pageRow=a.object.pageRow,t.totalRow=a.object.totalRow,t.corpUuid=e,t.fireEvent("retrieve","",t)):t.fireEvent("retrieve","处理错误["+a.errCode+"]["+a.errDesc+"]",t)},function(e){t.fireEvent("retrieve","调用服务错误",t)})},onInitProjTaskMember:function(e){return this.recordSet.length>0&&this.corpUuid===e?void this.fireEvent("retrieve","",this):void this.onRetrieveProjTaskMember(e)}});e.exports=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=a(2),n=r(i),l=a(8),o=(r(l),a(5)),s=(r(o),a(1),n.default.createClass({displayName:"UserCheckPage",getInitialState:function(){return{}},render:function(){return n.default.createElement("div",null,"考勤查询")}}));e.exports=s}]);